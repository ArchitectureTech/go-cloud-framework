var isAddField = false;
function delay(e, t) {
    setTimeout(t, e)
}
function validateForm(e, t) {
    var n = {
        highlight: function(e, t, n) {
            $(e).parents(".control-group").addClass("error")
        },
        unhighlight: function(e, t, n) {
            $(e).parents(".control-group").removeClass("error")
        },
        errorElement: "span",
        errorClass: "help-inline"
    };
    $(e).validate($.extend({},
    n, t))
}
function htmlSafe(e) {
    return _.escape(e)
}
function removeFileSuffix(e) {
    return e.substr(0, e.lastIndexOf("."))
}
function htmlSafeWithLineBreak(e) {
    return htmlSafe(e).replace(/\n/g, "\x3cbr/\x3e")
}
function isEmpty(e) {
    return e == null || e == ""
} (function(e, t) {
    function _(e) {
        var t = M[e] = {};
        return v.each(e.split(y),
        function(e, n) {
            t[n] = !0
        }),
        t
    }
    function H(e, n, r) {
        if (r === t && e.nodeType === 1) {
            var i = "data-" + n.replace(P, "-$1").toLowerCase();
            r = e.getAttribute(i);
            if (typeof r == "string") {
                try {
                    r = r === "true" ? !0 : r === "false" ? !1 : r === "null" ? null: +r + "" === r ? +r: D.test(r) ? v.parseJSON(r) : r
                } catch(s$0) {}
                v.data(e, n, r)
            } else r = t
        }
        return r
    }
    function B(e) {
        var t;
        for (t in e) {
            if (t === "data" && v.isEmptyObject(e[t])) continue;
            if (t !== "toJSON") return ! 1
        }
        return ! 0
    }
    function et() {
        return ! 1
    }
    function tt() {
        return ! 0
    }
    function ut(e) {
        return ! e || !e.parentNode || e.parentNode.nodeType === 11
    }
    function at(e, t) {
        do e = e[t];
        while (e && e.nodeType !== 1);
        return e
    }
    function ft(e, t, n) {
        t = t || 0;
        if (v.isFunction(t)) return v.grep(e,
        function(e, r) {
            var i = !!t.call(e, r, e);
            return i === n
        });
        if (t.nodeType) return v.grep(e,
        function(e, r) {
            return e === t === n
        });
        if (typeof t == "string") {
            var r = v.grep(e,
            function(e) {
                return e.nodeType === 1
            });
            if (it.test(t)) return v.filter(t, r, !n);
            t = v.filter(t, r)
        }
        return v.grep(e,
        function(e, r) {
            return v.inArray(e, t) >= 0 === n
        })
    }
    function lt(e) {
        var t = ct.split("|"),
        n = e.createDocumentFragment();
        if (n.createElement) while (t.length) n.createElement(t.pop());
        return n
    }
    function Lt(e, t) {
        return e.getElementsByTagName(t)[0] || e.appendChild(e.ownerDocument.createElement(t))
    }
    function At(e, t) {
        if (t.nodeType !== 1 || !v.hasData(e)) return;
        var n, r, i, s = v._data(e),
        o = v._data(t, s),
        u = s.events;
        if (u) {
            delete o.handle,
            o.events = {};
            for (n in u) for (r = 0, i = u[n].length; r < i; r++) v.event.add(t, n, u[n][r])
        }
        o.data && (o.data = v.extend({},
        o.data))
    }
    function Ot(e, t) {
        var n;
        if (t.nodeType !== 1) return;
        t.clearAttributes && t.clearAttributes(),
        t.mergeAttributes && t.mergeAttributes(e),
        n = t.nodeName.toLowerCase(),
        n === "object" ? (t.parentNode && (t.outerHTML = e.outerHTML), v.support.html5Clone && e.innerHTML && !v.trim(t.innerHTML) && (t.innerHTML = e.innerHTML)) : n === "input" && Et.test(e.type) ? (t.defaultChecked = t.checked = e.checked, t.value !== e.value && (t.value = e.value)) : n === "option" ? t.selected = e.defaultSelected: n === "input" || n === "textarea" ? t.defaultValue = e.defaultValue: n === "script" && t.text !== e.text && (t.text = e.text),
        t.removeAttribute(v.expando)
    }
    function Mt(e) {
        return typeof e.getElementsByTagName != "undefined" ? e.getElementsByTagName("*") : typeof e.querySelectorAll != "undefined" ? e.querySelectorAll("*") : []
    }
    function _t(e) {
        Et.test(e.type) && (e.defaultChecked = e.checked)
    }
    function Qt(e, t) {
        if (t in e) return t;
        var n = t.charAt(0).toUpperCase() + t.slice(1),
        r = t,
        i = Jt.length;
        while (i--) {
            t = Jt[i] + n;
            if (t in e) return t
        }
        return r
    }
    function Gt(e, t) {
        return e = t || e,
        v.css(e, "display") === "none" || !v.contains(e.ownerDocument, e)
    }
    function Yt(e, t) {
        var n, r, i = [],
        s = 0,
        o = e.length;
        for (; s < o; s++) {
            n = e[s];
            if (!n.style) continue;
            i[s] = v._data(n, "olddisplay"),
            t ? (!i[s] && n.style.display === "none" && (n.style.display = ""), n.style.display === "" && Gt(n) && (i[s] = v._data(n, "olddisplay", nn(n.nodeName)))) : (r = Dt(n, "display"), !i[s] && r !== "none" && v._data(n, "olddisplay", r))
        }
        for (s = 0; s < o; s++) {
            n = e[s];
            if (!n.style) continue;
            if (!t || n.style.display === "none" || n.style.display === "") n.style.display = t ? i[s] || "": "none"
        }
        return e
    }
    function Zt(e, t, n) {
        var r = Rt.exec(t);
        return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
    }
    function en(e, t, n, r) {
        var i = n === (r ? "border": "content") ? 4 : t === "width" ? 1 : 0,
        s = 0;
        for (; i < 4; i += 2) n === "margin" && (s += v.css(e, n + $t[i], !0)),
        r ? (n === "content" && (s -= parseFloat(Dt(e, "padding" + $t[i])) || 0), n !== "margin" && (s -= parseFloat(Dt(e, "border" + $t[i] + "Width")) || 0)) : (s += parseFloat(Dt(e, "padding" + $t[i])) || 0, n !== "padding" && (s += parseFloat(Dt(e, "border" + $t[i] + "Width")) || 0));
        return s
    }
    function tn(e, t, n) {
        var r = t === "width" ? e.offsetWidth: e.offsetHeight,
        i = !0,
        s = v.support.boxSizing && v.css(e, "boxSizing") === "border-box";
        if (r <= 0 || r == null) {
            r = Dt(e, t);
            if (r < 0 || r == null) r = e.style[t];
            if (Ut.test(r)) return r;
            i = s && (v.support.boxSizingReliable || r === e.style[t]),
            r = parseFloat(r) || 0
        }
        return r + en(e, t, n || (s ? "border": "content"), i) + "px"
    }
    function nn(e) {
        if (Wt[e]) return Wt[e];
        var t = v("\x3c" + e + "\x3e").appendTo(i.body),
        n = t.css("display");
        t.remove();
        if (n === "none" || n === "") {
            Pt = i.body.appendChild(Pt || v.extend(i.createElement("iframe"), {
                frameBorder: 0,
                width: 0,
                height: 0
            }));
            if (!Ht || !Pt.createElement) Ht = (Pt.contentWindow || Pt.contentDocument).document,
            Ht.write("\x3c!doctype html\x3e\x3chtml\x3e\x3cbody\x3e"),
            Ht.close();
            t = Ht.body.appendChild(Ht.createElement(e)),
            n = Dt(t, "display"),
            i.body.removeChild(Pt)
        }
        return Wt[e] = n,
        n
    }
    function fn(e, t, n, r) {
        var i;
        if (v.isArray(t)) v.each(t,
        function(t, i) {
            n || sn.test(e) ? r(e, i) : fn(e + "[" + (typeof i == "object" ? t: "") + "]", i, n, r)
        });
        else if (!n && v.type(t) === "object") for (i in t) fn(e + "[" + i + "]", t[i], n, r);
        else r(e, t)
    }
    function Cn(e) {
        return function(t, n) {
            typeof t != "string" && (n = t, t = "*");
            var r, i, s, o = t.toLowerCase().split(y),
            u = 0,
            a = o.length;
            if (v.isFunction(n)) for (; u < a; u++) r = o[u],
            s = /^\+/.test(r),
            s && (r = r.substr(1) || "*"),
            i = e[r] = e[r] || [],
            i[s ? "unshift": "push"](n)
        }
    }
    function kn(e, n, r, i, s, o) {
        s = s || n.dataTypes[0],
        o = o || {},
        o[s] = !0;
        var u, a = e[s],
        f = 0,
        l = a ? a.length: 0,
        c = e === Sn;
        for (; f < l && (c || !u); f++) u = a[f](n, r, i),
        typeof u == "string" && (!c || o[u] ? u = t: (n.dataTypes.unshift(u), u = kn(e, n, r, i, u, o)));
        return (c || !u) && !o["*"] && (u = kn(e, n, r, i, "*", o)),
        u
    }
    function Ln(e, n) {
        var r, i, s = v.ajaxSettings.flatOptions || {};
        for (r in n) n[r] !== t && ((s[r] ? e: i || (i = {}))[r] = n[r]);
        i && v.extend(!0, e, i)
    }
    function An(e, n, r) {
        var i, s, o, u, a = e.contents,
        f = e.dataTypes,
        l = e.responseFields;
        for (s in l) s in r && (n[l[s]] = r[s]);
        while (f[0] === "*") f.shift(),
        i === t && (i = e.mimeType || n.getResponseHeader("content-type"));
        if (i) for (s in a) if (a[s] && a[s].test(i)) {
            f.unshift(s);
            break
        }
        if (f[0] in r) o = f[0];
        else {
            for (s in r) {
                if (!f[0] || e.converters[s + " " + f[0]]) {
                    o = s;
                    break
                }
                u || (u = s)
            }
            o = o || u
        }
        if (o) return o !== f[0] && f.unshift(o),
        r[o]
    }
    function On(e, t) {
        var n, r, i, s, o = e.dataTypes.slice(),
        u = o[0],
        a = {},
        f = 0;
        e.dataFilter && (t = e.dataFilter(t, e.dataType));
        if (o[1]) for (n in e.converters) a[n.toLowerCase()] = e.converters[n];
        for (; i = o[++f];) if (i !== "*") {
            if (u !== "*" && u !== i) {
                n = a[u + " " + i] || a["* " + i];
                if (!n) for (r in a) {
                    s = r.split(" ");
                    if (s[1] === i) {
                        n = a[u + " " + s[0]] || a["* " + s[0]];
                        if (n) {
                            n === !0 ? n = a[r] : a[r] !== !0 && (i = s[0], o.splice(f--, 0, i));
                            break
                        }
                    }
                }
                if (n !== !0) if (n && e["throws"]) t = n(t);
                else try {
                    t = n(t)
                } catch(l$1) {
                    return {
                        state: "parsererror",
                        error: n ? l$1: "No conversion from " + u + " to " + i
                    }
                }
            }
            u = i
        }
        return {
            state: "success",
            data: t
        }
    }
    function Fn() {
        try {
            return new e.XMLHttpRequest
        } catch(t$2) {}
    }
    function In() {
        try {
            return new e.ActiveXObject("Microsoft.XMLHTTP")
        } catch(t$3) {}
    }
    function $n() {
        return setTimeout(function() {
            qn = t
        },
        0),
        qn = v.now()
    }
    function Jn(e, t) {
        v.each(t,
        function(t, n) {
            var r = (Vn[t] || []).concat(Vn["*"]),
            i = 0,
            s = r.length;
            for (; i < s; i++) if (r[i].call(e, t, n)) return
        })
    }
    function Kn(e, t, n) {
        var r, i = 0,
        s = 0,
        o = Xn.length,
        u = v.Deferred().always(function() {
            delete a.elem
        }),
        a = function() {
            var t = qn || $n(),
            n = Math.max(0, f.startTime + f.duration - t),
            r = n / f.duration || 0,
            i = 1 - r,
            s = 0,
            o = f.tweens.length;
            for (; s < o; s++) f.tweens[s].run(i);
            return u.notifyWith(e, [f, i, n]),
            i < 1 && o ? n: (u.resolveWith(e, [f]), !1)
        },
        f = u.promise({
            elem: e,
            props: v.extend({},
            t),
            opts: v.extend(!0, {
                specialEasing: {}
            },
            n),
            originalProperties: t,
            originalOptions: n,
            startTime: qn || $n(),
            duration: n.duration,
            tweens: [],
            createTween: function(t, n, r) {
                var i = v.Tween(e, f.opts, t, n, f.opts.specialEasing[t] || f.opts.easing);
                return f.tweens.push(i),
                i
            },
            stop: function(t) {
                var n = 0,
                r = t ? f.tweens.length: 0;
                for (; n < r; n++) f.tweens[n].run(1);
                return t ? u.resolveWith(e, [f, t]) : u.rejectWith(e, [f, t]),
                this
            }
        }),
        l = f.props;
        Qn(l, f.opts.specialEasing);
        for (; i < o; i++) {
            r = Xn[i].call(f, e, l, f.opts);
            if (r) return r
        }
        return Jn(f, l),
        v.isFunction(f.opts.start) && f.opts.start.call(e, f),
        v.fx.timer(v.extend(a, {
            anim: f,
            queue: f.opts.queue,
            elem: e
        })),
        f.progress(f.opts.progress).done(f.opts.done, f.opts.complete).fail(f.opts.fail).always(f.opts.always)
    }
    function Qn(e, t) {
        var n, r, i, s, o;
        for (n in e) {
            r = v.camelCase(n),
            i = t[r],
            s = e[n],
            v.isArray(s) && (i = s[1], s = e[n] = s[0]),
            n !== r && (e[r] = s, delete e[n]),
            o = v.cssHooks[r];
            if (o && "expand" in o) {
                s = o.expand(s),
                delete e[r];
                for (n in s) n in e || (e[n] = s[n], t[n] = i)
            } else t[r] = i
        }
    }
    function Gn(e, t, n) {
        var r, i, s, o, u, a, f, l, c, h = this,
        p = e.style,
        d = {},
        m = [],
        g = e.nodeType && Gt(e);
        n.queue || (l = v._queueHooks(e, "fx"), l.unqueued == null && (l.unqueued = 0, c = l.empty.fire, l.empty.fire = function() {
            l.unqueued || c()
        }), l.unqueued++, h.always(function() {
            h.always(function() {
                l.unqueued--,
                v.queue(e, "fx").length || l.empty.fire()
            })
        })),
        e.nodeType === 1 && ("height" in t || "width" in t) && (n.overflow = [p.overflow, p.overflowX, p.overflowY], v.css(e, "display") === "inline" && v.css(e, "float") === "none" && (!v.support.inlineBlockNeedsLayout || nn(e.nodeName) === "inline" ? p.display = "inline-block": p.zoom = 1)),
        n.overflow && (p.overflow = "hidden", v.support.shrinkWrapBlocks || h.done(function() {
            p.overflow = n.overflow[0],
            p.overflowX = n.overflow[1],
            p.overflowY = n.overflow[2]
        }));
        for (r in t) {
            s = t[r];
            if (Un.exec(s)) {
                delete t[r],
                a = a || s === "toggle";
                if (s === (g ? "hide": "show")) continue;
                m.push(r)
            }
        }
        o = m.length;
        if (o) {
            u = v._data(e, "fxshow") || v._data(e, "fxshow", {}),
            "hidden" in u && (g = u.hidden),
            a && (u.hidden = !g),
            g ? v(e).show() : h.done(function() {
                v(e).hide()
            }),
            h.done(function() {
                var t;
                v.removeData(e, "fxshow", !0);
                for (t in d) v.style(e, t, d[t])
            });
            for (r = 0; r < o; r++) i = m[r],
            f = h.createTween(i, g ? u[i] : 0),
            d[i] = u[i] || v.style(e, i),
            i in u || (u[i] = f.start, g && (f.end = f.start, f.start = i === "width" || i === "height" ? 1 : 0))
        }
    }
    function Yn(e, t, n, r, i) {
        return new Yn.prototype.init(e, t, n, r, i)
    }
    function Zn(e, t) {
        var n, r = {
            height: e
        },
        i = 0;
        t = t ? 1 : 0;
        for (; i < 4; i += 2 - t) n = $t[i],
        r["margin" + n] = r["padding" + n] = e;
        return t && (r.opacity = r.width = e),
        r
    }
    function tr(e) {
        return v.isWindow(e) ? e: e.nodeType === 9 ? e.defaultView || e.parentWindow: !1
    }
    var n, r, i = e.document,
    s = e.location,
    o = e.navigator,
    u = e.jQuery,
    a = e.$,
    f = Array.prototype.push,
    l = Array.prototype.slice,
    c = Array.prototype.indexOf,
    h = Object.prototype.toString,
    p = Object.prototype.hasOwnProperty,
    d = String.prototype.trim,
    v = function(e, t) {
        return new v.fn.init(e, t, n)
    },
    m = /[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,
    g = /\S/,
    y = /\s+/,
    b = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
    w = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
    E = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    S = /^[\],:{}\s]*$/,
    x = /(?:^|:|,)(?:\s*\[)+/g,
    T = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
    N = /"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,
    C = /^-ms-/,
    k = /-([\da-z])/gi,
    L = function(e, t) {
        return (t + "").toUpperCase()
    },
    A = function() {
        i.addEventListener ? (i.removeEventListener("DOMContentLoaded", A, !1), v.ready()) : i.readyState === "complete" && (i.detachEvent("onreadystatechange", A), v.ready())
    },
    O = {};
    v.fn = v.prototype = {
        constructor: v,
        init: function(e, n, r) {
            var s, o, u, a;
            if (!e) return this;
            if (e.nodeType) return this.context = this[0] = e,
            this.length = 1,
            this;
            if (typeof e == "string") {
                e.charAt(0) === "\x3c" && e.charAt(e.length - 1) === "\x3e" && e.length >= 3 ? s = [null, e, null] : s = w.exec(e);
                if (s && (s[1] || !n)) {
                    if (s[1]) return n = n instanceof v ? n[0] : n,
                    a = n && n.nodeType ? n.ownerDocument || n: i,
                    e = v.parseHTML(s[1], a, !0),
                    E.test(s[1]) && v.isPlainObject(n) && this.attr.call(e, n, !0),
                    v.merge(this, e);
                    o = i.getElementById(s[2]);
                    if (o && o.parentNode) {
                        if (o.id !== s[2]) return r.find(e);
                        this.length = 1,
                        this[0] = o
                    }
                    return this.context = i,
                    this.selector = e,
                    this
                }
                return ! n || n.jquery ? (n || r).find(e) : this.constructor(n).find(e)
            }
            return v.isFunction(e) ? r.ready(e) : (e.selector !== t && (this.selector = e.selector, this.context = e.context), v.makeArray(e, this))
        },
        selector: "",
        jquery: "1.8.3",
        length: 0,
        size: function() {
            return this.length
        },
        toArray: function() {
            return l.call(this)
        },
        get: function(e) {
            return e == null ? this.toArray() : e < 0 ? this[this.length + e] : this[e]
        },
        pushStack: function(e, t, n) {
            var r = v.merge(this.constructor(), e);
            return r.prevObject = this,
            r.context = this.context,
            t === "find" ? r.selector = this.selector + (this.selector ? " ": "") + n: t && (r.selector = this.selector + "." + t + "(" + n + ")"),
            r
        },
        each: function(e, t) {
            return v.each(this, e, t)
        },
        ready: function(e) {
            return v.ready.promise().done(e),
            this
        },
        eq: function(e) {
            return e = +e,
            e === -1 ? this.slice(e) : this.slice(e, e + 1)
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq( - 1)
        },
        slice: function() {
            return this.pushStack(l.apply(this, arguments), "slice", l.call(arguments).join(","))
        },
        map: function(e) {
            return this.pushStack(v.map(this,
            function(t, n) {
                return e.call(t, n, t)
            }))
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: f,
        sort: [].sort,
        splice: [].splice
    },
    v.fn.init.prototype = v.fn,
    v.extend = v.fn.extend = function() {
        var e, n, r, i, s, o, u = arguments[0] || {},
        a = 1,
        f = arguments.length,
        l = !1;
        typeof u == "boolean" && (l = u, u = arguments[1] || {},
        a = 2),
        typeof u != "object" && !v.isFunction(u) && (u = {}),
        f === a && (u = this, --a);
        for (; a < f; a++) if ((e = arguments[a]) != null) for (n in e) {
            r = u[n],
            i = e[n];
            if (u === i) continue;
            l && i && (v.isPlainObject(i) || (s = v.isArray(i))) ? (s ? (s = !1, o = r && v.isArray(r) ? r: []) : o = r && v.isPlainObject(r) ? r: {},
            u[n] = v.extend(l, o, i)) : i !== t && (u[n] = i)
        }
        return u
    },
    v.extend({
        noConflict: function(t) {
            return e.$ === v && (e.$ = a),
            t && e.jQuery === v && (e.jQuery = u),
            v
        },
        isReady: !1,
        readyWait: 1,
        holdReady: function(e) {
            e ? v.readyWait++:v.ready(!0)
        },
        ready: function(e) {
            if (e === !0 ? --v.readyWait: v.isReady) return;
            if (!i.body) return setTimeout(v.ready, 1);
            v.isReady = !0;
            if (e !== !0 && --v.readyWait > 0) return;
            r.resolveWith(i, [v]),
            v.fn.trigger && v(i).trigger("ready").off("ready")
        },
        isFunction: function(e) {
            return v.type(e) === "function"
        },
        isArray: Array.isArray ||
        function(e) {
            return v.type(e) === "array"
        },
        isWindow: function(e) {
            return e != null && e == e.window
        },
        isNumeric: function(e) {
            return ! isNaN(parseFloat(e)) && isFinite(e)
        },
        type: function(e) {
            return e == null ? String(e) : O[h.call(e)] || "object"
        },
        isPlainObject: function(e) {
            if (!e || v.type(e) !== "object" || e.nodeType || v.isWindow(e)) return ! 1;
            try {
                if (e.constructor && !p.call(e, "constructor") && !p.call(e.constructor.prototype, "isPrototypeOf")) return ! 1
            } catch(n$4) {
                return ! 1
            }
            var r;
            for (r in e);
            return r === t || p.call(e, r)
        },
        isEmptyObject: function(e) {
            var t;
            for (t in e) return ! 1;
            return ! 0
        },
        error: function(e) {
            throw new Error(e);
        },
        parseHTML: function(e, t, n) {
            var r;
            return ! e || typeof e != "string" ? null: (typeof t == "boolean" && (n = t, t = 0), t = t || i, (r = E.exec(e)) ? [t.createElement(r[1])] : (r = v.buildFragment([e], t, n ? null: []), v.merge([], (r.cacheable ? v.clone(r.fragment) : r.fragment).childNodes)))
        },
        parseJSON: function(t) {
            if (!t || typeof t != "string") return null;
            t = v.trim(t);
            if (e.JSON && e.JSON.parse) return e.JSON.parse(t);
            if (S.test(t.replace(T, "@").replace(N, "]").replace(x, ""))) return (new Function("return " + t))();
            v.error("Invalid JSON: " + t)
        },
        parseXML: function(n) {
            var r, i;
            if (!n || typeof n != "string") return null;
            try {
                e.DOMParser ? (i = new DOMParser, r = i.parseFromString(n, "text/xml")) : (r = new ActiveXObject("Microsoft.XMLDOM"), r.async = "false", r.loadXML(n))
            } catch(s$5) {
                r = t
            }
            return (!r || !r.documentElement || r.getElementsByTagName("parsererror").length) && v.error("Invalid XML: " + n),
            r
        },
        noop: function() {},
        globalEval: function(t) {
            t && g.test(t) && (e.execScript ||
            function(t) {
                e.eval.call(e, t)
            })(t)
        },
        camelCase: function(e) {
            return e.replace(C, "ms-").replace(k, L)
        },
        nodeName: function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        },
        each: function(e, n, r) {
            var i, s = 0,
            o = e.length,
            u = o === t || v.isFunction(e);
            if (r) if (u) for (i in e) {
                if (n.apply(e[i], r) === !1) break
            } else for (; s < o;) {
                if (n.apply(e[s++], r) === !1) break
            } else if (u) for (i in e) {
                if (n.call(e[i], i, e[i]) === !1) break
            } else for (; s < o;) if (n.call(e[s], s, e[s++]) === !1) break;
            return e
        },
        trim: d && !d.call("\ufeff\u00a0") ?
        function(e) {
            return e == null ? "": d.call(e)
        }: function(e) {
            return e == null ? "": (e + "").replace(b, "")
        },
        makeArray: function(e, t) {
            var n, r = t || [];
            return e != null && (n = v.type(e), e.length == null || n === "string" || n === "function" || n === "regexp" || v.isWindow(e) ? f.call(r, e) : v.merge(r, e)),
            r
        },
        inArray: function(e, t, n) {
            var r;
            if (t) {
                if (c) return c.call(t, e, n);
                r = t.length,
                n = n ? n < 0 ? Math.max(0, r + n) : n: 0;
                for (; n < r; n++) if (n in t && t[n] === e) return n
            }
            return - 1
        },
        merge: function(e, n) {
            var r = n.length,
            i = e.length,
            s = 0;
            if (typeof r == "number") for (; s < r; s++) e[i++] = n[s];
            else while (n[s] !== t) e[i++] = n[s++];
            return e.length = i,
            e
        },
        grep: function(e, t, n) {
            var r, i = [],
            s = 0,
            o = e.length;
            n = !!n;
            for (; s < o; s++) r = !!t(e[s], s),
            n !== r && i.push(e[s]);
            return i
        },
        map: function(e, n, r) {
            var i, s, o = [],
            u = 0,
            a = e.length,
            f = e instanceof v || a !== t && typeof a == "number" && (a > 0 && e[0] && e[a - 1] || a === 0 || v.isArray(e));
            if (f) for (; u < a; u++) i = n(e[u], u, r),
            i != null && (o[o.length] = i);
            else for (s in e) i = n(e[s], s, r),
            i != null && (o[o.length] = i);
            return o.concat.apply([], o)
        },
        guid: 1,
        proxy: function(e, n) {
            var r, i, s;
            return typeof n == "string" && (r = e[n], n = e, e = r),
            v.isFunction(e) ? (i = l.call(arguments, 2), s = function() {
                return e.apply(n, i.concat(l.call(arguments)))
            },
            s.guid = e.guid = e.guid || v.guid++, s) : t
        },
        access: function(e, n, r, i, s, o, u) {
            var a, f = r == null,
            l = 0,
            c = e.length;
            if (r && typeof r == "object") {
                for (l in r) v.access(e, n, l, r[l], 1, o, i);
                s = 1
            } else if (i !== t) {
                a = u === t && v.isFunction(i),
                f && (a ? (a = n, n = function(e, t, n) {
                    return a.call(v(e), n)
                }) : (n.call(e, i), n = null));
                if (n) for (; l < c; l++) n(e[l], r, a ? i.call(e[l], l, n(e[l], r)) : i, u);
                s = 1
            }
            return s ? e: f ? n.call(e) : c ? n(e[0], r) : o
        },
        now: function() {
            return (new Date).getTime()
        }
    }),
    v.ready.promise = function(t) {
        if (!r) {
            r = v.Deferred();
            if (i.readyState === "complete") setTimeout(v.ready, 1);
            else if (i.addEventListener) i.addEventListener("DOMContentLoaded", A, !1),
            e.addEventListener("load", v.ready, !1);
            else {
                i.attachEvent("onreadystatechange", A),
                e.attachEvent("onload", v.ready);
                var n = !1;
                try {
                    n = e.frameElement == null && i.documentElement
                } catch(s$6) {}
                n && n.doScroll &&
                function o() {
                    if (!v.isReady) {
                        try {
                            n.doScroll("left")
                        } catch(e$7) {
                            return setTimeout(o, 50)
                        }
                        v.ready()
                    }
                } ()
            }
        }
        return r.promise(t)
    },
    v.each("Boolean Number String Function Array Date RegExp Object".split(" "),
    function(e, t) {
        O["[object " + t + "]"] = t.toLowerCase()
    }),
    n = v(i);
    var M = {};
    v.Callbacks = function(e) {
        e = typeof e == "string" ? M[e] || _(e) : v.extend({},
        e);
        var n, r, i, s, o, u, a = [],
        f = !e.once && [],
        l = function(t) {
            n = e.memory && t,
            r = !0,
            u = s || 0,
            s = 0,
            o = a.length,
            i = !0;
            for (; a && u < o; u++) if (a[u].apply(t[0], t[1]) === !1 && e.stopOnFalse) {
                n = !1;
                break
            }
            i = !1,
            a && (f ? f.length && l(f.shift()) : n ? a = [] : c.disable())
        },
        c = {
            add: function() {
                if (a) {
                    var t = a.length; (function r(t) {
                        v.each(t,
                        function(t, n) {
                            var i = v.type(n);
                            i === "function" ? (!e.unique || !c.has(n)) && a.push(n) : n && n.length && i !== "string" && r(n)
                        })
                    })(arguments),
                    i ? o = a.length: n && (s = t, l(n))
                }
                return this
            },
            remove: function() {
                return a && v.each(arguments,
                function(e, t) {
                    var n;
                    while ((n = v.inArray(t, a, n)) > -1) a.splice(n, 1),
                    i && (n <= o && o--, n <= u && u--)
                }),
                this
            },
            has: function(e) {
                return v.inArray(e, a) > -1
            },
            empty: function() {
                return a = [],
                this
            },
            disable: function() {
                return a = f = n = t,
                this
            },
            disabled: function() {
                return ! a
            },
            lock: function() {
                return f = t,
                n || c.disable(),
                this
            },
            locked: function() {
                return ! f
            },
            fireWith: function(e, t) {
                return t = t || [],
                t = [e, t.slice ? t.slice() : t],
                a && (!r || f) && (i ? f.push(t) : l(t)),
                this
            },
            fire: function() {
                return c.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !! r
            }
        };
        return c
    },
    v.extend({
        Deferred: function(e) {
            var t = [["resolve", "done", v.Callbacks("once memory"), "resolved"], ["reject", "fail", v.Callbacks("once memory"), "rejected"], ["notify", "progress", v.Callbacks("memory")]],
            n = "pending",
            r = {
                state: function() {
                    return n
                },
                always: function() {
                    return i.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var e = arguments;
                    return v.Deferred(function(n) {
                        v.each(t,
                        function(t, r) {
                            var s = r[0],
                            o = e[t];
                            i[r[1]](v.isFunction(o) ?
                            function() {
                                var e = o.apply(this, arguments);
                                e && v.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[s + "With"](this === i ? n: this, [e])
                            }: n[s])
                        }),
                        e = null
                    }).promise()
                },
                promise: function(e) {
                    return e != null ? v.extend(e, r) : r
                }
            },
            i = {};
            return r.pipe = r.then,
            v.each(t,
            function(e, s) {
                var o = s[2],
                u = s[3];
                r[s[1]] = o.add,
                u && o.add(function() {
                    n = u
                },
                t[e ^ 1][2].disable, t[2][2].lock),
                i[s[0]] = o.fire,
                i[s[0] + "With"] = o.fireWith
            }),
            r.promise(i),
            e && e.call(i, i),
            i
        },
        when: function(e) {
            var t = 0,
            n = l.call(arguments),
            r = n.length,
            i = r !== 1 || e && v.isFunction(e.promise) ? r: 0,
            s = i === 1 ? e: v.Deferred(),
            o = function(e, t, n) {
                return function(r) {
                    t[e] = this,
                    n[e] = arguments.length > 1 ? l.call(arguments) : r,
                    n === u ? s.notifyWith(t, n) : --i || s.resolveWith(t, n)
                }
            },
            u,
            a,
            f;
            if (r > 1) {
                u = new Array(r),
                a = new Array(r),
                f = new Array(r);
                for (; t < r; t++) n[t] && v.isFunction(n[t].promise) ? n[t].promise().done(o(t, f, n)).fail(s.reject).progress(o(t, a, u)) : --i
            }
            return i || s.resolveWith(f, n),
            s.promise()
        }
    }),
    v.support = function() {
        var t, n, r, s, o, u, a, f, l, c, h, p = i.createElement("div");
        p.setAttribute("className", "t"),
        p.innerHTML = "  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",
        n = p.getElementsByTagName("*"),
        r = p.getElementsByTagName("a")[0];
        if (!n || !r || !n.length) return {};
        s = i.createElement("select"),
        o = s.appendChild(i.createElement("option")),
        u = p.getElementsByTagName("input")[0],
        r.style.cssText = "top:1px;float:left;opacity:.5",
        t = {
            leadingWhitespace: p.firstChild.nodeType === 3,
            tbody: !p.getElementsByTagName("tbody").length,
            htmlSerialize: !!p.getElementsByTagName("link").length,
            style: /top/.test(r.getAttribute("style")),
            hrefNormalized: r.getAttribute("href") === "/a",
            opacity: /^0.5/.test(r.style.opacity),
            cssFloat: !!r.style.cssFloat,
            checkOn: u.value === "on",
            optSelected: o.selected,
            getSetAttribute: p.className !== "t",
            enctype: !!i.createElement("form").enctype,
            html5Clone: i.createElement("nav").cloneNode(!0).outerHTML !== "\x3c:nav\x3e\x3c/:nav\x3e",
            boxModel: i.compatMode === "CSS1Compat",
            submitBubbles: !0,
            changeBubbles: !0,
            focusinBubbles: !1,
            deleteExpando: !0,
            noCloneEvent: !0,
            inlineBlockNeedsLayout: !1,
            shrinkWrapBlocks: !1,
            reliableMarginRight: !0,
            boxSizingReliable: !0,
            pixelPosition: !1
        },
        u.checked = !0,
        t.noCloneChecked = u.cloneNode(!0).checked,
        s.disabled = !0,
        t.optDisabled = !o.disabled;
        try {
            delete p.test
        } catch(d$8) {
            t.deleteExpando = !1
        } ! p.addEventListener && p.attachEvent && p.fireEvent && (p.attachEvent("onclick", h = function() {
            t.noCloneEvent = !1
        }), p.cloneNode(!0).fireEvent("onclick"), p.detachEvent("onclick", h)),
        u = i.createElement("input"),
        u.value = "t",
        u.setAttribute("type", "radio"),
        t.radioValue = u.value === "t",
        u.setAttribute("checked", "checked"),
        u.setAttribute("name", "t"),
        p.appendChild(u),
        a = i.createDocumentFragment(),
        a.appendChild(p.lastChild),
        t.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked,
        t.appendChecked = u.checked,
        a.removeChild(u),
        a.appendChild(p);
        if (p.attachEvent) for (l in {
            submit: !0,
            change: !0,
            focusin: !0
        }) f = "on" + l,
        c = f in p,
        c || (p.setAttribute(f, "return;"), c = typeof p[f] == "function"),
        t[l + "Bubbles"] = c;
        return v(function() {
            var n, r, s, o, u = "padding:0;margin:0;border:0;display:block;overflow:hidden;",
            a = i.getElementsByTagName("body")[0];
            if (!a) return;
            n = i.createElement("div"),
            n.style.cssText = "visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",
            a.insertBefore(n, a.firstChild),
            r = i.createElement("div"),
            n.appendChild(r),
            r.innerHTML = "\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
            s = r.getElementsByTagName("td"),
            s[0].style.cssText = "padding:0;margin:0;border:0;display:none",
            c = s[0].offsetHeight === 0,
            s[0].style.display = "",
            s[1].style.display = "none",
            t.reliableHiddenOffsets = c && s[0].offsetHeight === 0,
            r.innerHTML = "",
            r.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
            t.boxSizing = r.offsetWidth === 4,
            t.doesNotIncludeMarginInBodyOffset = a.offsetTop !== 1,
            e.getComputedStyle && (t.pixelPosition = (e.getComputedStyle(r, null) || {}).top !== "1%", t.boxSizingReliable = (e.getComputedStyle(r, null) || {
                width: "4px"
            }).width === "4px", o = i.createElement("div"), o.style.cssText = r.style.cssText = u, o.style.marginRight = o.style.width = "0", r.style.width = "1px", r.appendChild(o), t.reliableMarginRight = !parseFloat((e.getComputedStyle(o, null) || {}).marginRight)),
            typeof r.style.zoom != "undefined" && (r.innerHTML = "", r.style.cssText = u + "width:1px;padding:1px;display:inline;zoom:1", t.inlineBlockNeedsLayout = r.offsetWidth === 3, r.style.display = "block", r.style.overflow = "visible", r.innerHTML = "\x3cdiv\x3e\x3c/div\x3e", r.firstChild.style.width = "5px", t.shrinkWrapBlocks = r.offsetWidth !== 3, n.style.zoom = 1),
            a.removeChild(n),
            n = r = s = o = null
        }),
        a.removeChild(p),
        n = r = s = o = u = a = p = null,
        t
    } ();
    var D = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
    P = /([A-Z])/g;
    v.extend({
        cache: {},
        deletedIds: [],
        uuid: 0,
        expando: "jQuery" + (v.fn.jquery + Math.random()).replace(/\D/g, ""),
        noData: {
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: !0
        },
        hasData: function(e) {
            return e = e.nodeType ? v.cache[e[v.expando]] : e[v.expando],
            !!e && !B(e)
        },
        data: function(e, n, r, i) {
            if (!v.acceptData(e)) return;
            var s, o, u = v.expando,
            a = typeof n == "string",
            f = e.nodeType,
            l = f ? v.cache: e,
            c = f ? e[u] : e[u] && u;
            if ((!c || !l[c] || !i && !l[c].data) && a && r === t) return;
            c || (f ? e[u] = c = v.deletedIds.pop() || v.guid++:c = u),
            l[c] || (l[c] = {},
            f || (l[c].toJSON = v.noop));
            if (typeof n == "object" || typeof n == "function") i ? l[c] = v.extend(l[c], n) : l[c].data = v.extend(l[c].data, n);
            return s = l[c],
            i || (s.data || (s.data = {}), s = s.data),
            r !== t && (s[v.camelCase(n)] = r),
            a ? (o = s[n], o == null && (o = s[v.camelCase(n)])) : o = s,
            o
        },
        removeData: function(e, t, n) {
            if (!v.acceptData(e)) return;
            var r, i, s, o = e.nodeType,
            u = o ? v.cache: e,
            a = o ? e[v.expando] : v.expando;
            if (!u[a]) return;
            if (t) {
                r = n ? u[a] : u[a].data;
                if (r) {
                    v.isArray(t) || (t in r ? t = [t] : (t = v.camelCase(t), t in r ? t = [t] : t = t.split(" ")));
                    for (i = 0, s = t.length; i < s; i++) delete r[t[i]];
                    if (! (n ? B: v.isEmptyObject)(r)) return
                }
            }
            if (!n) {
                delete u[a].data;
                if (!B(u[a])) return
            }
            o ? v.cleanData([e], !0) : v.support.deleteExpando || u != u.window ? delete u[a] : u[a] = null
        },
        _data: function(e, t, n) {
            return v.data(e, t, n, !0)
        },
        acceptData: function(e) {
            var t = e.nodeName && v.noData[e.nodeName.toLowerCase()];
            return ! t || t !== !0 && e.getAttribute("classid") === t
        }
    }),
    v.fn.extend({
        data: function(e, n) {
            var r, i, s, o, u, a = this[0],
            f = 0,
            l = null;
            if (e === t) {
                if (this.length) {
                    l = v.data(a);
                    if (a.nodeType === 1 && !v._data(a, "parsedAttrs")) {
                        s = a.attributes;
                        for (u = s.length; f < u; f++) o = s[f].name,
                        o.indexOf("data-") || (o = v.camelCase(o.substring(5)), H(a, o, l[o]));
                        v._data(a, "parsedAttrs", !0)
                    }
                }
                return l
            }
            return typeof e == "object" ? this.each(function() {
                v.data(this, e)
            }) : (r = e.split(".", 2), r[1] = r[1] ? "." + r[1] : "", i = r[1] + "!", v.access(this,
            function(n) {
                if (n === t) return l = this.triggerHandler("getData" + i, [r[0]]),
                l === t && a && (l = v.data(a, e), l = H(a, e, l)),
                l === t && r[1] ? this.data(r[0]) : l;
                r[1] = n,
                this.each(function() {
                    var t = v(this);
                    t.triggerHandler("setData" + i, r),
                    v.data(this, e, n),
                    t.triggerHandler("changeData" + i, r)
                })
            },
            null, n, arguments.length > 1, null, !1))
        },
        removeData: function(e) {
            return this.each(function() {
                v.removeData(this, e)
            })
        }
    }),
    v.extend({
        queue: function(e, t, n) {
            var r;
            if (e) return t = (t || "fx") + "queue",
            r = v._data(e, t),
            n && (!r || v.isArray(n) ? r = v._data(e, t, v.makeArray(n)) : r.push(n)),
            r || []
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var n = v.queue(e, t),
            r = n.length,
            i = n.shift(),
            s = v._queueHooks(e, t),
            o = function() {
                v.dequeue(e, t)
            };
            i === "inprogress" && (i = n.shift(), r--),
            i && (t === "fx" && n.unshift("inprogress"), delete s.stop, i.call(e, o, s)),
            !r && s && s.empty.fire()
        },
        _queueHooks: function(e, t) {
            var n = t + "queueHooks";
            return v._data(e, n) || v._data(e, n, {
                empty: v.Callbacks("once memory").add(function() {
                    v.removeData(e, t + "queue", !0),
                    v.removeData(e, n, !0)
                })
            })
        }
    }),
    v.fn.extend({
        queue: function(e, n) {
            var r = 2;
            return typeof e != "string" && (n = e, e = "fx", r--),
            arguments.length < r ? v.queue(this[0], e) : n === t ? this: this.each(function() {
                var t = v.queue(this, e, n);
                v._queueHooks(this, e),
                e === "fx" && t[0] !== "inprogress" && v.dequeue(this, e)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                v.dequeue(this, e)
            })
        },
        delay: function(e, t) {
            return e = v.fx ? v.fx.speeds[e] || e: e,
            t = t || "fx",
            this.queue(t,
            function(t, n) {
                var r = setTimeout(t, e);
                n.stop = function() {
                    clearTimeout(r)
                }
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, n) {
            var r, i = 1,
            s = v.Deferred(),
            o = this,
            u = this.length,
            a = function() {--i || s.resolveWith(o, [o])
            };
            typeof e != "string" && (n = e, e = t),
            e = e || "fx";
            while (u--) r = v._data(o[u], e + "queueHooks"),
            r && r.empty && (i++, r.empty.add(a));
            return a(),
            s.promise(n)
        }
    });
    var j, F, I, q = /[\t\r\n]/g,
    R = /\r/g,
    U = /^(?:button|input)$/i,
    z = /^(?:button|input|object|select|textarea)$/i,
    W = /^a(?:rea|)$/i,
    X = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
    V = v.support.getSetAttribute;
    v.fn.extend({
        attr: function(e, t) {
            return v.access(this, v.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                v.removeAttr(this, e)
            })
        },
        prop: function(e, t) {
            return v.access(this, v.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return e = v.propFix[e] || e,
            this.each(function() {
                try {
                    this[e] = t,
                    delete this[e]
                } catch(n$9) {}
            })
        },
        addClass: function(e) {
            var t, n, r, i, s, o, u;
            if (v.isFunction(e)) return this.each(function(t) {
                v(this).addClass(e.call(this, t, this.className))
            });
            if (e && typeof e == "string") {
                t = e.split(y);
                for (n = 0, r = this.length; n < r; n++) {
                    i = this[n];
                    if (i.nodeType === 1) if (!i.className && t.length === 1) i.className = e;
                    else {
                        s = " " + i.className + " ";
                        for (o = 0, u = t.length; o < u; o++) s.indexOf(" " + t[o] + " ") < 0 && (s += t[o] + " ");
                        i.className = v.trim(s)
                    }
                }
            }
            return this
        },
        removeClass: function(e) {
            var n, r, i, s, o, u, a;
            if (v.isFunction(e)) return this.each(function(t) {
                v(this).removeClass(e.call(this, t, this.className))
            });
            if (e && typeof e == "string" || e === t) {
                n = (e || "").split(y);
                for (u = 0, a = this.length; u < a; u++) {
                    i = this[u];
                    if (i.nodeType === 1 && i.className) {
                        r = (" " + i.className + " ").replace(q, " ");
                        for (s = 0, o = n.length; s < o; s++) while (r.indexOf(" " + n[s] + " ") >= 0) r = r.replace(" " + n[s] + " ", " ");
                        i.className = e ? v.trim(r) : ""
                    }
                }
            }
            return this
        },
        toggleClass: function(e, t) {
            var n = typeof e,
            r = typeof t == "boolean";
            return v.isFunction(e) ? this.each(function(n) {
                v(this).toggleClass(e.call(this, n, this.className, t), t)
            }) : this.each(function() {
                if (n === "string") {
                    var i, s = 0,
                    o = v(this),
                    u = t,
                    a = e.split(y);
                    while (i = a[s++]) u = r ? u: !o.hasClass(i),
                    o[u ? "addClass": "removeClass"](i)
                } else if (n === "undefined" || n === "boolean") this.className && v._data(this, "__className__", this.className),
                this.className = this.className || e === !1 ? "": v._data(this, "__className__") || ""
            })
        },
        hasClass: function(e) {
            var t = " " + e + " ",
            n = 0,
            r = this.length;
            for (; n < r; n++) if (this[n].nodeType === 1 && (" " + this[n].className + " ").replace(q, " ").indexOf(t) >= 0) return ! 0;
            return ! 1
        },
        val: function(e) {
            var n, r, i, s = this[0];
            if (!arguments.length) {
                if (s) return n = v.valHooks[s.type] || v.valHooks[s.nodeName.toLowerCase()],
                n && "get" in n && (r = n.get(s, "value")) !== t ? r: (r = s.value, typeof r == "string" ? r.replace(R, "") : r == null ? "": r);
                return
            }
            return i = v.isFunction(e),
            this.each(function(r) {
                var s, o = v(this);
                if (this.nodeType !== 1) return;
                i ? s = e.call(this, r, o.val()) : s = e,
                s == null ? s = "": typeof s == "number" ? s += "": v.isArray(s) && (s = v.map(s,
                function(e) {
                    return e == null ? "": e + ""
                })),
                n = v.valHooks[this.type] || v.valHooks[this.nodeName.toLowerCase()];
                if (!n || !("set" in n) || n.set(this, s, "value") === t) this.value = s
            })
        }
    }),
    v.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = e.attributes.value;
                    return ! t || t.specified ? e.value: e.text
                }
            },
            select: {
                get: function(e) {
                    var t, n, r = e.options,
                    i = e.selectedIndex,
                    s = e.type === "select-one" || i < 0,
                    o = s ? null: [],
                    u = s ? i + 1 : r.length,
                    a = i < 0 ? u: s ? i: 0;
                    for (; a < u; a++) {
                        n = r[a];
                        if ((n.selected || a === i) && (v.support.optDisabled ? !n.disabled: n.getAttribute("disabled") === null) && (!n.parentNode.disabled || !v.nodeName(n.parentNode, "optgroup"))) {
                            t = v(n).val();
                            if (s) return t;
                            o.push(t)
                        }
                    }
                    return o
                },
                set: function(e, t) {
                    var n = v.makeArray(t);
                    return v(e).find("option").each(function() {
                        this.selected = v.inArray(v(this).val(), n) >= 0
                    }),
                    n.length || (e.selectedIndex = -1),
                    n
                }
            }
        },
        attrFn: {},
        attr: function(e, n, r, i) {
            var s, o, u, a = e.nodeType;
            if (!e || a === 3 || a === 8 || a === 2) return;
            if (i && v.isFunction(v.fn[n])) return v(e)[n](r);
            if (typeof e.getAttribute == "undefined") return v.prop(e, n, r);
            u = a !== 1 || !v.isXMLDoc(e),
            u && (n = n.toLowerCase(), o = v.attrHooks[n] || (X.test(n) ? F: j));
            if (r !== t) {
                if (r === null) {
                    v.removeAttr(e, n);
                    return
                }
                return o && "set" in o && u && (s = o.set(e, r, n)) !== t ? s: (e.setAttribute(n, r + ""), r)
            }
            return o && "get" in o && u && (s = o.get(e, n)) !== null ? s: (s = e.getAttribute(n), s === null ? t: s)
        },
        removeAttr: function(e, t) {
            var n, r, i, s, o = 0;
            if (t && e.nodeType === 1) {
                r = t.split(y);
                for (; o < r.length; o++) i = r[o],
                i && (n = v.propFix[i] || i, s = X.test(i), s || v.attr(e, i, ""), e.removeAttribute(V ? i: n), s && n in e && (e[n] = !1))
            }
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (U.test(e.nodeName) && e.parentNode) v.error("type property can't be changed");
                    else if (!v.support.radioValue && t === "radio" && v.nodeName(e, "input")) {
                        var n = e.value;
                        return e.setAttribute("type", t),
                        n && (e.value = n),
                        t
                    }
                }
            },
            value: {
                get: function(e, t) {
                    return j && v.nodeName(e, "button") ? j.get(e, t) : t in e ? e.value: null
                },
                set: function(e, t, n) {
                    if (j && v.nodeName(e, "button")) return j.set(e, t, n);
                    e.value = t
                }
            }
        },
        propFix: {
            tabindex: "tabIndex",
            readonly: "readOnly",
            "for": "htmlFor",
            "class": "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        },
        prop: function(e, n, r) {
            var i, s, o, u = e.nodeType;
            if (!e || u === 3 || u === 8 || u === 2) return;
            return o = u !== 1 || !v.isXMLDoc(e),
            o && (n = v.propFix[n] || n, s = v.propHooks[n]),
            r !== t ? s && "set" in s && (i = s.set(e, r, n)) !== t ? i: e[n] = r: s && "get" in s && (i = s.get(e, n)) !== null ? i: e[n]
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    var n = e.getAttributeNode("tabindex");
                    return n && n.specified ? parseInt(n.value, 10) : z.test(e.nodeName) || W.test(e.nodeName) && e.href ? 0 : t
                }
            }
        }
    }),
    F = {
        get: function(e, n) {
            var r, i = v.prop(e, n);
            return i === !0 || typeof i != "boolean" && (r = e.getAttributeNode(n)) && r.nodeValue !== !1 ? n.toLowerCase() : t
        },
        set: function(e, t, n) {
            var r;
            return t === !1 ? v.removeAttr(e, n) : (r = v.propFix[n] || n, r in e && (e[r] = !0), e.setAttribute(n, n.toLowerCase())),
            n
        }
    },
    V || (I = {
        name: !0,
        id: !0,
        coords: !0
    },
    j = v.valHooks.button = {
        get: function(e, n) {
            var r;
            return r = e.getAttributeNode(n),
            r && (I[n] ? r.value !== "": r.specified) ? r.value: t
        },
        set: function(e, t, n) {
            var r = e.getAttributeNode(n);
            return r || (r = i.createAttribute(n), e.setAttributeNode(r)),
            r.value = t + ""
        }
    },
    v.each(["width", "height"],
    function(e, t) {
        v.attrHooks[t] = v.extend(v.attrHooks[t], {
            set: function(e, n) {
                if (n === "") return e.setAttribute(t, "auto"),
                n
            }
        })
    }), v.attrHooks.contenteditable = {
        get: j.get,
        set: function(e, t, n) {
            t === "" && (t = "false"),
            j.set(e, t, n)
        }
    }),
    v.support.hrefNormalized || v.each(["href", "src", "width", "height"],
    function(e, n) {
        v.attrHooks[n] = v.extend(v.attrHooks[n], {
            get: function(e) {
                var r = e.getAttribute(n, 2);
                return r === null ? t: r
            }
        })
    }),
    v.support.style || (v.attrHooks.style = {
        get: function(e) {
            return e.style.cssText.toLowerCase() || t
        },
        set: function(e, t) {
            return e.style.cssText = t + ""
        }
    }),
    v.support.optSelected || (v.propHooks.selected = v.extend(v.propHooks.selected, {
        get: function(e) {
            var t = e.parentNode;
            return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex),
            null
        }
    })),
    v.support.enctype || (v.propFix.enctype = "encoding"),
    v.support.checkOn || v.each(["radio", "checkbox"],
    function() {
        v.valHooks[this] = {
            get: function(e) {
                return e.getAttribute("value") === null ? "on": e.value
            }
        }
    }),
    v.each(["radio", "checkbox"],
    function() {
        v.valHooks[this] = v.extend(v.valHooks[this], {
            set: function(e, t) {
                if (v.isArray(t)) return e.checked = v.inArray(v(e).val(), t) >= 0
            }
        })
    });
    var $ = /^(?:textarea|input|select)$/i,
    J = /^([^\.]*|)(?:\.(.+)|)$/,
    K = /(?:^|\s)hover(\.\S+|)\b/,
    Q = /^key/,
    G = /^(?:mouse|contextmenu)|click/,
    Y = /^(?:focusinfocus|focusoutblur)$/,
    Z = function(e) {
        return v.event.special.hover ? e: e.replace(K, "mouseenter$1 mouseleave$1")
    };
    v.event = {
        add: function(e, n, r, i, s) {
            var o, u, a, f, l, c, h, p, d, m, g;
            if (e.nodeType === 3 || e.nodeType === 8 || !n || !r || !(o = v._data(e))) return;
            r.handler && (d = r, r = d.handler, s = d.selector),
            r.guid || (r.guid = v.guid++),
            a = o.events,
            a || (o.events = a = {}),
            u = o.handle,
            u || (o.handle = u = function(e) {
                return typeof v == "undefined" || !!e && v.event.triggered === e.type ? t: v.event.dispatch.apply(u.elem, arguments)
            },
            u.elem = e),
            n = v.trim(Z(n)).split(" ");
            for (f = 0; f < n.length; f++) {
                l = J.exec(n[f]) || [],
                c = l[1],
                h = (l[2] || "").split(".").sort(),
                g = v.event.special[c] || {},
                c = (s ? g.delegateType: g.bindType) || c,
                g = v.event.special[c] || {},
                p = v.extend({
                    type: c,
                    origType: l[1],
                    data: i,
                    handler: r,
                    guid: r.guid,
                    selector: s,
                    needsContext: s && v.expr.match.needsContext.test(s),
                    namespace: h.join(".")
                },
                d),
                m = a[c];
                if (!m) {
                    m = a[c] = [],
                    m.delegateCount = 0;
                    if (!g.setup || g.setup.call(e, i, h, u) === !1) e.addEventListener ? e.addEventListener(c, u, !1) : e.attachEvent && e.attachEvent("on" + c, u)
                }
                g.add && (g.add.call(e, p), p.handler.guid || (p.handler.guid = r.guid)),
                s ? m.splice(m.delegateCount++, 0, p) : m.push(p),
                v.event.global[c] = !0
            }
            e = null
        },
        global: {},
        remove: function(e, t, n, r, i) {
            var s, o, u, a, f, l, c, h, p, d, m, g = v.hasData(e) && v._data(e);
            if (!g || !(h = g.events)) return;
            t = v.trim(Z(t || "")).split(" ");
            for (s = 0; s < t.length; s++) {
                o = J.exec(t[s]) || [],
                u = a = o[1],
                f = o[2];
                if (!u) {
                    for (u in h) v.event.remove(e, u + t[s], n, r, !0);
                    continue
                }
                p = v.event.special[u] || {},
                u = (r ? p.delegateType: p.bindType) || u,
                d = h[u] || [],
                l = d.length,
                f = f ? new RegExp("(^|\\.)" + f.split(".").sort().join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
                for (c = 0; c < d.length; c++) m = d[c],
                (i || a === m.origType) && (!n || n.guid === m.guid) && (!f || f.test(m.namespace)) && (!r || r === m.selector || r === "**" && m.selector) && (d.splice(c--, 1), m.selector && d.delegateCount--, p.remove && p.remove.call(e, m));
                d.length === 0 && l !== d.length && ((!p.teardown || p.teardown.call(e, f, g.handle) === !1) && v.removeEvent(e, u, g.handle), delete h[u])
            }
            v.isEmptyObject(h) && (delete g.handle, v.removeData(e, "events", !0))
        },
        customEvent: {
            getData: !0,
            setData: !0,
            changeData: !0
        },
        trigger: function(n, r, s, o) {
            if (!s || s.nodeType !== 3 && s.nodeType !== 8) {
                var u, a, f, l, c, h, p, d, m, g, y = n.type || n,
                b = [];
                if (Y.test(y + v.event.triggered)) return;
                y.indexOf("!") >= 0 && (y = y.slice(0, -1), a = !0),
                y.indexOf(".") >= 0 && (b = y.split("."), y = b.shift(), b.sort());
                if ((!s || v.event.customEvent[y]) && !v.event.global[y]) return;
                n = typeof n == "object" ? n[v.expando] ? n: new v.Event(y, n) : new v.Event(y),
                n.type = y,
                n.isTrigger = !0,
                n.exclusive = a,
                n.namespace = b.join("."),
                n.namespace_re = n.namespace ? new RegExp("(^|\\.)" + b.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
                h = y.indexOf(":") < 0 ? "on" + y: "";
                if (!s) {
                    u = v.cache;
                    for (f in u) u[f].events && u[f].events[y] && v.event.trigger(n, r, u[f].handle.elem, !0);
                    return
                }
                n.result = t,
                n.target || (n.target = s),
                r = r != null ? v.makeArray(r) : [],
                r.unshift(n),
                p = v.event.special[y] || {};
                if (p.trigger && p.trigger.apply(s, r) === !1) return;
                m = [[s, p.bindType || y]];
                if (!o && !p.noBubble && !v.isWindow(s)) {
                    g = p.delegateType || y,
                    l = Y.test(g + y) ? s: s.parentNode;
                    for (c = s; l; l = l.parentNode) m.push([l, g]),
                    c = l;
                    c === (s.ownerDocument || i) && m.push([c.defaultView || c.parentWindow || e, g])
                }
                for (f = 0; f < m.length && !n.isPropagationStopped(); f++) l = m[f][0],
                n.type = m[f][1],
                d = (v._data(l, "events") || {})[n.type] && v._data(l, "handle"),
                d && d.apply(l, r),
                d = h && l[h],
                d && v.acceptData(l) && d.apply && d.apply(l, r) === !1 && n.preventDefault();
                return n.type = y,
                !o && !n.isDefaultPrevented() && (!p._default || p._default.apply(s.ownerDocument, r) === !1) && (y !== "click" || !v.nodeName(s, "a")) && v.acceptData(s) && h && s[y] && (y !== "focus" && y !== "blur" || n.target.offsetWidth !== 0) && !v.isWindow(s) && (c = s[h], c && (s[h] = null), v.event.triggered = y, s[y](), v.event.triggered = t, c && (s[h] = c)),
                n.result
            }
            return
        },
        dispatch: function(n) {
            n = v.event.fix(n || e.event);
            var r, i, s, o, u, a, f, c, h, p, d = (v._data(this, "events") || {})[n.type] || [],
            m = d.delegateCount,
            g = l.call(arguments),
            y = !n.exclusive && !n.namespace,
            b = v.event.special[n.type] || {},
            w = [];
            g[0] = n,
            n.delegateTarget = this;
            if (b.preDispatch && b.preDispatch.call(this, n) === !1) return;
            if (m && (!n.button || n.type !== "click")) for (s = n.target; s != this; s = s.parentNode || this) if (s.disabled !== !0 || n.type !== "click") {
                u = {},
                f = [];
                for (r = 0; r < m; r++) c = d[r],
                h = c.selector,
                u[h] === t && (u[h] = c.needsContext ? v(h, this).index(s) >= 0 : v.find(h, this, null, [s]).length),
                u[h] && f.push(c);
                f.length && w.push({
                    elem: s,
                    matches: f
                })
            }
            d.length > m && w.push({
                elem: this,
                matches: d.slice(m)
            });
            for (r = 0; r < w.length && !n.isPropagationStopped(); r++) {
                a = w[r],
                n.currentTarget = a.elem;
                for (i = 0; i < a.matches.length && !n.isImmediatePropagationStopped(); i++) {
                    c = a.matches[i];
                    if (y || !n.namespace && !c.namespace || n.namespace_re && n.namespace_re.test(c.namespace)) n.data = c.data,
                    n.handleObj = c,
                    o = ((v.event.special[c.origType] || {}).handle || c.handler).apply(a.elem, g),
                    o !== t && (n.result = o, o === !1 && (n.preventDefault(), n.stopPropagation()))
                }
            }
            return b.postDispatch && b.postDispatch.call(this, n),
            n.result
        },
        props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                return e.which == null && (e.which = t.charCode != null ? t.charCode: t.keyCode),
                e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, n) {
                var r, s, o, u = n.button,
                a = n.fromElement;
                return e.pageX == null && n.clientX != null && (r = e.target.ownerDocument || i, s = r.documentElement, o = r.body, e.pageX = n.clientX + (s && s.scrollLeft || o && o.scrollLeft || 0) - (s && s.clientLeft || o && o.clientLeft || 0), e.pageY = n.clientY + (s && s.scrollTop || o && o.scrollTop || 0) - (s && s.clientTop || o && o.clientTop || 0)),
                !e.relatedTarget && a && (e.relatedTarget = a === e.target ? n.toElement: a),
                !e.which && u !== t && (e.which = u & 1 ? 1 : u & 2 ? 3 : u & 4 ? 2 : 0),
                e
            }
        },
        fix: function(e) {
            if (e[v.expando]) return e;
            var t, n, r = e,
            s = v.event.fixHooks[e.type] || {},
            o = s.props ? this.props.concat(s.props) : this.props;
            e = v.Event(r);
            for (t = o.length; t;) n = o[--t],
            e[n] = r[n];
            return e.target || (e.target = r.srcElement || i),
            e.target.nodeType === 3 && (e.target = e.target.parentNode),
            e.metaKey = !!e.metaKey,
            s.filter ? s.filter(e, r) : e
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                delegateType: "focusin"
            },
            blur: {
                delegateType: "focusout"
            },
            beforeunload: {
                setup: function(e, t, n) {
                    v.isWindow(this) && (this.onbeforeunload = n)
                },
                teardown: function(e, t) {
                    this.onbeforeunload === t && (this.onbeforeunload = null)
                }
            }
        },
        simulate: function(e, t, n, r) {
            var i = v.extend(new v.Event, n, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            r ? v.event.trigger(i, null, t) : v.event.dispatch.call(t, i),
            i.isDefaultPrevented() && n.preventDefault()
        }
    },
    v.event.handle = v.event.dispatch,
    v.removeEvent = i.removeEventListener ?
    function(e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n, !1)
    }: function(e, t, n) {
        var r = "on" + t;
        e.detachEvent && (typeof e[r] == "undefined" && (e[r] = null), e.detachEvent(r, n))
    },
    v.Event = function(e, t) {
        if (! (this instanceof v.Event)) return new v.Event(e, t);
        e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault() ? tt: et) : this.type = e,
        t && v.extend(this, t),
        this.timeStamp = e && e.timeStamp || v.now(),
        this[v.expando] = !0
    },
    v.Event.prototype = {
        preventDefault: function() {
            this.isDefaultPrevented = tt;
            var e = this.originalEvent;
            if (!e) return;
            e.preventDefault ? e.preventDefault() : e.returnValue = !1
        },
        stopPropagation: function() {
            this.isPropagationStopped = tt;
            var e = this.originalEvent;
            if (!e) return;
            e.stopPropagation && e.stopPropagation(),
            e.cancelBubble = !0
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = tt,
            this.stopPropagation()
        },
        isDefaultPrevented: et,
        isPropagationStopped: et,
        isImmediatePropagationStopped: et
    },
    v.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    },
    function(e, t) {
        v.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var n, r = this,
                i = e.relatedTarget,
                s = e.handleObj,
                o = s.selector;
                if (!i || i !== r && !v.contains(r, i)) e.type = s.origType,
                n = s.handler.apply(this, arguments),
                e.type = t;
                return n
            }
        }
    }),
    v.support.submitBubbles || (v.event.special.submit = {
        setup: function() {
            if (v.nodeName(this, "form")) return ! 1;
            v.event.add(this, "click._submit keypress._submit",
            function(e) {
                var n = e.target,
                r = v.nodeName(n, "input") || v.nodeName(n, "button") ? n.form: t;
                r && !v._data(r, "_submit_attached") && (v.event.add(r, "submit._submit",
                function(e) {
                    e._submit_bubble = !0
                }), v._data(r, "_submit_attached", !0))
            })
        },
        postDispatch: function(e) {
            e._submit_bubble && (delete e._submit_bubble, this.parentNode && !e.isTrigger && v.event.simulate("submit", this.parentNode, e, !0))
        },
        teardown: function() {
            if (v.nodeName(this, "form")) return ! 1;
            v.event.remove(this, "._submit")
        }
    }),
    v.support.changeBubbles || (v.event.special.change = {
        setup: function() {
            if ($.test(this.nodeName)) {
                if (this.type === "checkbox" || this.type === "radio") v.event.add(this, "propertychange._change",
                function(e) {
                    e.originalEvent.propertyName === "checked" && (this._just_changed = !0)
                }),
                v.event.add(this, "click._change",
                function(e) {
                    this._just_changed && !e.isTrigger && (this._just_changed = !1),
                    v.event.simulate("change", this, e, !0)
                });
                return ! 1
            }
            v.event.add(this, "beforeactivate._change",
            function(e) {
                var t = e.target;
                $.test(t.nodeName) && !v._data(t, "_change_attached") && (v.event.add(t, "change._change",
                function(e) {
                    this.parentNode && !e.isSimulated && !e.isTrigger && v.event.simulate("change", this.parentNode, e, !0)
                }), v._data(t, "_change_attached", !0))
            })
        },
        handle: function(e) {
            var t = e.target;
            if (this !== t || e.isSimulated || e.isTrigger || t.type !== "radio" && t.type !== "checkbox") return e.handleObj.handler.apply(this, arguments)
        },
        teardown: function() {
            return v.event.remove(this, "._change"),
            !$.test(this.nodeName)
        }
    }),
    v.support.focusinBubbles || v.each({
        focus: "focusin",
        blur: "focusout"
    },
    function(e, t) {
        var n = 0,
        r = function(e) {
            v.event.simulate(t, e.target, v.event.fix(e), !0)
        };
        v.event.special[t] = {
            setup: function() {
                n++===0 && i.addEventListener(e, r, !0)
            },
            teardown: function() {--n === 0 && i.removeEventListener(e, r, !0)
            }
        }
    }),
    v.fn.extend({
        on: function(e, n, r, i, s) {
            var o, u;
            if (typeof e == "object") {
                typeof n != "string" && (r = r || n, n = t);
                for (u in e) this.on(u, n, r, e[u], s);
                return this
            }
            r == null && i == null ? (i = n, r = n = t) : i == null && (typeof n == "string" ? (i = r, r = t) : (i = r, r = n, n = t));
            if (i === !1) i = et;
            else if (!i) return this;
            return s === 1 && (o = i, i = function(e) {
                return v().off(e),
                o.apply(this, arguments)
            },
            i.guid = o.guid || (o.guid = v.guid++)),
            this.each(function() {
                v.event.add(this, e, i, r, n)
            })
        },
        one: function(e, t, n, r) {
            return this.on(e, t, n, r, 1)
        },
        off: function(e, n, r) {
            var i, s;
            if (e && e.preventDefault && e.handleObj) return i = e.handleObj,
            v(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace: i.origType, i.selector, i.handler),
            this;
            if (typeof e == "object") {
                for (s in e) this.off(s, n, e[s]);
                return this
            }
            if (n === !1 || typeof n == "function") r = n,
            n = t;
            return r === !1 && (r = et),
            this.each(function() {
                v.event.remove(this, e, r, n)
            })
        },
        bind: function(e, t, n) {
            return this.on(e, null, t, n)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        live: function(e, t, n) {
            return v(this.context).on(e, this.selector, t, n),
            this
        },
        die: function(e, t) {
            return v(this.context).off(e, this.selector || "**", t),
            this
        },
        delegate: function(e, t, n, r) {
            return this.on(t, e, n, r)
        },
        undelegate: function(e, t, n) {
            return arguments.length === 1 ? this.off(e, "**") : this.off(t, e || "**", n)
        },
        trigger: function(e, t) {
            return this.each(function() {
                v.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            if (this[0]) return v.event.trigger(e, t, this[0], !0)
        },
        toggle: function(e) {
            var t = arguments,
            n = e.guid || v.guid++,
            r = 0,
            i = function(n) {
                var i = (v._data(this, "lastToggle" + e.guid) || 0) % r;
                return v._data(this, "lastToggle" + e.guid, i + 1),
                n.preventDefault(),
                t[i].apply(this, arguments) || !1
            };
            i.guid = n;
            while (r < t.length) t[r++].guid = n;
            return this.click(i)
        },
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        }
    }),
    v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
    function(e, t) {
        v.fn[t] = function(e, n) {
            return n == null && (n = e, e = null),
            arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
        },
        Q.test(t) && (v.event.fixHooks[t] = v.event.keyHooks),
        G.test(t) && (v.event.fixHooks[t] = v.event.mouseHooks)
    }),
    function(e, t) {
        function nt(e, t, n, r) {
            n = n || [],
            t = t || g;
            var i, s, a, f, l = t.nodeType;
            if (!e || typeof e != "string") return n;
            if (l !== 1 && l !== 9) return [];
            a = o(t);
            if (!a && !r) if (i = R.exec(e)) if (f = i[1]) if (l === 9) {
                s = t.getElementById(f);
                if (!s || !s.parentNode) return n;
                if (s.id === f) return n.push(s),
                n
            } else {
                if (t.ownerDocument && (s = t.ownerDocument.getElementById(f)) && u(t, s) && s.id === f) return n.push(s),
                n
            } else {
                if (i[2]) return S.apply(n, x.call(t.getElementsByTagName(e), 0)),
                n;
                if ((f = i[3]) && Z && t.getElementsByClassName) return S.apply(n, x.call(t.getElementsByClassName(f), 0)),
                n
            }
            return vt(e.replace(j, "$1"), t, n, r, a)
        }
        function rt(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return n === "input" && t.type === e
            }
        }
        function it(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return (n === "input" || n === "button") && t.type === e
            }
        }
        function st(e) {
            return N(function(t) {
                return t = +t,
                N(function(n, r) {
                    var i, s = e([], n.length, t),
                    o = s.length;
                    while (o--) n[i = s[o]] && (n[i] = !(r[i] = n[i]))
                })
            })
        }
        function ot(e, t, n) {
            if (e === t) return n;
            var r = e.nextSibling;
            while (r) {
                if (r === t) return - 1;
                r = r.nextSibling
            }
            return 1
        }
        function ut(e, t) {
            var n, r, s, o, u, a, f, l = L[d][e + " "];
            if (l) return t ? 0 : l.slice(0);
            u = e,
            a = [],
            f = i.preFilter;
            while (u) {
                if (!n || (r = F.exec(u))) r && (u = u.slice(r[0].length) || u),
                a.push(s = []);
                n = !1;
                if (r = I.exec(u)) s.push(n = new m(r.shift())),
                u = u.slice(n.length),
                n.type = r[0].replace(j, " ");
                for (o in i.filter)(r = J[o].exec(u)) && (!f[o] || (r = f[o](r))) && (s.push(n = new m(r.shift())), u = u.slice(n.length), n.type = o, n.matches = r);
                if (!n) break
            }
            return t ? u.length: u ? nt.error(e) : L(e, a).slice(0)
        }
        function at(e, t, r) {
            var i = t.dir,
            s = r && t.dir === "parentNode",
            o = w++;
            return t.first ?
            function(t, n, r) {
                while (t = t[i]) if (s || t.nodeType === 1) return e(t, n, r)
            }: function(t, r, u) {
                if (!u) {
                    var a, f = b + " " + o + " ",
                    l = f + n;
                    while (t = t[i]) if (s || t.nodeType === 1) {
                        if ((a = t[d]) === l) return t.sizset;
                        if (typeof a == "string" && a.indexOf(f) === 0) {
                            if (t.sizset) return t
                        } else {
                            t[d] = l;
                            if (e(t, r, u)) return t.sizset = !0,
                            t;
                            t.sizset = !1
                        }
                    }
                } else while (t = t[i]) if (s || t.nodeType === 1) if (e(t, r, u)) return t
            }
        }
        function ft(e) {
            return e.length > 1 ?
            function(t, n, r) {
                var i = e.length;
                while (i--) if (!e[i](t, n, r)) return ! 1;
                return ! 0
            }: e[0]
        }
        function lt(e, t, n, r, i) {
            var s, o = [],
            u = 0,
            a = e.length,
            f = t != null;
            for (; u < a; u++) if (s = e[u]) if (!n || n(s, r, i)) o.push(s),
            f && t.push(u);
            return o
        }
        function ct(e, t, n, r, i, s) {
            return r && !r[d] && (r = ct(r)),
            i && !i[d] && (i = ct(i, s)),
            N(function(s, o, u, a) {
                var f, l, c, h = [],
                p = [],
                d = o.length,
                v = s || dt(t || "*", u.nodeType ? [u] : u, []),
                m = e && (s || !t) ? lt(v, h, e, u, a) : v,
                g = n ? i || (s ? e: d || r) ? [] : o: m;
                n && n(m, g, u, a);
                if (r) {
                    f = lt(g, p),
                    r(f, [], u, a),
                    l = f.length;
                    while (l--) if (c = f[l]) g[p[l]] = !(m[p[l]] = c)
                }
                if (s) {
                    if (i || e) {
                        if (i) {
                            f = [],
                            l = g.length;
                            while (l--)(c = g[l]) && f.push(m[l] = c);
                            i(null, g = [], f, a)
                        }
                        l = g.length;
                        while (l--)(c = g[l]) && (f = i ? T.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c))
                    }
                } else g = lt(g === o ? g.splice(d, g.length) : g),
                i ? i(null, o, g, a) : S.apply(o, g)
            })
        }
        function ht(e) {
            var t, n, r, s = e.length,
            o = i.relative[e[0].type],
            u = o || i.relative[" "],
            a = o ? 1 : 0,
            f = at(function(e) {
                return e === t
            },
            u, !0),
            l = at(function(e) {
                return T.call(t, e) > -1
            },
            u, !0),
            h = [function(e, n, r) {
                return ! o && (r || n !== c) || ((t = n).nodeType ? f(e, n, r) : l(e, n, r))
            }];
            for (; a < s; a++) if (n = i.relative[e[a].type]) h = [at(ft(h), n)];
            else {
                n = i.filter[e[a].type].apply(null, e[a].matches);
                if (n[d]) {
                    r = ++a;
                    for (; r < s; r++) if (i.relative[e[r].type]) break;
                    return ct(a > 1 && ft(h), a > 1 && e.slice(0, a - 1).join("").replace(j, "$1"), n, a < r && ht(e.slice(a, r)), r < s && ht(e = e.slice(r)), r < s && e.join(""))
                }
                h.push(n)
            }
            return ft(h)
        }
        function pt(e, t) {
            var r = t.length > 0,
            s = e.length > 0,
            o = function(u, a, f, l, h) {
                var p, d, v, m = [],
                y = 0,
                w = "0",
                x = u && [],
                T = h != null,
                N = c,
                C = u || s && i.find.TAG("*", h && a.parentNode || a),
                k = b += N == null ? 1 : Math.E;
                T && (c = a !== g && a, n = o.el);
                for (; (p = C[w]) != null; w++) {
                    if (s && p) {
                        for (d = 0; v = e[d]; d++) if (v(p, a, f)) {
                            l.push(p);
                            break
                        }
                        T && (b = k, n = ++o.el)
                    }
                    r && ((p = !v && p) && y--, u && x.push(p))
                }
                y += w;
                if (r && w !== y) {
                    for (d = 0; v = t[d]; d++) v(x, m, a, f);
                    if (u) {
                        if (y > 0) while (w--) ! x[w] && !m[w] && (m[w] = E.call(l));
                        m = lt(m)
                    }
                    S.apply(l, m),
                    T && !u && m.length > 0 && y + t.length > 1 && nt.uniqueSort(l)
                }
                return T && (b = k, c = N),
                x
            };
            return o.el = 0,
            r ? N(o) : o
        }
        function dt(e, t, n) {
            var r = 0,
            i = t.length;
            for (; r < i; r++) nt(e, t[r], n);
            return n
        }
        function vt(e, t, n, r, s) {
            var o, u, f, l, c, h = ut(e),
            p = h.length;
            if (!r && h.length === 1) {
                u = h[0] = h[0].slice(0);
                if (u.length > 2 && (f = u[0]).type === "ID" && t.nodeType === 9 && !s && i.relative[u[1].type]) {
                    t = i.find.ID(f.matches[0].replace($, ""), t, s)[0];
                    if (!t) return n;
                    e = e.slice(u.shift().length)
                }
                for (o = J.POS.test(e) ? -1 : u.length - 1; o >= 0; o--) {
                    f = u[o];
                    if (i.relative[l = f.type]) break;
                    if (c = i.find[l]) if (r = c(f.matches[0].replace($, ""), z.test(u[0].type) && t.parentNode || t, s)) {
                        u.splice(o, 1),
                        e = r.length && u.join("");
                        if (!e) return S.apply(n, x.call(r, 0)),
                        n;
                        break
                    }
                }
            }
            return a(e, h)(r, t, s, n, z.test(e)),
            n
        }
        function mt() {}
        var n, r, i, s, o, u, a, f, l, c, h = !0,
        p = "undefined",
        d = ("sizcache" + Math.random()).replace(".", ""),
        m = String,
        g = e.document,
        y = g.documentElement,
        b = 0,
        w = 0,
        E = [].pop,
        S = [].push,
        x = [].slice,
        T = [].indexOf ||
        function(e) {
            var t = 0,
            n = this.length;
            for (; t < n; t++) if (this[t] === e) return t;
            return - 1
        },
        N = function(e, t) {
            return e[d] = t == null || t,
            e
        },
        C = function() {
            var e = {},
            t = [];
            return N(function(n, r) {
                return t.push(n) > i.cacheLength && delete e[t.shift()],
                e[n + " "] = r
            },
            e)
        },
        k = C(),
        L = C(),
        A = C(),
        O = "[\\x20\\t\\r\\n\\f]",
        M = "(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",
        _ = M.replace("w", "w#"),
        D = "([*^$|!~]?\x3d)",
        P = "\\[" + O + "*(" + M + ")" + O + "*(?:" + D + O + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + _ + ")|)|)" + O + "*\\]",
        H = ":(" + M + ")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:" + P + ")|[^:]|\\\\.)*|.*))\\)|)",
        B = ":(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + O + "*((?:-\\d)?\\d*)" + O + "*\\)|)(?\x3d[^-]|$)",
        j = new RegExp("^" + O + "+|((?:^|[^\\\\])(?:\\\\.)*)" + O + "+$", "g"),
        F = new RegExp("^" + O + "*," + O + "*"),
        I = new RegExp("^" + O + "*([\\x20\\t\\r\\n\\f\x3e+~])" + O + "*"),
        q = new RegExp(H),
        R = /^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,
        U = /^:not/,
        z = /[\x20\t\r\n\f]*[+~]/,
        W = /:not\($/,
        X = /h\d/i,
        V = /input|select|textarea|button/i,
        $ = /\\(?!\\)/g,
        J = {
            ID: new RegExp("^#(" + M + ")"),
            CLASS: new RegExp("^\\.(" + M + ")"),
            NAME: new RegExp("^\\[name\x3d['\"]?(" + M + ")['\"]?\\]"),
            TAG: new RegExp("^(" + M.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + P),
            PSEUDO: new RegExp("^" + H),
            POS: new RegExp(B, "i"),
            CHILD: new RegExp("^:(only|nth|first|last)-child(?:\\(" + O + "*(even|odd|(([+-]|)(\\d*)n|)" + O + "*(?:([+-]|)" + O + "*(\\d+)|))" + O + "*\\)|)", "i"),
            needsContext: new RegExp("^" + O + "*[\x3e+~]|" + B, "i")
        },
        K = function(e) {
            var t = g.createElement("div");
            try {
                return e(t)
            } catch(n$10) {
                return ! 1
            } finally {
                t = null
            }
        },
        Q = K(function(e) {
            return e.appendChild(g.createComment("")),
            !e.getElementsByTagName("*").length
        }),
        G = K(function(e) {
            return e.innerHTML = "\x3ca href\x3d'#'\x3e\x3c/a\x3e",
            e.firstChild && typeof e.firstChild.getAttribute !== p && e.firstChild.getAttribute("href") === "#"
        }),
        Y = K(function(e) {
            e.innerHTML = "\x3cselect\x3e\x3c/select\x3e";
            var t = typeof e.lastChild.getAttribute("multiple");
            return t !== "boolean" && t !== "string"
        }),
        Z = K(function(e) {
            return e.innerHTML = "\x3cdiv class\x3d'hidden e'\x3e\x3c/div\x3e\x3cdiv class\x3d'hidden'\x3e\x3c/div\x3e",
            !e.getElementsByClassName || !e.getElementsByClassName("e").length ? !1 : (e.lastChild.className = "e", e.getElementsByClassName("e").length === 2)
        }),
        et = K(function(e) {
            e.id = d + 0,
            e.innerHTML = "\x3ca name\x3d'" + d + "'\x3e\x3c/a\x3e\x3cdiv name\x3d'" + d + "'\x3e\x3c/div\x3e",
            y.insertBefore(e, y.firstChild);
            var t = g.getElementsByName && g.getElementsByName(d).length === 2 + g.getElementsByName(d + 0).length;
            return r = !g.getElementById(d),
            y.removeChild(e),
            t
        });
        try {
            x.call(y.childNodes, 0)[0].nodeType
        } catch(tt$11) {
            x = function(e) {
                var t, n = [];
                for (; t = this[e]; e++) n.push(t);
                return n
            }
        }
        nt.matches = function(e, t) {
            return nt(e, null, null, t)
        },
        nt.matchesSelector = function(e, t) {
            return nt(t, null, null, [e]).length > 0
        },
        s = nt.getText = function(e) {
            var t, n = "",
            r = 0,
            i = e.nodeType;
            if (i) if (i === 1 || i === 9 || i === 11) {
                if (typeof e.textContent == "string") return e.textContent;
                for (e = e.firstChild; e; e = e.nextSibling) n += s(e)
            } else {
                if (i === 3 || i === 4) return e.nodeValue
            } else for (; t = e[r]; r++) n += s(t);
            return n
        },
        o = nt.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return t ? t.nodeName !== "HTML": !1
        },
        u = nt.contains = y.contains ?
        function(e, t) {
            var n = e.nodeType === 9 ? e.documentElement: e,
            r = t && t.parentNode;
            return e === r || !!(r && r.nodeType === 1 && n.contains && n.contains(r))
        }: y.compareDocumentPosition ?
        function(e, t) {
            return t && !!(e.compareDocumentPosition(t) & 16)
        }: function(e, t) {
            while (t = t.parentNode) if (t === e) return ! 0;
            return ! 1
        },
        nt.attr = function(e, t) {
            var n, r = o(e);
            return r || (t = t.toLowerCase()),
            (n = i.attrHandle[t]) ? n(e) : r || Y ? e.getAttribute(t) : (n = e.getAttributeNode(t), n ? typeof e[t] == "boolean" ? e[t] ? t: null: n.specified ? n.value: null: null)
        },
        i = nt.selectors = {
            cacheLength: 50,
            createPseudo: N,
            match: J,
            attrHandle: G ? {}: {
                href: function(e) {
                    return e.getAttribute("href", 2)
                },
                type: function(e) {
                    return e.getAttribute("type")
                }
            },
            find: {
                ID: r ?
                function(e, t, n) {
                    if (typeof t.getElementById !== p && !n) {
                        var r = t.getElementById(e);
                        return r && r.parentNode ? [r] : []
                    }
                }: function(e, n, r) {
                    if (typeof n.getElementById !== p && !r) {
                        var i = n.getElementById(e);
                        return i ? i.id === e || typeof i.getAttributeNode !== p && i.getAttributeNode("id").value === e ? [i] : t: []
                    }
                },
                TAG: Q ?
                function(e, t) {
                    if (typeof t.getElementsByTagName !== p) return t.getElementsByTagName(e)
                }: function(e, t) {
                    var n = t.getElementsByTagName(e);
                    if (e === "*") {
                        var r, i = [],
                        s = 0;
                        for (; r = n[s]; s++) r.nodeType === 1 && i.push(r);
                        return i
                    }
                    return n
                },
                NAME: et &&
                function(e, t) {
                    if (typeof t.getElementsByName !== p) return t.getElementsByName(name)
                },
                CLASS: Z &&
                function(e, t, n) {
                    if (typeof t.getElementsByClassName !== p && !n) return t.getElementsByClassName(e)
                }
            },
            relative: {
                "\x3e": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace($, ""),
                    e[3] = (e[4] || e[5] || "").replace($, ""),
                    e[2] === "~\x3d" && (e[3] = " " + e[3] + " "),
                    e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(),
                    e[1] === "nth" ? (e[2] || nt.error(e[0]), e[3] = +(e[3] ? e[4] + (e[5] || 1) : 2 * (e[2] === "even" || e[2] === "odd")), e[4] = +(e[6] + e[7] || e[2] === "odd")) : e[2] && nt.error(e[0]),
                    e
                },
                PSEUDO: function(e) {
                    var t, n;
                    if (J.CHILD.test(e[0])) return null;
                    if (e[3]) e[2] = e[3];
                    else if (t = e[4]) q.test(t) && (n = ut(t, !0)) && (n = t.indexOf(")", t.length - n) - t.length) && (t = t.slice(0, n), e[0] = e[0].slice(0, n)),
                    e[2] = t;
                    return e.slice(0, 3)
                }
            },
            filter: {
                ID: r ?
                function(e) {
                    return e = e.replace($, ""),
                    function(t) {
                        return t.getAttribute("id") === e
                    }
                }: function(e) {
                    return e = e.replace($, ""),
                    function(t) {
                        var n = typeof t.getAttributeNode !== p && t.getAttributeNode("id");
                        return n && n.value === e
                    }
                },
                TAG: function(e) {
                    return e === "*" ?
                    function() {
                        return ! 0
                    }: (e = e.replace($, "").toLowerCase(),
                    function(t) {
                        return t.nodeName && t.nodeName.toLowerCase() === e
                    })
                },
                CLASS: function(e) {
                    var t = k[d][e + " "];
                    return t || (t = new RegExp("(^|" + O + ")" + e + "(" + O + "|$)")) && k(e,
                    function(e) {
                        return t.test(e.className || typeof e.getAttribute !== p && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(e, t, n) {
                    return function(r, i) {
                        var s = nt.attr(r, e);
                        return s == null ? t === "!\x3d": t ? (s += "", t === "\x3d" ? s === n: t === "!\x3d" ? s !== n: t === "^\x3d" ? n && s.indexOf(n) === 0 : t === "*\x3d" ? n && s.indexOf(n) > -1 : t === "$\x3d" ? n && s.substr(s.length - n.length) === n: t === "~\x3d" ? (" " + s + " ").indexOf(n) > -1 : t === "|\x3d" ? s === n || s.substr(0, n.length + 1) === n + "-": !1) : !0
                    }
                },
                CHILD: function(e, t, n, r) {
                    return e === "nth" ?
                    function(e) {
                        var t, i, s = e.parentNode;
                        if (n === 1 && r === 0) return ! 0;
                        if (s) {
                            i = 0;
                            for (t = s.firstChild; t; t = t.nextSibling) if (t.nodeType === 1) {
                                i++;
                                if (e === t) break
                            }
                        }
                        return i -= r,
                        i === n || i % n === 0 && i / n >= 0
                    }: function(t) {
                        var n = t;
                        switch (e) {
                        case "only":
                        case "first":
                            while (n = n.previousSibling) if (n.nodeType === 1) return ! 1;
                            if (e === "first") return ! 0;
                            n = t;
                        case "last":
                            while (n = n.nextSibling) if (n.nodeType === 1) return ! 1;
                            return ! 0
                        }
                    }
                },
                PSEUDO: function(e, t) {
                    var n, r = i.pseudos[e] || i.setFilters[e.toLowerCase()] || nt.error("unsupported pseudo: " + e);
                    return r[d] ? r(t) : r.length > 1 ? (n = [e, e, "", t], i.setFilters.hasOwnProperty(e.toLowerCase()) ? N(function(e, n) {
                        var i, s = r(e, t),
                        o = s.length;
                        while (o--) i = T.call(e, s[o]),
                        e[i] = !(n[i] = s[o])
                    }) : function(e) {
                        return r(e, 0, n)
                    }) : r
                }
            },
            pseudos: {
                not: N(function(e) {
                    var t = [],
                    n = [],
                    r = a(e.replace(j, "$1"));
                    return r[d] ? N(function(e, t, n, i) {
                        var s, o = r(e, null, i, []),
                        u = e.length;
                        while (u--) if (s = o[u]) e[u] = !(t[u] = s)
                    }) : function(e, i, s) {
                        return t[0] = e,
                        r(t, null, s, n),
                        !n.pop()
                    }
                }),
                has: N(function(e) {
                    return function(t) {
                        return nt(e, t).length > 0
                    }
                }),
                contains: N(function(e) {
                    return function(t) {
                        return (t.textContent || t.innerText || s(t)).indexOf(e) > -1
                    }
                }),
                enabled: function(e) {
                    return e.disabled === !1
                },
                disabled: function(e) {
                    return e.disabled === !0
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return t === "input" && !!e.checked || t === "option" && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex,
                    e.selected === !0
                },
                parent: function(e) {
                    return ! i.pseudos.empty(e)
                },
                empty: function(e) {
                    var t;
                    e = e.firstChild;
                    while (e) {
                        if (e.nodeName > "@" || (t = e.nodeType) === 3 || t === 4) return ! 1;
                        e = e.nextSibling
                    }
                    return ! 0
                },
                header: function(e) {
                    return X.test(e.nodeName)
                },
                text: function(e) {
                    var t, n;
                    return e.nodeName.toLowerCase() === "input" && (t = e.type) === "text" && ((n = e.getAttribute("type")) == null || n.toLowerCase() === t)
                },
                radio: rt("radio"),
                checkbox: rt("checkbox"),
                file: rt("file"),
                password: rt("password"),
                image: rt("image"),
                submit: it("submit"),
                reset: it("reset"),
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return t === "input" && e.type === "button" || t === "button"
                },
                input: function(e) {
                    return V.test(e.nodeName)
                },
                focus: function(e) {
                    var t = e.ownerDocument;
                    return e === t.activeElement && (!t.hasFocus || t.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                active: function(e) {
                    return e === e.ownerDocument.activeElement
                },
                first: st(function() {
                    return [0]
                }),
                last: st(function(e, t) {
                    return [t - 1]
                }),
                eq: st(function(e, t, n) {
                    return [n < 0 ? n + t: n]
                }),
                even: st(function(e, t) {
                    for (var n = 0; n < t; n += 2) e.push(n);
                    return e
                }),
                odd: st(function(e, t) {
                    for (var n = 1; n < t; n += 2) e.push(n);
                    return e
                }),
                lt: st(function(e, t, n) {
                    for (var r = n < 0 ? n + t: n; --r >= 0;) e.push(r);
                    return e
                }),
                gt: st(function(e, t, n) {
                    for (var r = n < 0 ? n + t: n; ++r < t;) e.push(r);
                    return e
                })
            }
        },
        f = y.compareDocumentPosition ?
        function(e, t) {
            return e === t ? (l = !0, 0) : (!e.compareDocumentPosition || !t.compareDocumentPosition ? e.compareDocumentPosition: e.compareDocumentPosition(t) & 4) ? -1 : 1
        }: function(e, t) {
            if (e === t) return l = !0,
            0;
            if (e.sourceIndex && t.sourceIndex) return e.sourceIndex - t.sourceIndex;
            var n, r, i = [],
            s = [],
            o = e.parentNode,
            u = t.parentNode,
            a = o;
            if (o === u) return ot(e, t);
            if (!o) return - 1;
            if (!u) return 1;
            while (a) i.unshift(a),
            a = a.parentNode;
            a = u;
            while (a) s.unshift(a),
            a = a.parentNode;
            n = i.length,
            r = s.length;
            for (var f = 0; f < n && f < r; f++) if (i[f] !== s[f]) return ot(i[f], s[f]);
            return f === n ? ot(e, s[f], -1) : ot(i[f], t, 1)
        },
        [0, 0].sort(f),
        h = !l,
        nt.uniqueSort = function(e) {
            var t, n = [],
            r = 1,
            i = 0;
            l = h,
            e.sort(f);
            if (l) {
                for (; t = e[r]; r++) t === e[r - 1] && (i = n.push(r));
                while (i--) e.splice(n[i], 1)
            }
            return e
        },
        nt.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e);
        },
        a = nt.compile = function(e, t) {
            var n, r = [],
            i = [],
            s = A[d][e + " "];
            if (!s) {
                t || (t = ut(e)),
                n = t.length;
                while (n--) s = ht(t[n]),
                s[d] ? r.push(s) : i.push(s);
                s = A(e, pt(i, r))
            }
            return s
        },
        g.querySelectorAll &&
        function() {
            var e, t = vt,
            n = /'|\\/g,
            r = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
            i = [":focus"],
            s = [":active"],
            u = y.matchesSelector || y.mozMatchesSelector || y.webkitMatchesSelector || y.oMatchesSelector || y.msMatchesSelector;
            K(function(e) {
                e.innerHTML = "\x3cselect\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e",
                e.querySelectorAll("[selected]").length || i.push("\\[" + O + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),
                e.querySelectorAll(":checked").length || i.push(":checked")
            }),
            K(function(e) {
                e.innerHTML = "\x3cp test\x3d''\x3e\x3c/p\x3e",
                e.querySelectorAll("[test^\x3d'']").length && i.push("[*^$]\x3d" + O + "*(?:\"\"|'')"),
                e.innerHTML = "\x3cinput type\x3d'hidden'/\x3e",
                e.querySelectorAll(":enabled").length || i.push(":enabled", ":disabled")
            }),
            i = new RegExp(i.join("|")),
            vt = function(e, r, s, o, u) {
                if (!o && !u && !i.test(e)) {
                    var a, f, l = !0,
                    c = d,
                    h = r,
                    p = r.nodeType === 9 && e;
                    if (r.nodeType === 1 && r.nodeName.toLowerCase() !== "object") {
                        a = ut(e),
                        (l = r.getAttribute("id")) ? c = l.replace(n, "\\$\x26") : r.setAttribute("id", c),
                        c = "[id\x3d'" + c + "'] ",
                        f = a.length;
                        while (f--) a[f] = c + a[f].join("");
                        h = z.test(e) && r.parentNode || r,
                        p = a.join(",")
                    }
                    if (p) try {
                        return S.apply(s, x.call(h.querySelectorAll(p), 0)),
                        s
                    } catch(v$12) {} finally {
                        l || r.removeAttribute("id")
                    }
                }
                return t(e, r, s, o, u)
            },
            u && (K(function(t) {
                e = u.call(t, "div");
                try {
                    u.call(t, "[test!\x3d'']:sizzle"),
                    s.push("!\x3d", H)
                } catch(n$13) {}
            }), s = new RegExp(s.join("|")), nt.matchesSelector = function(t, n) {
                n = n.replace(r, "\x3d'$1']");
                if (!o(t) && !s.test(n) && !i.test(n)) try {
                    var a = u.call(t, n);
                    if (a || e || t.document && t.document.nodeType !== 11) return a
                } catch(f$14) {}
                return nt(n, null, null, [t]).length > 0
            })
        } (),
        i.pseudos.nth = i.pseudos.eq,
        i.filters = mt.prototype = i.pseudos,
        i.setFilters = new mt,
        nt.attr = v.attr,
        v.find = nt,
        v.expr = nt.selectors,
        v.expr[":"] = v.expr.pseudos,
        v.unique = nt.uniqueSort,
        v.text = nt.getText,
        v.isXMLDoc = nt.isXML,
        v.contains = nt.contains
    } (e);
    var nt = /Until$/,
    rt = /^(?:parents|prev(?:Until|All))/,
    it = /^.[^:#\[\.,]*$/,
    st = v.expr.match.needsContext,
    ot = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    v.fn.extend({
        find: function(e) {
            var t, n, r, i, s, o, u = this;
            if (typeof e != "string") return v(e).filter(function() {
                for (t = 0, n = u.length; t < n; t++) if (v.contains(u[t], this)) return ! 0
            });
            o = this.pushStack("", "find", e);
            for (t = 0, n = this.length; t < n; t++) {
                r = o.length,
                v.find(e, this[t], o);
                if (t > 0) for (i = r; i < o.length; i++) for (s = 0; s < r; s++) if (o[s] === o[i]) {
                    o.splice(i--, 1);
                    break
                }
            }
            return o
        },
        has: function(e) {
            var t, n = v(e, this),
            r = n.length;
            return this.filter(function() {
                for (t = 0; t < r; t++) if (v.contains(this, n[t])) return ! 0
            })
        },
        not: function(e) {
            return this.pushStack(ft(this, e, !1), "not", e)
        },
        filter: function(e) {
            return this.pushStack(ft(this, e, !0), "filter", e)
        },
        is: function(e) {
            return !! e && (typeof e == "string" ? st.test(e) ? v(e, this.context).index(this[0]) >= 0 : v.filter(e, this).length > 0 : this.filter(e).length > 0)
        },
        closest: function(e, t) {
            var n, r = 0,
            i = this.length,
            s = [],
            o = st.test(e) || typeof e != "string" ? v(e, t || this.context) : 0;
            for (; r < i; r++) {
                n = this[r];
                while (n && n.ownerDocument && n !== t && n.nodeType !== 11) {
                    if (o ? o.index(n) > -1 : v.find.matchesSelector(n, e)) {
                        s.push(n);
                        break
                    }
                    n = n.parentNode
                }
            }
            return s = s.length > 1 ? v.unique(s) : s,
            this.pushStack(s, "closest", e)
        },
        index: function(e) {
            return e ? typeof e == "string" ? v.inArray(this[0], v(e)) : v.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.prevAll().length: -1
        },
        add: function(e, t) {
            var n = typeof e == "string" ? v(e, t) : v.makeArray(e && e.nodeType ? [e] : e),
            r = v.merge(this.get(), n);
            return this.pushStack(ut(n[0]) || ut(r[0]) ? r: v.unique(r))
        },
        addBack: function(e) {
            return this.add(e == null ? this.prevObject: this.prevObject.filter(e))
        }
    }),
    v.fn.andSelf = v.fn.addBack,
    v.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && t.nodeType !== 11 ? t: null
        },
        parents: function(e) {
            return v.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, n) {
            return v.dir(e, "parentNode", n)
        },
        next: function(e) {
            return at(e, "nextSibling")
        },
        prev: function(e) {
            return at(e, "previousSibling")
        },
        nextAll: function(e) {
            return v.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return v.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, n) {
            return v.dir(e, "nextSibling", n)
        },
        prevUntil: function(e, t, n) {
            return v.dir(e, "previousSibling", n)
        },
        siblings: function(e) {
            return v.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return v.sibling(e.firstChild)
        },
        contents: function(e) {
            return v.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document: v.merge([], e.childNodes)
        }
    },
    function(e, t) {
        v.fn[e] = function(n, r) {
            var i = v.map(this, t, n);
            return nt.test(e) || (r = n),
            r && typeof r == "string" && (i = v.filter(r, i)),
            i = this.length > 1 && !ot[e] ? v.unique(i) : i,
            this.length > 1 && rt.test(e) && (i = i.reverse()),
            this.pushStack(i, e, l.call(arguments).join(","))
        }
    }),
    v.extend({
        filter: function(e, t, n) {
            return n && (e = ":not(" + e + ")"),
            t.length === 1 ? v.find.matchesSelector(t[0], e) ? [t[0]] : [] : v.find.matches(e, t)
        },
        dir: function(e, n, r) {
            var i = [],
            s = e[n];
            while (s && s.nodeType !== 9 && (r === t || s.nodeType !== 1 || !v(s).is(r))) s.nodeType === 1 && i.push(s),
            s = s[n];
            return i
        },
        sibling: function(e, t) {
            var n = [];
            for (; e; e = e.nextSibling) e.nodeType === 1 && e !== t && n.push(e);
            return n
        }
    });
    var ct = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
    ht = / jQuery\d+="(?:null|\d+)"/g,
    pt = /^\s+/,
    dt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    vt = /<([\w:]+)/,
    mt = /<tbody/i,
    gt = /<|&#?\w+;/,
    yt = /<(?:script|style|link)/i,
    bt = /<(?:script|object|embed|option|style)/i,
    wt = new RegExp("\x3c(?:" + ct + ")[\\s/\x3e]", "i"),
    Et = /^(?:checkbox|radio)$/,
    St = /checked\s*(?:[^=]|=\s*.checked.)/i,
    xt = /\/(java|ecma)script/i,
    Tt = /^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,
    Nt = {
        option: [1, "\x3cselect multiple\x3d'multiple'\x3e", "\x3c/select\x3e"],
        legend: [1, "\x3cfieldset\x3e", "\x3c/fieldset\x3e"],
        thead: [1, "\x3ctable\x3e", "\x3c/table\x3e"],
        tr: [2, "\x3ctable\x3e\x3ctbody\x3e", "\x3c/tbody\x3e\x3c/table\x3e"],
        td: [3, "\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e", "\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],
        col: [2, "\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e", "\x3c/colgroup\x3e\x3c/table\x3e"],
        area: [1, "\x3cmap\x3e", "\x3c/map\x3e"],
        _default: [0, "", ""]
    },
    Ct = lt(i),
    kt = Ct.appendChild(i.createElement("div"));
    Nt.optgroup = Nt.option,
    Nt.tbody = Nt.tfoot = Nt.colgroup = Nt.caption = Nt.thead,
    Nt.th = Nt.td,
    v.support.htmlSerialize || (Nt._default = [1, "X\x3cdiv\x3e", "\x3c/div\x3e"]),
    v.fn.extend({
        text: function(e) {
            return v.access(this,
            function(e) {
                return e === t ? v.text(this) : this.empty().append((this[0] && this[0].ownerDocument || i).createTextNode(e))
            },
            null, e, arguments.length)
        },
        wrapAll: function(e) {
            if (v.isFunction(e)) return this.each(function(t) {
                v(this).wrapAll(e.call(this, t))
            });
            if (this[0]) {
                var t = v(e, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && t.insertBefore(this[0]),
                t.map(function() {
                    var e = this;
                    while (e.firstChild && e.firstChild.nodeType === 1) e = e.firstChild;
                    return e
                }).append(this)
            }
            return this
        },
        wrapInner: function(e) {
            return v.isFunction(e) ? this.each(function(t) {
                v(this).wrapInner(e.call(this, t))
            }) : this.each(function() {
                var t = v(this),
                n = t.contents();
                n.length ? n.wrapAll(e) : t.append(e)
            })
        },
        wrap: function(e) {
            var t = v.isFunction(e);
            return this.each(function(n) {
                v(this).wrapAll(t ? e.call(this, n) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                v.nodeName(this, "body") || v(this).replaceWith(this.childNodes)
            }).end()
        },
        append: function() {
            return this.domManip(arguments, !0,
            function(e) { (this.nodeType === 1 || this.nodeType === 11) && this.appendChild(e)
            })
        },
        prepend: function() {
            return this.domManip(arguments, !0,
            function(e) { (this.nodeType === 1 || this.nodeType === 11) && this.insertBefore(e, this.firstChild)
            })
        },
        before: function() {
            if (!ut(this[0])) return this.domManip(arguments, !1,
            function(e) {
                this.parentNode.insertBefore(e, this)
            });
            if (arguments.length) {
                var e = v.clean(arguments);
                return this.pushStack(v.merge(e, this), "before", this.selector)
            }
        },
        after: function() {
            if (!ut(this[0])) return this.domManip(arguments, !1,
            function(e) {
                this.parentNode.insertBefore(e, this.nextSibling)
            });
            if (arguments.length) {
                var e = v.clean(arguments);
                return this.pushStack(v.merge(this, e), "after", this.selector)
            }
        },
        remove: function(e, t) {
            var n, r = 0;
            for (; (n = this[r]) != null; r++) if (!e || v.filter(e, [n]).length) ! t && n.nodeType === 1 && (v.cleanData(n.getElementsByTagName("*")), v.cleanData([n])),
            n.parentNode && n.parentNode.removeChild(n);
            return this
        },
        empty: function() {
            var e, t = 0;
            for (; (e = this[t]) != null; t++) {
                e.nodeType === 1 && v.cleanData(e.getElementsByTagName("*"));
                while (e.firstChild) e.removeChild(e.firstChild)
            }
            return this
        },
        clone: function(e, t) {
            return e = e == null ? !1 : e,
            t = t == null ? e: t,
            this.map(function() {
                return v.clone(this, e, t)
            })
        },
        html: function(e) {
            return v.access(this,
            function(e) {
                var n = this[0] || {},
                r = 0,
                i = this.length;
                if (e === t) return n.nodeType === 1 ? n.innerHTML.replace(ht, "") : t;
                if (typeof e == "string" && !yt.test(e) && (v.support.htmlSerialize || !wt.test(e)) && (v.support.leadingWhitespace || !pt.test(e)) && !Nt[(vt.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = e.replace(dt, "\x3c$1\x3e\x3c/$2\x3e");
                    try {
                        for (; r < i; r++) n = this[r] || {},
                        n.nodeType === 1 && (v.cleanData(n.getElementsByTagName("*")), n.innerHTML = e);
                        n = 0
                    } catch(s$15) {}
                }
                n && this.empty().append(e)
            },
            null, e, arguments.length)
        },
        replaceWith: function(e) {
            return ut(this[0]) ? this.length ? this.pushStack(v(v.isFunction(e) ? e() : e), "replaceWith", e) : this: v.isFunction(e) ? this.each(function(t) {
                var n = v(this),
                r = n.html();
                n.replaceWith(e.call(this, t, r))
            }) : (typeof e != "string" && (e = v(e).detach()), this.each(function() {
                var t = this.nextSibling,
                n = this.parentNode;
                v(this).remove(),
                t ? v(t).before(e) : v(n).append(e)
            }))
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(e, n, r) {
            e = [].concat.apply([], e);
            var i, s, o, u, a = 0,
            f = e[0],
            l = [],
            c = this.length;
            if (!v.support.checkClone && c > 1 && typeof f == "string" && St.test(f)) return this.each(function() {
                v(this).domManip(e, n, r)
            });
            if (v.isFunction(f)) return this.each(function(i) {
                var s = v(this);
                e[0] = f.call(this, i, n ? s.html() : t),
                s.domManip(e, n, r)
            });
            if (this[0]) {
                i = v.buildFragment(e, this, l),
                o = i.fragment,
                s = o.firstChild,
                o.childNodes.length === 1 && (o = s);
                if (s) {
                    n = n && v.nodeName(s, "tr");
                    for (u = i.cacheable || c - 1; a < c; a++) r.call(n && v.nodeName(this[a], "table") ? Lt(this[a], "tbody") : this[a], a === u ? o: v.clone(o, !0, !0))
                }
                o = s = null,
                l.length && v.each(l,
                function(e, t) {
                    t.src ? v.ajax ? v.ajax({
                        url: t.src,
                        type: "GET",
                        dataType: "script",
                        async: !1,
                        global: !1,
                        "throws": !0
                    }) : v.error("no ajax") : v.globalEval((t.text || t.textContent || t.innerHTML || "").replace(Tt, "")),
                    t.parentNode && t.parentNode.removeChild(t)
                })
            }
            return this
        }
    }),
    v.buildFragment = function(e, n, r) {
        var s, o, u, a = e[0];
        return n = n || i,
        n = !n.nodeType && n[0] || n,
        n = n.ownerDocument || n,
        e.length === 1 && typeof a == "string" && a.length < 512 && n === i && a.charAt(0) === "\x3c" && !bt.test(a) && (v.support.checkClone || !St.test(a)) && (v.support.html5Clone || !wt.test(a)) && (o = !0, s = v.fragments[a], u = s !== t),
        s || (s = n.createDocumentFragment(), v.clean(e, n, s, r), o && (v.fragments[a] = u && s)),
        {
            fragment: s,
            cacheable: o
        }
    },
    v.fragments = {},
    v.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    },
    function(e, t) {
        v.fn[e] = function(n) {
            var r, i = 0,
            s = [],
            o = v(n),
            u = o.length,
            a = this.length === 1 && this[0].parentNode;
            if ((a == null || a && a.nodeType === 11 && a.childNodes.length === 1) && u === 1) return o[t](this[0]),
            this;
            for (; i < u; i++) r = (i > 0 ? this.clone(!0) : this).get(),
            v(o[i])[t](r),
            s = s.concat(r);
            return this.pushStack(s, e, o.selector)
        }
    }),
    v.extend({
        clone: function(e, t, n) {
            var r, i, s, o;
            v.support.html5Clone || v.isXMLDoc(e) || !wt.test("\x3c" + e.nodeName + "\x3e") ? o = e.cloneNode(!0) : (kt.innerHTML = e.outerHTML, kt.removeChild(o = kt.firstChild));
            if ((!v.support.noCloneEvent || !v.support.noCloneChecked) && (e.nodeType === 1 || e.nodeType === 11) && !v.isXMLDoc(e)) {
                Ot(e, o),
                r = Mt(e),
                i = Mt(o);
                for (s = 0; r[s]; ++s) i[s] && Ot(r[s], i[s])
            }
            if (t) {
                At(e, o);
                if (n) {
                    r = Mt(e),
                    i = Mt(o);
                    for (s = 0; r[s]; ++s) At(r[s], i[s])
                }
            }
            return r = i = null,
            o
        },
        clean: function(e, t, n, r) {
            var s, o, u, a, f, l, c, h, p, d, m, g, y = t === i && Ct,
            b = [];
            if (!t || typeof t.createDocumentFragment == "undefined") t = i;
            for (s = 0; (u = e[s]) != null; s++) {
                typeof u == "number" && (u += "");
                if (!u) continue;
                if (typeof u == "string") if (!gt.test(u)) u = t.createTextNode(u);
                else {
                    y = y || lt(t),
                    c = t.createElement("div"),
                    y.appendChild(c),
                    u = u.replace(dt, "\x3c$1\x3e\x3c/$2\x3e"),
                    a = (vt.exec(u) || ["", ""])[1].toLowerCase(),
                    f = Nt[a] || Nt._default,
                    l = f[0],
                    c.innerHTML = f[1] + u + f[2];
                    while (l--) c = c.lastChild;
                    if (!v.support.tbody) {
                        h = mt.test(u),
                        p = a === "table" && !h ? c.firstChild && c.firstChild.childNodes: f[1] === "\x3ctable\x3e" && !h ? c.childNodes: [];
                        for (o = p.length - 1; o >= 0; --o) v.nodeName(p[o], "tbody") && !p[o].childNodes.length && p[o].parentNode.removeChild(p[o])
                    } ! v.support.leadingWhitespace && pt.test(u) && c.insertBefore(t.createTextNode(pt.exec(u)[0]), c.firstChild),
                    u = c.childNodes,
                    c.parentNode.removeChild(c)
                }
                u.nodeType ? b.push(u) : v.merge(b, u)
            }
            c && (u = c = y = null);
            if (!v.support.appendChecked) for (s = 0; (u = b[s]) != null; s++) v.nodeName(u, "input") ? _t(u) : typeof u.getElementsByTagName != "undefined" && v.grep(u.getElementsByTagName("input"), _t);
            if (n) {
                m = function(e) {
                    if (!e.type || xt.test(e.type)) return r ? r.push(e.parentNode ? e.parentNode.removeChild(e) : e) : n.appendChild(e)
                };
                for (s = 0; (u = b[s]) != null; s++) if (!v.nodeName(u, "script") || !m(u)) n.appendChild(u),
                typeof u.getElementsByTagName != "undefined" && (g = v.grep(v.merge([], u.getElementsByTagName("script")), m), b.splice.apply(b, [s + 1, 0].concat(g)), s += g.length)
            }
            return b
        },
        cleanData: function(e, t) {
            var n, r, i, s, o = 0,
            u = v.expando,
            a = v.cache,
            f = v.support.deleteExpando,
            l = v.event.special;
            for (; (i = e[o]) != null; o++) if (t || v.acceptData(i)) {
                r = i[u],
                n = r && a[r];
                if (n) {
                    if (n.events) for (s in n.events) l[s] ? v.event.remove(i, s) : v.removeEvent(i, s, n.handle);
                    a[r] && (delete a[r], f ? delete i[u] : i.removeAttribute ? i.removeAttribute(u) : i[u] = null, v.deletedIds.push(r))
                }
            }
        }
    }),
    function() {
        var e, t;
        v.uaMatch = function(e) {
            e = e.toLowerCase();
            var t = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [];
            return {
                browser: t[1] || "",
                version: t[2] || "0"
            }
        },
        e = v.uaMatch(o.userAgent),
        t = {},
        e.browser && (t[e.browser] = !0, t.version = e.version),
        t.chrome ? t.webkit = !0 : t.webkit && (t.safari = !0),
        v.browser = t,
        v.sub = function() {
            function e(t, n) {
                return new e.fn.init(t, n)
            }
            v.extend(!0, e, this),
            e.superclass = this,
            e.fn = e.prototype = this(),
            e.fn.constructor = e,
            e.sub = this.sub,
            e.fn.init = function(r, i) {
                return i && i instanceof v && !(i instanceof e) && (i = e(i)),
                v.fn.init.call(this, r, i, t)
            },
            e.fn.init.prototype = e.fn;
            var t = e(i);
            return e
        }
    } ();
    var Dt, Pt, Ht, Bt = /alpha\([^)]*\)/i,
    jt = /opacity=([^)]*)/,
    Ft = /^(top|right|bottom|left)$/,
    It = /^(none|table(?!-c[ea]).+)/,
    qt = /^margin/,
    Rt = new RegExp("^(" + m + ")(.*)$", "i"),
    Ut = new RegExp("^(" + m + ")(?!px)[a-z%]+$", "i"),
    zt = new RegExp("^([-+])\x3d(" + m + ")", "i"),
    Wt = {
        BODY: "block"
    },
    Xt = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    },
    Vt = {
        letterSpacing: 0,
        fontWeight: 400
    },
    $t = ["Top", "Right", "Bottom", "Left"],
    Jt = ["Webkit", "O", "Moz", "ms"],
    Kt = v.fn.toggle;
    v.fn.extend({
        css: function(e, n) {
            return v.access(this,
            function(e, n, r) {
                return r !== t ? v.style(e, n, r) : v.css(e, n)
            },
            e, n, arguments.length > 1)
        },
        show: function() {
            return Yt(this, !0)
        },
        hide: function() {
            return Yt(this)
        },
        toggle: function(e, t) {
            var n = typeof e == "boolean";
            return v.isFunction(e) && v.isFunction(t) ? Kt.apply(this, arguments) : this.each(function() { (n ? e: Gt(this)) ? v(this).show() : v(this).hide()
            })
        }
    }),
    v.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var n = Dt(e, "opacity");
                        return n === "" ? "1": n
                    }
                }
            }
        },
        cssNumber: {
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": v.support.cssFloat ? "cssFloat": "styleFloat"
        },
        style: function(e, n, r, i) {
            if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style) return;
            var s, o, u, a = v.camelCase(n),
            f = e.style;
            n = v.cssProps[a] || (v.cssProps[a] = Qt(f, a)),
            u = v.cssHooks[n] || v.cssHooks[a];
            if (r === t) return u && "get" in u && (s = u.get(e, !1, i)) !== t ? s: f[n];
            o = typeof r,
            o === "string" && (s = zt.exec(r)) && (r = (s[1] + 1) * s[2] + parseFloat(v.css(e, n)), o = "number");
            if (r == null || o === "number" && isNaN(r)) return;
            o === "number" && !v.cssNumber[a] && (r += "px");
            if (!u || !("set" in u) || (r = u.set(e, r, i)) !== t) try {
                f[n] = r
            } catch(l$16) {}
        },
        css: function(e, n, r, i) {
            var s, o, u, a = v.camelCase(n);
            return n = v.cssProps[a] || (v.cssProps[a] = Qt(e.style, a)),
            u = v.cssHooks[n] || v.cssHooks[a],
            u && "get" in u && (s = u.get(e, !0, i)),
            s === t && (s = Dt(e, n)),
            s === "normal" && n in Vt && (s = Vt[n]),
            r || i !== t ? (o = parseFloat(s), r || v.isNumeric(o) ? o || 0 : s) : s
        },
        swap: function(e, t, n) {
            var r, i, s = {};
            for (i in t) s[i] = e.style[i],
            e.style[i] = t[i];
            r = n.call(e);
            for (i in t) e.style[i] = s[i];
            return r
        }
    }),
    e.getComputedStyle ? Dt = function(t, n) {
        var r, i, s, o, u = e.getComputedStyle(t, null),
        a = t.style;
        return u && (r = u.getPropertyValue(n) || u[n], r === "" && !v.contains(t.ownerDocument, t) && (r = v.style(t, n)), Ut.test(r) && qt.test(n) && (i = a.width, s = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = r, r = u.width, a.width = i, a.minWidth = s, a.maxWidth = o)),
        r
    }: i.documentElement.currentStyle && (Dt = function(e, t) {
        var n, r, i = e.currentStyle && e.currentStyle[t],
        s = e.style;
        return i == null && s && s[t] && (i = s[t]),
        Ut.test(i) && !Ft.test(t) && (n = s.left, r = e.runtimeStyle && e.runtimeStyle.left, r && (e.runtimeStyle.left = e.currentStyle.left), s.left = t === "fontSize" ? "1em": i, i = s.pixelLeft + "px", s.left = n, r && (e.runtimeStyle.left = r)),
        i === "" ? "auto": i
    }),
    v.each(["height", "width"],
    function(e, t) {
        v.cssHooks[t] = {
            get: function(e, n, r) {
                if (n) return e.offsetWidth === 0 && It.test(Dt(e, "display")) ? v.swap(e, Xt,
                function() {
                    return tn(e, t, r)
                }) : tn(e, t, r)
            },
            set: function(e, n, r) {
                return Zt(e, n, r ? en(e, t, r, v.support.boxSizing && v.css(e, "boxSizing") === "border-box") : 0)
            }
        }
    }),
    v.support.opacity || (v.cssHooks.opacity = {
        get: function(e, t) {
            return jt.test((t && e.currentStyle ? e.currentStyle.filter: e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "": t ? "1": ""
        },
        set: function(e, t) {
            var n = e.style,
            r = e.currentStyle,
            i = v.isNumeric(t) ? "alpha(opacity\x3d" + t * 100 + ")": "",
            s = r && r.filter || n.filter || "";
            n.zoom = 1;
            if (t >= 1 && v.trim(s.replace(Bt, "")) === "" && n.removeAttribute) {
                n.removeAttribute("filter");
                if (r && !r.filter) return
            }
            n.filter = Bt.test(s) ? s.replace(Bt, i) : s + " " + i
        }
    }),
    v(function() {
        v.support.reliableMarginRight || (v.cssHooks.marginRight = {
            get: function(e, t) {
                return v.swap(e, {
                    display: "inline-block"
                },
                function() {
                    if (t) return Dt(e, "marginRight")
                })
            }
        }),
        !v.support.pixelPosition && v.fn.position && v.each(["top", "left"],
        function(e, t) {
            v.cssHooks[t] = {
                get: function(e, n) {
                    if (n) {
                        var r = Dt(e, t);
                        return Ut.test(r) ? v(e).position()[t] + "px": r
                    }
                }
            }
        })
    }),
    v.expr && v.expr.filters && (v.expr.filters.hidden = function(e) {
        return e.offsetWidth === 0 && e.offsetHeight === 0 || !v.support.reliableHiddenOffsets && (e.style && e.style.display || Dt(e, "display")) === "none"
    },
    v.expr.filters.visible = function(e) {
        return ! v.expr.filters.hidden(e)
    }),
    v.each({
        margin: "",
        padding: "",
        border: "Width"
    },
    function(e, t) {
        v.cssHooks[e + t] = {
            expand: function(n) {
                var r, i = typeof n == "string" ? n.split(" ") : [n],
                s = {};
                for (r = 0; r < 4; r++) s[e + $t[r] + t] = i[r] || i[r - 2] || i[0];
                return s
            }
        },
        qt.test(e) || (v.cssHooks[e + t].set = Zt)
    });
    var rn = /%20/g,
    sn = /\[\]$/,
    on = /\r?\n/g,
    un = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
    an = /^(?:select|textarea)/i;
    v.fn.extend({
        serialize: function() {
            return v.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                return this.elements ? v.makeArray(this.elements) : this
            }).filter(function() {
                return this.name && !this.disabled && (this.checked || an.test(this.nodeName) || un.test(this.type))
            }).map(function(e, t) {
                var n = v(this).val();
                return n == null ? null: v.isArray(n) ? v.map(n,
                function(e, n) {
                    return {
                        name: t.name,
                        value: e.replace(on, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: n.replace(on, "\r\n")
                }
            }).get()
        }
    }),
    v.param = function(e, n) {
        var r, i = [],
        s = function(e, t) {
            t = v.isFunction(t) ? t() : t == null ? "": t,
            i[i.length] = encodeURIComponent(e) + "\x3d" + encodeURIComponent(t)
        };
        n === t && (n = v.ajaxSettings && v.ajaxSettings.traditional);
        if (v.isArray(e) || e.jquery && !v.isPlainObject(e)) v.each(e,
        function() {
            s(this.name, this.value)
        });
        else for (r in e) fn(r, e[r], n, s);
        return i.join("\x26").replace(rn, "+")
    };
    var ln, cn, hn = /#.*$/,
    pn = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
    dn = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,
    vn = /^(?:GET|HEAD)$/,
    mn = /^\/\//,
    gn = /\?/,
    yn = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
    bn = /([?&])_=[^&]*/,
    wn = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
    En = v.fn.load,
    Sn = {},
    xn = {},
    Tn = ["*/"] + ["*"];
    try {
        cn = s.href
    } catch(Nn) {
        cn = i.createElement("a"),
        cn.href = "",
        cn = cn.href
    }
    ln = wn.exec(cn.toLowerCase()) || [],
    v.fn.load = function(e, n, r) {
        if (typeof e != "string" && En) return En.apply(this, arguments);
        if (!this.length) return this;
        var i, s, o, u = this,
        a = e.indexOf(" ");
        return a >= 0 && (i = e.slice(a, e.length), e = e.slice(0, a)),
        v.isFunction(n) ? (r = n, n = t) : n && typeof n == "object" && (s = "POST"),
        v.ajax({
            url: e,
            type: s,
            dataType: "html",
            data: n,
            complete: function(e, t) {
                r && u.each(r, o || [e.responseText, t, e])
            }
        }).done(function(e) {
            o = arguments,
            u.html(i ? v("\x3cdiv\x3e").append(e.replace(yn, "")).find(i) : e)
        }),
        this
    },
    v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
    function(e, t) {
        v.fn[t] = function(e) {
            return this.on(t, e)
        }
    }),
    v.each(["get", "post"],
    function(e, n) {
        v[n] = function(e, r, i, s) {
            return v.isFunction(r) && (s = s || i, i = r, r = t),
            v.ajax({
                type: n,
                url: e,
                data: r,
                success: i,
                dataType: s
            })
        }
    }),
    v.extend({
        getScript: function(e, n) {
            return v.get(e, t, n, "script")
        },
        getJSON: function(e, t, n) {
            return v.get(e, t, n, "json")
        },
        ajaxSetup: function(e, t) {
            return t ? Ln(e, v.ajaxSettings) : (t = e, e = v.ajaxSettings),
            Ln(e, t),
            e
        },
        ajaxSettings: {
            url: cn,
            isLocal: dn.test(ln[1]),
            global: !0,
            type: "GET",
            contentType: "application/x-www-form-urlencoded; charset\x3dUTF-8",
            processData: !0,
            async: !0,
            accepts: {
                xml: "application/xml, text/xml",
                html: "text/html",
                text: "text/plain",
                json: "application/json, text/javascript",
                "*": Tn
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText"
            },
            converters: {
                "* text": e.String,
                "text html": !0,
                "text json": v.parseJSON,
                "text xml": v.parseXML
            },
            flatOptions: {
                context: !0,
                url: !0
            }
        },
        ajaxPrefilter: Cn(Sn),
        ajaxTransport: Cn(xn),
        ajax: function(e, n) {
            function T(e, n, s, a) {
                var l, y, b, w, S, T = n;
                if (E === 2) return;
                E = 2,
                u && clearTimeout(u),
                o = t,
                i = a || "",
                x.readyState = e > 0 ? 4 : 0,
                s && (w = An(c, x, s));
                if (e >= 200 && e < 300 || e === 304) c.ifModified && (S = x.getResponseHeader("Last-Modified"), S && (v.lastModified[r] = S), S = x.getResponseHeader("Etag"), S && (v.etag[r] = S)),
                e === 304 ? (T = "notmodified", l = !0) : (l = On(c, w), T = l.state, y = l.data, b = l.error, l = !b);
                else {
                    b = T;
                    if (!T || e) T = "error",
                    e < 0 && (e = 0)
                }
                x.status = e,
                x.statusText = (n || T) + "",
                l ? d.resolveWith(h, [y, T, x]) : d.rejectWith(h, [x, T, b]),
                x.statusCode(g),
                g = t,
                f && p.trigger("ajax" + (l ? "Success": "Error"), [x, c, l ? y: b]),
                m.fireWith(h, [x, T]),
                f && (p.trigger("ajaxComplete", [x, c]), --v.active || v.event.trigger("ajaxStop"))
            }
            typeof e == "object" && (n = e, e = t),
            n = n || {};
            var r, i, s, o, u, a, f, l, c = v.ajaxSetup({},
            n),
            h = c.context || c,
            p = h !== c && (h.nodeType || h instanceof v) ? v(h) : v.event,
            d = v.Deferred(),
            m = v.Callbacks("once memory"),
            g = c.statusCode || {},
            b = {},
            w = {},
            E = 0,
            S = "canceled",
            x = {
                readyState: 0,
                setRequestHeader: function(e, t) {
                    if (!E) {
                        var n = e.toLowerCase();
                        e = w[n] = w[n] || e,
                        b[e] = t
                    }
                    return this
                },
                getAllResponseHeaders: function() {
                    return E === 2 ? i: null
                },
                getResponseHeader: function(e) {
                    var n;
                    if (E === 2) {
                        if (!s) {
                            s = {};
                            while (n = pn.exec(i)) s[n[1].toLowerCase()] = n[2]
                        }
                        n = s[e.toLowerCase()]
                    }
                    return n === t ? null: n
                },
                overrideMimeType: function(e) {
                    return E || (c.mimeType = e),
                    this
                },
                abort: function(e) {
                    return e = e || S,
                    o && o.abort(e),
                    T(0, e),
                    this
                }
            };
            d.promise(x),
            x.success = x.done,
            x.error = x.fail,
            x.complete = m.add,
            x.statusCode = function(e) {
                if (e) {
                    var t;
                    if (E < 2) for (t in e) g[t] = [g[t], e[t]];
                    else t = e[x.status],
                    x.always(t)
                }
                return this
            },
            c.url = ((e || c.url) + "").replace(hn, "").replace(mn, ln[1] + "//"),
            c.dataTypes = v.trim(c.dataType || "*").toLowerCase().split(y),
            c.crossDomain == null && (a = wn.exec(c.url.toLowerCase()), c.crossDomain = !(!a || a[1] === ln[1] && a[2] === ln[2] && (a[3] || (a[1] === "http:" ? 80 : 443)) == (ln[3] || (ln[1] === "http:" ? 80 : 443)))),
            c.data && c.processData && typeof c.data != "string" && (c.data = v.param(c.data, c.traditional)),
            kn(Sn, c, n, x);
            if (E === 2) return x;
            f = c.global,
            c.type = c.type.toUpperCase(),
            c.hasContent = !vn.test(c.type),
            f && v.active++===0 && v.event.trigger("ajaxStart");
            if (!c.hasContent) {
                c.data && (c.url += (gn.test(c.url) ? "\x26": "?") + c.data, delete c.data),
                r = c.url;
                if (c.cache === !1) {
                    var N = v.now(),
                    C = c.url.replace(bn, "$1_\x3d" + N);
                    c.url = C + (C === c.url ? (gn.test(c.url) ? "\x26": "?") + "_\x3d" + N: "")
                }
            } (c.data && c.hasContent && c.contentType !== !1 || n.contentType) && x.setRequestHeader("Content-Type", c.contentType),
            c.ifModified && (r = r || c.url, v.lastModified[r] && x.setRequestHeader("If-Modified-Since", v.lastModified[r]), v.etag[r] && x.setRequestHeader("If-None-Match", v.etag[r])),
            x.setRequestHeader("Accept", c.dataTypes[0] && c.accepts[c.dataTypes[0]] ? c.accepts[c.dataTypes[0]] + (c.dataTypes[0] !== "*" ? ", " + Tn + "; q\x3d0.01": "") : c.accepts["*"]);
            for (l in c.headers) x.setRequestHeader(l, c.headers[l]);
            if (!c.beforeSend || c.beforeSend.call(h, x, c) !== !1 && E !== 2) {
                S = "abort";
                for (l in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) x[l](c[l]);
                o = kn(xn, c, n, x);
                if (!o) T( - 1, "No Transport");
                else {
                    x.readyState = 1,
                    f && p.trigger("ajaxSend", [x, c]),
                    c.async && c.timeout > 0 && (u = setTimeout(function() {
                        x.abort("timeout")
                    },
                    c.timeout));
                    try {
                        E = 1,
                        o.send(b, T)
                    } catch(k$17) {
                        if (! (E < 2)) throw k$17;
                        T( - 1, k$17)
                    }
                }
                return x
            }
            return x.abort()
        },
        active: 0,
        lastModified: {},
        etag: {}
    });
    var Mn = [],
    _n = /\?/,
    Dn = /(=)\?(?=&|$)|\?\?/,
    Pn = v.now();
    v.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = Mn.pop() || v.expando + "_" + Pn++;
            return this[e] = !0,
            e
        }
    }),
    v.ajaxPrefilter("json jsonp",
    function(n, r, i) {
        var s, o, u, a = n.data,
        f = n.url,
        l = n.jsonp !== !1,
        c = l && Dn.test(f),
        h = l && !c && typeof a == "string" && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && Dn.test(a);
        if (n.dataTypes[0] === "jsonp" || c || h) return s = n.jsonpCallback = v.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback,
        o = e[s],
        c ? n.url = f.replace(Dn, "$1" + s) : h ? n.data = a.replace(Dn, "$1" + s) : l && (n.url += (_n.test(f) ? "\x26": "?") + n.jsonp + "\x3d" + s),
        n.converters["script json"] = function() {
            return u || v.error(s + " was not called"),
            u[0]
        },
        n.dataTypes[0] = "json",
        e[s] = function() {
            u = arguments
        },
        i.always(function() {
            e[s] = o,
            n[s] && (n.jsonpCallback = r.jsonpCallback, Mn.push(s)),
            u && v.isFunction(o) && o(u[0]),
            u = o = t
        }),
        "script"
    }),
    v.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /javascript|ecmascript/
        },
        converters: {
            "text script": function(e) {
                return v.globalEval(e),
                e
            }
        }
    }),
    v.ajaxPrefilter("script",
    function(e) {
        e.cache === t && (e.cache = !1),
        e.crossDomain && (e.type = "GET", e.global = !1)
    }),
    v.ajaxTransport("script",
    function(e) {
        if (e.crossDomain) {
            var n, r = i.head || i.getElementsByTagName("head")[0] || i.documentElement;
            return {
                send: function(s, o) {
                    n = i.createElement("script"),
                    n.async = "async",
                    e.scriptCharset && (n.charset = e.scriptCharset),
                    n.src = e.url,
                    n.onload = n.onreadystatechange = function(e, i) {
                        if (i || !n.readyState || /loaded|complete/.test(n.readyState)) n.onload = n.onreadystatechange = null,
                        r && n.parentNode && r.removeChild(n),
                        n = t,
                        i || o(200, "success")
                    },
                    r.insertBefore(n, r.firstChild)
                },
                abort: function() {
                    n && n.onload(0, 1)
                }
            }
        }
    });
    var Hn, Bn = e.ActiveXObject ?
    function() {
        for (var e in Hn) Hn[e](0, 1)
    }: !1,
    jn = 0;
    v.ajaxSettings.xhr = e.ActiveXObject ?
    function() {
        return ! this.isLocal && Fn() || In()
    }: Fn,
    function(e) {
        v.extend(v.support, {
            ajax: !!e,
            cors: !!e && "withCredentials" in e
        })
    } (v.ajaxSettings.xhr()),
    v.support.ajax && v.ajaxTransport(function(n) {
        if (!n.crossDomain || v.support.cors) {
            var r;
            return {
                send: function(i, s) {
                    var o, u, a = n.xhr();
                    n.username ? a.open(n.type, n.url, n.async, n.username, n.password) : a.open(n.type, n.url, n.async);
                    if (n.xhrFields) for (u in n.xhrFields) a[u] = n.xhrFields[u];
                    n.mimeType && a.overrideMimeType && a.overrideMimeType(n.mimeType),
                    !n.crossDomain && !i["X-Requested-With"] && (i["X-Requested-With"] = "XMLHttpRequest");
                    try {
                        for (u in i) a.setRequestHeader(u, i[u])
                    } catch(f$18) {}
                    a.send(n.hasContent && n.data || null),
                    r = function(e, i) {
                        var u, f, l, c, h;
                        try {
                            if (r && (i || a.readyState === 4)) {
                                r = t,
                                o && (a.onreadystatechange = v.noop, Bn && delete Hn[o]);
                                if (i) a.readyState !== 4 && a.abort();
                                else {
                                    u = a.status,
                                    l = a.getAllResponseHeaders(),
                                    c = {},
                                    h = a.responseXML,
                                    h && h.documentElement && (c.xml = h);
                                    try {
                                        c.text = a.responseText
                                    } catch(p$19) {}
                                    try {
                                        f = a.statusText
                                    } catch(p$20) {
                                        f = ""
                                    } ! u && n.isLocal && !n.crossDomain ? u = c.text ? 200 : 404 : u === 1223 && (u = 204)
                                }
                            }
                        } catch(d$21) {
                            i || s( - 1, d$21)
                        }
                        c && s(u, f, c, l)
                    },
                    n.async ? a.readyState === 4 ? setTimeout(r, 0) : (o = ++jn, Bn && (Hn || (Hn = {},
                    v(e).unload(Bn)), Hn[o] = r), a.onreadystatechange = r) : r()
                },
                abort: function() {
                    r && r(0, 1)
                }
            }
        }
    });
    var qn, Rn, Un = /^(?:toggle|show|hide)$/,
    zn = new RegExp("^(?:([-+])\x3d|)(" + m + ")([a-z%]*)$", "i"),
    Wn = /queueHooks$/,
    Xn = [Gn],
    Vn = {
        "*": [function(e, t) {
            var n, r, i = this.createTween(e, t),
            s = zn.exec(t),
            o = i.cur(),
            u = +o || 0,
            a = 1,
            f = 20;
            if (s) {
                n = +s[2],
                r = s[3] || (v.cssNumber[e] ? "": "px");
                if (r !== "px" && u) {
                    u = v.css(i.elem, e, !0) || n || 1;
                    do a = a || ".5",
                    u /= a,
                    v.style(i.elem, e, u + r);
                    while (a !== (a = i.cur() / o) && a !== 1 && --f)
                }
                i.unit = r,
                i.start = u,
                i.end = s[1] ? u + (s[1] + 1) * n: n
            }
            return i
        }]
    };
    v.Animation = v.extend(Kn, {
        tweener: function(e, t) {
            v.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
            var n, r = 0,
            i = e.length;
            for (; r < i; r++) n = e[r],
            Vn[n] = Vn[n] || [],
            Vn[n].unshift(t)
        },
        prefilter: function(e, t) {
            t ? Xn.unshift(e) : Xn.push(e)
        }
    }),
    v.Tween = Yn,
    Yn.prototype = {
        constructor: Yn,
        init: function(e, t, n, r, i, s) {
            this.elem = e,
            this.prop = n,
            this.easing = i || "swing",
            this.options = t,
            this.start = this.now = this.cur(),
            this.end = r,
            this.unit = s || (v.cssNumber[n] ? "": "px")
        },
        cur: function() {
            var e = Yn.propHooks[this.prop];
            return e && e.get ? e.get(this) : Yn.propHooks._default.get(this)
        },
        run: function(e) {
            var t, n = Yn.propHooks[this.prop];
            return this.options.duration ? this.pos = t = v.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
            this.now = (this.end - this.start) * t + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            n && n.set ? n.set(this) : Yn.propHooks._default.set(this),
            this
        }
    },
    Yn.prototype.init.prototype = Yn.prototype,
    Yn.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return e.elem[e.prop] == null || !!e.elem.style && e.elem.style[e.prop] != null ? (t = v.css(e.elem, e.prop, !1, ""), !t || t === "auto" ? 0 : t) : e.elem[e.prop]
            },
            set: function(e) {
                v.fx.step[e.prop] ? v.fx.step[e.prop](e) : e.elem.style && (e.elem.style[v.cssProps[e.prop]] != null || v.cssHooks[e.prop]) ? v.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    },
    Yn.propHooks.scrollTop = Yn.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    },
    v.each(["toggle", "show", "hide"],
    function(e, t) {
        var n = v.fn[t];
        v.fn[t] = function(r, i, s) {
            return r == null || typeof r == "boolean" || !e && v.isFunction(r) && v.isFunction(i) ? n.apply(this, arguments) : this.animate(Zn(t, !0), r, i, s)
        }
    }),
    v.fn.extend({
        fadeTo: function(e, t, n, r) {
            return this.filter(Gt).css("opacity", 0).show().end().animate({
                opacity: t
            },
            e, n, r)
        },
        animate: function(e, t, n, r) {
            var i = v.isEmptyObject(e),
            s = v.speed(t, n, r),
            o = function() {
                var t = Kn(this, v.extend({},
                e), s);
                i && t.stop(!0)
            };
            return i || s.queue === !1 ? this.each(o) : this.queue(s.queue, o)
        },
        stop: function(e, n, r) {
            var i = function(e) {
                var t = e.stop;
                delete e.stop,
                t(r)
            };
            return typeof e != "string" && (r = n, n = e, e = t),
            n && e !== !1 && this.queue(e || "fx", []),
            this.each(function() {
                var t = !0,
                n = e != null && e + "queueHooks",
                s = v.timers,
                o = v._data(this);
                if (n) o[n] && o[n].stop && i(o[n]);
                else for (n in o) o[n] && o[n].stop && Wn.test(n) && i(o[n]);
                for (n = s.length; n--;) s[n].elem === this && (e == null || s[n].queue === e) && (s[n].anim.stop(r), t = !1, s.splice(n, 1)); (t || !r) && v.dequeue(this, e)
            })
        }
    }),
    v.each({
        slideDown: Zn("show"),
        slideUp: Zn("hide"),
        slideToggle: Zn("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    },
    function(e, t) {
        v.fn[e] = function(e, n, r) {
            return this.animate(t, e, n, r)
        }
    }),
    v.speed = function(e, t, n) {
        var r = e && typeof e == "object" ? v.extend({},
        e) : {
            complete: n || !n && t || v.isFunction(e) && e,
            duration: e,
            easing: n && t || t && !v.isFunction(t) && t
        };
        r.duration = v.fx.off ? 0 : typeof r.duration == "number" ? r.duration: r.duration in v.fx.speeds ? v.fx.speeds[r.duration] : v.fx.speeds._default;
        if (r.queue == null || r.queue === !0) r.queue = "fx";
        return r.old = r.complete,
        r.complete = function() {
            v.isFunction(r.old) && r.old.call(this),
            r.queue && v.dequeue(this, r.queue)
        },
        r
    },
    v.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return.5 - Math.cos(e * Math.PI) / 2
        }
    },
    v.timers = [],
    v.fx = Yn.prototype.init,
    v.fx.tick = function() {
        var e, n = v.timers,
        r = 0;
        qn = v.now();
        for (; r < n.length; r++) e = n[r],
        !e() && n[r] === e && n.splice(r--, 1);
        n.length || v.fx.stop(),
        qn = t
    },
    v.fx.timer = function(e) {
        e() && v.timers.push(e) && !Rn && (Rn = setInterval(v.fx.tick, v.fx.interval))
    },
    v.fx.interval = 13,
    v.fx.stop = function() {
        clearInterval(Rn),
        Rn = null
    },
    v.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    v.fx.step = {},
    v.expr && v.expr.filters && (v.expr.filters.animated = function(e) {
        return v.grep(v.timers,
        function(t) {
            return e === t.elem
        }).length
    });
    var er = /^(?:body|html)$/i;
    v.fn.offset = function(e) {
        if (arguments.length) return e === t ? this: this.each(function(t) {
            v.offset.setOffset(this, e, t)
        });
        var n, r, i, s, o, u, a, f = {
            top: 0,
            left: 0
        },
        l = this[0],
        c = l && l.ownerDocument;
        if (!c) return;
        return (r = c.body) === l ? v.offset.bodyOffset(l) : (n = c.documentElement, v.contains(n, l) ? (typeof l.getBoundingClientRect != "undefined" && (f = l.getBoundingClientRect()), i = tr(c), s = n.clientTop || r.clientTop || 0, o = n.clientLeft || r.clientLeft || 0, u = i.pageYOffset || n.scrollTop, a = i.pageXOffset || n.scrollLeft, {
            top: f.top + u - s,
            left: f.left + a - o
        }) : f)
    },
    v.offset = {
        bodyOffset: function(e) {
            var t = e.offsetTop,
            n = e.offsetLeft;
            return v.support.doesNotIncludeMarginInBodyOffset && (t += parseFloat(v.css(e, "marginTop")) || 0, n += parseFloat(v.css(e, "marginLeft")) || 0),
            {
                top: t,
                left: n
            }
        },
        setOffset: function(e, t, n) {
            var r = v.css(e, "position");
            r === "static" && (e.style.position = "relative");
            var i = v(e),
            s = i.offset(),
            o = v.css(e, "top"),
            u = v.css(e, "left"),
            a = (r === "absolute" || r === "fixed") && v.inArray("auto", [o, u]) > -1,
            f = {},
            l = {},
            c,
            h;
            a ? (l = i.position(), c = l.top, h = l.left) : (c = parseFloat(o) || 0, h = parseFloat(u) || 0),
            v.isFunction(t) && (t = t.call(e, n, s)),
            t.top != null && (f.top = t.top - s.top + c),
            t.left != null && (f.left = t.left - s.left + h),
            "using" in t ? t.using.call(e, f) : i.css(f)
        }
    },
    v.fn.extend({
        position: function() {
            if (!this[0]) return;
            var e = this[0],
            t = this.offsetParent(),
            n = this.offset(),
            r = er.test(t[0].nodeName) ? {
                top: 0,
                left: 0
            }: t.offset();
            return n.top -= parseFloat(v.css(e, "marginTop")) || 0,
            n.left -= parseFloat(v.css(e, "marginLeft")) || 0,
            r.top += parseFloat(v.css(t[0], "borderTopWidth")) || 0,
            r.left += parseFloat(v.css(t[0], "borderLeftWidth")) || 0,
            {
                top: n.top - r.top,
                left: n.left - r.left
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var e = this.offsetParent || i.body;
                while (e && !er.test(e.nodeName) && v.css(e, "position") === "static") e = e.offsetParent;
                return e || i.body
            })
        }
    }),
    v.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    },
    function(e, n) {
        var r = /Y/.test(n);
        v.fn[e] = function(i) {
            return v.access(this,
            function(e, i, s) {
                var o = tr(e);
                if (s === t) return o ? n in o ? o[n] : o.document.documentElement[i] : e[i];
                o ? o.scrollTo(r ? v(o).scrollLeft() : s, r ? s: v(o).scrollTop()) : e[i] = s
            },
            e, i, arguments.length, null)
        }
    }),
    v.each({
        Height: "height",
        Width: "width"
    },
    function(e, n) {
        v.each({
            padding: "inner" + e,
            content: n,
            "": "outer" + e
        },
        function(r, i) {
            v.fn[i] = function(i, s) {
                var o = arguments.length && (r || typeof i != "boolean"),
                u = r || (i === !0 || s === !0 ? "margin": "border");
                return v.access(this,
                function(n, r, i) {
                    var s;
                    return v.isWindow(n) ? n.document.documentElement["client" + e] : n.nodeType === 9 ? (s = n.documentElement, Math.max(n.body["scroll" + e], s["scroll" + e], n.body["offset" + e], s["offset" + e], s["client" + e])) : i === t ? v.css(n, r, i, u) : v.style(n, r, i, u)
                },
                n, o ? i: t, o, null)
            }
        })
    }),
    e.jQuery = e.$ = v,
    typeof define == "function" && define.amd && define.amd.jQuery && define("jquery", [],
    function() {
        return v
    })
})(window),
function() {
    var e, t, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T, N, C, k, L, A, O, M, _, D, P, H, B, j, F, I, q, R, U, z, W, X = {}.hasOwnProperty,
    V = [].indexOf ||
    function(e) {
        for (var t = 0,
        n = this.length; t < n; t++) if (t in this && this[t] === e) return t;
        return - 1
    };
    o = 10,
    c = null,
    O = null,
    E = null,
    N = {},
    f = null,
    j = ((W = document.cookie.match(/request_method=(\w+)/)) != null ? W[1].toUpperCase() : void 0) || "",
    z = null,
    m = function(e) {
        var t;
        return R("page:fetch"),
        t = H(e),
        z != null && z.abort(),
        z = new XMLHttpRequest,
        z.open("GET", t, !0),
        z.setRequestHeader("Accept", "text/html, application/xhtml+xml, application/xml"),
        z.setRequestHeader("X-XHR-Referer", O),
        z.onload = function() {
            var t;
            return R("page:receive"),
            (t = L()) ? (M(e), u.apply(null, d(t)), _(), document.location.hash ? document.location.href = document.location.href: I(), R("page:load")) : document.location.href = e
        },
        z.onloadend = function() {
            return z = null
        },
        z.onabort = function() {
            return P()
        },
        z.onerror = function() {
            return document.location.href = e
        },
        z.send()
    },
    v = function(e) {
        var t;
        return s(),
        t = N[e],
        z != null && z.abort(),
        u(t.title, t.body),
        A(t),
        R("page:restore")
    },
    s = function() {
        return N[c.position] = {
            url: document.location.href,
            body: document.body,
            title: document.title,
            positionY: window.pageYOffset,
            positionX: window.pageXOffset
        },
        a(o)
    },
    k = function(e) {
        e == null && (e = o);
        if (/^[\d]+$/.test(e)) return o = parseInt(e)
    },
    a = function(e) {
        var t, n;
        for (t in N) {
            if (!X.call(N, t)) continue;
            n = N[t],
            t <= c.position - e && (N[t] = null)
        }
    },
    u = function(t, n, r, i) {
        return document.title = t,
        document.documentElement.replaceChild(n, document.body),
        r != null && e.update(r),
        B(),
        i && h(),
        c = window.history.state,
        R("page:change")
    },
    h = function() {
        var e, t, n, r, i, s, o, u, a, f, l, c;
        s = Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval\x3d"false"])'));
        for (o = 0, a = s.length; o < a; o++) {
            i = s[o];
            if ((l = i.type) !== "" && l !== "text/javascript") continue;
            t = document.createElement("script"),
            c = i.attributes;
            for (u = 0, f = c.length; u < f; u++) e = c[u],
            t.setAttribute(e.name, e.value);
            t.appendChild(document.createTextNode(i.innerHTML)),
            r = i.parentNode,
            n = i.nextSibling,
            r.removeChild(i),
            r.insertBefore(t, n)
        }
    },
    B = function() {
        var e, t, n, r;
        t = Array.prototype.slice.call(document.body.getElementsByTagName("noscript"));
        for (n = 0, r = t.length; n < r; n++) e = t[n],
        e.parentNode.removeChild(e)
    },
    M = function(e) {
        if (e !== O) return window.history.pushState({
            turbolinks: !0,
            position: c.position + 1
        },
        "", e)
    },
    _ = function() {
        var e, t;
        if (e = z.getResponseHeader("X-XHR-Redirected-To")) return t = H(e) === e ? document.location.hash: "",
        window.history.replaceState(c, "", e + t)
    },
    P = function() {
        return window.history.replaceState({
            turbolinks: !0,
            position: Date.now()
        },
        "", document.location.href)
    },
    D = function() {
        return c = window.history.state
    },
    A = function(e) {
        return window.scrollTo(e.positionX, e.positionY)
    },
    I = function() {
        return window.scrollTo(0, 0)
    },
    H = function(e) {
        var t;
        return t = e,
        e.href == null && (t = document.createElement("A"), t.href = e),
        t.href.replace(t.hash, "")
    },
    R = function(e) {
        var t;
        return t = document.createEvent("Events"),
        t.initEvent(e, !0, !0),
        document.dispatchEvent(t)
    },
    C = function() {
        return ! R("page:before-change")
    },
    L = function() {
        var e, t, n, r, i, s;
        t = function() {
            var e;
            return 400 <= (e = z.status) && e < 600
        },
        s = function() {
            return z.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)
        },
        r = function(e) {
            var t, n, r, i, s;
            i = e.head.childNodes,
            s = [];
            for (n = 0, r = i.length; n < r; n++) t = i[n],
            (typeof t.getAttribute === "function" ? t.getAttribute("data-turbolinks-track") : void 0) != null && s.push(t.getAttribute("src") || t.getAttribute("href"));
            return s
        },
        e = function(e) {
            var t;
            return E || (E = r(document)),
            t = r(e),
            t.length !== E.length || i(t, E).length !== E.length
        },
        i = function(e, t) {
            var n, r, i, s, o;
            e.length > t.length && (s = [t, e], e = s[0], t = s[1]),
            o = [];
            for (r = 0, i = e.length; r < i; r++) n = e[r],
            V.call(t, n) >= 0 && o.push(n);
            return o
        };
        if (!t() && s()) {
            n = f(z.responseText);
            if (n && !e(n)) return n
        }
    },
    d = function(t) {
        var n;
        return n = t.querySelector("title"),
        [n != null ? n.textContent: void 0, t.body, e.get(t).token, "runScripts"]
    },
    e = {
        get: function(e) {
            var t;
            return e == null && (e = document),
            {
                node: t = e.querySelector('meta[name\x3d"csrf-token"]'),
                token: t != null ? typeof t.getAttribute == "function" ? t.getAttribute("content") : void 0 : void 0
            }
        },
        update: function(e) {
            var t;
            t = this.get();
            if (t.token != null && e != null && t.token !== e) return t.node.setAttribute("content", e)
        }
    },
    n = function() {
        var e, t, n, r, i, s;
        t = function(e) {
            return (new DOMParser).parseFromString(e, "text/html")
        },
        e = function(e) {
            var t;
            return t = document.implementation.createHTMLDocument(""),
            t.documentElement.innerHTML = e,
            t
        },
        n = function(e) {
            var t;
            return t = document.implementation.createHTMLDocument(""),
            t.open("replace"),
            t.write(e),
            t.close(),
            t
        };
        try {
            if (window.DOMParser) return i = t("\x3chtml\x3e\x3cbody\x3e\x3cp\x3etest"),
            t
        } catch(o$22) {
            return r = o$22,
            i = e("\x3chtml\x3e\x3cbody\x3e\x3cp\x3etest"),
            e
        } finally {
            if ((i != null ? (s = i.body) != null ? s.childNodes.length: void 0 : void 0) !== 1) return n
        }
    },
    w = function(e) {
        if (!e.defaultPrevented) return document.removeEventListener("click", g, !1),
        document.addEventListener("click", g, !1)
    },
    g = function(e) {
        var t;
        if (!e.defaultPrevented) {
            t = p(e);
            if (t.nodeName === "A" && !y(e, t)) return C() || U(t.href),
            e.preventDefault()
        }
    },
    p = function(e) {
        var t;
        t = e.target;
        while ( !! t.parentNode && t.nodeName !== "A") t = t.parentNode;
        return t
    },
    l = function(e) {
        return location.protocol !== e.protocol || location.host !== e.host
    },
    t = function(e) {
        return (e.hash && H(e)) === H(location) || e.href === location.href + "#"
    },
    x = function(e) {
        var t;
        return t = H(e),
        t.match(/\.[a-z]+(\?.*)?$/g) && !t.match(/\.html?(\?.*)?$/g)
    },
    S = function(e) {
        var t;
        while (!t && e !== document) t = e.getAttribute("data-no-turbolink") != null,
        e = e.parentNode;
        return t
    },
    q = function(e) {
        return e.target.length !== 0
    },
    T = function(e) {
        return e.which > 1 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey
    },
    y = function(e, n) {
        return l(n) || t(n) || x(n) || S(n) || q(n) || T(e)
    },
    b = function() {
        return P(),
        D(),
        f = n(),
        document.addEventListener("click", w, !0),
        window.addEventListener("popstate",
        function(e) {
            var t;
            t = e.state;
            if (t != null ? t.turbolinks: void 0) return N[t.position] ? v(t.position) : U(e.target.location.href)
        },
        !1)
    },
    i = window.history && window.history.pushState && window.history.replaceState && window.history.state !== void 0,
    r = !navigator.userAgent.match(/CriOS\//),
    F = j === "GET" || j === "",
    i && r && F ? (U = function(e) {
        return O = document.location.href,
        s(),
        m(e)
    },
    b()) : U = function(e) {
        return document.location.href = e
    },
    this.Turbolinks = {
        visit: U,
        pagesCached: k
    }
}.call(this),
function() {
    var e = this,
    t = e._,
    n = {},
    r = Array.prototype,
    i = Object.prototype,
    s = Function.prototype,
    o = r.push,
    u = r.slice,
    a = r.concat,
    f = i.toString,
    l = i.hasOwnProperty,
    c = r.forEach,
    h = r.map,
    p = r.reduce,
    d = r.reduceRight,
    v = r.filter,
    m = r.every,
    g = r.some,
    y = r.indexOf,
    b = r.lastIndexOf,
    w = Array.isArray,
    E = Object.keys,
    S = s.bind,
    x = function(e) {
        return e instanceof x ? e: this instanceof x ? (this._wrapped = e, void 0) : new x(e)
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = x), exports._ = x) : e._ = x,
    x.VERSION = "1.4.3";
    var T = x.each = x.forEach = function(e, t, r) {
        if (null != e) if (c && e.forEach === c) e.forEach(t, r);
        else if (e.length === +e.length) for (var i = 0,
        s = e.length; s > i; i++) {
            if (t.call(r, e[i], i, e) === n) return
        } else for (var o in e) if (x.has(e, o) && t.call(r, e[o], o, e) === n) return
    };
    x.map = x.collect = function(e, t, n) {
        var r = [];
        return null == e ? r: h && e.map === h ? e.map(t, n) : (T(e,
        function(e, i, s) {
            r[r.length] = t.call(n, e, i, s)
        }), r)
    };
    var N = "Reduce of empty array with no initial value";
    x.reduce = x.foldl = x.inject = function(e, t, n, r) {
        var i = arguments.length > 2;
        if (null == e && (e = []), p && e.reduce === p) return r && (t = x.bind(t, r)),
        i ? e.reduce(t, n) : e.reduce(t);
        if (T(e,
        function(e, s, o) {
            i ? n = t.call(r, n, e, s, o) : (n = e, i = !0)
        }), !i) throw new TypeError(N);
        return n
    },
    x.reduceRight = x.foldr = function(e, t, n, r) {
        var i = arguments.length > 2;
        if (null == e && (e = []), d && e.reduceRight === d) return r && (t = x.bind(t, r)),
        i ? e.reduceRight(t, n) : e.reduceRight(t);
        var s = e.length;
        if (s !== +s) {
            var o = x.keys(e);
            s = o.length
        }
        if (T(e,
        function(u, a, f) {
            a = o ? o[--s] : --s,
            i ? n = t.call(r, n, e[a], a, f) : (n = e[a], i = !0)
        }), !i) throw new TypeError(N);
        return n
    },
    x.find = x.detect = function(e, t, n) {
        var r;
        return C(e,
        function(e, i, s) {
            return t.call(n, e, i, s) ? (r = e, !0) : void 0
        }),
        r
    },
    x.filter = x.select = function(e, t, n) {
        var r = [];
        return null == e ? r: v && e.filter === v ? e.filter(t, n) : (T(e,
        function(e, i, s) {
            t.call(n, e, i, s) && (r[r.length] = e)
        }), r)
    },
    x.reject = function(e, t, n) {
        return x.filter(e,
        function(e, r, i) {
            return ! t.call(n, e, r, i)
        },
        n)
    },
    x.every = x.all = function(e, t, r) {
        t || (t = x.identity);
        var i = !0;
        return null == e ? i: m && e.every === m ? e.every(t, r) : (T(e,
        function(e, s, o) {
            return (i = i && t.call(r, e, s, o)) ? void 0 : n
        }), !!i)
    };
    var C = x.some = x.any = function(e, t, r) {
        t || (t = x.identity);
        var i = !1;
        return null == e ? i: g && e.some === g ? e.some(t, r) : (T(e,
        function(e, s, o) {
            return i || (i = t.call(r, e, s, o)) ? n: void 0
        }), !!i)
    };
    x.contains = x.include = function(e, t) {
        return null == e ? !1 : y && e.indexOf === y ? -1 != e.indexOf(t) : C(e,
        function(e) {
            return e === t
        })
    },
    x.invoke = function(e, t) {
        var n = u.call(arguments, 2);
        return x.map(e,
        function(e) {
            return (x.isFunction(t) ? t: e[t]).apply(e, n)
        })
    },
    x.pluck = function(e, t) {
        return x.map(e,
        function(e) {
            return e[t]
        })
    },
    x.where = function(e, t) {
        return x.isEmpty(t) ? [] : x.filter(e,
        function(e) {
            for (var n in t) if (t[n] !== e[n]) return ! 1;
            return ! 0
        })
    },
    x.max = function(e, t, n) {
        if (!t && x.isArray(e) && e[0] === +e[0] && 65535 > e.length) return Math.max.apply(Math, e);
        if (!t && x.isEmpty(e)) return - 1 / 0;
        var r = {
            computed: -1 / 0,
            value: -1 / 0
        };
        return T(e,
        function(e, i, s) {
            var o = t ? t.call(n, e, i, s) : e;
            o >= r.computed && (r = {
                value: e,
                computed: o
            })
        }),
        r.value
    },
    x.min = function(e, t, n) {
        if (!t && x.isArray(e) && e[0] === +e[0] && 65535 > e.length) return Math.min.apply(Math, e);
        if (!t && x.isEmpty(e)) return 1 / 0;
        var r = {
            computed: 1 / 0,
            value: 1 / 0
        };
        return T(e,
        function(e, i, s) {
            var o = t ? t.call(n, e, i, s) : e;
            r.computed > o && (r = {
                value: e,
                computed: o
            })
        }),
        r.value
    },
    x.shuffle = function(e) {
        var t, n = 0,
        r = [];
        return T(e,
        function(e) {
            t = x.random(n++),
            r[n - 1] = r[t],
            r[t] = e
        }),
        r
    };
    var k = function(e) {
        return x.isFunction(e) ? e: function(t) {
            return t[e]
        }
    };
    x.sortBy = function(e, t, n) {
        var r = k(t);
        return x.pluck(x.map(e,
        function(e, t, i) {
            return {
                value: e,
                index: t,
                criteria: r.call(n, e, t, i)
            }
        }).sort(function(e, t) {
            var n = e.criteria,
            r = t.criteria;
            if (n !== r) {
                if (n > r || void 0 === n) return 1;
                if (r > n || void 0 === r) return - 1
            }
            return e.index < t.index ? -1 : 1
        }), "value")
    };
    var L = function(e, t, n, r) {
        var i = {},
        s = k(t || x.identity);
        return T(e,
        function(t, o) {
            var u = s.call(n, t, o, e);
            r(i, u, t)
        }),
        i
    };
    x.groupBy = function(e, t, n) {
        return L(e, t, n,
        function(e, t, n) { (x.has(e, t) ? e[t] : e[t] = []).push(n)
        })
    },
    x.countBy = function(e, t, n) {
        return L(e, t, n,
        function(e, t) {
            x.has(e, t) || (e[t] = 0),
            e[t]++
        })
    },
    x.sortedIndex = function(e, t, n, r) {
        n = null == n ? x.identity: k(n);
        for (var i = n.call(r, t), s = 0, o = e.length; o > s;) {
            var u = s + o >>> 1;
            i > n.call(r, e[u]) ? s = u + 1 : o = u
        }
        return s
    },
    x.toArray = function(e) {
        return e ? x.isArray(e) ? u.call(e) : e.length === +e.length ? x.map(e, x.identity) : x.values(e) : []
    },
    x.size = function(e) {
        return null == e ? 0 : e.length === +e.length ? e.length: x.keys(e).length
    },
    x.first = x.head = x.take = function(e, t, n) {
        return null == e ? void 0 : null == t || n ? e[0] : u.call(e, 0, t)
    },
    x.initial = function(e, t, n) {
        return u.call(e, 0, e.length - (null == t || n ? 1 : t))
    },
    x.last = function(e, t, n) {
        return null == e ? void 0 : null == t || n ? e[e.length - 1] : u.call(e, Math.max(e.length - t, 0))
    },
    x.rest = x.tail = x.drop = function(e, t, n) {
        return u.call(e, null == t || n ? 1 : t)
    },
    x.compact = function(e) {
        return x.filter(e, x.identity)
    };
    var A = function(e, t, n) {
        return T(e,
        function(e) {
            x.isArray(e) ? t ? o.apply(n, e) : A(e, t, n) : n.push(e)
        }),
        n
    };
    x.flatten = function(e, t) {
        return A(e, t, [])
    },
    x.without = function(e) {
        return x.difference(e, u.call(arguments, 1))
    },
    x.uniq = x.unique = function(e, t, n, r) {
        x.isFunction(t) && (r = n, n = t, t = !1);
        var i = n ? x.map(e, n, r) : e,
        s = [],
        o = [];
        return T(i,
        function(n, r) { (t ? r && o[o.length - 1] === n: x.contains(o, n)) || (o.push(n), s.push(e[r]))
        }),
        s
    },
    x.union = function() {
        return x.uniq(a.apply(r, arguments))
    },
    x.intersection = function(e) {
        var t = u.call(arguments, 1);
        return x.filter(x.uniq(e),
        function(e) {
            return x.every(t,
            function(t) {
                return x.indexOf(t, e) >= 0
            })
        })
    },
    x.difference = function(e) {
        var t = a.apply(r, u.call(arguments, 1));
        return x.filter(e,
        function(e) {
            return ! x.contains(t, e)
        })
    },
    x.zip = function() {
        for (var e = u.call(arguments), t = x.max(x.pluck(e, "length")), n = Array(t), r = 0; t > r; r++) n[r] = x.pluck(e, "" + r);
        return n
    },
    x.object = function(e, t) {
        if (null == e) return {};
        for (var n = {},
        r = 0,
        i = e.length; i > r; r++) t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
        return n
    },
    x.indexOf = function(e, t, n) {
        if (null == e) return - 1;
        var r = 0,
        i = e.length;
        if (n) {
            if ("number" != typeof n) return r = x.sortedIndex(e, t),
            e[r] === t ? r: -1;
            r = 0 > n ? Math.max(0, i + n) : n
        }
        if (y && e.indexOf === y) return e.indexOf(t, n);
        for (; i > r; r++) if (e[r] === t) return r;
        return - 1
    },
    x.lastIndexOf = function(e, t, n) {
        if (null == e) return - 1;
        var r = null != n;
        if (b && e.lastIndexOf === b) return r ? e.lastIndexOf(t, n) : e.lastIndexOf(t);
        for (var i = r ? n: e.length; i--;) if (e[i] === t) return i;
        return - 1
    },
    x.range = function(e, t, n) {
        1 >= arguments.length && (t = e || 0, e = 0),
        n = arguments[2] || 1;
        for (var r = Math.max(Math.ceil((t - e) / n), 0), i = 0, s = Array(r); r > i;) s[i++] = e,
        e += n;
        return s
    };
    var O = function() {};
    x.bind = function(e, t) {
        var n, r;
        if (e.bind === S && S) return S.apply(e, u.call(arguments, 1));
        if (!x.isFunction(e)) throw new TypeError;
        return n = u.call(arguments, 2),
        r = function() {
            if (this instanceof r) {
                O.prototype = e.prototype;
                var i = new O;
                O.prototype = null;
                var s = e.apply(i, n.concat(u.call(arguments)));
                return Object(s) === s ? s: i
            }
            return e.apply(t, n.concat(u.call(arguments)))
        }
    },
    x.bindAll = function(e) {
        var t = u.call(arguments, 1);
        return 0 == t.length && (t = x.functions(e)),
        T(t,
        function(t) {
            e[t] = x.bind(e[t], e)
        }),
        e
    },
    x.memoize = function(e, t) {
        var n = {};
        return t || (t = x.identity),
        function() {
            var r = t.apply(this, arguments);
            return x.has(n, r) ? n[r] : n[r] = e.apply(this, arguments)
        }
    },
    x.delay = function(e, t) {
        var n = u.call(arguments, 2);
        return setTimeout(function() {
            return e.apply(null, n)
        },
        t)
    },
    x.defer = function(e) {
        return x.delay.apply(x, [e, 1].concat(u.call(arguments, 1)))
    },
    x.throttle = function(e, t) {
        var n, r, i, s, o = 0,
        u = function() {
            o = new Date,
            i = null,
            s = e.apply(n, r)
        };
        return function() {
            var a = new Date,
            f = t - (a - o);
            return n = this,
            r = arguments,
            0 >= f ? (clearTimeout(i), i = null, o = a, s = e.apply(n, r)) : i || (i = setTimeout(u, f)),
            s
        }
    },
    x.debounce = function(e, t, n) {
        var r, i;
        return function() {
            var s = this,
            o = arguments,
            u = function() {
                r = null,
                n || (i = e.apply(s, o))
            },
            a = n && !r;
            return clearTimeout(r),
            r = setTimeout(u, t),
            a && (i = e.apply(s, o)),
            i
        }
    },
    x.once = function(e) {
        var t, n = !1;
        return function() {
            return n ? t: (n = !0, t = e.apply(this, arguments), e = null, t)
        }
    },
    x.wrap = function(e, t) {
        return function() {
            var n = [e];
            return o.apply(n, arguments),
            t.apply(this, n)
        }
    },
    x.compose = function() {
        var e = arguments;
        return function() {
            for (var t = arguments,
            n = e.length - 1; n >= 0; n--) t = [e[n].apply(this, t)];
            return t[0]
        }
    },
    x.after = function(e, t) {
        return 0 >= e ? t() : function() {
            return 1 > --e ? t.apply(this, arguments) : void 0
        }
    },
    x.keys = E ||
    function(e) {
        if (e !== Object(e)) throw new TypeError("Invalid object");
        var t = [];
        for (var n in e) x.has(e, n) && (t[t.length] = n);
        return t
    },
    x.values = function(e) {
        var t = [];
        for (var n in e) x.has(e, n) && t.push(e[n]);
        return t
    },
    x.pairs = function(e) {
        var t = [];
        for (var n in e) x.has(e, n) && t.push([n, e[n]]);
        return t
    },
    x.invert = function(e) {
        var t = {};
        for (var n in e) x.has(e, n) && (t[e[n]] = n);
        return t
    },
    x.functions = x.methods = function(e) {
        var t = [];
        for (var n in e) x.isFunction(e[n]) && t.push(n);
        return t.sort()
    },
    x.extend = function(e) {
        return T(u.call(arguments, 1),
        function(t) {
            if (t) for (var n in t) e[n] = t[n]
        }),
        e
    },
    x.pick = function(e) {
        var t = {},
        n = a.apply(r, u.call(arguments, 1));
        return T(n,
        function(n) {
            n in e && (t[n] = e[n])
        }),
        t
    },
    x.omit = function(e) {
        var t = {},
        n = a.apply(r, u.call(arguments, 1));
        for (var i in e) x.contains(n, i) || (t[i] = e[i]);
        return t
    },
    x.defaults = function(e) {
        return T(u.call(arguments, 1),
        function(t) {
            if (t) for (var n in t) null == e[n] && (e[n] = t[n])
        }),
        e
    },
    x.clone = function(e) {
        return x.isObject(e) ? x.isArray(e) ? e.slice() : x.extend({},
        e) : e
    },
    x.tap = function(e, t) {
        return t(e),
        e
    };
    var M = function(e, t, n, r) {
        if (e === t) return 0 !== e || 1 / e == 1 / t;
        if (null == e || null == t) return e === t;
        e instanceof x && (e = e._wrapped),
        t instanceof x && (t = t._wrapped);
        var i = f.call(e);
        if (i != f.call(t)) return ! 1;
        switch (i) {
        case "[object String]":
            return e == t + "";
        case "[object Number]":
            return e != +e ? t != +t: 0 == e ? 1 / e == 1 / t: e == +t;
        case "[object Date]":
        case "[object Boolean]":
            return + e == +t;
        case "[object RegExp]":
            return e.source == t.source && e.global == t.global && e.multiline == t.multiline && e.ignoreCase == t.ignoreCase
        }
        if ("object" != typeof e || "object" != typeof t) return ! 1;
        for (var s = n.length; s--;) if (n[s] == e) return r[s] == t;
        n.push(e),
        r.push(t);
        var o = 0,
        u = !0;
        if ("[object Array]" == i) {
            if (o = e.length, u = o == t.length) for (; o--&&(u = M(e[o], t[o], n, r)););
        } else {
            var a = e.constructor,
            l = t.constructor;
            if (a !== l && !(x.isFunction(a) && a instanceof a && x.isFunction(l) && l instanceof l)) return ! 1;
            for (var c in e) if (x.has(e, c) && (o++, !(u = x.has(t, c) && M(e[c], t[c], n, r)))) break;
            if (u) {
                for (c in t) if (x.has(t, c) && !o--) break;
                u = !o
            }
        }
        return n.pop(),
        r.pop(),
        u
    };
    x.isEqual = function(e, t) {
        return M(e, t, [], [])
    },
    x.isEmpty = function(e) {
        if (null == e) return ! 0;
        if (x.isArray(e) || x.isString(e)) return 0 === e.length;
        for (var t in e) if (x.has(e, t)) return ! 1;
        return ! 0
    },
    x.isElement = function(e) {
        return !! e && 1 === e.nodeType
    },
    x.isArray = w ||
    function(e) {
        return "[object Array]" == f.call(e)
    },
    x.isObject = function(e) {
        return e === Object(e)
    },
    T(["Arguments", "Function", "String", "Number", "Date", "RegExp"],
    function(e) {
        x["is" + e] = function(t) {
            return f.call(t) == "[object " + e + "]"
        }
    }),
    x.isArguments(arguments) || (x.isArguments = function(e) {
        return !! e && !!x.has(e, "callee")
    }),
    x.isFunction = function(e) {
        return "function" == typeof e
    },
    x.isFinite = function(e) {
        return isFinite(e) && !isNaN(parseFloat(e))
    },
    x.isNaN = function(e) {
        return x.isNumber(e) && e != +e
    },
    x.isBoolean = function(e) {
        return e === !0 || e === !1 || "[object Boolean]" == f.call(e)
    },
    x.isNull = function(e) {
        return null === e
    },
    x.isUndefined = function(e) {
        return void 0 === e
    },
    x.has = function(e, t) {
        return l.call(e, t)
    },
    x.noConflict = function() {
        return e._ = t,
        this
    },
    x.identity = function(e) {
        return e
    },
    x.times = function(e, t, n) {
        for (var r = Array(e), i = 0; e > i; i++) r[i] = t.call(n, i);
        return r
    },
    x.random = function(e, t) {
        return null == t && (t = e, e = 0),
        e + (0 | Math.random() * (t - e + 1))
    };
    var _ = {
        escape: {
            "\x26": "\x26amp;",
            "\x3c": "\x26lt;",
            "\x3e": "\x26gt;",
            '"': "\x26quot;",
            "'": "\x26#x27;",
            "/": "\x26#x2F;"
        }
    };
    _.unescape = x.invert(_.escape);
    var D = {
        escape: RegExp("[" + x.keys(_.escape).join("") + "]", "g"),
        unescape: RegExp("(" + x.keys(_.unescape).join("|") + ")", "g")
    };
    x.each(["escape", "unescape"],
    function(e) {
        x[e] = function(t) {
            return null == t ? "": ("" + t).replace(D[e],
            function(t) {
                return _[e][t]
            })
        }
    }),
    x.result = function(e, t) {
        if (null == e) return null;
        var n = e[t];
        return x.isFunction(n) ? n.call(e) : n
    },
    x.mixin = function(e) {
        T(x.functions(e),
        function(t) {
            var n = x[t] = e[t];
            x.prototype[t] = function() {
                var e = [this._wrapped];
                return o.apply(e, arguments),
                F.call(this, n.apply(x, e))
            }
        })
    };
    var P = 0;
    x.uniqueId = function(e) {
        var t = "" + ++P;
        return e ? e + t: t
    },
    x.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var H = /(.)^/,
    B = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\t": "t",
        "\u2028": "u2028",
        "\u2029": "u2029"
    },
    j = /\\|'|\r|\n|\t|\u2028|\u2029/g;
    x.template = function(e, t, n) {
        n = x.defaults({},
        n, x.templateSettings);
        var r = RegExp([(n.escape || H).source, (n.interpolate || H).source, (n.evaluate || H).source].join("|") + "|$", "g"),
        i = 0,
        s = "__p+\x3d'";
        e.replace(r,
        function(t, n, r, o, u) {
            return s += e.slice(i, u).replace(j,
            function(e) {
                return "\\" + B[e]
            }),
            n && (s += "'+\n((__t\x3d(" + n + "))\x3d\x3dnull?'':_.escape(__t))+\n'"),
            r && (s += "'+\n((__t\x3d(" + r + "))\x3d\x3dnull?'':__t)+\n'"),
            o && (s += "';\n" + o + "\n__p+\x3d'"),
            i = u + t.length,
            t
        }),
        s += "';\n",
        n.variable || (s = "with(obj||{}){\n" + s + "}\n"),
        s = "var __t,__p\x3d'',__j\x3dArray.prototype.join,print\x3dfunction(){__p+\x3d__j.call(arguments,'');};\n" + s + "return __p;\n";
        try {
            var o = Function(n.variable || "obj", "_", s)
        } catch(u$23) {
            throw u$23.source = s,
            u$23;
        }
        if (t) return o(t, x);
        var a = function(e) {
            return o.call(this, e, x)
        };
        return a.source = "function(" + (n.variable || "obj") + "){\n" + s + "}",
        a
    },
    x.chain = function(e) {
        return x(e).chain()
    };
    var F = function(e) {
        return this._chain ? x(e).chain() : e
    };
    x.mixin(x),
    T(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"],
    function(e) {
        var t = r[e];
        x.prototype[e] = function() {
            var n = this._wrapped;
            return t.apply(n, arguments),
            "shift" != e && "splice" != e || 0 !== n.length || delete n[0],
            F.call(this, n)
        }
    }),
    T(["concat", "join", "slice"],
    function(e) {
        var t = r[e];
        x.prototype[e] = function() {
            return F.call(this, t.apply(this._wrapped, arguments))
        }
    }),
    x.extend(x.prototype, {
        chain: function() {
            return this._chain = !0,
            this
        },
        value: function() {
            return this._wrapped
        }
    })
}.call(this),
function(e, t) {
    var n = function() {
        var t = e._data(document, "events");
        return t && t.click && e.grep(t.click,
        function(e) {
            return e.namespace === "rails"
        }).length
    };
    n() && e.error("jquery-ujs has already been loaded!");
    var r;
    e.rails = r = {
        linkClickSelector: "a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",
        inputChangeSelector: "select[data-remote], input[data-remote], textarea[data-remote]",
        formSubmitSelector: "form",
        formInputClickSelector: "form input[type\x3dsubmit], form input[type\x3dimage], form button[type\x3dsubmit], form button:not([type])",
        disableSelector: "input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",
        enableSelector: "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",
        requiredInputSelector: "input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",
        fileInputSelector: "input:file",
        linkDisableSelector: "a[data-disable-with]",
        CSRFProtection: function(t) {
            var n = e('meta[name\x3d"csrf-token"]').attr("content");
            n && t.setRequestHeader("X-CSRF-Token", n)
        },
        fire: function(t, n, r) {
            var i = e.Event(n);
            return t.trigger(i, r),
            i.result !== !1
        },
        confirm: function(e) {
            return confirm(e)
        },
        ajax: function(t) {
            return e.ajax(t)
        },
        href: function(e) {
            return e.attr("href")
        },
        handleRemote: function(n) {
            var i, s, o, u, a, f, l, c;
            if (r.fire(n, "ajax:before")) {
                u = n.data("cross-domain"),
                a = u === t ? null: u,
                f = n.data("with-credentials") || null,
                l = n.data("type") || e.ajaxSettings && e.ajaxSettings.dataType;
                if (n.is("form")) {
                    i = n.attr("method"),
                    s = n.attr("action"),
                    o = n.serializeArray();
                    var h = n.data("ujs:submit-button");
                    h && (o.push(h), n.data("ujs:submit-button", null))
                } else n.is(r.inputChangeSelector) ? (i = n.data("method"), s = n.data("url"), o = n.serialize(), n.data("params") && (o = o + "\x26" + n.data("params"))) : (i = n.data("method"), s = r.href(n), o = n.data("params") || null);
                c = {
                    type: i || "GET",
                    data: o,
                    dataType: l,
                    beforeSend: function(e, i) {
                        return i.dataType === t && e.setRequestHeader("accept", "*/*;q\x3d0.5, " + i.accepts.script),
                        r.fire(n, "ajax:beforeSend", [e, i])
                    },
                    success: function(e, t, r) {
                        n.trigger("ajax:success", [e, t, r])
                    },
                    complete: function(e, t) {
                        n.trigger("ajax:complete", [e, t])
                    },
                    error: function(e, t, r) {
                        n.trigger("ajax:error", [e, t, r])
                    },
                    xhrFields: {
                        withCredentials: f
                    },
                    crossDomain: a
                },
                s && (c.url = s);
                var p = r.ajax(c);
                return n.trigger("ajax:send", p),
                p
            }
            return ! 1
        },
        handleMethod: function(n) {
            var i = r.href(n),
            s = n.data("method"),
            o = n.attr("target"),
            u = e("meta[name\x3dcsrf-token]").attr("content"),
            a = e("meta[name\x3dcsrf-param]").attr("content"),
            f = e('\x3cform method\x3d"post" action\x3d"' + i + '"\x3e\x3c/form\x3e'),
            l = '\x3cinput name\x3d"_method" value\x3d"' + s + '" type\x3d"hidden" /\x3e';
            a !== t && u !== t && (l += '\x3cinput name\x3d"' + a + '" value\x3d"' + u + '" type\x3d"hidden" /\x3e'),
            o && f.attr("target", o),
            f.hide().append(l).appendTo("body"),
            f.submit()
        },
        disableFormElements: function(t) {
            t.find(r.disableSelector).each(function() {
                var t = e(this),
                n = t.is("button") ? "html": "val";
                t.data("ujs:enable-with", t[n]()),
                t[n](t.data("disable-with")),
                t.prop("disabled", !0)
            })
        },
        enableFormElements: function(t) {
            t.find(r.enableSelector).each(function() {
                var t = e(this),
                n = t.is("button") ? "html": "val";
                t.data("ujs:enable-with") && t[n](t.data("ujs:enable-with")),
                t.prop("disabled", !1)
            })
        },
        allowAction: function(e) {
            var t = e.data("confirm"),
            n = !1,
            i;
            return t ? (r.fire(e, "confirm") && (n = r.confirm(t), i = r.fire(e, "confirm:complete", [n])), n && i) : !0
        },
        blankInputs: function(t, n, r) {
            var i = e(),
            s,
            o,
            u = n || "input,textarea",
            a = t.find(u);
            return a.each(function() {
                s = e(this),
                o = s.is(":checkbox,:radio") ? s.is(":checked") : s.val();
                if (!o == !r) {
                    if (s.is(":radio") && a.filter('input:radio:checked[name\x3d"' + s.attr("name") + '"]').length) return ! 0;
                    i = i.add(s)
                }
            }),
            i.length ? i: !1
        },
        nonBlankInputs: function(e, t) {
            return r.blankInputs(e, t, !0)
        },
        stopEverything: function(t) {
            return e(t.target).trigger("ujs:everythingStopped"),
            t.stopImmediatePropagation(),
            !1
        },
        callFormSubmitBindings: function(n, r) {
            var i = n.data("events"),
            s = !0;
            return i !== t && i.submit !== t && e.each(i.submit,
            function(e, t) {
                if (typeof t.handler == "function") return s = t.handler(r)
            }),
            s
        },
        disableElement: function(e) {
            e.data("ujs:enable-with", e.html()),
            e.html(e.data("disable-with")),
            e.bind("click.railsDisable",
            function(e) {
                return r.stopEverything(e)
            })
        },
        enableElement: function(e) {
            e.data("ujs:enable-with") !== t && (e.html(e.data("ujs:enable-with")), e.data("ujs:enable-with", !1)),
            e.unbind("click.railsDisable")
        }
    },
    r.fire(e(document), "rails:attachBindings") && (e.ajaxPrefilter(function(e, t, n) {
        e.crossDomain || r.CSRFProtection(n)
    }), e(document).delegate(r.linkDisableSelector, "ajax:complete",
    function() {
        r.enableElement(e(this))
    }), e(document).delegate(r.linkClickSelector, "click.rails",
    function(n) {
        var i = e(this),
        s = i.data("method"),
        o = i.data("params");
        if (!r.allowAction(i)) return r.stopEverything(n);
        i.is(r.linkDisableSelector) && r.disableElement(i);
        if (i.data("remote") !== t) {
            if ((n.metaKey || n.ctrlKey) && (!s || s === "GET") && !o) return ! 0;
            var u = r.handleRemote(i);
            return u === !1 ? r.enableElement(i) : u.error(function() {
                r.enableElement(i)
            }),
            !1
        }
        if (i.data("method")) return r.handleMethod(i),
        !1
    }), e(document).delegate(r.inputChangeSelector, "change.rails",
    function(t) {
        var n = e(this);
        return r.allowAction(n) ? (r.handleRemote(n), !1) : r.stopEverything(t)
    }), e(document).delegate(r.formSubmitSelector, "submit.rails",
    function(n) {
        var i = e(this),
        s = i.data("remote") !== t,
        o = r.blankInputs(i, r.requiredInputSelector),
        u = r.nonBlankInputs(i, r.fileInputSelector);
        if (!r.allowAction(i)) return r.stopEverything(n);
        if (o && i.attr("novalidate") == t && r.fire(i, "ajax:aborted:required", [o])) return r.stopEverything(n);
        if (s) {
            if (u) {
                setTimeout(function() {
                    r.disableFormElements(i)
                },
                13);
                var a = r.fire(i, "ajax:aborted:file", [u]);
                return a || setTimeout(function() {
                    r.enableFormElements(i)
                },
                13),
                a
            }
            return ! e.support.submitBubbles && e().jquery < "1.7" && r.callFormSubmitBindings(i, n) === !1 ? r.stopEverything(n) : (r.handleRemote(i), !1)
        }
        setTimeout(function() {
            r.disableFormElements(i)
        },
        13)
    }), e(document).delegate(r.formInputClickSelector, "click.rails",
    function(t) {
        var n = e(this);
        if (!r.allowAction(n)) return r.stopEverything(t);
        var i = n.attr("name"),
        s = i ? {
            name: i,
            value: n.val()
        }: null;
        n.closest("form").data("ujs:submit-button", s)
    }), e(document).delegate(r.formSubmitSelector, "ajax:beforeSend.rails",
    function(t) {
        this == t.target && r.disableFormElements(e(this))
    }), e(document).delegate(r.formSubmitSelector, "ajax:complete.rails",
    function(t) {
        this == t.target && r.enableFormElements(e(this))
    }), e(function() {
        csrf_token = e("meta[name\x3dcsrf-token]").attr("content"),
        csrf_param = e("meta[name\x3dcsrf-param]").attr("content"),
        e('form input[name\x3d"' + csrf_param + '"]').val(csrf_token)
    }))
} (jQuery),
function(e, t) {
    function n(t, n) {
        var i, s, o, u = t.nodeName.toLowerCase();
        return "area" === u ? (i = t.parentNode, s = i.name, !t.href || !s || i.nodeName.toLowerCase() !== "map" ? !1 : (o = e("img[usemap\x3d#" + s + "]")[0], !!o && r(o))) : (/input|select|textarea|button|object/.test(u) ? !t.disabled: "a" === u ? t.href || n: n) && r(t)
    }
    function r(t) {
        return e.expr.filters.visible(t) && !e(t).parents().andSelf().filter(function() {
            return e.css(this, "visibility") === "hidden"
        }).length
    }
    var i = 0,
    s = /^ui-id-\d+$/;
    e.ui = e.ui || {};
    if (e.ui.version) return;
    e.extend(e.ui, {
        version: "1.9.2",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            NUMPAD_ADD: 107,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_ENTER: 108,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }),
    e.fn.extend({
        _focus: e.fn.focus,
        focus: function(t, n) {
            return typeof t == "number" ? this.each(function() {
                var r = this;
                setTimeout(function() {
                    e(r).focus(),
                    n && n.call(r)
                },
                t)
            }) : this._focus.apply(this, arguments)
        },
        scrollParent: function() {
            var t;
            return e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? t = this.parents().filter(function() {
                return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0) : t = this.parents().filter(function() {
                return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0),
            /fixed/.test(this.css("position")) || !t.length ? e(document) : t
        },
        zIndex: function(n) {
            if (n !== t) return this.css("zIndex", n);
            if (this.length) {
                var r = e(this[0]),
                i,
                s;
                while (r.length && r[0] !== document) {
                    i = r.css("position");
                    if (i === "absolute" || i === "relative" || i === "fixed") {
                        s = parseInt(r.css("zIndex"), 10);
                        if (!isNaN(s) && s !== 0) return s
                    }
                    r = r.parent()
                }
            }
            return 0
        },
        uniqueId: function() {
            return this.each(function() {
                this.id || (this.id = "ui-id-" + ++i)
            })
        },
        removeUniqueId: function() {
            return this.each(function() {
                s.test(this.id) && e(this).removeAttr("id")
            })
        }
    }),
    e.extend(e.expr[":"], {
        data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
            return function(n) {
                return !! e.data(n, t)
            }
        }) : function(t, n, r) {
            return !! e.data(t, r[3])
        },
        focusable: function(t) {
            return n(t, !isNaN(e.attr(t, "tabindex")))
        },
        tabbable: function(t) {
            var r = e.attr(t, "tabindex"),
            i = isNaN(r);
            return (i || r >= 0) && n(t, !i)
        }
    }),
    e(function() {
        var t = document.body,
        n = t.appendChild(n = document.createElement("div"));
        n.offsetHeight,
        e.extend(n.style, {
            minHeight: "100px",
            height: "auto",
            padding: 0,
            borderWidth: 0
        }),
        e.support.minHeight = n.offsetHeight === 100,
        e.support.selectstart = "onselectstart" in n,
        t.removeChild(n).style.display = "none"
    }),
    e("\x3ca\x3e").outerWidth(1).jquery || e.each(["Width", "Height"],
    function(n, r) {
        function i(t, n, r, i) {
            return e.each(s,
            function() {
                n -= parseFloat(e.css(t, "padding" + this)) || 0,
                r && (n -= parseFloat(e.css(t, "border" + this + "Width")) || 0),
                i && (n -= parseFloat(e.css(t, "margin" + this)) || 0)
            }),
            n
        }
        var s = r === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
        o = r.toLowerCase(),
        u = {
            innerWidth: e.fn.innerWidth,
            innerHeight: e.fn.innerHeight,
            outerWidth: e.fn.outerWidth,
            outerHeight: e.fn.outerHeight
        };
        e.fn["inner" + r] = function(n) {
            return n === t ? u["inner" + r].call(this) : this.each(function() {
                e(this).css(o, i(this, n) + "px")
            })
        },
        e.fn["outer" + r] = function(t, n) {
            return typeof t != "number" ? u["outer" + r].call(this, t) : this.each(function() {
                e(this).css(o, i(this, t, !0, n) + "px")
            })
        }
    }),
    e("\x3ca\x3e").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
        return function(n) {
            return arguments.length ? t.call(this, e.camelCase(n)) : t.call(this)
        }
    } (e.fn.removeData)),
    function() {
        var t = /msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase()) || [];
        e.ui.ie = t.length ? !0 : !1,
        e.ui.ie6 = parseFloat(t[1], 10) === 6
    } (),
    e.fn.extend({
        disableSelection: function() {
            return this.bind((e.support.selectstart ? "selectstart": "mousedown") + ".ui-disableSelection",
            function(e) {
                e.preventDefault()
            })
        },
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        }
    }),
    e.extend(e.ui, {
        plugin: {
            add: function(t, n, r) {
                var i, s = e.ui[t].prototype;
                for (i in r) s.plugins[i] = s.plugins[i] || [],
                s.plugins[i].push([n, r[i]])
            },
            call: function(e, t, n) {
                var r, i = e.plugins[t];
                if (!i || !e.element[0].parentNode || e.element[0].parentNode.nodeType === 11) return;
                for (r = 0; r < i.length; r++) e.options[i[r][0]] && i[r][1].apply(e.element, n)
            }
        },
        contains: e.contains,
        hasScroll: function(t, n) {
            if (e(t).css("overflow") === "hidden") return ! 1;
            var r = n && n === "left" ? "scrollLeft": "scrollTop",
            i = !1;
            return t[r] > 0 ? !0 : (t[r] = 1, i = t[r] > 0, t[r] = 0, i)
        },
        isOverAxis: function(e, t, n) {
            return e > t && e < t + n
        },
        isOver: function(t, n, r, i, s, o) {
            return e.ui.isOverAxis(t, r, s) && e.ui.isOverAxis(n, i, o)
        }
    })
} (jQuery),
function(e, t) {
    var n = 0,
    r = Array.prototype.slice,
    i = e.cleanData;
    e.cleanData = function(t) {
        for (var n = 0,
        r; (r = t[n]) != null; n++) try {
            e(r).triggerHandler("remove")
        } catch(s) {}
        i(t)
    },
    e.widget = function(t, n, r) {
        var i, s, o, u, a = t.split(".")[0];
        t = t.split(".")[1],
        i = a + "-" + t,
        r || (r = n, n = e.Widget),
        e.expr[":"][i.toLowerCase()] = function(t) {
            return !! e.data(t, i)
        },
        e[a] = e[a] || {},
        s = e[a][t],
        o = e[a][t] = function(e, t) {
            if (!this._createWidget) return new o(e, t);
            arguments.length && this._createWidget(e, t)
        },
        e.extend(o, s, {
            version: r.version,
            _proto: e.extend({},
            r),
            _childConstructors: []
        }),
        u = new n,
        u.options = e.widget.extend({},
        u.options),
        e.each(r,
        function(t, i) {
            e.isFunction(i) && (r[t] = function() {
                var e = function() {
                    return n.prototype[t].apply(this, arguments)
                },
                r = function(e) {
                    return n.prototype[t].apply(this, e)
                };
                return function() {
                    var t = this._super,
                    n = this._superApply,
                    s;
                    return this._super = e,
                    this._superApply = r,
                    s = i.apply(this, arguments),
                    this._super = t,
                    this._superApply = n,
                    s
                }
            } ())
        }),
        o.prototype = e.widget.extend(u, {
            widgetEventPrefix: s ? u.widgetEventPrefix: t
        },
        r, {
            constructor: o,
            namespace: a,
            widgetName: t,
            widgetBaseClass: i,
            widgetFullName: i
        }),
        s ? (e.each(s._childConstructors,
        function(t, n) {
            var r = n.prototype;
            e.widget(r.namespace + "." + r.widgetName, o, n._proto)
        }), delete s._childConstructors) : n._childConstructors.push(o),
        e.widget.bridge(t, o)
    },
    e.widget.extend = function(n) {
        var i = r.call(arguments, 1),
        s = 0,
        o = i.length,
        u,
        a;
        for (; s < o; s++) for (u in i[s]) a = i[s][u],
        i[s].hasOwnProperty(u) && a !== t && (e.isPlainObject(a) ? n[u] = e.isPlainObject(n[u]) ? e.widget.extend({},
        n[u], a) : e.widget.extend({},
        a) : n[u] = a);
        return n
    },
    e.widget.bridge = function(n, i) {
        var s = i.prototype.widgetFullName || n;
        e.fn[n] = function(o) {
            var u = typeof o == "string",
            a = r.call(arguments, 1),
            f = this;
            return o = !u && a.length ? e.widget.extend.apply(null, [o].concat(a)) : o,
            u ? this.each(function() {
                var r, i = e.data(this, s);
                if (!i) return e.error("cannot call methods on " + n + " prior to initialization; " + "attempted to call method '" + o + "'");
                if (!e.isFunction(i[o]) || o.charAt(0) === "_") return e.error("no such method '" + o + "' for " + n + " widget instance");
                r = i[o].apply(i, a);
                if (r !== i && r !== t) return f = r && r.jquery ? f.pushStack(r.get()) : r,
                !1
            }) : this.each(function() {
                var t = e.data(this, s);
                t ? t.option(o || {})._init() : e.data(this, s, new i(o, this))
            }),
            f
        }
    },
    e.Widget = function() {},
    e.Widget._childConstructors = [],
    e.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "\x3cdiv\x3e",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(t, r) {
            r = e(r || this.defaultElement || this)[0],
            this.element = e(r),
            this.uuid = n++,
            this.eventNamespace = "." + this.widgetName + this.uuid,
            this.options = e.widget.extend({},
            this.options, this._getCreateOptions(), t),
            this.bindings = e(),
            this.hoverable = e(),
            this.focusable = e(),
            r !== this && (e.data(r, this.widgetName, this), e.data(r, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(e) {
                    e.target === r && this.destroy()
                }
            }), this.document = e(r.style ? r.ownerDocument: r.document || r), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init()
        },
        _getCreateOptions: e.noop,
        _getCreateEventData: e.noop,
        _create: e.noop,
        _init: e.noop,
        destroy: function() {
            this._destroy(),
            this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: e.noop,
        widget: function() {
            return this.element
        },
        option: function(n, r) {
            var i = n,
            s, o, u;
            if (arguments.length === 0) return e.widget.extend({},
            this.options);
            if (typeof n == "string") {
                i = {},
                s = n.split("."),
                n = s.shift();
                if (s.length) {
                    o = i[n] = e.widget.extend({},
                    this.options[n]);
                    for (u = 0; u < s.length - 1; u++) o[s[u]] = o[s[u]] || {},
                    o = o[s[u]];
                    n = s.pop();
                    if (r === t) return o[n] === t ? null: o[n];
                    o[n] = r
                } else {
                    if (r === t) return this.options[n] === t ? null: this.options[n];
                    i[n] = r
                }
            }
            return this._setOptions(i),
            this
        },
        _setOptions: function(e) {
            var t;
            for (t in e) this._setOption(t, e[t]);
            return this
        },
        _setOption: function(e, t) {
            return this.options[e] = t,
            e === "disabled" && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!t).attr("aria-disabled", t), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")),
            this
        },
        enable: function() {
            return this._setOption("disabled", !1)
        },
        disable: function() {
            return this._setOption("disabled", !0)
        },
        _on: function(t, n, r) {
            var i, s = this;
            typeof t != "boolean" && (r = n, n = t, t = !1),
            r ? (n = i = e(n), this.bindings = this.bindings.add(n)) : (r = n, n = this.element, i = this.widget()),
            e.each(r,
            function(r, o) {
                function u() {
                    if (!t && (s.options.disabled === !0 || e(this).hasClass("ui-state-disabled"))) return;
                    return (typeof o == "string" ? s[o] : o).apply(s, arguments)
                }
                typeof o != "string" && (u.guid = o.guid = o.guid || u.guid || e.guid++);
                var a = r.match(/^(\w+)\s*(.*)$/),
                f = a[1] + s.eventNamespace,
                l = a[2];
                l ? i.delegate(l, f, u) : n.bind(f, u)
            })
        },
        _off: function(e, t) {
            t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
            e.unbind(t).undelegate(t)
        },
        _delay: function(e, t) {
            function n() {
                return (typeof e == "string" ? r[e] : e).apply(r, arguments)
            }
            var r = this;
            return setTimeout(n, t || 0)
        },
        _hoverable: function(t) {
            this.hoverable = this.hoverable.add(t),
            this._on(t, {
                mouseenter: function(t) {
                    e(t.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(t) {
                    e(t.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(t) {
            this.focusable = this.focusable.add(t),
            this._on(t, {
                focusin: function(t) {
                    e(t.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(t) {
                    e(t.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(t, n, r) {
            var i, s, o = this.options[t];
            r = r || {},
            n = e.Event(n),
            n.type = (t === this.widgetEventPrefix ? t: this.widgetEventPrefix + t).toLowerCase(),
            n.target = this.element[0],
            s = n.originalEvent;
            if (s) for (i in s) i in n || (n[i] = s[i]);
            return this.element.trigger(n, r),
            !(e.isFunction(o) && o.apply(this.element[0], [n].concat(r)) === !1 || n.isDefaultPrevented())
        }
    },
    e.each({
        show: "fadeIn",
        hide: "fadeOut"
    },
    function(t, n) {
        e.Widget.prototype["_" + t] = function(r, i, s) {
            typeof i == "string" && (i = {
                effect: i
            });
            var o, u = i ? i === !0 || typeof i == "number" ? n: i.effect || n: t;
            i = i || {},
            typeof i == "number" && (i = {
                duration: i
            }),
            o = !e.isEmptyObject(i),
            i.complete = s,
            i.delay && r.delay(i.delay),
            o && e.effects && (e.effects.effect[u] || e.uiBackCompat !== !1 && e.effects[u]) ? r[t](i) : u !== t && r[u] ? r[u](i.duration, i.easing, s) : r.queue(function(n) {
                e(this)[t](),
                s && s.call(r[0]),
                n()
            })
        }
    }),
    e.uiBackCompat !== !1 && (e.Widget.prototype._getCreateOptions = function() {
        return e.metadata && e.metadata.get(this.element[0])[this.widgetName]
    })
} (jQuery),
function(e, t) {
    var n = !1;
    e(document).mouseup(function(e) {
        n = !1
    }),
    e.widget("ui.mouse", {
        version: "1.9.2",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var t = this;
            this.element.bind("mousedown." + this.widgetName,
            function(e) {
                return t._mouseDown(e)
            }).bind("click." + this.widgetName,
            function(n) {
                if (!0 === e.data(n.target, t.widgetName + ".preventClickEvent")) return e.removeData(n.target, t.widgetName + ".preventClickEvent"),
                n.stopImmediatePropagation(),
                !1
            }),
            this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName),
            this._mouseMoveDelegate && e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(t) {
            if (n) return;
            this._mouseStarted && this._mouseUp(t),
            this._mouseDownEvent = t;
            var r = this,
            i = t.which === 1,
            s = typeof this.options.cancel == "string" && t.target.nodeName ? e(t.target).closest(this.options.cancel).length: !1;
            if (!i || s || !this._mouseCapture(t)) return ! 0;
            this.mouseDelayMet = !this.options.delay,
            this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                r.mouseDelayMet = !0
            },
            this.options.delay));
            if (this._mouseDistanceMet(t) && this._mouseDelayMet(t)) {
                this._mouseStarted = this._mouseStart(t) !== !1;
                if (!this._mouseStarted) return t.preventDefault(),
                !0
            }
            return ! 0 === e.data(t.target, this.widgetName + ".preventClickEvent") && e.removeData(t.target, this.widgetName + ".preventClickEvent"),
            this._mouseMoveDelegate = function(e) {
                return r._mouseMove(e)
            },
            this._mouseUpDelegate = function(e) {
                return r._mouseUp(e)
            },
            e(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate),
            t.preventDefault(),
            n = !0,
            !0
        },
        _mouseMove: function(t) {
            return ! e.ui.ie || document.documentMode >= 9 || !!t.button ? this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) : this._mouseUp(t)
        },
        _mouseUp: function(t) {
            return e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)),
            !1
        },
        _mouseDistanceMet: function(e) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function(e) {
            return this.mouseDelayMet
        },
        _mouseStart: function(e) {},
        _mouseDrag: function(e) {},
        _mouseStop: function(e) {},
        _mouseCapture: function(e) {
            return ! 0
        }
    })
} (jQuery),
function(e, t) {
    e.widget("ui.sortable", e.ui.mouse, {
        version: "1.9.2",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "\x3e *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1E3
        },
        _create: function() {
            var e = this.options;
            this.containerCache = {},
            this.element.addClass("ui-sortable"),
            this.refresh(),
            this.floating = this.items.length ? e.axis === "x" || /left|right/.test(this.items[0].item.css("float")) || /inline|table-cell/.test(this.items[0].item.css("display")) : !1,
            this.offset = this.element.offset(),
            this._mouseInit(),
            this.ready = !0
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled"),
            this._mouseDestroy();
            for (var e = this.items.length - 1; e >= 0; e--) this.items[e].item.removeData(this.widgetName + "-item");
            return this
        },
        _setOption: function(t, n) {
            t === "disabled" ? (this.options[t] = n, this.widget().toggleClass("ui-sortable-disabled", !!n)) : e.Widget.prototype._setOption.apply(this, arguments)
        },
        _mouseCapture: function(t, n) {
            var r = this;
            if (this.reverting) return ! 1;
            if (this.options.disabled || this.options.type == "static") return ! 1;
            this._refreshItems(t);
            var i = null,
            s = e(t.target).parents().each(function() {
                if (e.data(this, r.widgetName + "-item") == r) return i = e(this),
                !1
            });
            e.data(t.target, r.widgetName + "-item") == r && (i = e(t.target));
            if (!i) return ! 1;
            if (this.options.handle && !n) {
                var o = !1;
                e(this.options.handle, i).find("*").andSelf().each(function() {
                    this == t.target && (o = !0)
                });
                if (!o) return ! 1
            }
            return this.currentItem = i,
            this._removeCurrentsFromItems(),
            !0
        },
        _mouseStart: function(t, n, r) {
            var i = this.options;
            this.currentContainer = this,
            this.refreshPositions(),
            this.helper = this._createHelper(t),
            this._cacheHelperProportions(),
            this._cacheMargins(),
            this.scrollParent = this.helper.scrollParent(),
            this.offset = this.currentItem.offset(),
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            },
            e.extend(this.offset, {
                click: {
                    left: t.pageX - this.offset.left,
                    top: t.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }),
            this.helper.css("position", "absolute"),
            this.cssPosition = this.helper.css("position"),
            this.originalPosition = this._generatePosition(t),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
            this.domPosition = {
                prev: this.currentItem.prev()[0],
                parent: this.currentItem.parent()[0]
            },
            this.helper[0] != this.currentItem[0] && this.currentItem.hide(),
            this._createPlaceholder(),
            i.containment && this._setContainment(),
            i.cursor && (e("body").css("cursor") && (this._storedCursor = e("body").css("cursor")), e("body").css("cursor", i.cursor)),
            i.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", i.opacity)),
            i.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", i.zIndex)),
            this.scrollParent[0] != document && this.scrollParent[0].tagName != "HTML" && (this.overflowOffset = this.scrollParent.offset()),
            this._trigger("start", t, this._uiHash()),
            this._preserveHelperProportions || this._cacheHelperProportions();
            if (!r) for (var s = this.containers.length - 1; s >= 0; s--) this.containers[s]._trigger("activate", t, this._uiHash(this));
            return e.ui.ddmanager && (e.ui.ddmanager.current = this),
            e.ui.ddmanager && !i.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t),
            this.dragging = !0,
            this.helper.addClass("ui-sortable-helper"),
            this._mouseDrag(t),
            !0
        },
        _mouseDrag: function(t) {
            this.position = this._generatePosition(t),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs);
            if (this.options.scroll) {
                var n = this.options,
                r = !1;
                this.scrollParent[0] != document && this.scrollParent[0].tagName != "HTML" ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < n.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + n.scrollSpeed: t.pageY - this.overflowOffset.top < n.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - n.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < n.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + n.scrollSpeed: t.pageX - this.overflowOffset.left < n.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - n.scrollSpeed)) : (t.pageY - e(document).scrollTop() < n.scrollSensitivity ? r = e(document).scrollTop(e(document).scrollTop() - n.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < n.scrollSensitivity && (r = e(document).scrollTop(e(document).scrollTop() + n.scrollSpeed)), t.pageX - e(document).scrollLeft() < n.scrollSensitivity ? r = e(document).scrollLeft(e(document).scrollLeft() - n.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < n.scrollSensitivity && (r = e(document).scrollLeft(e(document).scrollLeft() + n.scrollSpeed))),
                r !== !1 && e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)
            }
            this.positionAbs = this._convertPositionTo("absolute");
            if (!this.options.axis || this.options.axis != "y") this.helper[0].style.left = this.position.left + "px";
            if (!this.options.axis || this.options.axis != "x") this.helper[0].style.top = this.position.top + "px";
            for (var i = this.items.length - 1; i >= 0; i--) {
                var s = this.items[i],
                o = s.item[0],
                u = this._intersectsWithPointer(s);
                if (!u) continue;
                if (s.instance !== this.currentContainer) continue;
                if (o != this.currentItem[0] && this.placeholder[u == 1 ? "next": "prev"]()[0] != o && !e.contains(this.placeholder[0], o) && (this.options.type == "semi-dynamic" ? !e.contains(this.element[0], o) : !0)) {
                    this.direction = u == 1 ? "down": "up";
                    if (this.options.tolerance != "pointer" && !this._intersectsWithSides(s)) break;
                    this._rearrange(t, s),
                    this._trigger("change", t, this._uiHash());
                    break
                }
            }
            return this._contactContainers(t),
            e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
            this._trigger("sort", t, this._uiHash()),
            this.lastPositionAbs = this.positionAbs,
            !1
        },
        _mouseStop: function(t, n) {
            if (!t) return;
            e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t);
            if (this.options.revert) {
                var r = this,
                i = this.placeholder.offset();
                this.reverting = !0,
                e(this.helper).animate({
                    left: i.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollLeft),
                    top: i.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollTop)
                },
                parseInt(this.options.revert, 10) || 500,
                function() {
                    r._clear(t)
                })
            } else this._clear(t, n);
            return ! 1
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                }),
                this.options.helper == "original" ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var t = this.containers.length - 1; t >= 0; t--) this.containers[t]._trigger("deactivate", null, this._uiHash(this)),
                this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)), this.containers[t].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.options.helper != "original" && this.helper && this.helper[0].parentNode && this.helper.remove(), e.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }), this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)),
            this
        },
        serialize: function(t) {
            var n = this._getItemsAsjQuery(t && t.connected),
            r = [];
            return t = t || {},
            e(n).each(function() {
                var n = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[-=_](.+)/);
                n && r.push((t.key || n[1] + "[]") + "\x3d" + (t.key && t.expression ? n[1] : n[2]))
            }),
            !r.length && t.key && r.push(t.key + "\x3d"),
            r.join("\x26")
        },
        toArray: function(t) {
            var n = this._getItemsAsjQuery(t && t.connected),
            r = [];
            return t = t || {},
            n.each(function() {
                r.push(e(t.item || this).attr(t.attribute || "id") || "")
            }),
            r
        },
        _intersectsWith: function(e) {
            var t = this.positionAbs.left,
            n = t + this.helperProportions.width,
            r = this.positionAbs.top,
            i = r + this.helperProportions.height,
            s = e.left,
            o = s + e.width,
            u = e.top,
            a = u + e.height,
            f = this.offset.click.top,
            l = this.offset.click.left,
            c = r + f > u && r + f < a && t + l > s && t + l < o;
            return this.options.tolerance == "pointer" || this.options.forcePointerForContainers || this.options.tolerance != "pointer" && this.helperProportions[this.floating ? "width": "height"] > e[this.floating ? "width": "height"] ? c: s < t + this.helperProportions.width / 2 && n - this.helperProportions.width / 2 < o && u < r + this.helperProportions.height / 2 && i - this.helperProportions.height / 2 < a
        },
        _intersectsWithPointer: function(t) {
            var n = this.options.axis === "x" || e.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, t.top, t.height),
            r = this.options.axis === "y" || e.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, t.left, t.width),
            i = n && r,
            s = this._getDragVerticalDirection(),
            o = this._getDragHorizontalDirection();
            return i ? this.floating ? o && o == "right" || s == "down" ? 2 : 1 : s && (s == "down" ? 2 : 1) : !1
        },
        _intersectsWithSides: function(t) {
            var n = e.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height),
            r = e.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width),
            i = this._getDragVerticalDirection(),
            s = this._getDragHorizontalDirection();
            return this.floating && s ? s == "right" && r || s == "left" && !r: i && (i == "down" && n || i == "up" && !n)
        },
        _getDragVerticalDirection: function() {
            var e = this.positionAbs.top - this.lastPositionAbs.top;
            return e != 0 && (e > 0 ? "down": "up")
        },
        _getDragHorizontalDirection: function() {
            var e = this.positionAbs.left - this.lastPositionAbs.left;
            return e != 0 && (e > 0 ? "right": "left")
        },
        refresh: function(e) {
            return this._refreshItems(e),
            this.refreshPositions(),
            this
        },
        _connectWith: function() {
            var e = this.options;
            return e.connectWith.constructor == String ? [e.connectWith] : e.connectWith
        },
        _getItemsAsjQuery: function(t) {
            var n = [],
            r = [],
            i = this._connectWith();
            if (i && t) for (var s = i.length - 1; s >= 0; s--) {
                var o = e(i[s]);
                for (var u = o.length - 1; u >= 0; u--) {
                    var a = e.data(o[u], this.widgetName);
                    a && a != this && !a.options.disabled && r.push([e.isFunction(a.options.items) ? a.options.items.call(a.element) : e(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a])
                }
            }
            r.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
            }) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);
            for (var s = r.length - 1; s >= 0; s--) r[s][0].each(function() {
                n.push(this)
            });
            return e(n)
        },
        _removeCurrentsFromItems: function() {
            var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = e.grep(this.items,
            function(e) {
                for (var n = 0; n < t.length; n++) if (t[n] == e.item[0]) return ! 1;
                return ! 0
            })
        },
        _refreshItems: function(t) {
            this.items = [],
            this.containers = [this];
            var n = this.items,
            r = [[e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
                item: this.currentItem
            }) : e(this.options.items, this.element), this]],
            i = this._connectWith();
            if (i && this.ready) for (var s = i.length - 1; s >= 0; s--) {
                var o = e(i[s]);
                for (var u = o.length - 1; u >= 0; u--) {
                    var a = e.data(o[u], this.widgetName);
                    a && a != this && !a.options.disabled && (r.push([e.isFunction(a.options.items) ? a.options.items.call(a.element[0], t, {
                        item: this.currentItem
                    }) : e(a.options.items, a.element), a]), this.containers.push(a))
                }
            }
            for (var s = r.length - 1; s >= 0; s--) {
                var f = r[s][1],
                l = r[s][0];
                for (var u = 0,
                c = l.length; u < c; u++) {
                    var h = e(l[u]);
                    h.data(this.widgetName + "-item", f),
                    n.push({
                        item: h,
                        instance: f,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
                }
            }
        },
        refreshPositions: function(t) {
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            for (var n = this.items.length - 1; n >= 0; n--) {
                var r = this.items[n];
                if (r.instance != this.currentContainer && this.currentContainer && r.item[0] != this.currentItem[0]) continue;
                var i = this.options.toleranceElement ? e(this.options.toleranceElement, r.item) : r.item;
                t || (r.width = i.outerWidth(), r.height = i.outerHeight());
                var s = i.offset();
                r.left = s.left,
                r.top = s.top
            }
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
            else for (var n = this.containers.length - 1; n >= 0; n--) {
                var s = this.containers[n].element.offset();
                this.containers[n].containerCache.left = s.left,
                this.containers[n].containerCache.top = s.top,
                this.containers[n].containerCache.width = this.containers[n].element.outerWidth(),
                this.containers[n].containerCache.height = this.containers[n].element.outerHeight()
            }
            return this
        },
        _createPlaceholder: function(t) {
            t = t || this;
            var n = t.options;
            if (!n.placeholder || n.placeholder.constructor == String) {
                var r = n.placeholder;
                n.placeholder = {
                    element: function() {
                        var n = e(document.createElement(t.currentItem[0].nodeName)).addClass(r || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];
                        return r || (n.style.visibility = "hidden"),
                        n
                    },
                    update: function(e, i) {
                        if (r && !n.forcePlaceholderSize) return;
                        i.height() || i.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)),
                        i.width() || i.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10))
                    }
                }
            }
            t.placeholder = e(n.placeholder.element.call(t.element, t.currentItem)),
            t.currentItem.after(t.placeholder),
            n.placeholder.update(t, t.placeholder)
        },
        _contactContainers: function(t) {
            var n = null,
            r = null;
            for (var i = this.containers.length - 1; i >= 0; i--) {
                if (e.contains(this.currentItem[0], this.containers[i].element[0])) continue;
                if (this._intersectsWith(this.containers[i].containerCache)) {
                    if (n && e.contains(this.containers[i].element[0], n.element[0])) continue;
                    n = this.containers[i],
                    r = i
                } else this.containers[i].containerCache.over && (this.containers[i]._trigger("out", t, this._uiHash(this)), this.containers[i].containerCache.over = 0)
            }
            if (!n) return;
            if (this.containers.length === 1) this.containers[r]._trigger("over", t, this._uiHash(this)),
            this.containers[r].containerCache.over = 1;
            else {
                var s = 1E4,
                o = null,
                u = this.containers[r].floating ? "left": "top",
                a = this.containers[r].floating ? "width": "height",
                f = this.positionAbs[u] + this.offset.click[u];
                for (var l = this.items.length - 1; l >= 0; l--) {
                    if (!e.contains(this.containers[r].element[0], this.items[l].item[0])) continue;
                    if (this.items[l].item[0] == this.currentItem[0]) continue;
                    var c = this.items[l].item.offset()[u],
                    h = !1;
                    Math.abs(c - f) > Math.abs(c + this.items[l][a] - f) && (h = !0, c += this.items[l][a]),
                    Math.abs(c - f) < s && (s = Math.abs(c - f), o = this.items[l], this.direction = h ? "up": "down")
                }
                if (!o && !this.options.dropOnEmpty) return;
                this.currentContainer = this.containers[r],
                o ? this._rearrange(t, o, null, !0) : this._rearrange(t, null, this.containers[r].element, !0),
                this._trigger("change", t, this._uiHash()),
                this.containers[r]._trigger("change", t, this._uiHash(this)),
                this.options.placeholder.update(this.currentContainer, this.placeholder),
                this.containers[r]._trigger("over", t, this._uiHash(this)),
                this.containers[r].containerCache.over = 1
            }
        },
        _createHelper: function(t) {
            var n = this.options,
            r = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t, this.currentItem])) : n.helper == "clone" ? this.currentItem.clone() : this.currentItem;
            return r.parents("body").length || e(n.appendTo != "parent" ? n.appendTo: this.currentItem[0].parentNode)[0].appendChild(r[0]),
            r[0] == this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }),
            (r[0].style.width == "" || n.forceHelperSize) && r.width(this.currentItem.width()),
            (r[0].style.height == "" || n.forceHelperSize) && r.height(this.currentItem.height()),
            r
        },
        _adjustOffsetFromHelper: function(t) {
            typeof t == "string" && (t = t.split(" ")),
            e.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left" in t && (this.offset.click.left = t.left + this.margins.left),
            "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top" in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var t = this.offsetParent.offset();
            this.cssPosition == "absolute" && this.scrollParent[0] != document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop());
            if (this.offsetParent[0] == document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == "html" && e.ui.ie) t = {
                top: 0,
                left: 0
            };
            return {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if (this.cssPosition == "relative") {
                var e = this.currentItem.position();
                return {
                    top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t = this.options;
            t.containment == "parent" && (t.containment = this.helper[0].parentNode);
            if (t.containment == "document" || t.containment == "window") this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, e(t.containment == "document" ? document: window).width() - this.helperProportions.width - this.margins.left, (e(t.containment == "document" ? document: window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
            if (!/^(document|window|parent)$/.test(t.containment)) {
                var n = e(t.containment)[0],
                r = e(t.containment).offset(),
                i = e(n).css("overflow") != "hidden";
                this.containment = [r.left + (parseInt(e(n).css("borderLeftWidth"), 10) || 0) + (parseInt(e(n).css("paddingLeft"), 10) || 0) - this.margins.left, r.top + (parseInt(e(n).css("borderTopWidth"), 10) || 0) + (parseInt(e(n).css("paddingTop"), 10) || 0) - this.margins.top, r.left + (i ? Math.max(n.scrollWidth, n.offsetWidth) : n.offsetWidth) - (parseInt(e(n).css("borderLeftWidth"), 10) || 0) - (parseInt(e(n).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, r.top + (i ? Math.max(n.scrollHeight, n.offsetHeight) : n.offsetHeight) - (parseInt(e(n).css("borderTopWidth"), 10) || 0) - (parseInt(e(n).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]
            }
        },
        _convertPositionTo: function(t, n) {
            n || (n = this.position);
            var r = t == "absolute" ? 1 : -1,
            i = this.options,
            s = this.cssPosition != "absolute" || this.scrollParent[0] != document && !!e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent: this.offsetParent,
            o = /(html|body)/i.test(s[0].tagName);
            return {
                top: n.top + this.offset.relative.top * r + this.offset.parent.top * r - (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : o ? 0 : s.scrollTop()) * r,
                left: n.left + this.offset.relative.left * r + this.offset.parent.left * r - (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : o ? 0 : s.scrollLeft()) * r
            }
        },
        _generatePosition: function(t) {
            var n = this.options,
            r = this.cssPosition != "absolute" || this.scrollParent[0] != document && !!e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent: this.offsetParent,
            i = /(html|body)/i.test(r[0].tagName);
            this.cssPosition == "relative" && (this.scrollParent[0] == document || this.scrollParent[0] == this.offsetParent[0]) && (this.offset.relative = this._getRelativeOffset());
            var s = t.pageX,
            o = t.pageY;
            if (this.originalPosition) {
                this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (s = this.containment[0] + this.offset.click.left), t.pageY - this.offset.click.top < this.containment[1] && (o = this.containment[1] + this.offset.click.top), t.pageX - this.offset.click.left > this.containment[2] && (s = this.containment[2] + this.offset.click.left), t.pageY - this.offset.click.top > this.containment[3] && (o = this.containment[3] + this.offset.click.top));
                if (n.grid) {
                    var u = this.originalPageY + Math.round((o - this.originalPageY) / n.grid[1]) * n.grid[1];
                    o = this.containment ? u - this.offset.click.top < this.containment[1] || u - this.offset.click.top > this.containment[3] ? u - this.offset.click.top < this.containment[1] ? u + n.grid[1] : u - n.grid[1] : u: u;
                    var a = this.originalPageX + Math.round((s - this.originalPageX) / n.grid[0]) * n.grid[0];
                    s = this.containment ? a - this.offset.click.left < this.containment[0] || a - this.offset.click.left > this.containment[2] ? a - this.offset.click.left < this.containment[0] ? a + n.grid[0] : a - n.grid[0] : a: a
                }
            }
            return {
                top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : i ? 0 : r.scrollTop()),
                left: s - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : i ? 0 : r.scrollLeft())
            }
        },
        _rearrange: function(e, t, n, r) {
            n ? n[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], this.direction == "down" ? t.item[0] : t.item[0].nextSibling),
            this.counter = this.counter ? ++this.counter: 1;
            var i = this.counter;
            this._delay(function() {
                i == this.counter && this.refreshPositions(!r)
            })
        },
        _clear: function(t, n) {
            this.reverting = !1;
            var r = []; ! this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem),
            this._noFinalSort = null;
            if (this.helper[0] == this.currentItem[0]) {
                for (var i in this._storedCSS) if (this._storedCSS[i] == "auto" || this._storedCSS[i] == "static") this._storedCSS[i] = "";
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else this.currentItem.show();
            this.fromOutside && !n && r.push(function(e) {
                this._trigger("receive", e, this._uiHash(this.fromOutside))
            }),
            (this.fromOutside || this.domPosition.prev != this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent != this.currentItem.parent()[0]) && !n && r.push(function(e) {
                this._trigger("update", e, this._uiHash())
            }),
            this !== this.currentContainer && (n || (r.push(function(e) {
                this._trigger("remove", e, this._uiHash())
            }), r.push(function(e) {
                return function(t) {
                    e._trigger("receive", t, this._uiHash(this))
                }
            }.call(this, this.currentContainer)), r.push(function(e) {
                return function(t) {
                    e._trigger("update", t, this._uiHash(this))
                }
            }.call(this, this.currentContainer))));
            for (var i = this.containers.length - 1; i >= 0; i--) n || r.push(function(e) {
                return function(t) {
                    e._trigger("deactivate", t, this._uiHash(this))
                }
            }.call(this, this.containers[i])),
            this.containers[i].containerCache.over && (r.push(function(e) {
                return function(t) {
                    e._trigger("out", t, this._uiHash(this))
                }
            }.call(this, this.containers[i])), this.containers[i].containerCache.over = 0);
            this._storedCursor && e("body").css("cursor", this._storedCursor),
            this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
            this._storedZIndex && this.helper.css("zIndex", this._storedZIndex == "auto" ? "": this._storedZIndex),
            this.dragging = !1;
            if (this.cancelHelperRemoval) {
                if (!n) {
                    this._trigger("beforeStop", t, this._uiHash());
                    for (var i = 0; i < r.length; i++) r[i].call(this, t);
                    this._trigger("stop", t, this._uiHash())
                }
                return this.fromOutside = !1,
                !1
            }
            n || this._trigger("beforeStop", t, this._uiHash()),
            this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            this.helper[0] != this.currentItem[0] && this.helper.remove(),
            this.helper = null;
            if (!n) {
                for (var i = 0; i < r.length; i++) r[i].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1,
            !0
        },
        _trigger: function() {
            e.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
        },
        _uiHash: function(t) {
            var n = t || this;
            return {
                helper: n.helper,
                placeholder: n.placeholder || e([]),
                position: n.position,
                originalPosition: n.originalPosition,
                offset: n.positionAbs,
                item: n.currentItem,
                sender: t ? t.element: null
            }
        }
    })
} (jQuery),
jQuery.effects ||
function(e, t) {
    var n = e.uiBackCompat !== !1,
    r = "ui-effects-";
    e.effects = {
        effect: {}
    },
    function(t, n) {
        function r(e, t, n) {
            var r = c[t.type] || {};
            return e == null ? n || !t.def ? null: t.def: (e = r.floor ? ~~e: parseFloat(e), isNaN(e) ? t.def: r.mod ? (e + r.mod) % r.mod: 0 > e ? 0 : r.max < e ? r.max: e)
        }
        function i(e) {
            var n = f(),
            r = n._rgba = [];
            return e = e.toLowerCase(),
            v(a,
            function(t, i) {
                var s, o = i.re.exec(e),
                u = o && i.parse(o),
                a = i.space || "rgba";
                if (u) return s = n[a](u),
                n[l[a].cache] = s[l[a].cache],
                r = n._rgba = s._rgba,
                !1
            }),
            r.length ? (r.join() === "0,0,0,0" && t.extend(r, d.transparent), n) : d[e]
        }
        function s(e, t, n) {
            return n = (n + 1) % 1,
            n * 6 < 1 ? e + (t - e) * n * 6 : n * 2 < 1 ? t: n * 3 < 2 ? e + (t - e) * (2 / 3 - n) * 6 : e
        }
        var o = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),
        u = /^([\-+])=\s*(\d+\.?\d*)/,
        a = [{
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [e[1], e[2], e[3], e[4]]
            }
        },
        {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [e[1] * 2.55, e[2] * 2.55, e[3] * 2.55, e[4]]
            }
        },
        {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function(e) {
                return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
            }
        },
        {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function(e) {
                return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
            }
        },
        {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function(e) {
                return [e[1], e[2] / 100, e[3] / 100, e[4]]
            }
        }],
        f = t.Color = function(e, n, r, i) {
            return new t.Color.fn.parse(e, n, r, i)
        },
        l = {
            rgba: {
                props: {
                    red: {
                        idx: 0,
                        type: "byte"
                    },
                    green: {
                        idx: 1,
                        type: "byte"
                    },
                    blue: {
                        idx: 2,
                        type: "byte"
                    }
                }
            },
            hsla: {
                props: {
                    hue: {
                        idx: 0,
                        type: "degrees"
                    },
                    saturation: {
                        idx: 1,
                        type: "percent"
                    },
                    lightness: {
                        idx: 2,
                        type: "percent"
                    }
                }
            }
        },
        c = {
            "byte": {
                floor: !0,
                max: 255
            },
            percent: {
                max: 1
            },
            degrees: {
                mod: 360,
                floor: !0
            }
        },
        h = f.support = {},
        p = t("\x3cp\x3e")[0],
        d,
        v = t.each;
        p.style.cssText = "background-color:rgba(1,1,1,.5)",
        h.rgba = p.style.backgroundColor.indexOf("rgba") > -1,
        v(l,
        function(e, t) {
            t.cache = "_" + e,
            t.props.alpha = {
                idx: 3,
                type: "percent",
                def: 1
            }
        }),
        f.fn = t.extend(f.prototype, {
            parse: function(s, o, u, a) {
                if (s === n) return this._rgba = [null, null, null, null],
                this;
                if (s.jquery || s.nodeType) s = t(s).css(o),
                o = n;
                var c = this,
                h = t.type(s),
                p = this._rgba = [];
                o !== n && (s = [s, o, u, a], h = "array");
                if (h === "string") return this.parse(i(s) || d._default);
                if (h === "array") return v(l.rgba.props,
                function(e, t) {
                    p[t.idx] = r(s[t.idx], t)
                }),
                this;
                if (h === "object") return s instanceof f ? v(l,
                function(e, t) {
                    s[t.cache] && (c[t.cache] = s[t.cache].slice())
                }) : v(l,
                function(t, n) {
                    var i = n.cache;
                    v(n.props,
                    function(e, t) {
                        if (!c[i] && n.to) {
                            if (e === "alpha" || s[e] == null) return;
                            c[i] = n.to(c._rgba)
                        }
                        c[i][t.idx] = r(s[e], t, !0)
                    }),
                    c[i] && e.inArray(null, c[i].slice(0, 3)) < 0 && (c[i][3] = 1, n.from && (c._rgba = n.from(c[i])))
                }),
                this
            },
            is: function(e) {
                var t = f(e),
                n = !0,
                r = this;
                return v(l,
                function(e, i) {
                    var s, o = t[i.cache];
                    return o && (s = r[i.cache] || i.to && i.to(r._rgba) || [], v(i.props,
                    function(e, t) {
                        if (o[t.idx] != null) return n = o[t.idx] === s[t.idx],
                        n
                    })),
                    n
                }),
                n
            },
            _space: function() {
                var e = [],
                t = this;
                return v(l,
                function(n, r) {
                    t[r.cache] && e.push(n)
                }),
                e.pop()
            },
            transition: function(e, t) {
                var n = f(e),
                i = n._space(),
                s = l[i],
                o = this.alpha() === 0 ? f("transparent") : this,
                u = o[s.cache] || s.to(o._rgba),
                a = u.slice();
                return n = n[s.cache],
                v(s.props,
                function(e, i) {
                    var s = i.idx,
                    o = u[s],
                    f = n[s],
                    l = c[i.type] || {};
                    if (f === null) return;
                    o === null ? a[s] = f: (l.mod && (f - o > l.mod / 2 ? o += l.mod: o - f > l.mod / 2 && (o -= l.mod)), a[s] = r((f - o) * t + o, i))
                }),
                this[i](a)
            },
            blend: function(e) {
                if (this._rgba[3] === 1) return this;
                var n = this._rgba.slice(),
                r = n.pop(),
                i = f(e)._rgba;
                return f(t.map(n,
                function(e, t) {
                    return (1 - r) * i[t] + r * e
                }))
            },
            toRgbaString: function() {
                var e = "rgba(",
                n = t.map(this._rgba,
                function(e, t) {
                    return e == null ? t > 2 ? 1 : 0 : e
                });
                return n[3] === 1 && (n.pop(), e = "rgb("),
                e + n.join() + ")"
            },
            toHslaString: function() {
                var e = "hsla(",
                n = t.map(this.hsla(),
                function(e, t) {
                    return e == null && (e = t > 2 ? 1 : 0),
                    t && t < 3 && (e = Math.round(e * 100) + "%"),
                    e
                });
                return n[3] === 1 && (n.pop(), e = "hsl("),
                e + n.join() + ")"
            },
            toHexString: function(e) {
                var n = this._rgba.slice(),
                r = n.pop();
                return e && n.push(~~ (r * 255)),
                "#" + t.map(n,
                function(e) {
                    return e = (e || 0).toString(16),
                    e.length === 1 ? "0" + e: e
                }).join("")
            },
            toString: function() {
                return this._rgba[3] === 0 ? "transparent": this.toRgbaString()
            }
        }),
        f.fn.parse.prototype = f.fn,
        l.hsla.to = function(e) {
            if (e[0] == null || e[1] == null || e[2] == null) return [null, null, null, e[3]];
            var t = e[0] / 255,
            n = e[1] / 255,
            r = e[2] / 255,
            i = e[3],
            s = Math.max(t, n, r),
            o = Math.min(t, n, r),
            u = s - o,
            a = s + o,
            f = a * .5,
            l,
            c;
            return o === s ? l = 0 : t === s ? l = 60 * (n - r) / u + 360 : n === s ? l = 60 * (r - t) / u + 120 : l = 60 * (t - n) / u + 240,
            f === 0 || f === 1 ? c = f: f <= .5 ? c = u / a: c = u / (2 - a),
            [Math.round(l) % 360, c, f, i == null ? 1 : i]
        },
        l.hsla.from = function(e) {
            if (e[0] == null || e[1] == null || e[2] == null) return [null, null, null, e[3]];
            var t = e[0] / 360,
            n = e[1],
            r = e[2],
            i = e[3],
            o = r <= .5 ? r * (1 + n) : r + n - r * n,
            u = 2 * r - o;
            return [Math.round(s(u, o, t + 1 / 3) * 255), Math.round(s(u, o, t) * 255), Math.round(s(u, o, t - 1 / 3) * 255), i]
        },
        v(l,
        function(e, i) {
            var s = i.props,
            o = i.cache,
            a = i.to,
            l = i.from;
            f.fn[e] = function(e) {
                a && !this[o] && (this[o] = a(this._rgba));
                if (e === n) return this[o].slice();
                var i, u = t.type(e),
                c = u === "array" || u === "object" ? e: arguments,
                h = this[o].slice();
                return v(s,
                function(e, t) {
                    var n = c[u === "object" ? e: t.idx];
                    n == null && (n = h[t.idx]),
                    h[t.idx] = r(n, t)
                }),
                l ? (i = f(l(h)), i[o] = h, i) : f(h)
            },
            v(s,
            function(n, r) {
                if (f.fn[n]) return;
                f.fn[n] = function(i) {
                    var s = t.type(i),
                    o = n === "alpha" ? this._hsla ? "hsla": "rgba": e,
                    a = this[o](),
                    f = a[r.idx],
                    l;
                    return s === "undefined" ? f: (s === "function" && (i = i.call(this, f), s = t.type(i)), i == null && r.empty ? this: (s === "string" && (l = u.exec(i), l && (i = f + parseFloat(l[2]) * (l[1] === "+" ? 1 : -1))), a[r.idx] = i, this[o](a)))
                }
            })
        }),
        v(o,
        function(e, n) {
            t.cssHooks[n] = {
                set: function(e, r) {
                    var s, o, u = "";
                    if (t.type(r) !== "string" || (s = i(r))) {
                        r = f(s || r);
                        if (!h.rgba && r._rgba[3] !== 1) {
                            o = n === "backgroundColor" ? e.parentNode: e;
                            while ((u === "" || u === "transparent") && o && o.style) try {
                                u = t.css(o, "backgroundColor"),
                                o = o.parentNode
                            } catch(a$24) {}
                            r = r.blend(u && u !== "transparent" ? u: "_default")
                        }
                        r = r.toRgbaString()
                    }
                    try {
                        e.style[n] = r
                    } catch(l$25) {}
                }
            },
            t.fx.step[n] = function(e) {
                e.colorInit || (e.start = f(e.elem, n), e.end = f(e.end), e.colorInit = !0),
                t.cssHooks[n].set(e.elem, e.start.transition(e.end, e.pos))
            }
        }),
        t.cssHooks.borderColor = {
            expand: function(e) {
                var t = {};
                return v(["Top", "Right", "Bottom", "Left"],
                function(n, r) {
                    t["border" + r + "Color"] = e
                }),
                t
            }
        },
        d = t.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        }
    } (jQuery),
    function() {
        function n() {
            var t = this.ownerDocument.defaultView ? this.ownerDocument.defaultView.getComputedStyle(this, null) : this.currentStyle,
            n = {},
            r,
            i;
            if (t && t.length && t[0] && t[t[0]]) {
                i = t.length;
                while (i--) r = t[i],
                typeof t[r] == "string" && (n[e.camelCase(r)] = t[r])
            } else for (r in t) typeof t[r] == "string" && (n[r] = t[r]);
            return n
        }
        function r(t, n) {
            var r = {},
            i, o;
            for (i in n) o = n[i],
            t[i] !== o && !s[i] && (e.fx.step[i] || !isNaN(parseFloat(o))) && (r[i] = o);
            return r
        }
        var i = ["add", "remove", "toggle"],
        s = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
        e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"],
        function(t, n) {
            e.fx.step[n] = function(e) {
                if (e.end !== "none" && !e.setAttr || e.pos === 1 && !e.setAttr) jQuery.style(e.elem, n, e.end),
                e.setAttr = !0
            }
        }),
        e.effects.animateClass = function(t, s, o, u) {
            var a = e.speed(s, o, u);
            return this.queue(function() {
                var s = e(this),
                o = s.attr("class") || "",
                u,
                f = a.children ? s.find("*").andSelf() : s;
                f = f.map(function() {
                    var t = e(this);
                    return {
                        el: t,
                        start: n.call(this)
                    }
                }),
                u = function() {
                    e.each(i,
                    function(e, n) {
                        t[n] && s[n + "Class"](t[n])
                    })
                },
                u(),
                f = f.map(function() {
                    return this.end = n.call(this.el[0]),
                    this.diff = r(this.start, this.end),
                    this
                }),
                s.attr("class", o),
                f = f.map(function() {
                    var t = this,
                    n = e.Deferred(),
                    r = jQuery.extend({},
                    a, {
                        queue: !1,
                        complete: function() {
                            n.resolve(t)
                        }
                    });
                    return this.el.animate(this.diff, r),
                    n.promise()
                }),
                e.when.apply(e, f.get()).done(function() {
                    u(),
                    e.each(arguments,
                    function() {
                        var t = this.el;
                        e.each(this.diff,
                        function(e) {
                            t.css(e, "")
                        })
                    }),
                    a.complete.call(s[0])
                })
            })
        },
        e.fn.extend({
            _addClass: e.fn.addClass,
            addClass: function(t, n, r, i) {
                return n ? e.effects.animateClass.call(this, {
                    add: t
                },
                n, r, i) : this._addClass(t)
            },
            _removeClass: e.fn.removeClass,
            removeClass: function(t, n, r, i) {
                return n ? e.effects.animateClass.call(this, {
                    remove: t
                },
                n, r, i) : this._removeClass(t)
            },
            _toggleClass: e.fn.toggleClass,
            toggleClass: function(n, r, i, s, o) {
                return typeof r == "boolean" || r === t ? i ? e.effects.animateClass.call(this, r ? {
                    add: n
                }: {
                    remove: n
                },
                i, s, o) : this._toggleClass(n, r) : e.effects.animateClass.call(this, {
                    toggle: n
                },
                r, i, s)
            },
            switchClass: function(t, n, r, i, s) {
                return e.effects.animateClass.call(this, {
                    add: n,
                    remove: t
                },
                r, i, s)
            }
        })
    } (),
    function() {
        function i(t, n, r, i) {
            e.isPlainObject(t) && (n = t, t = t.effect),
            t = {
                effect: t
            },
            n == null && (n = {}),
            e.isFunction(n) && (i = n, r = null, n = {});
            if (typeof n == "number" || e.fx.speeds[n]) i = r,
            r = n,
            n = {};
            return e.isFunction(r) && (i = r, r = null),
            n && e.extend(t, n),
            r = r || n.duration,
            t.duration = e.fx.off ? 0 : typeof r == "number" ? r: r in e.fx.speeds ? e.fx.speeds[r] : e.fx.speeds._default,
            t.complete = i || n.complete,
            t
        }
        function s(t) {
            return ! t || typeof t == "number" || e.fx.speeds[t] ? !0 : typeof t == "string" && !e.effects.effect[t] ? n && e.effects[t] ? !1 : !0 : !1
        }
        e.extend(e.effects, {
            version: "1.9.2",
            save: function(e, t) {
                for (var n = 0; n < t.length; n++) t[n] !== null && e.data(r + t[n], e[0].style[t[n]])
            },
            restore: function(e, n) {
                var i, s;
                for (s = 0; s < n.length; s++) n[s] !== null && (i = e.data(r + n[s]), i === t && (i = ""), e.css(n[s], i))
            },
            setMode: function(e, t) {
                return t === "toggle" && (t = e.is(":hidden") ? "show": "hide"),
                t
            },
            getBaseline: function(e, t) {
                var n, r;
                switch (e[0]) {
                case "top":
                    n = 0;
                    break;
                case "middle":
                    n = .5;
                    break;
                case "bottom":
                    n = 1;
                    break;
                default:
                    n = e[0] / t.height
                }
                switch (e[1]) {
                case "left":
                    r = 0;
                    break;
                case "center":
                    r = .5;
                    break;
                case "right":
                    r = 1;
                    break;
                default:
                    r = e[1] / t.width
                }
                return {
                    x: r,
                    y: n
                }
            },
            createWrapper: function(t) {
                if (t.parent().is(".ui-effects-wrapper")) return t.parent();
                var n = {
                    width: t.outerWidth(!0),
                    height: t.outerHeight(!0),
                    "float": t.css("float")
                },
                r = e("\x3cdiv\x3e\x3c/div\x3e").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                }),
                i = {
                    width: t.width(),
                    height: t.height()
                },
                s = document.activeElement;
                try {
                    s.id
                } catch(o) {
                    s = document.body
                }
                return t.wrap(r),
                (t[0] === s || e.contains(t[0], s)) && e(s).focus(),
                r = t.parent(),
                t.css("position") === "static" ? (r.css({
                    position: "relative"
                }), t.css({
                    position: "relative"
                })) : (e.extend(n, {
                    position: t.css("position"),
                    zIndex: t.css("z-index")
                }), e.each(["top", "left", "bottom", "right"],
                function(e, r) {
                    n[r] = t.css(r),
                    isNaN(parseInt(n[r], 10)) && (n[r] = "auto")
                }), t.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                })),
                t.css(i),
                r.css(n).show()
            },
            removeWrapper: function(t) {
                var n = document.activeElement;
                return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === n || e.contains(t[0], n)) && e(n).focus()),
                t
            },
            setTransition: function(t, n, r, i) {
                return i = i || {},
                e.each(n,
                function(e, n) {
                    var s = t.cssUnit(n);
                    s[0] > 0 && (i[n] = s[0] * r + s[1])
                }),
                i
            }
        }),
        e.fn.extend({
            effect: function() {
                function t(t) {
                    function n() {
                        e.isFunction(s) && s.call(i[0]),
                        e.isFunction(t) && t()
                    }
                    var i = e(this),
                    s = r.complete,
                    o = r.mode; (i.is(":hidden") ? o === "hide": o === "show") ? n() : u.call(i[0], r, n)
                }
                var r = i.apply(this, arguments),
                s = r.mode,
                o = r.queue,
                u = e.effects.effect[r.effect],
                a = !u && n && e.effects[r.effect];
                return e.fx.off || !u && !a ? s ? this[s](r.duration, r.complete) : this.each(function() {
                    r.complete && r.complete.call(this)
                }) : u ? o === !1 ? this.each(t) : this.queue(o || "fx", t) : a.call(this, {
                    options: r,
                    duration: r.duration,
                    callback: r.complete,
                    mode: r.mode
                })
            },
            _show: e.fn.show,
            show: function(e) {
                if (s(e)) return this._show.apply(this, arguments);
                var t = i.apply(this, arguments);
                return t.mode = "show",
                this.effect.call(this, t)
            },
            _hide: e.fn.hide,
            hide: function(e) {
                if (s(e)) return this._hide.apply(this, arguments);
                var t = i.apply(this, arguments);
                return t.mode = "hide",
                this.effect.call(this, t)
            },
            __toggle: e.fn.toggle,
            toggle: function(t) {
                if (s(t) || typeof t == "boolean" || e.isFunction(t)) return this.__toggle.apply(this, arguments);
                var n = i.apply(this, arguments);
                return n.mode = "toggle",
                this.effect.call(this, n)
            },
            cssUnit: function(t) {
                var n = this.css(t),
                r = [];
                return e.each(["em", "px", "%", "pt"],
                function(e, t) {
                    n.indexOf(t) > 0 && (r = [parseFloat(n), t])
                }),
                r
            }
        })
    } (),
    function() {
        var t = {};
        e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"],
        function(e, n) {
            t[n] = function(t) {
                return Math.pow(t, e + 2)
            }
        }),
        e.extend(t, {
            Sine: function(e) {
                return 1 - Math.cos(e * Math.PI / 2)
            },
            Circ: function(e) {
                return 1 - Math.sqrt(1 - e * e)
            },
            Elastic: function(e) {
                return e === 0 || e === 1 ? e: -Math.pow(2, 8 * (e - 1)) * Math.sin(((e - 1) * 80 - 7.5) * Math.PI / 15)
            },
            Back: function(e) {
                return e * e * (3 * e - 2)
            },
            Bounce: function(e) {
                var t, n = 4;
                while (e < ((t = Math.pow(2, --n)) - 1) / 11);
                return 1 / Math.pow(4, 3 - n) - 7.5625 * Math.pow((t * 3 - 2) / 22 - e, 2)
            }
        }),
        e.each(t,
        function(t, n) {
            e.easing["easeIn" + t] = n,
            e.easing["easeOut" + t] = function(e) {
                return 1 - n(1 - e)
            },
            e.easing["easeInOut" + t] = function(e) {
                return e < .5 ? n(e * 2) / 2 : 1 - n(e * -2 + 2) / 2
            }
        })
    } ()
} (jQuery),
function(e, t) {
    var n = /up|down|vertical/,
    r = /up|left|vertical|horizontal/;
    e.effects.effect.blind = function(t, i) {
        var s = e(this),
        o = ["position", "top", "bottom", "left", "right", "height", "width"],
        u = e.effects.setMode(s, t.mode || "hide"),
        a = t.direction || "up",
        f = n.test(a),
        l = f ? "height": "width",
        c = f ? "top": "left",
        h = r.test(a),
        p = {},
        d = u === "show",
        v,
        m,
        g;
        s.parent().is(".ui-effects-wrapper") ? e.effects.save(s.parent(), o) : e.effects.save(s, o),
        s.show(),
        v = e.effects.createWrapper(s).css({
            overflow: "hidden"
        }),
        m = v[l](),
        g = parseFloat(v.css(c)) || 0,
        p[l] = d ? m: 0,
        h || (s.css(f ? "bottom": "right", 0).css(f ? "top": "left", "auto").css({
            position: "absolute"
        }), p[c] = d ? g: m + g),
        d && (v.css(l, 0), h || v.css(c, g + m)),
        v.animate(p, {
            duration: t.duration,
            easing: t.easing,
            queue: !1,
            complete: function() {
                u === "hide" && s.hide(),
                e.effects.restore(s, o),
                e.effects.removeWrapper(s),
                i()
            }
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.bounce = function(t, n) {
        var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "effect"),
        o = s === "hide",
        u = s === "show",
        a = t.direction || "up",
        f = t.distance,
        l = t.times || 5,
        c = l * 2 + (u || o ? 1 : 0),
        h = t.duration / c,
        p = t.easing,
        d = a === "up" || a === "down" ? "top": "left",
        v = a === "up" || a === "left",
        m,
        g,
        y,
        b = r.queue(),
        w = b.length; (u || o) && i.push("opacity"),
        e.effects.save(r, i),
        r.show(),
        e.effects.createWrapper(r),
        f || (f = r[d === "top" ? "outerHeight": "outerWidth"]() / 3),
        u && (y = {
            opacity: 1
        },
        y[d] = 0, r.css("opacity", 0).css(d, v ? -f * 2 : f * 2).animate(y, h, p)),
        o && (f /= Math.pow(2, l - 1)),
        y = {},
        y[d] = 0;
        for (m = 0; m < l; m++) g = {},
        g[d] = (v ? "-\x3d": "+\x3d") + f,
        r.animate(g, h, p).animate(y, h, p),
        f = o ? f * 2 : f / 2;
        o && (g = {
            opacity: 0
        },
        g[d] = (v ? "-\x3d": "+\x3d") + f, r.animate(g, h, p)),
        r.queue(function() {
            o && r.hide(),
            e.effects.restore(r, i),
            e.effects.removeWrapper(r),
            n()
        }),
        w > 1 && b.splice.apply(b, [1, 0].concat(b.splice(w, c + 1))),
        r.dequeue()
    }
} (jQuery),
function(e, t) {
    e.effects.effect.clip = function(t, n) {
        var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "hide"),
        o = s === "show",
        u = t.direction || "vertical",
        a = u === "vertical",
        f = a ? "height": "width",
        l = a ? "top": "left",
        c = {},
        h,
        p,
        d;
        e.effects.save(r, i),
        r.show(),
        h = e.effects.createWrapper(r).css({
            overflow: "hidden"
        }),
        p = r[0].tagName === "IMG" ? h: r,
        d = p[f](),
        o && (p.css(f, 0), p.css(l, d / 2)),
        c[f] = o ? d: 0,
        c[l] = o ? 0 : d / 2,
        p.animate(c, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                o || r.hide(),
                e.effects.restore(r, i),
                e.effects.removeWrapper(r),
                n()
            }
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.drop = function(t, n) {
        var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
        s = e.effects.setMode(r, t.mode || "hide"),
        o = s === "show",
        u = t.direction || "left",
        a = u === "up" || u === "down" ? "top": "left",
        f = u === "up" || u === "left" ? "pos": "neg",
        l = {
            opacity: o ? 1 : 0
        },
        c;
        e.effects.save(r, i),
        r.show(),
        e.effects.createWrapper(r),
        c = t.distance || r[a === "top" ? "outerHeight": "outerWidth"](!0) / 2,
        o && r.css("opacity", 0).css(a, f === "pos" ? -c: c),
        l[a] = (o ? f === "pos" ? "+\x3d": "-\x3d": f === "pos" ? "-\x3d": "+\x3d") + c,
        r.animate(l, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                s === "hide" && r.hide(),
                e.effects.restore(r, i),
                e.effects.removeWrapper(r),
                n()
            }
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.explode = function(t, n) {
        function r() {
            p.push(this),
            p.length === s * o && i()
        }
        function i() {
            u.css({
                visibility: "visible"
            }),
            e(p).remove(),
            f || u.hide(),
            n()
        }
        var s = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3,
        o = s,
        u = e(this),
        a = e.effects.setMode(u, t.mode || "hide"),
        f = a === "show",
        l = u.show().css("visibility", "hidden").offset(),
        c = Math.ceil(u.outerWidth() / o),
        h = Math.ceil(u.outerHeight() / s),
        p = [],
        d,
        v,
        m,
        g,
        y,
        b;
        for (d = 0; d < s; d++) {
            g = l.top + d * h,
            b = d - (s - 1) / 2;
            for (v = 0; v < o; v++) m = l.left + v * c,
            y = v - (o - 1) / 2,
            u.clone().appendTo("body").wrap("\x3cdiv\x3e\x3c/div\x3e").css({
                position: "absolute",
                visibility: "visible",
                left: -v * c,
                top: -d * h
            }).parent().addClass("ui-effects-explode").css({
                position: "absolute",
                overflow: "hidden",
                width: c,
                height: h,
                left: m + (f ? y * c: 0),
                top: g + (f ? b * h: 0),
                opacity: f ? 0 : 1
            }).animate({
                left: m + (f ? 0 : y * c),
                top: g + (f ? 0 : b * h),
                opacity: f ? 1 : 0
            },
            t.duration || 500, t.easing, r)
        }
    }
} (jQuery),
function(e, t) {
    e.effects.effect.fade = function(t, n) {
        var r = e(this),
        i = e.effects.setMode(r, t.mode || "toggle");
        r.animate({
            opacity: i
        },
        {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: n
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.fold = function(t, n) {
        var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "hide"),
        o = s === "show",
        u = s === "hide",
        a = t.size || 15,
        f = /([0-9]+)%/.exec(a),
        l = !!t.horizFirst,
        c = o !== l,
        h = c ? ["width", "height"] : ["height", "width"],
        p = t.duration / 2,
        d,
        v,
        m = {},
        g = {};
        e.effects.save(r, i),
        r.show(),
        d = e.effects.createWrapper(r).css({
            overflow: "hidden"
        }),
        v = c ? [d.width(), d.height()] : [d.height(), d.width()],
        f && (a = parseInt(f[1], 10) / 100 * v[u ? 0 : 1]),
        o && d.css(l ? {
            height: 0,
            width: a
        }: {
            height: a,
            width: 0
        }),
        m[h[0]] = o ? v[0] : a,
        g[h[1]] = o ? v[1] : 0,
        d.animate(m, p, t.easing).animate(g, p, t.easing,
        function() {
            u && r.hide(),
            e.effects.restore(r, i),
            e.effects.removeWrapper(r),
            n()
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.highlight = function(t, n) {
        var r = e(this),
        i = ["backgroundImage", "backgroundColor", "opacity"],
        s = e.effects.setMode(r, t.mode || "show"),
        o = {
            backgroundColor: r.css("backgroundColor")
        };
        s === "hide" && (o.opacity = 0),
        e.effects.save(r, i),
        r.show().css({
            backgroundImage: "none",
            backgroundColor: t.color || "#ffff99"
        }).animate(o, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                s === "hide" && r.hide(),
                e.effects.restore(r, i),
                n()
            }
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.pulsate = function(t, n) {
        var r = e(this),
        i = e.effects.setMode(r, t.mode || "show"),
        s = i === "show",
        o = i === "hide",
        u = s || i === "hide",
        a = (t.times || 5) * 2 + (u ? 1 : 0),
        f = t.duration / a,
        l = 0,
        c = r.queue(),
        h = c.length,
        p;
        if (s || !r.is(":visible")) r.css("opacity", 0).show(),
        l = 1;
        for (p = 1; p < a; p++) r.animate({
            opacity: l
        },
        f, t.easing),
        l = 1 - l;
        r.animate({
            opacity: l
        },
        f, t.easing),
        r.queue(function() {
            o && r.hide(),
            n()
        }),
        h > 1 && c.splice.apply(c, [1, 0].concat(c.splice(h, a + 1))),
        r.dequeue()
    }
} (jQuery),
function(e, t) {
    e.effects.effect.puff = function(t, n) {
        var r = e(this),
        i = e.effects.setMode(r, t.mode || "hide"),
        s = i === "hide",
        o = parseInt(t.percent, 10) || 150,
        u = o / 100,
        a = {
            height: r.height(),
            width: r.width(),
            outerHeight: r.outerHeight(),
            outerWidth: r.outerWidth()
        };
        e.extend(t, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: i,
            complete: n,
            percent: s ? o: 100,
            from: s ? a: {
                height: a.height * u,
                width: a.width * u,
                outerHeight: a.outerHeight * u,
                outerWidth: a.outerWidth * u
            }
        }),
        r.effect(t)
    },
    e.effects.effect.scale = function(t, n) {
        var r = e(this),
        i = e.extend(!0, {},
        t),
        s = e.effects.setMode(r, t.mode || "effect"),
        o = parseInt(t.percent, 10) || (parseInt(t.percent, 10) === 0 ? 0 : s === "hide" ? 0 : 100),
        u = t.direction || "both",
        a = t.origin,
        f = {
            height: r.height(),
            width: r.width(),
            outerHeight: r.outerHeight(),
            outerWidth: r.outerWidth()
        },
        l = {
            y: u !== "horizontal" ? o / 100 : 1,
            x: u !== "vertical" ? o / 100 : 1
        };
        i.effect = "size",
        i.queue = !1,
        i.complete = n,
        s !== "effect" && (i.origin = a || ["middle", "center"], i.restore = !0),
        i.from = t.from || (s === "show" ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        }: f),
        i.to = {
            height: f.height * l.y,
            width: f.width * l.x,
            outerHeight: f.outerHeight * l.y,
            outerWidth: f.outerWidth * l.x
        },
        i.fade && (s === "show" && (i.from.opacity = 0, i.to.opacity = 1), s === "hide" && (i.from.opacity = 1, i.to.opacity = 0)),
        r.effect(i)
    },
    e.effects.effect.size = function(t, n) {
        var r, i, s, o = e(this),
        u = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
        a = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
        f = ["width", "height", "overflow"],
        l = ["fontSize"],
        c = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
        h = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
        p = e.effects.setMode(o, t.mode || "effect"),
        d = t.restore || p !== "effect",
        v = t.scale || "both",
        m = t.origin || ["middle", "center"],
        g = o.css("position"),
        y = d ? u: a,
        b = {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        };
        p === "show" && o.show(),
        r = {
            height: o.height(),
            width: o.width(),
            outerHeight: o.outerHeight(),
            outerWidth: o.outerWidth()
        },
        t.mode === "toggle" && p === "show" ? (o.from = t.to || b, o.to = t.from || r) : (o.from = t.from || (p === "show" ? b: r), o.to = t.to || (p === "hide" ? b: r)),
        s = {
            from: {
                y: o.from.height / r.height,
                x: o.from.width / r.width
            },
            to: {
                y: o.to.height / r.height,
                x: o.to.width / r.width
            }
        };
        if (v === "box" || v === "both") s.from.y !== s.to.y && (y = y.concat(c), o.from = e.effects.setTransition(o, c, s.from.y, o.from), o.to = e.effects.setTransition(o, c, s.to.y, o.to)),
        s.from.x !== s.to.x && (y = y.concat(h), o.from = e.effects.setTransition(o, h, s.from.x, o.from), o.to = e.effects.setTransition(o, h, s.to.x, o.to)); (v === "content" || v === "both") && s.from.y !== s.to.y && (y = y.concat(l).concat(f), o.from = e.effects.setTransition(o, l, s.from.y, o.from), o.to = e.effects.setTransition(o, l, s.to.y, o.to)),
        e.effects.save(o, y),
        o.show(),
        e.effects.createWrapper(o),
        o.css("overflow", "hidden").css(o.from),
        m && (i = e.effects.getBaseline(m, r), o.from.top = (r.outerHeight - o.outerHeight()) * i.y, o.from.left = (r.outerWidth - o.outerWidth()) * i.x, o.to.top = (r.outerHeight - o.to.outerHeight) * i.y, o.to.left = (r.outerWidth - o.to.outerWidth) * i.x),
        o.css(o.from);
        if (v === "content" || v === "both") c = c.concat(["marginTop", "marginBottom"]).concat(l),
        h = h.concat(["marginLeft", "marginRight"]),
        f = u.concat(c).concat(h),
        o.find("*[width]").each(function() {
            var n = e(this),
            r = {
                height: n.height(),
                width: n.width(),
                outerHeight: n.outerHeight(),
                outerWidth: n.outerWidth()
            };
            d && e.effects.save(n, f),
            n.from = {
                height: r.height * s.from.y,
                width: r.width * s.from.x,
                outerHeight: r.outerHeight * s.from.y,
                outerWidth: r.outerWidth * s.from.x
            },
            n.to = {
                height: r.height * s.to.y,
                width: r.width * s.to.x,
                outerHeight: r.height * s.to.y,
                outerWidth: r.width * s.to.x
            },
            s.from.y !== s.to.y && (n.from = e.effects.setTransition(n, c, s.from.y, n.from), n.to = e.effects.setTransition(n, c, s.to.y, n.to)),
            s.from.x !== s.to.x && (n.from = e.effects.setTransition(n, h, s.from.x, n.from), n.to = e.effects.setTransition(n, h, s.to.x, n.to)),
            n.css(n.from),
            n.animate(n.to, t.duration, t.easing,
            function() {
                d && e.effects.restore(n, f)
            })
        });
        o.animate(o.to, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                o.to.opacity === 0 && o.css("opacity", o.from.opacity),
                p === "hide" && o.hide(),
                e.effects.restore(o, y),
                d || (g === "static" ? o.css({
                    position: "relative",
                    top: o.to.top,
                    left: o.to.left
                }) : e.each(["top", "left"],
                function(e, t) {
                    o.css(t,
                    function(t, n) {
                        var r = parseInt(n, 10),
                        i = e ? o.to.left: o.to.top;
                        return n === "auto" ? i + "px": r + i + "px"
                    })
                })),
                e.effects.removeWrapper(o),
                n()
            }
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.shake = function(t, n) {
        var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "effect"),
        o = t.direction || "left",
        u = t.distance || 20,
        a = t.times || 3,
        f = a * 2 + 1,
        l = Math.round(t.duration / f),
        c = o === "up" || o === "down" ? "top": "left",
        h = o === "up" || o === "left",
        p = {},
        d = {},
        v = {},
        m,
        g = r.queue(),
        y = g.length;
        e.effects.save(r, i),
        r.show(),
        e.effects.createWrapper(r),
        p[c] = (h ? "-\x3d": "+\x3d") + u,
        d[c] = (h ? "+\x3d": "-\x3d") + u * 2,
        v[c] = (h ? "-\x3d": "+\x3d") + u * 2,
        r.animate(p, l, t.easing);
        for (m = 1; m < a; m++) r.animate(d, l, t.easing).animate(v, l, t.easing);
        r.animate(d, l, t.easing).animate(p, l / 2, t.easing).queue(function() {
            s === "hide" && r.hide(),
            e.effects.restore(r, i),
            e.effects.removeWrapper(r),
            n()
        }),
        y > 1 && g.splice.apply(g, [1, 0].concat(g.splice(y, f + 1))),
        r.dequeue()
    }
} (jQuery),
function(e, t) {
    e.effects.effect.slide = function(t, n) {
        var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "width", "height"],
        s = e.effects.setMode(r, t.mode || "show"),
        o = s === "show",
        u = t.direction || "left",
        a = u === "up" || u === "down" ? "top": "left",
        f = u === "up" || u === "left",
        l,
        c = {};
        e.effects.save(r, i),
        r.show(),
        l = t.distance || r[a === "top" ? "outerHeight": "outerWidth"](!0),
        e.effects.createWrapper(r).css({
            overflow: "hidden"
        }),
        o && r.css(a, f ? isNaN(l) ? "-" + l: -l: l),
        c[a] = (o ? f ? "+\x3d": "-\x3d": f ? "-\x3d": "+\x3d") + l,
        r.animate(c, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                s === "hide" && r.hide(),
                e.effects.restore(r, i),
                e.effects.removeWrapper(r),
                n()
            }
        })
    }
} (jQuery),
function(e, t) {
    e.effects.effect.transfer = function(t, n) {
        var r = e(this),
        i = e(t.to),
        s = i.css("position") === "fixed",
        o = e("body"),
        u = s ? o.scrollTop() : 0,
        a = s ? o.scrollLeft() : 0,
        f = i.offset(),
        l = {
            top: f.top - u,
            left: f.left - a,
            height: i.innerHeight(),
            width: i.innerWidth()
        },
        c = r.offset(),
        h = e('\x3cdiv class\x3d"ui-effects-transfer"\x3e\x3c/div\x3e').appendTo(document.body).addClass(t.className).css({
            top: c.top - u,
            left: c.left - a,
            height: r.innerHeight(),
            width: r.innerWidth(),
            position: s ? "fixed": "absolute"
        }).animate(l, t.duration, t.easing,
        function() {
            h.remove(),
            n()
        })
    }
} (jQuery),
function() {
    var e = this,
    t = e.Backbone,
    n = [],
    r = n.push,
    i = n.slice,
    s = n.splice,
    o;
    typeof exports != "undefined" ? o = exports: o = e.Backbone = {},
    o.VERSION = "1.0.0";
    var u = e._; ! u && typeof require != "undefined" && (u = require("underscore")),
    o.$ = e.jQuery || e.Zepto || e.ender || e.$,
    o.noConflict = function() {
        return e.Backbone = t,
        this
    },
    o.emulateHTTP = !1,
    o.emulateJSON = !1;
    var a = o.Events = {
        on: function(e, t, n) {
            if (!l(this, "on", e, [t, n]) || !t) return this;
            this._events || (this._events = {});
            var r = this._events[e] || (this._events[e] = []);
            return r.push({
                callback: t,
                context: n,
                ctx: n || this
            }),
            this
        },
        once: function(e, t, n) {
            if (!l(this, "once", e, [t, n]) || !t) return this;
            var r = this,
            i = u.once(function() {
                r.off(e, i),
                t.apply(this, arguments)
            });
            return i._callback = t,
            this.on(e, i, n)
        },
        off: function(e, t, n) {
            var r, i, s, o, a, f, c, h;
            if (!this._events || !l(this, "off", e, [t, n])) return this;
            if (!e && !t && !n) return this._events = {},
            this;
            o = e ? [e] : u.keys(this._events);
            for (a = 0, f = o.length; a < f; a++) {
                e = o[a];
                if (s = this._events[e]) {
                    this._events[e] = r = [];
                    if (t || n) for (c = 0, h = s.length; c < h; c++) i = s[c],
                    (t && t !== i.callback && t !== i.callback._callback || n && n !== i.context) && r.push(i);
                    r.length || delete this._events[e]
                }
            }
            return this
        },
        trigger: function(e) {
            if (!this._events) return this;
            var t = i.call(arguments, 1);
            if (!l(this, "trigger", e, t)) return this;
            var n = this._events[e],
            r = this._events.all;
            return n && c(n, t),
            r && c(r, arguments),
            this
        },
        stopListening: function(e, t, n) {
            var r = this._listeners;
            if (!r) return this;
            var i = !t && !n;
            typeof t == "object" && (n = this),
            e && ((r = {})[e._listenerId] = e);
            for (var s in r) r[s].off(t, n, this),
            i && delete this._listeners[s];
            return this
        }
    },
    f = /\s+/,
    l = function(e, t, n, r) {
        if (!n) return ! 0;
        if (typeof n == "object") {
            for (var i in n) e[t].apply(e, [i, n[i]].concat(r));
            return ! 1
        }
        if (f.test(n)) {
            var s = n.split(f);
            for (var o = 0,
            u = s.length; o < u; o++) e[t].apply(e, [s[o]].concat(r));
            return ! 1
        }
        return ! 0
    },
    c = function(e, t) {
        var n, r = -1,
        i = e.length,
        s = t[0],
        o = t[1],
        u = t[2];
        switch (t.length) {
        case 0:
            while (++r < i)(n = e[r]).callback.call(n.ctx);
            return;
        case 1:
            while (++r < i)(n = e[r]).callback.call(n.ctx, s);
            return;
        case 2:
            while (++r < i)(n = e[r]).callback.call(n.ctx, s, o);
            return;
        case 3:
            while (++r < i)(n = e[r]).callback.call(n.ctx, s, o, u);
            return;
        default:
            while (++r < i)(n = e[r]).callback.apply(n.ctx, t)
        }
    },
    h = {
        listenTo: "on",
        listenToOnce: "once"
    };
    u.each(h,
    function(e, t) {
        a[t] = function(t, n, r) {
            var i = this._listeners || (this._listeners = {}),
            s = t._listenerId || (t._listenerId = u.uniqueId("l"));
            return i[s] = t,
            typeof n == "object" && (r = this),
            t[e](n, r, this),
            this
        }
    }),
    a.bind = a.on,
    a.unbind = a.off,
    u.extend(o, a);
    var p = o.Model = function(e, t) {
        var n, r = e || {};
        t || (t = {}),
        this.cid = u.uniqueId("c"),
        this.attributes = {},
        u.extend(this, u.pick(t, d)),
        t.parse && (r = this.parse(r, t) || {});
        if (n = u.result(this, "defaults")) r = u.defaults({},
        r, n);
        this.set(r, t),
        this.changed = {},
        this.initialize.apply(this, arguments)
    },
    d = ["url", "urlRoot", "collection"];
    u.extend(p.prototype, a, {
        changed: null,
        validationError: null,
        idAttribute: "id",
        initialize: function() {},
        toJSON: function(e) {
            return u.clone(this.attributes)
        },
        sync: function() {
            return o.sync.apply(this, arguments)
        },
        get: function(e) {
            return this.attributes[e]
        },
        escape: function(e) {
            return u.escape(this.get(e))
        },
        has: function(e) {
            return this.get(e) != null
        },
        set: function(e, t, n) {
            var r, i, s, o, a, f, l, c;
            if (e == null) return this;
            typeof e == "object" ? (i = e, n = t) : (i = {})[e] = t,
            n || (n = {});
            if (!this._validate(i, n)) return ! 1;
            s = n.unset,
            a = n.silent,
            o = [],
            f = this._changing,
            this._changing = !0,
            f || (this._previousAttributes = u.clone(this.attributes), this.changed = {}),
            c = this.attributes,
            l = this._previousAttributes,
            this.idAttribute in i && (this.id = i[this.idAttribute]);
            for (r in i) t = i[r],
            u.isEqual(c[r], t) || o.push(r),
            u.isEqual(l[r], t) ? delete this.changed[r] : this.changed[r] = t,
            s ? delete c[r] : c[r] = t;
            if (!a) {
                o.length && (this._pending = !0);
                for (var h = 0,
                p = o.length; h < p; h++) this.trigger("change:" + o[h], this, c[o[h]], n)
            }
            if (f) return this;
            if (!a) while (this._pending) this._pending = !1,
            this.trigger("change", this, n);
            return this._pending = !1,
            this._changing = !1,
            this
        },
        unset: function(e, t) {
            return this.set(e, void 0, u.extend({},
            t, {
                unset: !0
            }))
        },
        clear: function(e) {
            var t = {};
            for (var n in this.attributes) t[n] = void 0;
            return this.set(t, u.extend({},
            e, {
                unset: !0
            }))
        },
        hasChanged: function(e) {
            return e == null ? !u.isEmpty(this.changed) : u.has(this.changed, e)
        },
        changedAttributes: function(e) {
            if (!e) return this.hasChanged() ? u.clone(this.changed) : !1;
            var t, n = !1,
            r = this._changing ? this._previousAttributes: this.attributes;
            for (var i in e) {
                if (u.isEqual(r[i], t = e[i])) continue; (n || (n = {}))[i] = t
            }
            return n
        },
        previous: function(e) {
            return e == null || !this._previousAttributes ? null: this._previousAttributes[e]
        },
        previousAttributes: function() {
            return u.clone(this._previousAttributes)
        },
        fetch: function(e) {
            e = e ? u.clone(e) : {},
            e.parse === void 0 && (e.parse = !0);
            var t = this,
            n = e.success;
            return e.success = function(r) {
                if (!t.set(t.parse(r, e), e)) return ! 1;
                n && n(t, r, e),
                t.trigger("sync", t, r, e)
            },
            j(this, e),
            this.sync("read", this, e)
        },
        save: function(e, t, n) {
            var r, i, s, o = this.attributes;
            e == null || typeof e == "object" ? (r = e, n = t) : (r = {})[e] = t;
            if (r && (!n || !n.wait) && !this.set(r, n)) return ! 1;
            n = u.extend({
                validate: !0
            },
            n);
            if (!this._validate(r, n)) return ! 1;
            r && n.wait && (this.attributes = u.extend({},
            o, r)),
            n.parse === void 0 && (n.parse = !0);
            var a = this,
            f = n.success;
            return n.success = function(e) {
                a.attributes = o;
                var t = a.parse(e, n);
                n.wait && (t = u.extend(r || {},
                t));
                if (u.isObject(t) && !a.set(t, n)) return ! 1;
                f && f(a, e, n),
                a.trigger("sync", a, e, n)
            },
            j(this, n),
            i = this.isNew() ? "create": n.patch ? "patch": "update",
            i === "patch" && (n.attrs = r),
            s = this.sync(i, this, n),
            r && n.wait && (this.attributes = o),
            s
        },
        destroy: function(e) {
            e = e ? u.clone(e) : {};
            var t = this,
            n = e.success,
            r = function() {
                t.trigger("destroy", t, t.collection, e)
            };
            e.success = function(i) { (e.wait || t.isNew()) && r(),
                n && n(t, i, e),
                t.isNew() || t.trigger("sync", t, i, e)
            };
            if (this.isNew()) return e.success(),
            !1;
            j(this, e);
            var i = this.sync("delete", this, e);
            return e.wait || r(),
            i
        },
        url: function() {
            var e = u.result(this, "urlRoot") || u.result(this.collection, "url") || B();
            return this.isNew() ? e: e + (e.charAt(e.length - 1) === "/" ? "": "/") + encodeURIComponent(this.id)
        },
        parse: function(e, t) {
            return e
        },
        clone: function() {
            return new this.constructor(this.attributes)
        },
        isNew: function() {
            return this.id == null
        },
        isValid: function(e) {
            return this._validate({},
            u.extend(e || {},
            {
                validate: !0
            }))
        },
        _validate: function(e, t) {
            if (!t.validate || !this.validate) return ! 0;
            e = u.extend({},
            this.attributes, e);
            var n = this.validationError = this.validate(e, t) || null;
            return n ? (this.trigger("invalid", this, n, u.extend(t || {},
            {
                validationError: n
            })), !1) : !0
        }
    });
    var v = ["keys", "values", "pairs", "invert", "pick", "omit"];
    u.each(v,
    function(e) {
        p.prototype[e] = function() {
            var t = i.call(arguments);
            return t.unshift(this.attributes),
            u[e].apply(u, t)
        }
    });
    var m = o.Collection = function(e, t) {
        t || (t = {}),
        t.url && (this.url = t.url),
        t.model && (this.model = t.model),
        t.comparator !== void 0 && (this.comparator = t.comparator),
        this._reset(),
        this.initialize.apply(this, arguments),
        e && this.reset(e, u.extend({
            silent: !0
        },
        t))
    },
    g = {
        add: !0,
        remove: !0,
        merge: !0
    },
    y = {
        add: !0,
        merge: !1,
        remove: !1
    };
    u.extend(m.prototype, a, {
        model: p,
        initialize: function() {},
        toJSON: function(e) {
            return this.map(function(t) {
                return t.toJSON(e)
            })
        },
        sync: function() {
            return o.sync.apply(this, arguments)
        },
        add: function(e, t) {
            return this.set(e, u.defaults(t || {},
            y))
        },
        remove: function(e, t) {
            e = u.isArray(e) ? e.slice() : [e],
            t || (t = {});
            var n, r, i, s;
            for (n = 0, r = e.length; n < r; n++) {
                s = this.get(e[n]);
                if (!s) continue;
                delete this._byId[s.id],
                delete this._byId[s.cid],
                i = this.indexOf(s),
                this.models.splice(i, 1),
                this.length--,
                t.silent || (t.index = i, s.trigger("remove", s, this, t)),
                this._removeReference(s)
            }
            return this
        },
        set: function(e, t) {
            t = u.defaults(t || {},
            g),
            t.parse && (e = this.parse(e, t)),
            u.isArray(e) || (e = e ? [e] : []);
            var n, i, o, a, f, l, c = t.at,
            h = this.comparator && c == null && t.sort !== !1,
            p = u.isString(this.comparator) ? this.comparator: null,
            d = [],
            v = [],
            m = {};
            for (n = 0, i = e.length; n < i; n++) {
                if (! (o = this._prepareModel(e[n], t))) continue; (f = this.get(o)) ? (t.remove && (m[f.cid] = !0), t.merge && (f.set(o.attributes, t), h && !l && f.hasChanged(p) && (l = !0))) : t.add && (d.push(o), o.on("all", this._onModelEvent, this), this._byId[o.cid] = o, o.id != null && (this._byId[o.id] = o))
            }
            if (t.remove) {
                for (n = 0, i = this.length; n < i; ++n) m[(o = this.models[n]).cid] || v.push(o);
                v.length && this.remove(v, t)
            }
            d.length && (h && (l = !0), this.length += d.length, c != null ? s.apply(this.models, [c, 0].concat(d)) : r.apply(this.models, d)),
            l && this.sort({
                silent: !0
            });
            if (t.silent) return this;
            for (n = 0, i = d.length; n < i; n++)(o = d[n]).trigger("add", o, this, t);
            return l && this.trigger("sort", this, t),
            this
        },
        reset: function(e, t) {
            t || (t = {});
            for (var n = 0,
            r = this.models.length; n < r; n++) this._removeReference(this.models[n]);
            return t.previousModels = this.models,
            this._reset(),
            this.add(e, u.extend({
                silent: !0
            },
            t)),
            t.silent || this.trigger("reset", this, t),
            this
        },
        push: function(e, t) {
            return e = this._prepareModel(e, t),
            this.add(e, u.extend({
                at: this.length
            },
            t)),
            e
        },
        pop: function(e) {
            var t = this.at(this.length - 1);
            return this.remove(t, e),
            t
        },
        unshift: function(e, t) {
            return e = this._prepareModel(e, t),
            this.add(e, u.extend({
                at: 0
            },
            t)),
            e
        },
        shift: function(e) {
            var t = this.at(0);
            return this.remove(t, e),
            t
        },
        slice: function(e, t) {
            return this.models.slice(e, t)
        },
        get: function(e) {
            return e == null ? void 0 : this._byId[e.id != null ? e.id: e.cid || e]
        },
        at: function(e) {
            return this.models[e]
        },
        where: function(e, t) {
            return u.isEmpty(e) ? t ? void 0 : [] : this[t ? "find": "filter"](function(t) {
                for (var n in e) if (e[n] !== t.get(n)) return ! 1;
                return ! 0
            })
        },
        findWhere: function(e) {
            return this.where(e, !0)
        },
        sort: function(e) {
            if (!this.comparator) throw new Error("Cannot sort a set without a comparator");
            return e || (e = {}),
            u.isString(this.comparator) || this.comparator.length === 1 ? this.models = this.sortBy(this.comparator, this) : this.models.sort(u.bind(this.comparator, this)),
            e.silent || this.trigger("sort", this, e),
            this
        },
        sortedIndex: function(e, t, n) {
            t || (t = this.comparator);
            var r = u.isFunction(t) ? t: function(e) {
                return e.get(t)
            };
            return u.sortedIndex(this.models, e, r, n)
        },
        pluck: function(e) {
            return u.invoke(this.models, "get", e)
        },
        fetch: function(e) {
            e = e ? u.clone(e) : {},
            e.parse === void 0 && (e.parse = !0);
            var t = e.success,
            n = this;
            return e.success = function(r) {
                var i = e.reset ? "reset": "set";
                n[i](r, e),
                t && t(n, r, e),
                n.trigger("sync", n, r, e)
            },
            j(this, e),
            this.sync("read", this, e)
        },
        create: function(e, t) {
            t = t ? u.clone(t) : {};
            if (! (e = this._prepareModel(e, t))) return ! 1;
            t.wait || this.add(e, t);
            var n = this,
            r = t.success;
            return t.success = function(i) {
                t.wait && n.add(e, t),
                r && r(e, i, t)
            },
            e.save(null, t),
            e
        },
        parse: function(e, t) {
            return e
        },
        clone: function() {
            return new this.constructor(this.models)
        },
        _reset: function() {
            this.length = 0,
            this.models = [],
            this._byId = {}
        },
        _prepareModel: function(e, t) {
            if (e instanceof p) return e.collection || (e.collection = this),
            e;
            t || (t = {}),
            t.collection = this;
            var n = new this.model(e, t);
            return n._validate(e, t) ? n: (this.trigger("invalid", this, e, t), !1)
        },
        _removeReference: function(e) {
            this === e.collection && delete e.collection,
            e.off("all", this._onModelEvent, this)
        },
        _onModelEvent: function(e, t, n, r) {
            if ((e === "add" || e === "remove") && n !== this) return;
            e === "destroy" && this.remove(t, r),
            t && e === "change:" + t.idAttribute && (delete this._byId[t.previous(t.idAttribute)], t.id != null && (this._byId[t.id] = t)),
            this.trigger.apply(this, arguments)
        }
    });
    var b = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "drop", "last", "without", "indexOf", "shuffle", "lastIndexOf", "isEmpty", "chain"];
    u.each(b,
    function(e) {
        m.prototype[e] = function() {
            var t = i.call(arguments);
            return t.unshift(this.models),
            u[e].apply(u, t)
        }
    });
    var w = ["groupBy", "countBy", "sortBy"];
    u.each(w,
    function(e) {
        m.prototype[e] = function(t, n) {
            var r = u.isFunction(t) ? t: function(e) {
                return e.get(t)
            };
            return u[e](this.models, r, n)
        }
    });
    var E = o.View = function(e) {
        this.cid = u.uniqueId("view"),
        this._configure(e || {}),
        this._ensureElement(),
        this.initialize.apply(this, arguments),
        this.delegateEvents()
    },
    S = /^(\S+)\s*(.*)$/,
    x = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
    u.extend(E.prototype, a, {
        tagName: "div",
        $: function(e) {
            return this.$el.find(e)
        },
        initialize: function() {},
        render: function() {
            return this
        },
        remove: function() {
            return this.$el.remove(),
            this.stopListening(),
            this
        },
        setElement: function(e, t) {
            return this.$el && this.undelegateEvents(),
            this.$el = e instanceof o.$ ? e: o.$(e),
            this.el = this.$el[0],
            t !== !1 && this.delegateEvents(),
            this
        },
        delegateEvents: function(e) {
            if (!e && !(e = u.result(this, "events"))) return this;
            this.undelegateEvents();
            for (var t in e) {
                var n = e[t];
                u.isFunction(n) || (n = this[e[t]]);
                if (!n) continue;
                var r = t.match(S),
                i = r[1],
                s = r[2];
                n = u.bind(n, this),
                i += ".delegateEvents" + this.cid,
                s === "" ? this.$el.on(i, n) : this.$el.on(i, s, n)
            }
            return this
        },
        undelegateEvents: function() {
            return this.$el.off(".delegateEvents" + this.cid),
            this
        },
        _configure: function(e) {
            this.options && (e = u.extend({},
            u.result(this, "options"), e)),
            u.extend(this, u.pick(e, x)),
            this.options = e
        },
        _ensureElement: function() {
            if (!this.el) {
                var e = u.extend({},
                u.result(this, "attributes"));
                this.id && (e.id = u.result(this, "id")),
                this.className && (e["class"] = u.result(this, "className"));
                var t = o.$("\x3c" + u.result(this, "tagName") + "\x3e").attr(e);
                this.setElement(t, !1)
            } else this.setElement(u.result(this, "el"), !1)
        }
    }),
    o.sync = function(e, t, n) {
        var r = T[e];
        u.defaults(n || (n = {}), {
            emulateHTTP: o.emulateHTTP,
            emulateJSON: o.emulateJSON
        });
        var i = {
            type: r,
            dataType: "json"
        };
        n.url || (i.url = u.result(t, "url") || B()),
        n.data == null && t && (e === "create" || e === "update" || e === "patch") && (i.contentType = "application/json", i.data = JSON.stringify(n.attrs || t.toJSON(n))),
        n.emulateJSON && (i.contentType = "application/x-www-form-urlencoded", i.data = i.data ? {
            model: i.data
        }: {});
        if (n.emulateHTTP && (r === "PUT" || r === "DELETE" || r === "PATCH")) {
            i.type = "POST",
            n.emulateJSON && (i.data._method = r);
            var s = n.beforeSend;
            n.beforeSend = function(e) {
                e.setRequestHeader("X-HTTP-Method-Override", r);
                if (s) return s.apply(this, arguments)
            }
        }
        i.type !== "GET" && !n.emulateJSON && (i.processData = !1),
        i.type === "PATCH" && window.ActiveXObject && (!window.external || !window.external.msActiveXFilteringEnabled) && (i.xhr = function() {
            return new ActiveXObject("Microsoft.XMLHTTP")
        });
        var a = n.xhr = o.ajax(u.extend(i, n));
        return t.trigger("request", t, a, n),
        a
    };
    var T = {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        "delete": "DELETE",
        read: "GET"
    };
    o.ajax = function() {
        return o.$.ajax.apply(o.$, arguments)
    };
    var N = o.Router = function(e) {
        e || (e = {}),
        e.routes && (this.routes = e.routes),
        this._bindRoutes(),
        this.initialize.apply(this, arguments)
    },
    C = /\((.*?)\)/g,
    k = /(\(\?)?:\w+/g,
    L = /\*\w+/g,
    A = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    u.extend(N.prototype, a, {
        initialize: function() {},
        route: function(e, t, n) {
            u.isRegExp(e) || (e = this._routeToRegExp(e)),
            u.isFunction(t) && (n = t, t = ""),
            n || (n = this[t]);
            var r = this;
            return o.history.route(e,
            function(i) {
                var s = r._extractParameters(e, i);
                n && n.apply(r, s),
                r.trigger.apply(r, ["route:" + t].concat(s)),
                r.trigger("route", t, s),
                o.history.trigger("route", r, t, s)
            }),
            this
        },
        navigate: function(e, t) {
            return o.history.navigate(e, t),
            this
        },
        _bindRoutes: function() {
            if (!this.routes) return;
            this.routes = u.result(this, "routes");
            var e, t = u.keys(this.routes);
            while ((e = t.pop()) != null) this.route(e, this.routes[e])
        },
        _routeToRegExp: function(e) {
            return e = e.replace(A, "\\$\x26").replace(C, "(?:$1)?").replace(k,
            function(e, t) {
                return t ? e: "([^/]+)"
            }).replace(L, "(.*?)"),
            new RegExp("^" + e + "$")
        },
        _extractParameters: function(e, t) {
            var n = e.exec(t).slice(1);
            return u.map(n,
            function(e) {
                return e ? decodeURIComponent(e) : null
            })
        }
    });
    var O = o.History = function() {
        this.handlers = [],
        u.bindAll(this, "checkUrl"),
        typeof window != "undefined" && (this.location = window.location, this.history = window.history)
    },
    M = /^[#\/]|\s+$/g,
    _ = /^\/+|\/+$/g,
    D = /msie [\w.]+/,
    P = /\/$/;
    O.started = !1,
    u.extend(O.prototype, a, {
        interval: 50,
        getHash: function(e) {
            var t = (e || this).location.href.match(/#(.*)$/);
            return t ? t[1] : ""
        },
        getFragment: function(e, t) {
            if (e == null) if (this._hasPushState || !this._wantsHashChange || t) {
                e = this.location.pathname;
                var n = this.root.replace(P, "");
                e.indexOf(n) || (e = e.substr(n.length))
            } else e = this.getHash();
            return e.replace(M, "")
        },
        start: function(e) {
            if (O.started) throw new Error("Backbone.history has already been started");
            O.started = !0,
            this.options = u.extend({},
            {
                root: "/"
            },
            this.options, e),
            this.root = this.options.root,
            this._wantsHashChange = this.options.hashChange !== !1,
            this._wantsPushState = !!this.options.pushState,
            this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
            var t = this.getFragment(),
            n = document.documentMode,
            r = D.exec(navigator.userAgent.toLowerCase()) && (!n || n <= 7);
            this.root = ("/" + this.root + "/").replace(_, "/"),
            r && this._wantsHashChange && (this.iframe = o.$('\x3ciframe src\x3d"javascript:0" tabindex\x3d"-1" /\x3e').hide().appendTo("body")[0].contentWindow, this.navigate(t)),
            this._hasPushState ? o.$(window).on("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange" in window && !r ? o.$(window).on("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)),
            this.fragment = t;
            var i = this.location,
            s = i.pathname.replace(/[^\/]$/, "$\x26/") === this.root;
            if (this._wantsHashChange && this._wantsPushState && !this._hasPushState && !s) return this.fragment = this.getFragment(null, !0),
            this.location.replace(this.root + this.location.search + "#" + this.fragment),
            !0;
            this._wantsPushState && this._hasPushState && s && i.hash && (this.fragment = this.getHash().replace(M, ""), this.history.replaceState({},
            document.title, this.root + this.fragment + i.search));
            if (!this.options.silent) return this.loadUrl()
        },
        stop: function() {
            o.$(window).off("popstate", this.checkUrl).off("hashchange", this.checkUrl),
            clearInterval(this._checkUrlInterval),
            O.started = !1
        },
        route: function(e, t) {
            this.handlers.unshift({
                route: e,
                callback: t
            })
        },
        checkUrl: function(e) {
            var t = this.getFragment();
            t === this.fragment && this.iframe && (t = this.getFragment(this.getHash(this.iframe)));
            if (t === this.fragment) return ! 1;
            this.iframe && this.navigate(t),
            this.loadUrl() || this.loadUrl(this.getHash())
        },
        loadUrl: function(e) {
            var t = this.fragment = this.getFragment(e),
            n = u.any(this.handlers,
            function(e) {
                if (e.route.test(t)) return e.callback(t),
                !0
            });
            return n
        },
        navigate: function(e, t) {
            if (!O.started) return ! 1;
            if (!t || t === !0) t = {
                trigger: t
            };
            e = this.getFragment(e || "");
            if (this.fragment === e) return;
            this.fragment = e;
            var n = this.root + e;
            if (this._hasPushState) this.history[t.replace ? "replaceState": "pushState"]({},
            document.title, n);
            else {
                if (!this._wantsHashChange) return this.location.assign(n);
                this._updateHash(this.location, e, t.replace),
                this.iframe && e !== this.getFragment(this.getHash(this.iframe)) && (t.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, e, t.replace))
            }
            t.trigger && this.loadUrl(e)
        },
        _updateHash: function(e, t, n) {
            if (n) {
                var r = e.href.replace(/(javascript:|#).*$/, "");
                e.replace(r + "#" + t)
            } else e.hash = "#" + t
        }
    }),
    o.history = new O;
    var H = function(e, t) {
        var n = this,
        r;
        e && u.has(e, "constructor") ? r = e.constructor: r = function() {
            return n.apply(this, arguments)
        },
        u.extend(r, n, t);
        var i = function() {
            this.constructor = r
        };
        return i.prototype = n.prototype,
        r.prototype = new i,
        e && u.extend(r.prototype, e),
        r.__super__ = n.prototype,
        r
    };
    p.extend = m.extend = N.extend = E.extend = O.extend = H;
    var B = function() {
        throw new Error('A "url" property or function must be specified');
    },
    j = function(e, t) {
        var n = t.error;
        t.error = function(r) {
            n && n(e, r, t),
            e.trigger("error", e, r, t)
        }
    }
}.call(this),
typeof JSON != "object" && (JSON = {}),
function() {
    function f(e) {
        return e < 10 ? "0" + e: e
    }
    function quote(e) {
        return escapable.lastIndex = 0,
        escapable.test(e) ? '"' + e.replace(escapable,
        function(e) {
            var t = meta[e];
            return typeof t == "string" ? t: "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice( - 4)
        }) + '"': '"' + e + '"'
    }
    function str(e, t) {
        var n, r, i, s, o = gap,
        u, a = t[e];
        a && typeof a == "object" && typeof a.toJSON == "function" && (a = a.toJSON(e)),
        typeof rep == "function" && (a = rep.call(t, e, a));
        switch (typeof a) {
        case "string":
            return quote(a);
        case "number":
            return isFinite(a) ? String(a) : "null";
        case "boolean":
        case "null":
            return String(a);
        case "object":
            if (!a) return "null";
            gap += indent,
            u = [];
            if (Object.prototype.toString.apply(a) === "[object Array]") {
                s = a.length;
                for (n = 0; n < s; n += 1) u[n] = str(n, a) || "null";
                return i = u.length === 0 ? "[]": gap ? "[\n" + gap + u.join(",\n" + gap) + "\n" + o + "]": "[" + u.join(",") + "]",
                gap = o,
                i
            }
            if (rep && typeof rep == "object") {
                s = rep.length;
                for (n = 0; n < s; n += 1) typeof rep[n] == "string" && (r = rep[n], i = str(r, a), i && u.push(quote(r) + (gap ? ": ": ":") + i))
            } else for (r in a) Object.prototype.hasOwnProperty.call(a, r) && (i = str(r, a), i && u.push(quote(r) + (gap ? ": ": ":") + i));
            return i = u.length === 0 ? "{}": gap ? "{\n" + gap + u.join(",\n" + gap) + "\n" + o + "}": "{" + u.join(",") + "}",
            gap = o,
            i
        }
    }
    typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function(e) {
        return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z": null
    },
    String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function(e) {
        return this.valueOf()
    });
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
    escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
    gap, indent, meta = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
    },
    rep;
    typeof JSON.stringify != "function" && (JSON.stringify = function(e, t, n) {
        var r;
        gap = "",
        indent = "";
        if (typeof n == "number") for (r = 0; r < n; r += 1) indent += " ";
        else typeof n == "string" && (indent = n);
        rep = t;
        if (!t || typeof t == "function" || typeof t == "object" && typeof t.length == "number") return str("", {
            "": e
        });
        throw new Error("JSON.stringify");
    }),
    typeof JSON.parse != "function" && (JSON.parse = function(text, reviver) {
        function walk(e, t) {
            var n, r, i = e[t];
            if (i && typeof i == "object") for (n in i) Object.prototype.hasOwnProperty.call(i, n) && (r = walk(i, n), r !== undefined ? i[n] = r: delete i[n]);
            return reviver.call(e, t, i)
        }
        var j;
        text = String(text),
        cx.lastIndex = 0,
        cx.test(text) && (text = text.replace(cx,
        function(e) {
            return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice( - 4)
        }));
        if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"),
        typeof reviver == "function" ? walk({
            "": j
        },
        "") : j;
        throw new SyntaxError("JSON.parse");
    })
} (),
window.Modernizr = function(e, t, n) {
    function A(e) {
        f.cssText = e
    }
    function O(e, t) {
        return A(p.join(e + ";") + (t || ""))
    }
    function M(e, t) {
        return typeof e === t
    }
    function _(e, t) {
        return !! ~ ("" + e).indexOf(t)
    }
    function D(e, t) {
        for (var r in e) {
            var i = e[r];
            if (!_(i, "-") && f[i] !== n) return t == "pfx" ? i: !0
        }
        return ! 1
    }
    function P(e, t, r) {
        for (var i in e) {
            var s = t[e[i]];
            if (s !== n) return r === !1 ? e[i] : M(s, "function") ? s.bind(r || t) : s
        }
        return ! 1
    }
    function H(e, t, n) {
        var r = e.charAt(0).toUpperCase() + e.slice(1),
        i = (e + " " + v.join(r + " ") + r).split(" ");
        return M(t, "string") || M(t, "undefined") ? D(i, t) : (i = (e + " " + m.join(r + " ") + r).split(" "), P(i, t, n))
    }
    function B() {
        i.input = function(n) {
            for (var r = 0,
            i = n.length; r < i; r++) w[n[r]] = n[r] in l;
            return w.list && (w.list = !!t.createElement("datalist") && !!e.HTMLDataListElement),
            w
        } ("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),
        i.inputtypes = function(e) {
            for (var r = 0,
            i, s, u, a = e.length; r < a; r++) l.setAttribute("type", s = e[r]),
            i = l.type !== "text",
            i && (l.value = c, l.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(s) && l.style.WebkitAppearance !== n ? (o.appendChild(l), u = t.defaultView, i = u.getComputedStyle && u.getComputedStyle(l, null).WebkitAppearance !== "textfield" && l.offsetHeight !== 0, o.removeChild(l)) : /^(search|tel)$/.test(s) || (/^(url|email)$/.test(s) ? i = l.checkValidity && l.checkValidity() === !1 : i = l.value != c)),
            b[e[r]] = !!i;
            return b
        } ("search tel url email datetime date month week time datetime-local number range color".split(" "))
    }
    var r = "2.7.1",
    i = {},
    s = !0,
    o = t.documentElement,
    u = "modernizr",
    a = t.createElement(u),
    f = a.style,
    l = t.createElement("input"),
    c = ":)",
    h = {}.toString,
    p = " -webkit- -moz- -o- -ms- ".split(" "),
    d = "Webkit Moz O ms",
    v = d.split(" "),
    m = d.toLowerCase().split(" "),
    g = {
        svg: "http://www.w3.org/2000/svg"
    },
    y = {},
    b = {},
    w = {},
    E = [],
    S = E.slice,
    x,
    T = function(e, n, r, i) {
        var s, a, f, l, c = t.createElement("div"),
        h = t.body,
        p = h || t.createElement("body");
        if (parseInt(r, 10)) while (r--) f = t.createElement("div"),
        f.id = i ? i[r] : u + (r + 1),
        c.appendChild(f);
        return s = ["\x26#173;", '\x3cstyle id\x3d"s', u, '"\x3e', e, "\x3c/style\x3e"].join(""),
        c.id = u,
        (h ? c: p).innerHTML += s,
        p.appendChild(c),
        h || (p.style.background = "", p.style.overflow = "hidden", l = o.style.overflow, o.style.overflow = "hidden", o.appendChild(p)),
        a = n(c, e),
        h ? c.parentNode.removeChild(c) : (p.parentNode.removeChild(p), o.style.overflow = l),
        !!a
    },
    N = function(t) {
        var n = e.matchMedia || e.msMatchMedia;
        if (n) return n(t).matches;
        var r;
        return T("@media " + t + " { #" + u + " { position: absolute; } }",
        function(t) {
            r = (e.getComputedStyle ? getComputedStyle(t, null) : t.currentStyle)["position"] == "absolute"
        }),
        r
    },
    C = function() {
        function r(r, i) {
            i = i || t.createElement(e[r] || "div"),
            r = "on" + r;
            var s = r in i;
            return s || (i.setAttribute || (i = t.createElement("div")), i.setAttribute && i.removeAttribute && (i.setAttribute(r, ""), s = M(i[r], "function"), M(i[r], "undefined") || (i[r] = n), i.removeAttribute(r))),
            i = null,
            s
        }
        var e = {
            select: "input",
            change: "input",
            submit: "form",
            reset: "form",
            error: "img",
            load: "img",
            abort: "img"
        };
        return r
    } (),
    k = {}.hasOwnProperty,
    L; ! M(k, "undefined") && !M(k.call, "undefined") ? L = function(e, t) {
        return k.call(e, t)
    }: L = function(e, t) {
        return t in e && M(e.constructor.prototype[t], "undefined")
    },
    Function.prototype.bind || (Function.prototype.bind = function(t) {
        var n = this;
        if (typeof n != "function") throw new TypeError;
        var r = S.call(arguments, 1),
        i = function() {
            if (this instanceof i) {
                var e = function() {};
                e.prototype = n.prototype;
                var s = new e,
                o = n.apply(s, r.concat(S.call(arguments)));
                return Object(o) === o ? o: s
            }
            return n.apply(t, r.concat(S.call(arguments)))
        };
        return i
    }),
    y.flexbox = function() {
        return H("flexWrap")
    },
    y.flexboxlegacy = function() {
        return H("boxDirection")
    },
    y.canvas = function() {
        var e = t.createElement("canvas");
        return !! e.getContext && !!e.getContext("2d")
    },
    y.canvastext = function() {
        return !! i.canvas && !!M(t.createElement("canvas").getContext("2d").fillText, "function")
    },
    y.webgl = function() {
        return !! e.WebGLRenderingContext
    },
    y.touch = function() {
        var n;
        return "ontouchstart" in e || e.DocumentTouch && t instanceof DocumentTouch ? n = !0 : T(["@media (", p.join("touch-enabled),("), u, ")", "{#modernizr{top:9px;position:absolute}}"].join(""),
        function(e) {
            n = e.offsetTop === 9
        }),
        n
    },
    y.geolocation = function() {
        return "geolocation" in navigator
    },
    y.postmessage = function() {
        return !! e.postMessage
    },
    y.websqldatabase = function() {
        return !! e.openDatabase
    },
    y.indexedDB = function() {
        return !! H("indexedDB", e)
    },
    y.hashchange = function() {
        return C("hashchange", e) && (t.documentMode === n || t.documentMode > 7)
    },
    y.history = function() {
        return !! e.history && !!history.pushState
    },
    y.draganddrop = function() {
        var e = t.createElement("div");
        return "draggable" in e || "ondragstart" in e && "ondrop" in e
    },
    y.websockets = function() {
        return "WebSocket" in e || "MozWebSocket" in e
    },
    y.rgba = function() {
        return A("background-color:rgba(150,255,150,.5)"),
        _(f.backgroundColor, "rgba")
    },
    y.hsla = function() {
        return A("background-color:hsla(120,40%,100%,.5)"),
        _(f.backgroundColor, "rgba") || _(f.backgroundColor, "hsla")
    },
    y.multiplebgs = function() {
        return A("background:url(https://),url(https://),red url(https://)"),
        /(url\s*\(.*?){3}/.test(f.background)
    },
    y.backgroundsize = function() {
        return H("backgroundSize")
    },
    y.borderimage = function() {
        return H("borderImage")
    },
    y.borderradius = function() {
        return H("borderRadius")
    },
    y.boxshadow = function() {
        return H("boxShadow")
    },
    y.textshadow = function() {
        return t.createElement("div").style.textShadow === ""
    },
    y.opacity = function() {
        return O("opacity:.55"),
        /^0.55$/.test(f.opacity)
    },
    y.cssanimations = function() {
        return H("animationName")
    },
    y.csscolumns = function() {
        return H("columnCount")
    },
    y.cssgradients = function() {
        var e = "background-image:",
        t = "gradient(linear,left top,right bottom,from(#9f9),to(white));",
        n = "linear-gradient(left top,#9f9, white);";
        return A((e + "-webkit- ".split(" ").join(t + e) + p.join(n + e)).slice(0, -e.length)),
        _(f.backgroundImage, "gradient")
    },
    y.cssreflections = function() {
        return H("boxReflect")
    },
    y.csstransforms = function() {
        return !! H("transform")
    },
    y.csstransforms3d = function() {
        var e = !!H("perspective");
        return e && "webkitPerspective" in o.style && T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",
        function(t, n) {
            e = t.offsetLeft === 9 && t.offsetHeight === 3
        }),
        e
    },
    y.csstransitions = function() {
        return H("transition")
    },
    y.fontface = function() {
        var e;
        return T('@font-face {font-family:"font";src:url("https://")}',
        function(n, r) {
            var i = t.getElementById("smodernizr"),
            s = i.sheet || i.styleSheet,
            o = s ? s.cssRules && s.cssRules[0] ? s.cssRules[0].cssText: s.cssText || "": "";
            e = /src/i.test(o) && o.indexOf(r.split(" ")[0]) === 0
        }),
        e
    },
    y.generatedcontent = function() {
        var e;
        return T(["#", u, "{font:0/0 a}#", u, ':after{content:"', c, '";visibility:hidden;font:3px/1 a}'].join(""),
        function(t) {
            e = t.offsetHeight >= 3
        }),
        e
    },
    y.video = function() {
        var e = t.createElement("video"),
        n = !1;
        try {
            if (n = !!e.canPlayType) n = new Boolean(n),
            n.ogg = e.canPlayType('video/ogg; codecs\x3d"theora"').replace(/^no$/, ""),
            n.h264 = e.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(/^no$/, ""),
            n.webm = e.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/^no$/, "")
        } catch(r$26) {}
        return n
    },
    y.audio = function() {
        var e = t.createElement("audio"),
        n = !1;
        try {
            if (n = !!e.canPlayType) n = new Boolean(n),
            n.ogg = e.canPlayType('audio/ogg; codecs\x3d"vorbis"').replace(/^no$/, ""),
            n.mp3 = e.canPlayType("audio/mpeg;").replace(/^no$/, ""),
            n.wav = e.canPlayType('audio/wav; codecs\x3d"1"').replace(/^no$/, ""),
            n.m4a = (e.canPlayType("audio/x-m4a;") || e.canPlayType("audio/aac;")).replace(/^no$/, "")
        } catch(r$27) {}
        return n
    },
    y.localstorage = function() {
        try {
            return localStorage.setItem(u, u),
            localStorage.removeItem(u),
            !0
        } catch(e$28) {
            return ! 1
        }
    },
    y.sessionstorage = function() {
        try {
            return sessionStorage.setItem(u, u),
            sessionStorage.removeItem(u),
            !0
        } catch(e$29) {
            return ! 1
        }
    },
    y.webworkers = function() {
        return !! e.Worker
    },
    y.applicationcache = function() {
        return !! e.applicationCache
    },
    y.svg = function() {
        return !! t.createElementNS && !!t.createElementNS(g.svg, "svg").createSVGRect
    },
    y.inlinesvg = function() {
        var e = t.createElement("div");
        return e.innerHTML = "\x3csvg/\x3e",
        (e.firstChild && e.firstChild.namespaceURI) == g.svg
    },
    y.smil = function() {
        return !! t.createElementNS && /SVGAnimate/.test(h.call(t.createElementNS(g.svg, "animate")))
    },
    y.svgclippaths = function() {
        return !! t.createElementNS && /SVGClipPath/.test(h.call(t.createElementNS(g.svg, "clipPath")))
    };
    for (var j in y) L(y, j) && (x = j.toLowerCase(), i[x] = y[j](), E.push((i[x] ? "": "no-") + x));
    return i.input || B(),
    i.addTest = function(e, t) {
        if (typeof e == "object") for (var r in e) L(e, r) && i.addTest(r, e[r]);
        else {
            e = e.toLowerCase();
            if (i[e] !== n) return i;
            t = typeof t == "function" ? t() : t,
            typeof s != "undefined" && s && (o.className += " " + (t ? "": "no-") + e),
            i[e] = t
        }
        return i
    },
    A(""),
    a = l = null,
    function(e, t) {
        function c(e, t) {
            var n = e.createElement("p"),
            r = e.getElementsByTagName("head")[0] || e.documentElement;
            return n.innerHTML = "x\x3cstyle\x3e" + t + "\x3c/style\x3e",
            r.insertBefore(n.lastChild, r.firstChild)
        }
        function h() {
            var e = y.elements;
            return typeof e == "string" ? e.split(" ") : e
        }
        function p(e) {
            var t = f[e[u]];
            return t || (t = {},
            a++, e[u] = a, f[a] = t),
            t
        }
        function d(e, n, r) {
            n || (n = t);
            if (l) return n.createElement(e);
            r || (r = p(n));
            var o;
            return r.cache[e] ? o = r.cache[e].cloneNode() : s.test(e) ? o = (r.cache[e] = r.createElem(e)).cloneNode() : o = r.createElem(e),
            o.canHaveChildren && !i.test(e) && !o.tagUrn ? r.frag.appendChild(o) : o
        }
        function v(e, n) {
            e || (e = t);
            if (l) return e.createDocumentFragment();
            n = n || p(e);
            var r = n.frag.cloneNode(),
            i = 0,
            s = h(),
            o = s.length;
            for (; i < o; i++) r.createElement(s[i]);
            return r
        }
        function m(e, t) {
            t.cache || (t.cache = {},
            t.createElem = e.createElement, t.createFrag = e.createDocumentFragment, t.frag = t.createFrag()),
            e.createElement = function(n) {
                return y.shivMethods ? d(n, e, t) : t.createElem(n)
            },
            e.createDocumentFragment = Function("h,f", "return function(){var n\x3df.cloneNode(),c\x3dn.createElement;h.shivMethods\x26\x26(" + h().join().replace(/[\w\-]+/g,
            function(e) {
                return t.createElem(e),
                t.frag.createElement(e),
                'c("' + e + '")'
            }) + ");return n}")(y, t.frag)
        }
        function g(e) {
            e || (e = t);
            var n = p(e);
            return y.shivCSS && !o && !n.hasCSS && (n.hasCSS = !!c(e, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),
            l || m(e, n),
            e
        }
        var n = "3.7.0",
        r = e.html5 || {},
        i = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
        s = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
        o, u = "_html5shiv",
        a = 0,
        f = {},
        l; (function() {
            try {
                var e = t.createElement("a");
                e.innerHTML = "\x3cxyz\x3e\x3c/xyz\x3e",
                o = "hidden" in e,
                l = e.childNodes.length == 1 ||
                function() {
                    t.createElement("a");
                    var e = t.createDocumentFragment();
                    return typeof e.cloneNode == "undefined" || typeof e.createDocumentFragment == "undefined" || typeof e.createElement == "undefined"
                } ()
            } catch(n$30) {
                o = !0,
                l = !0
            }
        })();
        var y = {
            elements: r.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
            version: n,
            shivCSS: r.shivCSS !== !1,
            supportsUnknownElements: l,
            shivMethods: r.shivMethods !== !1,
            type: "default",
            shivDocument: g,
            createElement: d,
            createDocumentFragment: v
        };
        e.html5 = y,
        g(t)
    } (this, t),
    i._version = r,
    i._prefixes = p,
    i._domPrefixes = m,
    i._cssomPrefixes = v,
    i.mq = N,
    i.hasEvent = C,
    i.testProp = function(e) {
        return D([e])
    },
    i.testAllProps = H,
    i.testStyles = T,
    i.prefixed = function(e, t, n) {
        return t ? H(e, t, n) : H(e, "pfx")
    },
    o.className = o.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (s ? " js " + E.join(" ") : ""),
    i
} (this, this.document),
function(e) {
    e.extend(e.fn, {
        validate: function(t) {
            if (!this.length) {
                t && t.debug && window.console && console.warn("nothing selected, can't validate, returning nothing");
                return
            }
            var n = e.data(this[0], "validator");
            return n ? n: (this.attr("novalidate", "novalidate"), n = new e.validator(t, this[0]), e.data(this[0], "validator", n), n.settings.onsubmit && (this.validateDelegate(":submit", "click",
            function(t) {
                n.settings.submitHandler && (n.submitButton = t.target),
                e(t.target).hasClass("cancel") && (n.cancelSubmit = !0)
            }), this.submit(function(t) {
                function r() {
                    var r;
                    return n.settings.submitHandler ? (n.submitButton && (r = e("\x3cinput type\x3d'hidden'/\x3e").attr("name", n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm)), n.settings.submitHandler.call(n, n.currentForm, t), n.submitButton && r.remove(), !1) : !0
                }
                return n.settings.debug && t.preventDefault(),
                n.cancelSubmit ? (n.cancelSubmit = !1, r()) : n.form() ? n.pendingRequest ? (n.formSubmitted = !0, !1) : r() : (n.focusInvalid(), !1)
            })), n)
        },
        valid: function() {
            if (e(this[0]).is("form")) return this.validate().form();
            var t = !0,
            n = e(this[0].form).validate();
            return this.each(function() {
                t &= n.element(this)
            }),
            t
        },
        removeAttrs: function(t) {
            var n = {},
            r = this;
            return e.each(t.split(/\s/),
            function(e, t) {
                n[t] = r.attr(t),
                r.removeAttr(t)
            }),
            n
        },
        rules: function(t, n) {
            var r = this[0];
            if (t) {
                var i = e.data(r.form, "validator").settings,
                s = i.rules,
                o = e.validator.staticRules(r);
                switch (t) {
                case "add":
                    e.extend(o, e.validator.normalizeRule(n)),
                    s[r.name] = o,
                    n.messages && (i.messages[r.name] = e.extend(i.messages[r.name], n.messages));
                    break;
                case "remove":
                    if (!n) return delete s[r.name],
                    o;
                    var u = {};
                    return e.each(n.split(/\s/),
                    function(e, t) {
                        u[t] = o[t],
                        delete o[t]
                    }),
                    u
                }
            }
            var f = e.validator.normalizeRules(e.extend({},
            e.validator.metadataRules(r), e.validator.classRules(r), e.validator.attributeRules(r), e.validator.staticRules(r)), r);
            if (f.required) {
                var l = f.required;
                delete f.required,
                f = e.extend({
                    required: l
                },
                f)
            }
            return f
        }
    }),
    e.extend(e.expr[":"], {
        blank: function(t) {
            return ! e.trim("" + t.value)
        },
        filled: function(t) {
            return !! e.trim("" + t.value)
        },
        unchecked: function(e) {
            return ! e.checked
        }
    }),
    e.validator = function(t, n) {
        this.settings = e.extend(!0, {},
        e.validator.defaults, t),
        this.currentForm = n,
        this.init()
    },
    e.validator.format = function(t, n) {
        return arguments.length === 1 ?
        function() {
            var n = e.makeArray(arguments);
            return n.unshift(t),
            e.validator.format.apply(this, n)
        }: (arguments.length > 2 && n.constructor !== Array && (n = e.makeArray(arguments).slice(1)), n.constructor !== Array && (n = [n]), e.each(n,
        function(e, n) {
            t = t.replace(new RegExp("\\{" + e + "\\}", "g"), n)
        }), t)
    },
    e.extend(e.validator, {
        defaults: {
            messages: {},
            groups: {},
            rules: {},
            errorClass: "error",
            validClass: "valid",
            errorElement: "label",
            focusInvalid: !0,
            errorContainer: e([]),
            errorLabelContainer: e([]),
            onsubmit: !0,
            ignore: ":hidden",
            ignoreTitle: !1,
            onfocusin: function(e, t) {
                this.lastActive = e,
                this.settings.focusCleanup && !this.blockFocusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, e, this.settings.errorClass, this.settings.validClass), this.addWrapper(this.errorsFor(e)).hide())
            },
            onfocusout: function(e, t) { ! this.checkable(e) && (e.name in this.submitted || !this.optional(e)) && this.element(e)
            },
            onkeyup: function(e, t) {
                if (t.which === 9 && this.elementValue(e) === "") return; (e.name in this.submitted || e === this.lastActive) && this.element(e)
            },
            onclick: function(e, t) {
                e.name in this.submitted ? this.element(e) : e.parentNode.name in this.submitted && this.element(e.parentNode)
            },
            highlight: function(t, n, r) {
                t.type === "radio" ? this.findByName(t.name).addClass(n).removeClass(r) : e(t).addClass(n).removeClass(r)
            },
            unhighlight: function(t, n, r) {
                t.type === "radio" ? this.findByName(t.name).removeClass(n).addClass(r) : e(t).removeClass(n).addClass(r)
            }
        },
        setDefaults: function(t) {
            e.extend(e.validator.defaults, t)
        },
        messages: {
            required: "This field is required.",
            remote: "Please fix this field.",
            email: "Please enter a valid email address.",
            url: "Please enter a valid URL.",
            date: "Please enter a valid date.",
            dateISO: "Please enter a valid date (ISO).",
            number: "Please enter a valid number.",
            digits: "Please enter only digits.",
            creditcard: "Please enter a valid credit card number.",
            equalTo: "Please enter the same value again.",
            maxlength: e.validator.format("Please enter no more than {0} characters."),
            minlength: e.validator.format("Please enter at least {0} characters."),
            rangelength: e.validator.format("Please enter a value between {0} and {1} characters long."),
            range: e.validator.format("Please enter a value between {0} and {1}."),
            max: e.validator.format("Please enter a value less than or equal to {0}."),
            min: e.validator.format("Please enter a value greater than or equal to {0}.")
        },
        autoCreateRanges: !1,
        prototype: {
            init: function() {
                function t(t) {
                    var n = e.data(this[0].form, "validator"),
                    r = "on" + t.type.replace(/^validate/, "");
                    n.settings[r] && n.settings[r].call(n, this[0], t)
                }
                this.labelContainer = e(this.settings.errorLabelContainer),
                this.errorContext = this.labelContainer.length && this.labelContainer || e(this.currentForm),
                this.containers = e(this.settings.errorContainer).add(this.settings.errorLabelContainer),
                this.submitted = {},
                this.valueCache = {},
                this.pendingRequest = 0,
                this.pending = {},
                this.invalid = {},
                this.reset();
                var n = this.groups = {};
                e.each(this.settings.groups,
                function(t, r) {
                    e.each(r.split(/\s/),
                    function(e, r) {
                        n[r] = t
                    })
                });
                var r = this.settings.rules;
                e.each(r,
                function(t, n) {
                    r[t] = e.validator.normalizeRule(n)
                }),
                e(this.currentForm).validateDelegate(":text, [type\x3d'password'], [type\x3d'file'], select, textarea, [type\x3d'number'], [type\x3d'search'] ,[type\x3d'tel'], [type\x3d'url'], [type\x3d'email'], [type\x3d'datetime'], [type\x3d'date'], [type\x3d'month'], [type\x3d'week'], [type\x3d'time'], [type\x3d'datetime-local'], [type\x3d'range'], [type\x3d'color'] ", "focusin focusout keyup", t).validateDelegate("[type\x3d'radio'], [type\x3d'checkbox'], select, option", "click", t),
                this.settings.invalidHandler && e(this.currentForm).bind("invalid-form.validate", this.settings.invalidHandler)
            },
            form: function() {
                return this.checkForm(),
                e.extend(this.submitted, this.errorMap),
                this.invalid = e.extend({},
                this.errorMap),
                this.valid() || e(this.currentForm).triggerHandler("invalid-form", [this]),
                this.showErrors(),
                this.valid()
            },
            checkForm: function() {
                this.prepareForm();
                for (var e = 0,
                t = this.currentElements = this.elements(); t[e]; e++) this.check(t[e]);
                return this.valid()
            },
            element: function(t) {
                t = this.validationTargetFor(this.clean(t)),
                this.lastElement = t,
                this.prepareElement(t),
                this.currentElements = e(t);
                var n = this.check(t) !== !1;
                return n ? delete this.invalid[t.name] : this.invalid[t.name] = !0,
                this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)),
                this.showErrors(),
                n
            },
            showErrors: function(t) {
                if (t) {
                    e.extend(this.errorMap, t),
                    this.errorList = [];
                    for (var n in t) this.errorList.push({
                        message: t[n],
                        element: this.findByName(n)[0]
                    });
                    this.successList = e.grep(this.successList,
                    function(e) {
                        return ! (e.name in t)
                    })
                }
                this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors()
            },
            resetForm: function() {
                e.fn.resetForm && e(this.currentForm).resetForm(),
                this.submitted = {},
                this.lastElement = null,
                this.prepareForm(),
                this.hideErrors(),
                this.elements().removeClass(this.settings.errorClass).removeData("previousValue")
            },
            numberOfInvalids: function() {
                return this.objectLength(this.invalid)
            },
            objectLength: function(e) {
                var t = 0;
                for (var n in e) t++;
                return t
            },
            hideErrors: function() {
                this.addWrapper(this.toHide).hide()
            },
            valid: function() {
                return this.size() === 0
            },
            size: function() {
                return this.errorList.length
            },
            focusInvalid: function() {
                if (this.settings.focusInvalid) try {
                    e(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin")
                } catch(t) {}
            },
            findLastActive: function() {
                var t = this.lastActive;
                return t && e.grep(this.errorList,
                function(e) {
                    return e.element.name === t.name
                }).length === 1 && t
            },
            elements: function() {
                var t = this,
                n = {};
                return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function() {
                    return ! this.name && t.settings.debug && window.console && console.error("%o has no name assigned", this),
                    this.name in n || !t.objectLength(e(this).rules()) ? !1 : (n[this.name] = !0, !0)
                })
            },
            clean: function(t) {
                return e(t)[0]
            },
            errors: function() {
                var t = this.settings.errorClass.replace(" ", ".");
                return e(this.settings.errorElement + "." + t, this.errorContext)
            },
            reset: function() {
                this.successList = [],
                this.errorList = [],
                this.errorMap = {},
                this.toShow = e([]),
                this.toHide = e([]),
                this.currentElements = e([])
            },
            prepareForm: function() {
                this.reset(),
                this.toHide = this.errors().add(this.containers)
            },
            prepareElement: function(e) {
                this.reset(),
                this.toHide = this.errorsFor(e)
            },
            elementValue: function(t) {
                var n = e(t).attr("type"),
                r = e(t).val();
                return n === "radio" || n === "checkbox" ? e('input[name\x3d"' + e(t).attr("name") + '"]:checked').val() : typeof r == "string" ? r.replace(/\r/g, "") : r
            },
            check: function(t) {
                t = this.validationTargetFor(this.clean(t));
                var n = e(t).rules(),
                r = !1,
                i = this.elementValue(t),
                s;
                for (var o in n) {
                    var u = {
                        method: o,
                        parameters: n[o]
                    };
                    try {
                        s = e.validator.methods[o].call(this, i, t, u.parameters);
                        if (s === "dependency-mismatch") {
                            r = !0;
                            continue
                        }
                        r = !1;
                        if (s === "pending") {
                            this.toHide = this.toHide.not(this.errorsFor(t));
                            return
                        }
                        if (!s) return this.formatAndAdd(t, u),
                        !1
                    } catch(f) {
                        throw this.settings.debug && window.console && console.log("exception occured when checking element " + t.id + ", check the '" + u.method + "' method", f),
                        f;
                    }
                }
                if (r) return;
                return this.objectLength(n) && this.successList.push(t),
                !0
            },
            customMetaMessage: function(t, n) {
                if (!e.metadata) return;
                var r = this.settings.meta ? e(t).metadata()[this.settings.meta] : e(t).metadata();
                return r && r.messages && r.messages[n]
            },
            customDataMessage: function(t, n) {
                return e(t).data("msg-" + n.toLowerCase()) || t.attributes && e(t).attr("data-msg-" + n.toLowerCase())
            },
            customMessage: function(e, t) {
                var n = this.settings.messages[e];
                return n && (n.constructor === String ? n: n[t])
            },
            findDefined: function() {
                for (var e = 0; e < arguments.length; e++) if (arguments[e] !== undefined) return arguments[e];
                return undefined
            },
            defaultMessage: function(t, n) {
                return this.findDefined(this.customMessage(t.name, n), this.customDataMessage(t, n), this.customMetaMessage(t, n), !this.settings.ignoreTitle && t.title || undefined, e.validator.messages[n], "\x3cstrong\x3eWarning: No message defined for " + t.name + "\x3c/strong\x3e")
            },
            formatAndAdd: function(t, n) {
                var r = this.defaultMessage(t, n.method),
                i = /\$?\{(\d+)\}/g;
                typeof r == "function" ? r = r.call(this, n.parameters, t) : i.test(r) && (r = e.validator.format(r.replace(i, "{$1}"), n.parameters)),
                this.errorList.push({
                    message: r,
                    element: t
                }),
                this.errorMap[t.name] = r,
                this.submitted[t.name] = r
            },
            addWrapper: function(e) {
                return this.settings.wrapper && (e = e.add(e.parent(this.settings.wrapper))),
                e
            },
            defaultShowErrors: function() {
                var e, t;
                for (e = 0; this.errorList[e]; e++) {
                    var n = this.errorList[e];
                    this.settings.highlight && this.settings.highlight.call(this, n.element, this.settings.errorClass, this.settings.validClass),
                    this.showLabel(n.element, n.message)
                }
                this.errorList.length && (this.toShow = this.toShow.add(this.containers));
                if (this.settings.success) for (e = 0; this.successList[e]; e++) this.showLabel(this.successList[e]);
                if (this.settings.unhighlight) for (e = 0, t = this.validElements(); t[e]; e++) this.settings.unhighlight.call(this, t[e], this.settings.errorClass, this.settings.validClass);
                this.toHide = this.toHide.not(this.toShow),
                this.hideErrors(),
                this.addWrapper(this.toShow).show()
            },
            validElements: function() {
                return this.currentElements.not(this.invalidElements())
            },
            invalidElements: function() {
                return e(this.errorList).map(function() {
                    return this.element
                })
            },
            showLabel: function(t, n) {
                var r = this.errorsFor(t);
                r.length ? (r.removeClass(this.settings.validClass).addClass(this.settings.errorClass), r.attr("generated") && r.html(n)) : (r = e("\x3c" + this.settings.errorElement + "/\x3e").attr({
                    "for": this.idOrName(t),
                    generated: !0
                }).addClass(this.settings.errorClass).html(n || ""), this.settings.wrapper && (r = r.hide().show().wrap("\x3c" + this.settings.wrapper + "/\x3e").parent()), this.labelContainer.append(r).length || (this.settings.errorPlacement ? this.settings.errorPlacement(r, e(t)) : r.insertAfter(t))),
                !n && this.settings.success && (r.text(""), typeof this.settings.success == "string" ? r.addClass(this.settings.success) : this.settings.success(r, t)),
                this.toShow = this.toShow.add(r)
            },
            errorsFor: function(t) {
                var n = this.idOrName(t);
                return this.errors().filter(function() {
                    return e(this).attr("for") === n
                })
            },
            idOrName: function(e) {
                return this.groups[e.name] || (this.checkable(e) ? e.name: e.id || e.name)
            },
            validationTargetFor: function(e) {
                return this.checkable(e) && (e = this.findByName(e.name).not(this.settings.ignore)[0]),
                e
            },
            checkable: function(e) {
                return /radio|checkbox/i.test(e.type)
            },
            findByName: function(t) {
                return e(this.currentForm).find('[name\x3d"' + t + '"]')
            },
            getLength: function(t, n) {
                switch (n.nodeName.toLowerCase()) {
                case "select":
                    return e("option:selected", n).length;
                case "input":
                    if (this.checkable(n)) return this.findByName(n.name).filter(":checked").length
                }
                return t.length
            },
            depend: function(e, t) {
                return this.dependTypes[typeof e] ? this.dependTypes[typeof e](e, t) : !0
            },
            dependTypes: {
                "boolean": function(e, t) {
                    return e
                },
                string: function(t, n) {
                    return !! e(t, n.form).length
                },
                "function": function(e, t) {
                    return e(t)
                }
            },
            optional: function(t) {
                var n = this.elementValue(t);
                return ! e.validator.methods.required.call(this, n, t) && "dependency-mismatch"
            },
            startRequest: function(e) {
                this.pending[e.name] || (this.pendingRequest++, this.pending[e.name] = !0)
            },
            stopRequest: function(t, n) {
                this.pendingRequest--,
                this.pendingRequest < 0 && (this.pendingRequest = 0),
                delete this.pending[t.name],
                n && this.pendingRequest === 0 && this.formSubmitted && this.form() ? (e(this.currentForm).submit(), this.formSubmitted = !1) : !n && this.pendingRequest === 0 && this.formSubmitted && (e(this.currentForm).triggerHandler("invalid-form", [this]), this.formSubmitted = !1)
            },
            previousValue: function(t) {
                return e.data(t, "previousValue") || e.data(t, "previousValue", {
                    old: null,
                    valid: !0,
                    message: this.defaultMessage(t, "remote")
                })
            }
        },
        classRuleSettings: {
            required: {
                required: !0
            },
            email: {
                email: !0
            },
            url: {
                url: !0
            },
            date: {
                date: !0
            },
            dateISO: {
                dateISO: !0
            },
            number: {
                number: !0
            },
            digits: {
                digits: !0
            },
            creditcard: {
                creditcard: !0
            }
        },
        addClassRules: function(t, n) {
            t.constructor === String ? this.classRuleSettings[t] = n: e.extend(this.classRuleSettings, t)
        },
        classRules: function(t) {
            var n = {},
            r = e(t).attr("class");
            return r && e.each(r.split(" "),
            function() {
                this in e.validator.classRuleSettings && e.extend(n, e.validator.classRuleSettings[this])
            }),
            n
        },
        attributeRules: function(t) {
            var n = {},
            r = e(t);
            for (var i in e.validator.methods) {
                var s;
                i === "required" ? (s = r.get(0).getAttribute(i), s === "" && (s = !0), s = !!s) : s = r.attr(i),
                s ? n[i] = s: r[0].getAttribute("type") === i && (n[i] = !0)
            }
            return n.maxlength && /-1|2147483647|524288/.test(n.maxlength) && delete n.maxlength,
            n
        },
        metadataRules: function(t) {
            if (!e.metadata) return {};
            var n = e.data(t.form, "validator").settings.meta;
            return n ? e(t).metadata()[n] : e(t).metadata()
        },
        staticRules: function(t) {
            var n = {},
            r = e.data(t.form, "validator");
            return r.settings.rules && (n = e.validator.normalizeRule(r.settings.rules[t.name]) || {}),
            n
        },
        normalizeRules: function(t, n) {
            return e.each(t,
            function(r, i) {
                if (i === !1) {
                    delete t[r];
                    return
                }
                if (i.param || i.depends) {
                    var s = !0;
                    switch (typeof i.depends) {
                    case "string":
                        s = !!e(i.depends, n.form).length;
                        break;
                    case "function":
                        s = i.depends.call(n, n)
                    }
                    s ? t[r] = i.param !== undefined ? i.param: !0 : delete t[r]
                }
            }),
            e.each(t,
            function(r, i) {
                t[r] = e.isFunction(i) ? i(n) : i
            }),
            e.each(["minlength", "maxlength", "min", "max"],
            function() {
                t[this] && (t[this] = Number(t[this]))
            }),
            e.each(["rangelength", "range"],
            function() {
                t[this] && (t[this] = [Number(t[this][0]), Number(t[this][1])])
            }),
            e.validator.autoCreateRanges && (t.min && t.max && (t.range = [t.min, t.max], delete t.min, delete t.max), t.minlength && t.maxlength && (t.rangelength = [t.minlength, t.maxlength], delete t.minlength, delete t.maxlength)),
            t.messages && delete t.messages,
            t
        },
        normalizeRule: function(t) {
            if (typeof t == "string") {
                var n = {};
                e.each(t.split(/\s/),
                function() {
                    n[this] = !0
                }),
                t = n
            }
            return t
        },
        addMethod: function(t, n, r) {
            e.validator.methods[t] = n,
            e.validator.messages[t] = r !== undefined ? r: e.validator.messages[t],
            n.length < 3 && e.validator.addClassRules(t, e.validator.normalizeRule(t))
        },
        methods: {
            required: function(t, n, r) {
                if (!this.depend(r, n)) return "dependency-mismatch";
                if (n.nodeName.toLowerCase() === "select") {
                    var i = e(n).val();
                    return i && i.length > 0
                }
                return this.checkable(n) ? this.getLength(t, n) > 0 : e.trim(t).length > 0
            },
            remote: function(t, n, r) {
                if (this.optional(n)) return "dependency-mismatch";
                var i = this.previousValue(n);
                this.settings.messages[n.name] || (this.settings.messages[n.name] = {}),
                i.originalMessage = this.settings.messages[n.name].remote,
                this.settings.messages[n.name].remote = i.message,
                r = typeof r == "string" && {
                    url: r
                } || r;
                if (this.pending[n.name]) return "pending";
                if (i.old === t) return i.valid;
                i.old = t;
                var s = this;
                this.startRequest(n);
                var o = {};
                return o[n.name] = t,
                e.ajax(e.extend(!0, {
                    url: r,
                    mode: "abort",
                    port: "validate" + n.name,
                    dataType: "json",
                    data: o,
                    success: function(r) {
                        s.settings.messages[n.name].remote = i.originalMessage;
                        var o = r === !0 || r === "true";
                        if (o) {
                            var u = s.formSubmitted;
                            s.prepareElement(n),
                            s.formSubmitted = u,
                            s.successList.push(n),
                            delete s.invalid[n.name],
                            s.showErrors()
                        } else {
                            var l = {},
                            h = r || s.defaultMessage(n, "remote");
                            l[n.name] = i.message = e.isFunction(h) ? h(t) : h,
                            s.invalid[n.name] = !0,
                            s.showErrors(l)
                        }
                        i.valid = o,
                        s.stopRequest(n, o)
                    }
                },
                r)),
                "pending"
            },
            minlength: function(t, n, r) {
                var i = e.isArray(t) ? t.length: this.getLength(e.trim(t), n);
                return this.optional(n) || i >= r
            },
            maxlength: function(t, n, r) {
                var i = e.isArray(t) ? t.length: this.getLength(e.trim(t), n);
                return this.optional(n) || i <= r
            },
            rangelength: function(t, n, r) {
                var i = e.isArray(t) ? t.length: this.getLength(e.trim(t), n);
                return this.optional(n) || i >= r[0] && i <= r[1]
            },
            min: function(e, t, n) {
                return this.optional(t) || e >= n
            },
            max: function(e, t, n) {
                return this.optional(t) || e <= n
            },
            range: function(e, t, n) {
                return this.optional(t) || e >= n[0] && e <= n[1]
            },
            email: function(e, t) {
                return this.optional(t) || /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)
            },
            url: function(e, t) {
                return this.optional(t) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)
            },
            date: function(e, t) {
                return this.optional(t) || !/Invalid|NaN/.test(new Date(e))
            },
            dateISO: function(e, t) {
                return this.optional(t) || /^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)
            },
            number: function(e, t) {
                return this.optional(t) || /^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)
            },
            digits: function(e, t) {
                return this.optional(t) || /^\d+$/.test(e)
            },
            creditcard: function(e, t) {
                if (this.optional(t)) return "dependency-mismatch";
                if (/[^0-9 \-]+/.test(e)) return ! 1;
                var n = 0,
                r = 0,
                i = !1;
                e = e.replace(/\D/g, "");
                for (var s = e.length - 1; s >= 0; s--) {
                    var o = e.charAt(s);
                    r = parseInt(o, 10),
                    i && (r *= 2) > 9 && (r -= 9),
                    n += r,
                    i = !i
                }
                return n % 10 === 0
            },
            equalTo: function(t, n, r) {
                var i = e(r);
                return this.settings.onfocusout && i.unbind(".validate-equalTo").bind("blur.validate-equalTo",
                function() {
                    e(n).valid()
                }),
                t === i.val()
            }
        }
    }),
    e.format = e.validator.format
} (jQuery),
function(e) {
    var t = {};
    if (e.ajaxPrefilter) e.ajaxPrefilter(function(e, n, r) {
        var i = e.port;
        e.mode === "abort" && (t[i] && t[i].abort(), t[i] = r)
    });
    else {
        var n = e.ajax;
        e.ajax = function(r) {
            var i = ("mode" in r ? r: e.ajaxSettings).mode,
            s = ("port" in r ? r: e.ajaxSettings).port;
            return i === "abort" ? (t[s] && t[s].abort(), t[s] = n.apply(this, arguments)) : n.apply(this, arguments)
        }
    }
} (jQuery),
function(e) { ! jQuery.event.special.focusin && !jQuery.event.special.focusout && document.addEventListener && e.each({
        focus: "focusin",
        blur: "focusout"
    },
    function(t, n) {
        function r(t) {
            return t = e.event.fix(t),
            t.type = n,
            e.event.handle.call(this, t)
        }
        e.event.special[n] = {
            setup: function() {
                this.addEventListener(t, r, !0)
            },
            teardown: function() {
                this.removeEventListener(t, r, !0)
            },
            handler: function(t) {
                var r = arguments;
                return r[0] = e.event.fix(t),
                r[0].type = n,
                e.event.handle.apply(this, r)
            }
        }
    }),
    e.extend(e.fn, {
        validateDelegate: function(t, n, r) {
            return this.bind(n,
            function(n) {
                var i = e(n.target);
                if (i.is(t)) return r.apply(i, arguments)
            })
        }
    })
} (jQuery),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery"], e) : e(window.jQuery)
} (function(e) {
    var t = 0;
    e.ajaxTransport("iframe",
    function(n) {
        if (n.async) {
            var r = n.initialIframeSrc || "javascript:false;",
            i, s, o;
            return {
                send: function(u, a) {
                    i = e('\x3cform style\x3d"display:none;"\x3e\x3c/form\x3e'),
                    i.attr("accept-charset", n.formAcceptCharset),
                    o = /\?/.test(n.url) ? "\x26": "?",
                    n.type === "DELETE" ? (n.url = n.url + o + "_method\x3dDELETE", n.type = "POST") : n.type === "PUT" ? (n.url = n.url + o + "_method\x3dPUT", n.type = "POST") : n.type === "PATCH" && (n.url = n.url + o + "_method\x3dPATCH", n.type = "POST"),
                    t += 1,
                    s = e('\x3ciframe src\x3d"' + r + '" name\x3d"iframe-transport-' + t + '"\x3e\x3c/iframe\x3e').bind("load",
                    function() {
                        var t, o = e.isArray(n.paramName) ? n.paramName: [n.paramName];
                        s.unbind("load").bind("load",
                        function() {
                            var t;
                            try {
                                t = s.contents();
                                if (!t.length || !t[0].firstChild) throw new Error;
                            } catch(n$31) {
                                t = undefined
                            }
                            a(200, "success", {
                                iframe: t
                            }),
                            e('\x3ciframe src\x3d"' + r + '"\x3e\x3c/iframe\x3e').appendTo(i),
                            window.setTimeout(function() {
                                i.remove()
                            },
                            0)
                        }),
                        i.prop("target", s.prop("name")).prop("action", n.url).prop("method", n.type),
                        n.formData && e.each(n.formData,
                        function(t, n) {
                            e('\x3cinput type\x3d"hidden"/\x3e').prop("name", n.name).val(n.value).appendTo(i)
                        }),
                        n.fileInput && n.fileInput.length && n.type === "POST" && (t = n.fileInput.clone(), n.fileInput.after(function(e) {
                            return t[e]
                        }), n.paramName && n.fileInput.each(function(t) {
                            e(this).prop("name", o[t] || n.paramName)
                        }), i.append(n.fileInput).prop("enctype", "multipart/form-data").prop("encoding", "multipart/form-data"), n.fileInput.removeAttr("form")),
                        i.submit(),
                        t && t.length && n.fileInput.each(function(n, r) {
                            var i = e(t[n]);
                            e(r).prop("name", i.prop("name")).attr("form", i.attr("form")),
                            i.replaceWith(r)
                        })
                    }),
                    i.append(s).appendTo(document.body)
                },
                abort: function() {
                    s && s.unbind("load").prop("src", r),
                    i && i.remove()
                }
            }
        }
    }),
    e.ajaxSetup({
        converters: {
            "iframe text": function(t) {
                return t && e(t[0].body).text()
            },
            "iframe json": function(t) {
                return t && e.parseJSON(e(t[0].body).text())
            },
            "iframe html": function(t) {
                return t && e(t[0].body).html()
            },
            "iframe xml": function(t) {
                var n = t && t[0];
                return n && e.isXMLDoc(n) ? n: e.parseXML(n.XMLDocument && n.XMLDocument.xml || e(n.body).html())
            },
            "iframe script": function(t) {
                return t && e.globalEval(e(t[0].body).text())
            }
        }
    })
}),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery", "jquery.ui.widget"], e) : e(window.jQuery)
} (function(e) {
    e.support.fileInput = !(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))")).test(window.navigator.userAgent) && !e('\x3cinput type\x3d"file"\x3e').prop("disabled"),
    e.support.xhrFileUpload = !!window.ProgressEvent && !!window.FileReader,
    e.support.xhrFormDataFileUpload = !!window.FormData,
    e.support.blobSlice = window.Blob && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice),
    e.widget("blueimp.fileupload", {
        options: {
            dropZone: e(document),
            pasteZone: e(document),
            fileInput: undefined,
            replaceFileInput: !0,
            paramName: undefined,
            singleFileUploads: !0,
            limitMultiFileUploads: undefined,
            limitMultiFileUploadSize: undefined,
            limitMultiFileUploadSizeOverhead: 512,
            sequentialUploads: !1,
            limitConcurrentUploads: undefined,
            forceIframeTransport: !1,
            redirect: undefined,
            redirectParamName: undefined,
            postMessage: undefined,
            multipart: !0,
            maxChunkSize: undefined,
            uploadedBytes: undefined,
            recalculateProgress: !0,
            progressInterval: 100,
            bitrateInterval: 500,
            autoUpload: !0,
            messages: {
                uploadedBytes: "Uploaded bytes exceed file size"
            },
            i18n: function(t, n) {
                return t = this.messages[t] || t.toString(),
                n && e.each(n,
                function(e, n) {
                    t = t.replace("{" + e + "}", n)
                }),
                t
            },
            formData: function(e) {
                return e.serializeArray()
            },
            add: function(t, n) {
                if (t.isDefaultPrevented()) return ! 1; (n.autoUpload || n.autoUpload !== !1 && e(this).fileupload("option", "autoUpload")) && n.process().done(function() {
                    n.submit()
                })
            },
            processData: !1,
            contentType: !1,
            cache: !1
        },
        _specialOptions: ["fileInput", "dropZone", "pasteZone", "multipart", "forceIframeTransport"],
        _blobSlice: e.support.blobSlice &&
        function() {
            var e = this.slice || this.webkitSlice || this.mozSlice;
            return e.apply(this, arguments)
        },
        _BitrateTimer: function() {
            this.timestamp = Date.now ? Date.now() : (new Date).getTime(),
            this.loaded = 0,
            this.bitrate = 0,
            this.getBitrate = function(e, t, n) {
                var r = e - this.timestamp;
                if (!this.bitrate || !n || r > n) this.bitrate = (t - this.loaded) * (1E3 / r) * 8,
                this.loaded = t,
                this.timestamp = e;
                return this.bitrate
            }
        },
        _isXHRUpload: function(t) {
            return ! t.forceIframeTransport && (!t.multipart && e.support.xhrFileUpload || e.support.xhrFormDataFileUpload)
        },
        _getFormData: function(t) {
            var n;
            return e.type(t.formData) === "function" ? t.formData(t.form) : e.isArray(t.formData) ? t.formData: e.type(t.formData) === "object" ? (n = [], e.each(t.formData,
            function(e, t) {
                n.push({
                    name: e,
                    value: t
                })
            }), n) : []
        },
        _getTotal: function(t) {
            var n = 0;
            return e.each(t,
            function(e, t) {
                n += t.size || 1
            }),
            n
        },
        _initProgressObject: function(t) {
            var n = {
                loaded: 0,
                total: 0,
                bitrate: 0
            };
            t._progress ? e.extend(t._progress, n) : t._progress = n
        },
        _initResponseObject: function(e) {
            var t;
            if (e._response) for (t in e._response) e._response.hasOwnProperty(t) && delete e._response[t];
            else e._response = {}
        },
        _onProgress: function(t, n) {
            if (t.lengthComputable) {
                var r = Date.now ? Date.now() : (new Date).getTime(),
                i;
                if (n._time && n.progressInterval && r - n._time < n.progressInterval && t.loaded !== t.total) return;
                n._time = r,
                i = Math.floor(t.loaded / t.total * (n.chunkSize || n._progress.total)) + (n.uploadedBytes || 0),
                this._progress.loaded += i - n._progress.loaded,
                this._progress.bitrate = this._bitrateTimer.getBitrate(r, this._progress.loaded, n.bitrateInterval),
                n._progress.loaded = n.loaded = i,
                n._progress.bitrate = n.bitrate = n._bitrateTimer.getBitrate(r, i, n.bitrateInterval),
                this._trigger("progress", e.Event("progress", {
                    delegatedEvent: t
                }), n),
                this._trigger("progressall", e.Event("progressall", {
                    delegatedEvent: t
                }), this._progress)
            }
        },
        _initProgressListener: function(t) {
            var n = this,
            r = t.xhr ? t.xhr() : e.ajaxSettings.xhr();
            r.upload && (e(r.upload).bind("progress",
            function(e) {
                var r = e.originalEvent;
                e.lengthComputable = r.lengthComputable,
                e.loaded = r.loaded,
                e.total = r.total,
                n._onProgress(e, t)
            }), t.xhr = function() {
                return r
            })
        },
        _isInstanceOf: function(e, t) {
            return Object.prototype.toString.call(t) === "[object " + e + "]"
        },
        _initXHRData: function(t) {
            var n = this,
            r, i = t.files[0],
            s = t.multipart || !e.support.xhrFileUpload,
            o = e.type(t.paramName) === "array" ? t.paramName[0] : t.paramName;
            t.headers = e.extend({},
            t.headers),
            t.contentRange && (t.headers["Content-Range"] = t.contentRange);
            if (!s || t.blob || !this._isInstanceOf("File", i)) t.headers["Content-Disposition"] = 'attachment; filename\x3d"' + encodeURI(i.name) + '"';
            s ? e.support.xhrFormDataFileUpload && (t.postMessage ? (r = this._getFormData(t), t.blob ? r.push({
                name: o,
                value: t.blob
            }) : e.each(t.files,
            function(n, i) {
                r.push({
                    name: e.type(t.paramName) === "array" && t.paramName[n] || o,
                    value: i
                })
            })) : (n._isInstanceOf("FormData", t.formData) ? r = t.formData: (r = new FormData, e.each(this._getFormData(t),
            function(e, t) {
                r.append(t.name, t.value)
            })), t.blob ? r.append(o, t.blob, i.name) : e.each(t.files,
            function(i, s) { (n._isInstanceOf("File", s) || n._isInstanceOf("Blob", s)) && r.append(e.type(t.paramName) === "array" && t.paramName[i] || o, s, s.uploadName || s.name)
            })), t.data = r) : (t.contentType = i.type || "application/octet-stream", t.data = t.blob || i),
            t.blob = null
        },
        _initIframeSettings: function(t) {
            var n = e("\x3ca\x3e\x3c/a\x3e").prop("href", t.url).prop("host");
            t.dataType = "iframe " + (t.dataType || ""),
            t.formData = this._getFormData(t),
            t.redirect && n && n !== location.host && t.formData.push({
                name: t.redirectParamName || "redirect",
                value: t.redirect
            })
        },
        _initDataSettings: function(e) {
            this._isXHRUpload(e) ? (this._chunkedUpload(e, !0) || (e.data || this._initXHRData(e), this._initProgressListener(e)), e.postMessage && (e.dataType = "postmessage " + (e.dataType || ""))) : this._initIframeSettings(e)
        },
        _getParamName: function(t) {
            var n = e(t.fileInput),
            r = t.paramName;
            return r ? e.isArray(r) || (r = [r]) : (r = [], n.each(function() {
                var t = e(this),
                n = t.prop("name") || "files[]",
                i = (t.prop("files") || [1]).length;
                while (i) r.push(n),
                i -= 1
            }), r.length || (r = [n.prop("name") || "files[]"])),
            r
        },
        _initFormSettings: function(t) {
            if (!t.form || !t.form.length) t.form = e(t.fileInput.prop("form")),
            t.form.length || (t.form = e(this.options.fileInput.prop("form")));
            t.paramName = this._getParamName(t),
            t.url || (t.url = t.form.prop("action") || location.href),
            t.type = (t.type || e.type(t.form.prop("method")) === "string" && t.form.prop("method") || "").toUpperCase(),
            t.type !== "POST" && t.type !== "PUT" && t.type !== "PATCH" && (t.type = "POST"),
            t.formAcceptCharset || (t.formAcceptCharset = t.form.attr("accept-charset"))
        },
        _getAJAXSettings: function(t) {
            var n = e.extend({},
            this.options, t);
            return this._initFormSettings(n),
            this._initDataSettings(n),
            n
        },
        _getDeferredState: function(e) {
            return e.state ? e.state() : e.isResolved() ? "resolved": e.isRejected() ? "rejected": "pending"
        },
        _enhancePromise: function(e) {
            return e.success = e.done,
            e.error = e.fail,
            e.complete = e.always,
            e
        },
        _getXHRPromise: function(t, n, r) {
            var i = e.Deferred(),
            s = i.promise();
            return n = n || this.options.context || s,
            t === !0 ? i.resolveWith(n, r) : t === !1 && i.rejectWith(n, r),
            s.abort = i.promise,
            this._enhancePromise(s)
        },
        _addConvenienceMethods: function(t, n) {
            var r = this,
            i = function(t) {
                return e.Deferred().resolveWith(r, t).promise()
            };
            n.process = function(t, s) {
                if (t || s) n._processQueue = this._processQueue = (this._processQueue || i([this])).pipe(function() {
                    return n.errorThrown ? e.Deferred().rejectWith(r, [n]).promise() : i(arguments)
                }).pipe(t, s);
                return this._processQueue || i([this])
            },
            n.submit = function() {
                return this.state() !== "pending" && (n.jqXHR = this.jqXHR = r._trigger("submit", e.Event("submit", {
                    delegatedEvent: t
                }), this) !== !1 && r._onSend(t, this)),
                this.jqXHR || r._getXHRPromise()
            },
            n.abort = function() {
                return this.jqXHR ? this.jqXHR.abort() : (this.errorThrown = "abort", r._trigger("fail", null, this), r._getXHRPromise(!1))
            },
            n.state = function() {
                if (this.jqXHR) return r._getDeferredState(this.jqXHR);
                if (this._processQueue) return r._getDeferredState(this._processQueue)
            },
            n.processing = function() {
                return ! this.jqXHR && this._processQueue && r._getDeferredState(this._processQueue) === "pending"
            },
            n.progress = function() {
                return this._progress
            },
            n.response = function() {
                return this._response
            }
        },
        _getUploadedBytes: function(e) {
            var t = e.getResponseHeader("Range"),
            n = t && t.split("-"),
            r = n && n.length > 1 && parseInt(n[1], 10);
            return r && r + 1
        },
        _chunkedUpload: function(t, n) {
            t.uploadedBytes = t.uploadedBytes || 0;
            var r = this,
            i = t.files[0],
            s = i.size,
            o = t.uploadedBytes,
            u = t.maxChunkSize || s,
            a = this._blobSlice,
            f = e.Deferred(),
            l = f.promise(),
            c,
            h;
            return ! (this._isXHRUpload(t) && a && (o || u < s)) || t.data ? !1 : n ? !0 : o >= s ? (i.error = t.i18n("uploadedBytes"), this._getXHRPromise(!1, t.context, [null, "error", i.error])) : (h = function() {
                var n = e.extend({},
                t),
                l = n._progress.loaded;
                n.blob = a.call(i, o, o + u, i.type),
                n.chunkSize = n.blob.size,
                n.contentRange = "bytes " + o + "-" + (o + n.chunkSize - 1) + "/" + s,
                r._initXHRData(n),
                r._initProgressListener(n),
                c = (r._trigger("chunksend", null, n) !== !1 && e.ajax(n) || r._getXHRPromise(!1, n.context)).done(function(i, u, a) {
                    o = r._getUploadedBytes(a) || o + n.chunkSize,
                    l + n.chunkSize - n._progress.loaded && r._onProgress(e.Event("progress", {
                        lengthComputable: !0,
                        loaded: o - n.uploadedBytes,
                        total: o - n.uploadedBytes
                    }), n),
                    t.uploadedBytes = n.uploadedBytes = o,
                    n.result = i,
                    n.textStatus = u,
                    n.jqXHR = a,
                    r._trigger("chunkdone", null, n),
                    r._trigger("chunkalways", null, n),
                    o < s ? h() : f.resolveWith(n.context, [i, u, a])
                }).fail(function(e, t, i) {
                    n.jqXHR = e,
                    n.textStatus = t,
                    n.errorThrown = i,
                    r._trigger("chunkfail", null, n),
                    r._trigger("chunkalways", null, n),
                    f.rejectWith(n.context, [e, t, i])
                })
            },
            this._enhancePromise(l), l.abort = function() {
                return c.abort()
            },
            h(), l)
        },
        _beforeSend: function(e, t) {
            this._active === 0 && (this._trigger("start"), this._bitrateTimer = new this._BitrateTimer, this._progress.loaded = this._progress.total = 0, this._progress.bitrate = 0),
            this._initResponseObject(t),
            this._initProgressObject(t),
            t._progress.loaded = t.loaded = t.uploadedBytes || 0,
            t._progress.total = t.total = this._getTotal(t.files) || 1,
            t._progress.bitrate = t.bitrate = 0,
            this._active += 1,
            this._progress.loaded += t.loaded,
            this._progress.total += t.total
        },
        _onDone: function(t, n, r, i) {
            var s = i._progress.total,
            o = i._response;
            i._progress.loaded < s && this._onProgress(e.Event("progress", {
                lengthComputable: !0,
                loaded: s,
                total: s
            }), i),
            o.result = i.result = t,
            o.textStatus = i.textStatus = n,
            o.jqXHR = i.jqXHR = r,
            this._trigger("done", null, i)
        },
        _onFail: function(e, t, n, r) {
            var i = r._response;
            r.recalculateProgress && (this._progress.loaded -= r._progress.loaded, this._progress.total -= r._progress.total),
            i.jqXHR = r.jqXHR = e,
            i.textStatus = r.textStatus = t,
            i.errorThrown = r.errorThrown = n,
            this._trigger("fail", null, r)
        },
        _onAlways: function(e, t, n, r) {
            this._trigger("always", null, r)
        },
        _onSend: function(t, n) {
            n.submit || this._addConvenienceMethods(t, n);
            var r = this,
            i, s, o, u, a = r._getAJAXSettings(n),
            f = function() {
                return r._sending += 1,
                a._bitrateTimer = new r._BitrateTimer,
                i = i || ((s || r._trigger("send", e.Event("send", {
                    delegatedEvent: t
                }), a) === !1) && r._getXHRPromise(!1, a.context, s) || r._chunkedUpload(a) || e.ajax(a)).done(function(e, t, n) {
                    r._onDone(e, t, n, a)
                }).fail(function(e, t, n) {
                    r._onFail(e, t, n, a)
                }).always(function(e, t, n) {
                    r._onAlways(e, t, n, a),
                    r._sending -= 1,
                    r._active -= 1;
                    if (a.limitConcurrentUploads && a.limitConcurrentUploads > r._sending) {
                        var i = r._slots.shift();
                        while (i) {
                            if (r._getDeferredState(i) === "pending") {
                                i.resolve();
                                break
                            }
                            i = r._slots.shift()
                        }
                    }
                    r._active === 0 && r._trigger("stop")
                }),
                i
            };
            return this._beforeSend(t, a),
            this.options.sequentialUploads || this.options.limitConcurrentUploads && this.options.limitConcurrentUploads <= this._sending ? (this.options.limitConcurrentUploads > 1 ? (o = e.Deferred(), this._slots.push(o), u = o.pipe(f)) : (this._sequence = this._sequence.pipe(f, f), u = this._sequence), u.abort = function() {
                return s = [undefined, "abort", "abort"],
                i ? i.abort() : (o && o.rejectWith(a.context, s), f())
            },
            this._enhancePromise(u)) : f()
        },
        _onAdd: function(t, n) {
            var r = this,
            i = !0,
            s = e.extend({},
            this.options, n),
            o = n.files,
            u = o.length,
            a = s.limitMultiFileUploads,
            f = s.limitMultiFileUploadSize,
            l = s.limitMultiFileUploadSizeOverhead,
            c = 0,
            h = this._getParamName(s),
            p,
            d,
            v,
            m,
            g = 0;
            f && (!u || o[0].size === undefined) && (f = undefined);
            if (! (s.singleFileUploads || a || f) || !this._isXHRUpload(s)) v = [o],
            p = [h];
            else if (!s.singleFileUploads && !f && a) {
                v = [],
                p = [];
                for (m = 0; m < u; m += a) v.push(o.slice(m, m + a)),
                d = h.slice(m, m + a),
                d.length || (d = h),
                p.push(d)
            } else if (!s.singleFileUploads && f) {
                v = [],
                p = [];
                for (m = 0; m < u; m += 1) {
                    c += o[m].size + l;
                    if (m + 1 === u || c + o[m + 1].size + l > f || a && m + 1 - g >= a) v.push(o.slice(g, m + 1)),
                    d = h.slice(g, m + 1),
                    d.length || (d = h),
                    p.push(d),
                    g = m + 1,
                    c = 0
                }
            } else p = h;
            return n.originalFiles = o,
            e.each(v || o,
            function(s, o) {
                var u = e.extend({},
                n);
                return u.files = v ? o: [o],
                u.paramName = p[s],
                r._initResponseObject(u),
                r._initProgressObject(u),
                r._addConvenienceMethods(t, u),
                i = r._trigger("add", e.Event("add", {
                    delegatedEvent: t
                }), u),
                i
            }),
            i
        },
        _replaceFileInput: function(t) {
            var n = t.clone(!0);
            e("\x3cform\x3e\x3c/form\x3e").append(n)[0].reset(),
            t.after(n).detach(),
            e.cleanData(t.unbind("remove")),
            this.options.fileInput = this.options.fileInput.map(function(e, r) {
                return r === t[0] ? n[0] : r
            }),
            t[0] === this.element[0] && (this.element = n)
        },
        _handleFileTreeEntry: function(t, n) {
            var r = this,
            i = e.Deferred(),
            s = function(e) {
                e && !e.entry && (e.entry = t),
                i.resolve([e])
            },
            o;
            return n = n || "",
            t.isFile ? t._file ? (t._file.relativePath = n, i.resolve(t._file)) : t.file(function(e) {
                e.relativePath = n,
                i.resolve(e)
            },
            s) : t.isDirectory ? (o = t.createReader(), o.readEntries(function(e) {
                r._handleFileTreeEntries(e, n + t.name + "/").done(function(e) {
                    i.resolve(e)
                }).fail(s)
            },
            s)) : i.resolve([]),
            i.promise()
        },
        _handleFileTreeEntries: function(t, n) {
            var r = this;
            return e.when.apply(e, e.map(t,
            function(e) {
                return r._handleFileTreeEntry(e, n)
            })).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            })
        },
        _getDroppedFiles: function(t) {
            t = t || {};
            var n = t.items;
            return n && n.length && (n[0].webkitGetAsEntry || n[0].getAsEntry) ? this._handleFileTreeEntries(e.map(n,
            function(e) {
                var t;
                return e.webkitGetAsEntry ? (t = e.webkitGetAsEntry(), t && (t._file = e.getAsFile()), t) : e.getAsEntry()
            })) : e.Deferred().resolve(e.makeArray(t.files)).promise()
        },
        _getSingleFileInputFiles: function(t) {
            t = e(t);
            var n = t.prop("webkitEntries") || t.prop("entries"),
            r,
            i;
            if (n && n.length) return this._handleFileTreeEntries(n);
            r = e.makeArray(t.prop("files"));
            if (!r.length) {
                i = t.prop("value");
                if (!i) return e.Deferred().resolve([]).promise();
                r = [{
                    name: i.replace(/^.*\\/, "")
                }]
            } else r[0].name === undefined && r[0].fileName && e.each(r,
            function(e, t) {
                t.name = t.fileName,
                t.size = t.fileSize
            });
            return e.Deferred().resolve(r).promise()
        },
        _getFileInputFiles: function(t) {
            return t instanceof e && t.length !== 1 ? e.when.apply(e, e.map(t, this._getSingleFileInputFiles)).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            }) : this._getSingleFileInputFiles(t)
        },
        _onChange: function(t) {
            var n = this,
            r = {
                fileInput: e(t.target),
                form: e(t.target.form)
            };
            this._getFileInputFiles(r.fileInput).always(function(i) {
                r.files = i,
                n.options.replaceFileInput && n._replaceFileInput(r.fileInput),
                n._trigger("change", e.Event("change", {
                    delegatedEvent: t
                }), r) !== !1 && n._onAdd(t, r)
            })
        },
        _onPaste: function(t) {
            var n = t.originalEvent && t.originalEvent.clipboardData && t.originalEvent.clipboardData.items,
            r = {
                files: []
            };
            n && n.length && (e.each(n,
            function(e, t) {
                var n = t.getAsFile && t.getAsFile();
                n && r.files.push(n)
            }), this._trigger("paste", e.Event("paste", {
                delegatedEvent: t
            }), r) !== !1 && this._onAdd(t, r))
        },
        _onDrop: function(t) {
            t.dataTransfer = t.originalEvent && t.originalEvent.dataTransfer;
            var n = this,
            r = t.dataTransfer,
            i = {};
            r && r.files && r.files.length && (t.preventDefault(), this._getDroppedFiles(r).always(function(r) {
                i.files = r,
                n._trigger("drop", e.Event("drop", {
                    delegatedEvent: t
                }), i) !== !1 && n._onAdd(t, i)
            }))
        },
        _onDragOver: function(t) {
            t.dataTransfer = t.originalEvent && t.originalEvent.dataTransfer;
            var n = t.dataTransfer;
            n && e.inArray("Files", n.types) !== -1 && this._trigger("dragover", e.Event("dragover", {
                delegatedEvent: t
            })) !== !1 && (t.preventDefault(), n.dropEffect = "copy")
        },
        _initEventHandlers: function() {
            this._isXHRUpload(this.options) && (this._on(this.options.dropZone, {
                dragover: this._onDragOver,
                drop: this._onDrop
            }), this._on(this.options.pasteZone, {
                paste: this._onPaste
            })),
            e.support.fileInput && this._on(this.options.fileInput, {
                change: this._onChange
            })
        },
        _destroyEventHandlers: function() {
            this._off(this.options.dropZone, "dragover drop"),
            this._off(this.options.pasteZone, "paste"),
            this._off(this.options.fileInput, "change")
        },
        _setOption: function(t, n) {
            var r = e.inArray(t, this._specialOptions) !== -1;
            r && this._destroyEventHandlers(),
            this._super(t, n),
            r && (this._initSpecialOptions(), this._initEventHandlers())
        },
        _initSpecialOptions: function() {
            var t = this.options;
            t.fileInput === undefined ? t.fileInput = this.element.is('input[type\x3d"file"]') ? this.element: this.element.find('input[type\x3d"file"]') : t.fileInput instanceof e || (t.fileInput = e(t.fileInput)),
            t.dropZone instanceof e || (t.dropZone = e(t.dropZone)),
            t.pasteZone instanceof e || (t.pasteZone = e(t.pasteZone))
        },
        _getRegExp: function(e) {
            var t = e.split("/"),
            n = t.pop();
            return t.shift(),
            new RegExp(t.join("/"), n)
        },
        _isRegExpOption: function(t, n) {
            return t !== "url" && e.type(n) === "string" && /^\/.*\/[igm]{0,3}$/.test(n)
        },
        _initDataAttributes: function() {
            var t = this,
            n = this.options,
            r = e(this.element[0].cloneNode(!1));
            e.each(r.data(),
            function(e, i) {
                var s = "data-" + e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
                r.attr(s) && (t._isRegExpOption(e, i) && (i = t._getRegExp(i)), n[e] = i)
            })
        },
        _create: function() {
            this._initDataAttributes(),
            this._initSpecialOptions(),
            this._slots = [],
            this._sequence = this._getXHRPromise(!0),
            this._sending = this._active = 0,
            this._initProgressObject(this),
            this._initEventHandlers()
        },
        active: function() {
            return this._active
        },
        progress: function() {
            return this._progress
        },
        add: function(t) {
            var n = this;
            if (!t || this.options.disabled) return;
            t.fileInput && !t.files ? this._getFileInputFiles(t.fileInput).always(function(e) {
                t.files = e,
                n._onAdd(null, t)
            }) : (t.files = e.makeArray(t.files), this._onAdd(null, t))
        },
        send: function(t) {
            if (t && !this.options.disabled) {
                if (t.fileInput && !t.files) {
                    var n = this,
                    r = e.Deferred(),
                    i = r.promise(),
                    s,
                    o;
                    return i.abort = function() {
                        return o = !0,
                        s ? s.abort() : (r.reject(null, "abort", "abort"), i)
                    },
                    this._getFileInputFiles(t.fileInput).always(function(e) {
                        if (o) return;
                        if (!e.length) {
                            r.reject();
                            return
                        }
                        t.files = e,
                        s = n._onSend(null, t).then(function(e, t, n) {
                            r.resolve(e, t, n)
                        },
                        function(e, t, n) {
                            r.reject(e, t, n)
                        })
                    }),
                    this._enhancePromise(i)
                }
                t.files = e.makeArray(t.files);
                if (t.files.length) return this._onSend(null, t)
            }
            return this._getXHRPromise(!1, t && t.context)
        }
    })
}),
!
function(e) {
    e(function() {
        e.support.transition = function() {
            var e = function() {
                var e = document.createElement("bootstrap"),
                t = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "oTransitionEnd otransitionend",
                    transition: "transitionend"
                },
                n;
                for (n in t) if (e.style[n] !== undefined) return t[n]
            } ();
            return e && {
                end: e
            }
        } ()
    })
} (window.jQuery),
!
function(e) {
    var t = function(t, n) {
        this.options = e.extend({},
        e.fn.affix.defaults, n),
        this.$window = e(window).on("scroll.affix.data-api", e.proxy(this.checkPosition, this)).on("click.affix.data-api", e.proxy(function() {
            setTimeout(e.proxy(this.checkPosition, this), 1)
        },
        this)),
        this.$element = e(t),
        this.checkPosition()
    };
    t.prototype.checkPosition = function() {
        if (!this.$element.is(":visible")) return;
        var t = e(document).height(),
        n = this.$window.scrollTop(),
        r = this.$element.offset(),
        i = this.options.offset,
        s = i.bottom,
        o = i.top,
        u = "affix affix-top affix-bottom",
        a;
        typeof i != "object" && (s = o = i),
        typeof o == "function" && (o = i.top()),
        typeof s == "function" && (s = i.bottom()),
        a = this.unpin != null && n + this.unpin <= r.top ? !1 : s != null && r.top + this.$element.height() >= t - s ? "bottom": o != null && n <= o ? "top": !1;
        if (this.affixed === a) return;
        this.affixed = a,
        this.unpin = a == "bottom" ? r.top - n: null,
        this.$element.removeClass(u).addClass("affix" + (a ? "-" + a: ""))
    };
    var n = e.fn.affix;
    e.fn.affix = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("affix"),
            s = typeof n == "object" && n;
            i || r.data("affix", i = new t(this, s)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.affix.Constructor = t,
    e.fn.affix.defaults = {
        offset: 0
    },
    e.fn.affix.noConflict = function() {
        return e.fn.affix = n,
        this
    },
    e(window).on("load",
    function() {
        e('[data-spy\x3d"affix"]').each(function() {
            var t = e(this),
            n = t.data();
            n.offset = n.offset || {},
            n.offsetBottom && (n.offset.bottom = n.offsetBottom),
            n.offsetTop && (n.offset.top = n.offsetTop),
            t.affix(n)
        })
    })
} (window.jQuery),
!
function(e) {
    var t = '[data-dismiss\x3d"alert"]',
    n = function(n) {
        e(n).on("click", t, this.close)
    };
    n.prototype.close = function(t) {
        function s() {
            i.trigger("closed").remove()
        }
        var n = e(this),
        r = n.attr("data-target"),
        i;
        r || (r = n.attr("href"), r = r && r.replace(/.*(?=#[^\s]*$)/, "")),
        i = e(r),
        t && t.preventDefault(),
        i.length || (i = n.hasClass("alert") ? n: n.parent()),
        i.trigger(t = e.Event("close"));
        if (t.isDefaultPrevented()) return;
        i.removeClass("in"),
        e.support.transition && i.hasClass("fade") ? i.on(e.support.transition.end, s) : s()
    };
    var r = e.fn.alert;
    e.fn.alert = function(t) {
        return this.each(function() {
            var r = e(this),
            i = r.data("alert");
            i || r.data("alert", i = new n(this)),
            typeof t == "string" && i[t].call(r)
        })
    },
    e.fn.alert.Constructor = n,
    e.fn.alert.noConflict = function() {
        return e.fn.alert = r,
        this
    },
    e(document).on("click.alert.data-api", t, n.prototype.close)
} (window.jQuery),
!
function(e) {
    var t = function(t, n) {
        this.$element = e(t),
        this.options = e.extend({},
        e.fn.button.defaults, n)
    };
    t.prototype.setState = function(e) {
        var t = "disabled",
        n = this.$element,
        r = n.data(),
        i = n.is("input") ? "val": "html";
        e += "Text",
        r.resetText || n.data("resetText", n[i]()),
        n[i](r[e] || this.options[e]),
        setTimeout(function() {
            e == "loadingText" ? n.addClass(t).attr(t, t) : n.removeClass(t).removeAttr(t)
        },
        0)
    },
    t.prototype.toggle = function() {
        var e = this.$element.closest('[data-toggle\x3d"buttons-radio"]');
        e && e.find(".active").removeClass("active"),
        this.$element.toggleClass("active")
    };
    var n = e.fn.button;
    e.fn.button = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("button"),
            s = typeof n == "object" && n;
            i || r.data("button", i = new t(this, s)),
            n == "toggle" ? i.toggle() : n && i.setState(n)
        })
    },
    e.fn.button.defaults = {
        loadingText: "loading..."
    },
    e.fn.button.Constructor = t,
    e.fn.button.noConflict = function() {
        return e.fn.button = n,
        this
    },
    e(document).on("click.button.data-api", "[data-toggle^\x3dbutton]",
    function(t) {
        var n = e(t.target);
        n.hasClass("btn") || (n = n.closest(".btn")),
        n.button("toggle")
    })
} (window.jQuery),
!
function(e) {
    var t = function(t, n) {
        this.$element = e(t),
        this.$indicators = this.$element.find(".carousel-indicators"),
        this.options = n,
        this.options.pause == "hover" && this.$element.on("mouseenter", e.proxy(this.pause, this)).on("mouseleave", e.proxy(this.cycle, this))
    };
    t.prototype = {
        cycle: function(t) {
            return t || (this.paused = !1),
            this.interval && clearInterval(this.interval),
            this.options.interval && !this.paused && (this.interval = setInterval(e.proxy(this.next, this), this.options.interval)),
            this
        },
        getActiveIndex: function() {
            return this.$active = this.$element.find(".item.active"),
            this.$items = this.$active.parent().children(),
            this.$items.index(this.$active)
        },
        to: function(t) {
            var n = this.getActiveIndex(),
            r = this;
            if (t > this.$items.length - 1 || t < 0) return;
            return this.sliding ? this.$element.one("slid",
            function() {
                r.to(t)
            }) : n == t ? this.pause().cycle() : this.slide(t > n ? "next": "prev", e(this.$items[t]))
        },
        pause: function(t) {
            return t || (this.paused = !0),
            this.$element.find(".next, .prev").length && e.support.transition.end && (this.$element.trigger(e.support.transition.end), this.cycle(!0)),
            clearInterval(this.interval),
            this.interval = null,
            this
        },
        next: function() {
            if (this.sliding) return;
            return this.slide("next")
        },
        prev: function() {
            if (this.sliding) return;
            return this.slide("prev")
        },
        slide: function(t, n) {
            var r = this.$element.find(".item.active"),
            i = n || r[t](),
            s = this.interval,
            o = t == "next" ? "left": "right",
            u = t == "next" ? "first": "last",
            a = this,
            f;
            this.sliding = !0,
            s && this.pause(),
            i = i.length ? i: this.$element.find(".item")[u](),
            f = e.Event("slide", {
                relatedTarget: i[0],
                direction: o
            });
            if (i.hasClass("active")) return;
            this.$indicators.length && (this.$indicators.find(".active").removeClass("active"), this.$element.one("slid",
            function() {
                var t = e(a.$indicators.children()[a.getActiveIndex()]);
                t && t.addClass("active")
            }));
            if (e.support.transition && this.$element.hasClass("slide")) {
                this.$element.trigger(f);
                if (f.isDefaultPrevented()) return;
                i.addClass(t),
                i[0].offsetWidth,
                r.addClass(o),
                i.addClass(o),
                this.$element.one(e.support.transition.end,
                function() {
                    i.removeClass([t, o].join(" ")).addClass("active"),
                    r.removeClass(["active", o].join(" ")),
                    a.sliding = !1,
                    setTimeout(function() {
                        a.$element.trigger("slid")
                    },
                    0)
                })
            } else {
                this.$element.trigger(f);
                if (f.isDefaultPrevented()) return;
                r.removeClass("active"),
                i.addClass("active"),
                this.sliding = !1,
                this.$element.trigger("slid")
            }
            return s && this.cycle(),
            this
        }
    };
    var n = e.fn.carousel;
    e.fn.carousel = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("carousel"),
            s = e.extend({},
            e.fn.carousel.defaults, typeof n == "object" && n),
            o = typeof n == "string" ? n: s.slide;
            i || r.data("carousel", i = new t(this, s)),
            typeof n == "number" ? i.to(n) : o ? i[o]() : s.interval && i.pause().cycle()
        })
    },
    e.fn.carousel.defaults = {
        interval: 5E3,
        pause: "hover"
    },
    e.fn.carousel.Constructor = t,
    e.fn.carousel.noConflict = function() {
        return e.fn.carousel = n,
        this
    },
    e(document).on("click.carousel.data-api", "[data-slide], [data-slide-to]",
    function(t) {
        var n = e(this),
        r,
        i = e(n.attr("data-target") || (r = n.attr("href")) && r.replace(/.*(?=#[^\s]+$)/, "")),
        s = e.extend({},
        i.data(), n.data()),
        o;
        i.carousel(s),
        (o = n.attr("data-slide-to")) && i.data("carousel").pause().to(o).cycle(),
        t.preventDefault()
    })
} (window.jQuery),
!
function(e) {
    var t = function(t, n) {
        this.$element = e(t),
        this.options = e.extend({},
        e.fn.collapse.defaults, n),
        this.options.parent && (this.$parent = e(this.options.parent)),
        this.options.toggle && this.toggle()
    };
    t.prototype = {
        constructor: t,
        dimension: function() {
            var e = this.$element.hasClass("width");
            return e ? "width": "height"
        },
        show: function() {
            var t, n, r, i;
            if (this.transitioning || this.$element.hasClass("in")) return;
            t = this.dimension(),
            n = e.camelCase(["scroll", t].join("-")),
            r = this.$parent && this.$parent.find("\x3e .accordion-group \x3e .in");
            if (r && r.length) {
                i = r.data("collapse");
                if (i && i.transitioning) return;
                r.collapse("hide"),
                i || r.data("collapse", null)
            }
            this.$element[t](0),
            this.transition("addClass", e.Event("show"), "shown"),
            e.support.transition && this.$element[t](this.$element[0][n])
        },
        hide: function() {
            var t;
            if (this.transitioning || !this.$element.hasClass("in")) return;
            t = this.dimension(),
            this.reset(this.$element[t]()),
            this.transition("removeClass", e.Event("hide"), "hidden"),
            this.$element[t](0)
        },
        reset: function(e) {
            var t = this.dimension();
            return this.$element.removeClass("collapse")[t](e || "auto")[0].offsetWidth,
            this.$element[e !== null ? "addClass": "removeClass"]("collapse"),
            this
        },
        transition: function(t, n, r) {
            var i = this,
            s = function() {
                n.type == "show" && i.reset(),
                i.transitioning = 0,
                i.$element.trigger(r)
            };
            this.$element.trigger(n);
            if (n.isDefaultPrevented()) return;
            this.transitioning = 1,
            this.$element[t]("in"),
            e.support.transition && this.$element.hasClass("collapse") ? this.$element.one(e.support.transition.end, s) : s()
        },
        toggle: function() {
            this[this.$element.hasClass("in") ? "hide": "show"]()
        }
    };
    var n = e.fn.collapse;
    e.fn.collapse = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("collapse"),
            s = e.extend({},
            e.fn.collapse.defaults, r.data(), typeof n == "object" && n);
            i || r.data("collapse", i = new t(this, s)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.collapse.defaults = {
        toggle: !0
    },
    e.fn.collapse.Constructor = t,
    e.fn.collapse.noConflict = function() {
        return e.fn.collapse = n,
        this
    },
    e(document).on("click.collapse.data-api", "[data-toggle\x3dcollapse]",
    function(t) {
        var n = e(this),
        r,
        i = n.attr("data-target") || t.preventDefault() || (r = n.attr("href")) && r.replace(/.*(?=#[^\s]+$)/, ""),
        s = e(i).data("collapse") ? "toggle": n.data();
        n[e(i).hasClass("in") ? "addClass": "removeClass"]("collapsed"),
        e(i).collapse(s)
    })
} (window.jQuery),
!
function(e) {
    function r() {
        e(".dropdown-backdrop").remove(),
        e(t).each(function() {
            i(e(this)).removeClass("open")
        })
    }
    function i(t) {
        var n = t.attr("data-target"),
        r;
        n || (n = t.attr("href"), n = n && /#/.test(n) && n.replace(/.*(?=#[^\s]*$)/, "")),
        r = n && e(n);
        if (!r || !r.length) r = t.parent();
        return r
    }
    var t = "[data-toggle\x3ddropdown]",
    n = function(t) {
        var n = e(t).on("click.dropdown.data-api", this.toggle);
        e("html").on("click.dropdown.data-api",
        function() {
            n.parent().removeClass("open")
        })
    };
    n.prototype = {
        constructor: n,
        toggle: function(t) {
            var n = e(this),
            s,
            o;
            if (n.is(".disabled, :disabled")) return;
            return s = i(n),
            o = s.hasClass("open"),
            r(),
            o || ("ontouchstart" in document.documentElement && e('\x3cdiv class\x3d"dropdown-backdrop"/\x3e').insertBefore(e(this)).on("click", r), s.toggleClass("open")),
            n.focus(),
            !1
        },
        keydown: function(n) {
            var r, s, o, u, a, f;
            if (!/(38|40|27)/.test(n.keyCode)) return;
            r = e(this),
            n.preventDefault(),
            n.stopPropagation();
            if (r.is(".disabled, :disabled")) return;
            u = i(r),
            a = u.hasClass("open");
            if (!a || a && n.keyCode == 27) return n.which == 27 && u.find(t).focus(),
            r.click();
            s = e("[role\x3dmenu] li:not(.divider):visible a", u);
            if (!s.length) return;
            f = s.index(s.filter(":focus")),
            n.keyCode == 38 && f > 0 && f--,
            n.keyCode == 40 && f < s.length - 1 && f++,
            ~f || (f = 0),
            s.eq(f).focus()
        }
    };
    var s = e.fn.dropdown;
    e.fn.dropdown = function(t) {
        return this.each(function() {
            var r = e(this),
            i = r.data("dropdown");
            i || r.data("dropdown", i = new n(this)),
            typeof t == "string" && i[t].call(r)
        })
    },
    e.fn.dropdown.Constructor = n,
    e.fn.dropdown.noConflict = function() {
        return e.fn.dropdown = s,
        this
    },
    e(document).on("click.dropdown.data-api", r).on("click.dropdown.data-api", ".dropdown form",
    function(e) {
        e.stopPropagation()
    }).on("click.dropdown.data-api", t, n.prototype.toggle).on("keydown.dropdown.data-api", t + ", [role\x3dmenu]", n.prototype.keydown)
} (window.jQuery),
!
function(e) {
    var t = function(t, n) {
        this.options = n,
        this.$element = e(t).delegate('[data-dismiss\x3d"modal"]', "click.dismiss.modal", e.proxy(this.hide, this)),
        this.options.remote && this.$element.find(".modal-body").load(this.options.remote)
    };
    t.prototype = {
        constructor: t,
        toggle: function() {
            return this[this.isShown ? "hide": "show"]()
        },
        show: function() {
            var t = this,
            n = e.Event("show");
            this.$element.trigger(n);
            if (this.isShown || n.isDefaultPrevented()) return;
            this.isShown = !0,
            this.escape(),
            this.backdrop(function() {
                var n = e.support.transition && t.$element.hasClass("fade");
                t.$element.parent().length || t.$element.appendTo(document.body),
                t.$element.show(),
                n && t.$element[0].offsetWidth,
                t.$element.addClass("in").attr("aria-hidden", !1),
                t.enforceFocus(),
                n ? t.$element.one(e.support.transition.end,
                function() {
                    t.$element.focus().trigger("shown")
                }) : t.$element.focus().trigger("shown")
            })
        },
        hide: function(t) {
            t && t.preventDefault();
            var n = this;
            t = e.Event("hide"),
            this.$element.trigger(t);
            if (!this.isShown || t.isDefaultPrevented()) return;
            this.isShown = !1,
            this.escape(),
            e(document).off("focusin.modal"),
            this.$element.removeClass("in").attr("aria-hidden", !0),
            e.support.transition && this.$element.hasClass("fade") ? this.hideWithTransition() : this.hideModal()
        },
        enforceFocus: function() {
            var t = this;
            e(document).on("focusin.modal",
            function(e) {
                t.$element[0] !== e.target && !t.$element.has(e.target).length && t.$element.focus()
            })
        },
        escape: function() {
            var e = this;
            this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.modal",
            function(t) {
                t.which == 27 && e.hide()
            }) : this.isShown || this.$element.off("keyup.dismiss.modal")
        },
        hideWithTransition: function() {
            var t = this,
            n = setTimeout(function() {
                t.$element.off(e.support.transition.end),
                t.hideModal()
            },
            500);
            this.$element.one(e.support.transition.end,
            function() {
                clearTimeout(n),
                t.hideModal()
            })
        },
        hideModal: function() {
            var e = this;
            this.$element.hide(),
            this.backdrop(function() {
                e.removeBackdrop(),
                e.$element.trigger("hidden")
            })
        },
        removeBackdrop: function() {
            this.$backdrop && this.$backdrop.remove(),
            this.$backdrop = null
        },
        backdrop: function(t) {
            var n = this,
            r = this.$element.hasClass("fade") ? "fade": "";
            if (this.isShown && this.options.backdrop) {
                var i = e.support.transition && r;
                this.$backdrop = e('\x3cdiv class\x3d"modal-backdrop ' + r + '" /\x3e').appendTo(document.body),
                this.$backdrop.click(this.options.backdrop == "static" ? e.proxy(this.$element[0].focus, this.$element[0]) : e.proxy(this.hide, this)),
                i && this.$backdrop[0].offsetWidth,
                this.$backdrop.addClass("in");
                if (!t) return;
                i ? this.$backdrop.one(e.support.transition.end, t) : t()
            } else ! this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"), e.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one(e.support.transition.end, t) : t()) : t && t()
        }
    };
    var n = e.fn.modal;
    e.fn.modal = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("modal"),
            s = e.extend({},
            e.fn.modal.defaults, r.data(), typeof n == "object" && n);
            i || r.data("modal", i = new t(this, s)),
            typeof n == "string" ? i[n]() : s.show && i.show()
        })
    },
    e.fn.modal.defaults = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    },
    e.fn.modal.Constructor = t,
    e.fn.modal.noConflict = function() {
        return e.fn.modal = n,
        this
    },
    e(document).on("click.modal.data-api", '[data-toggle\x3d"modal"]',
    function(t) {
        var n = e(this),
        r = n.attr("href"),
        i = e(n.attr("data-target") || r && r.replace(/.*(?=#[^\s]+$)/, "")),
        s = i.data("modal") ? "toggle": e.extend({
            remote: !/#/.test(r) && r
        },
        i.data(), n.data());
        t.preventDefault(),
        i.modal(s).one("hide",
        function() {
            n.focus()
        })
    })
} (window.jQuery),
!
function(e) {
    function t(t, n) {
        var r = e.proxy(this.process, this),
        i = e(t).is("body") ? e(window) : e(t),
        s;
        this.options = e.extend({},
        e.fn.scrollspy.defaults, n),
        this.$scrollElement = i.on("scroll.scroll-spy.data-api", r),
        this.selector = (this.options.target || (s = e(t).attr("href")) && s.replace(/.*(?=#[^\s]+$)/, "") || "") + " .nav li \x3e a",
        this.$body = e("body"),
        this.refresh(),
        this.process()
    }
    t.prototype = {
        constructor: t,
        refresh: function() {
            var t = this,
            n;
            this.offsets = e([]),
            this.targets = e([]),
            n = this.$body.find(this.selector).map(function() {
                var n = e(this),
                r = n.data("target") || n.attr("href"),
                i = /^#\w/.test(r) && e(r);
                return i && i.length && [[i.position().top + (!e.isWindow(t.$scrollElement.get(0)) && t.$scrollElement.scrollTop()), r]] || null
            }).sort(function(e, t) {
                return e[0] - t[0]
            }).each(function() {
                t.offsets.push(this[0]),
                t.targets.push(this[1])
            })
        },
        process: function() {
            var e = this.$scrollElement.scrollTop() + this.options.offset,
            t = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight,
            n = t - this.$scrollElement.height(),
            r = this.offsets,
            i = this.targets,
            s = this.activeTarget,
            o;
            if (e >= n) return s != (o = i.last()[0]) && this.activate(o);
            for (o = r.length; o--;) s != i[o] && e >= r[o] && (!r[o + 1] || e <= r[o + 1]) && this.activate(i[o])
        },
        activate: function(t) {
            var n, r;
            this.activeTarget = t,
            e(this.selector).parent(".active").removeClass("active"),
            r = this.selector + '[data-target\x3d"' + t + '"],' + this.selector + '[href\x3d"' + t + '"]',
            n = e(r).parent("li").addClass("active"),
            n.parent(".dropdown-menu").length && (n = n.closest("li.dropdown").addClass("active")),
            n.trigger("activate")
        }
    };
    var n = e.fn.scrollspy;
    e.fn.scrollspy = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("scrollspy"),
            s = typeof n == "object" && n;
            i || r.data("scrollspy", i = new t(this, s)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.scrollspy.Constructor = t,
    e.fn.scrollspy.defaults = {
        offset: 10
    },
    e.fn.scrollspy.noConflict = function() {
        return e.fn.scrollspy = n,
        this
    },
    e(window).on("load",
    function() {
        e('[data-spy\x3d"scroll"]').each(function() {
            var t = e(this);
            t.scrollspy(t.data())
        })
    })
} (window.jQuery),
!
function(e) {
    var t = function(t) {
        this.element = e(t)
    };
    t.prototype = {
        constructor: t,
        show: function() {
            var t = this.element,
            n = t.closest("ul:not(.dropdown-menu)"),
            r = t.attr("data-target"),
            i,
            s,
            o;
            r || (r = t.attr("href"), r = r && r.replace(/.*(?=#[^\s]*$)/, ""));
            if (t.parent("li").hasClass("active")) return;
            i = n.find(".active:last a")[0],
            o = e.Event("show", {
                relatedTarget: i
            }),
            t.trigger(o);
            if (o.isDefaultPrevented()) return;
            s = e(r),
            this.activate(t.parent("li"), n),
            this.activate(s, s.parent(),
            function() {
                t.trigger({
                    type: "shown",
                    relatedTarget: i
                })
            })
        },
        activate: function(t, n, r) {
            function o() {
                i.removeClass("active").find("\x3e .dropdown-menu \x3e .active").removeClass("active"),
                t.addClass("active"),
                s ? (t[0].offsetWidth, t.addClass("in")) : t.removeClass("fade"),
                t.parent(".dropdown-menu") && t.closest("li.dropdown").addClass("active"),
                r && r()
            }
            var i = n.find("\x3e .active"),
            s = r && e.support.transition && i.hasClass("fade");
            s ? i.one(e.support.transition.end, o) : o(),
            i.removeClass("in")
        }
    };
    var n = e.fn.tab;
    e.fn.tab = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("tab");
            i || r.data("tab", i = new t(this)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.tab.Constructor = t,
    e.fn.tab.noConflict = function() {
        return e.fn.tab = n,
        this
    },
    e(document).on("click.tab.data-api", '[data-toggle\x3d"tab"], [data-toggle\x3d"pill"]',
    function(t) {
        t.preventDefault(),
        e(this).tab("show")
    })
} (window.jQuery),
!
function(e) {
    var t = function(e, t) {
        this.init("tooltip", e, t)
    };
    t.prototype = {
        constructor: t,
        init: function(t, n, r) {
            var i, s, o, u, a;
            this.type = t,
            this.$element = e(n),
            this.options = this.getOptions(r),
            this.enabled = !0,
            o = this.options.trigger.split(" ");
            for (a = o.length; a--;) u = o[a],
            u == "click" ? this.$element.on("click." + this.type, this.options.selector, e.proxy(this.toggle, this)) : u != "manual" && (i = u == "hover" ? "mouseenter": "focus", s = u == "hover" ? "mouseleave": "blur", this.$element.on(i + "." + this.type, this.options.selector, e.proxy(this.enter, this)), this.$element.on(s + "." + this.type, this.options.selector, e.proxy(this.leave, this)));
            this.options.selector ? this._options = e.extend({},
            this.options, {
                trigger: "manual",
                selector: ""
            }) : this.fixTitle()
        },
        getOptions: function(t) {
            return t = e.extend({},
            e.fn[this.type].defaults, this.$element.data(), t),
            t.delay && typeof t.delay == "number" && (t.delay = {
                show: t.delay,
                hide: t.delay
            }),
            t
        },
        enter: function(t) {
            var n = e.fn[this.type].defaults,
            r = {},
            i;
            this._options && e.each(this._options,
            function(e, t) {
                n[e] != t && (r[e] = t)
            },
            this),
            i = e(t.currentTarget)[this.type](r).data(this.type);
            if (!i.options.delay || !i.options.delay.show) return i.show();
            clearTimeout(this.timeout),
            i.hoverState = "in",
            this.timeout = setTimeout(function() {
                i.hoverState == "in" && i.show()
            },
            i.options.delay.show)
        },
        leave: function(t) {
            var n = e(t.currentTarget)[this.type](this._options).data(this.type);
            this.timeout && clearTimeout(this.timeout);
            if (!n.options.delay || !n.options.delay.hide) return n.hide();
            n.hoverState = "out",
            this.timeout = setTimeout(function() {
                n.hoverState == "out" && n.hide()
            },
            n.options.delay.hide)
        },
        show: function() {
            var t, n, r, i, s, o, u = e.Event("show");
            if (this.hasContent() && this.enabled) {
                this.$element.trigger(u);
                if (u.isDefaultPrevented()) return;
                t = this.tip(),
                this.setContent(),
                this.options.animation && t.addClass("fade"),
                s = typeof this.options.placement == "function" ? this.options.placement.call(this, t[0], this.$element[0]) : this.options.placement,
                t.detach().css({
                    top: 0,
                    left: 0,
                    display: "block"
                }),
                this.options.container ? t.appendTo(this.options.container) : t.insertAfter(this.$element),
                n = this.getPosition(),
                r = t[0].offsetWidth,
                i = t[0].offsetHeight;
                switch (s) {
                case "bottom":
                    o = {
                        top: n.top + n.height,
                        left: n.left + n.width / 2 - r / 2
                    };
                    break;
                case "top":
                    o = {
                        top: n.top - i,
                        left: n.left + n.width / 2 - r / 2
                    };
                    break;
                case "left":
                    o = {
                        top: n.top + n.height / 2 - i / 2,
                        left: n.left - r
                    };
                    break;
                case "right":
                    o = {
                        top: n.top + n.height / 2 - i / 2,
                        left: n.left + n.width
                    }
                }
                this.applyPlacement(o, s),
                this.$element.trigger("shown")
            }
        },
        applyPlacement: function(e, t) {
            var n = this.tip(),
            r = n[0].offsetWidth,
            i = n[0].offsetHeight,
            s,
            o,
            u,
            a;
            n.offset(e).addClass(t).addClass("in"),
            s = n[0].offsetWidth,
            o = n[0].offsetHeight,
            t == "top" && o != i && (e.top = e.top + i - o, a = !0),
            t == "bottom" || t == "top" ? (u = 0, e.left < 0 && (u = e.left * -2, e.left = 0, n.offset(e), s = n[0].offsetWidth, o = n[0].offsetHeight), this.replaceArrow(u - r + s, s, "left")) : this.replaceArrow(o - i, o, "top"),
            a && n.offset(e)
        },
        replaceArrow: function(e, t, n) {
            this.arrow().css(n, e ? 50 * (1 - e / t) + "%": "")
        },
        setContent: function() {
            var e = this.tip(),
            t = this.getTitle();
            e.find(".tooltip-inner")[this.options.html ? "html": "text"](t),
            e.removeClass("fade in top bottom left right")
        },
        hide: function() {
            function i() {
                var t = setTimeout(function() {
                    n.off(e.support.transition.end).detach()
                },
                500);
                n.one(e.support.transition.end,
                function() {
                    clearTimeout(t),
                    n.detach()
                })
            }
            var t = this,
            n = this.tip(),
            r = e.Event("hide");
            this.$element.trigger(r);
            if (r.isDefaultPrevented()) return;
            return n.removeClass("in"),
            e.support.transition && this.$tip.hasClass("fade") ? i() : n.detach(),
            this.$element.trigger("hidden"),
            this
        },
        fixTitle: function() {
            var e = this.$element; (e.attr("title") || typeof e.attr("data-original-title") != "string") && e.attr("data-original-title", e.attr("title") || "").attr("title", "")
        },
        hasContent: function() {
            return this.getTitle()
        },
        getPosition: function() {
            var t = this.$element[0];
            return e.extend({},
            typeof t.getBoundingClientRect == "function" ? t.getBoundingClientRect() : {
                width: t.offsetWidth,
                height: t.offsetHeight
            },
            this.$element.offset())
        },
        getTitle: function() {
            var e, t = this.$element,
            n = this.options;
            return e = t.attr("data-original-title") || (typeof n.title == "function" ? n.title.call(t[0]) : n.title),
            e
        },
        tip: function() {
            return this.$tip = this.$tip || e(this.options.template)
        },
        arrow: function() {
            return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
        },
        validate: function() {
            this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null)
        },
        enable: function() {
            this.enabled = !0
        },
        disable: function() {
            this.enabled = !1
        },
        toggleEnabled: function() {
            this.enabled = !this.enabled
        },
        toggle: function(t) {
            var n = t ? e(t.currentTarget)[this.type](this._options).data(this.type) : this;
            n.tip().hasClass("in") ? n.hide() : n.show()
        },
        destroy: function() {
            this.hide().$element.off("." + this.type).removeData(this.type)
        }
    };
    var n = e.fn.tooltip;
    e.fn.tooltip = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("tooltip"),
            s = typeof n == "object" && n;
            i || r.data("tooltip", i = new t(this, s)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.tooltip.Constructor = t,
    e.fn.tooltip.defaults = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '\x3cdiv class\x3d"tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip-inner"\x3e\x3c/div\x3e\x3c/div\x3e',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1
    },
    e.fn.tooltip.noConflict = function() {
        return e.fn.tooltip = n,
        this
    }
} (window.jQuery),
!
function(e) {
    var t = function(e, t) {
        this.init("popover", e, t)
    };
    t.prototype = e.extend({},
    e.fn.tooltip.Constructor.prototype, {
        constructor: t,
        setContent: function() {
            var e = this.tip(),
            t = this.getTitle(),
            n = this.getContent();
            e.find(".popover-title")[this.options.html ? "html": "text"](t),
            e.find(".popover-content")[this.options.html ? "html": "text"](n),
            e.removeClass("fade top bottom left right in")
        },
        hasContent: function() {
            return this.getTitle() || this.getContent()
        },
        getContent: function() {
            var e, t = this.$element,
            n = this.options;
            return e = (typeof n.content == "function" ? n.content.call(t[0]) : n.content) || t.attr("data-content"),
            e
        },
        tip: function() {
            return this.$tip || (this.$tip = e(this.options.template)),
            this.$tip
        },
        destroy: function() {
            this.hide().$element.off("." + this.type).removeData(this.type)
        }
    });
    var n = e.fn.popover;
    e.fn.popover = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("popover"),
            s = typeof n == "object" && n;
            i || r.data("popover", i = new t(this, s)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.popover.Constructor = t,
    e.fn.popover.defaults = e.extend({},
    e.fn.tooltip.defaults, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '\x3cdiv class\x3d"popover"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3ch3 class\x3d"popover-title"\x3e\x3c/h3\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e'
    }),
    e.fn.popover.noConflict = function() {
        return e.fn.popover = n,
        this
    }
} (window.jQuery),
!
function(e) {
    var t = function(t, n) {
        this.$element = e(t),
        this.options = e.extend({},
        e.fn.typeahead.defaults, n),
        this.matcher = this.options.matcher || this.matcher,
        this.sorter = this.options.sorter || this.sorter,
        this.highlighter = this.options.highlighter || this.highlighter,
        this.updater = this.options.updater || this.updater,
        this.source = this.options.source,
        this.$menu = e(this.options.menu),
        this.shown = !1,
        this.listen()
    };
    t.prototype = {
        constructor: t,
        select: function() {
            var e = this.$menu.find(".active").attr("data-value");
            return this.$element.val(this.updater(e)).change(),
            this.hide()
        },
        updater: function(e) {
            return e
        },
        show: function() {
            var t = e.extend({},
            this.$element.position(), {
                height: this.$element[0].offsetHeight
            });
            return this.$menu.insertAfter(this.$element).css({
                top: t.top + t.height,
                left: t.left
            }).show(),
            this.shown = !0,
            this
        },
        hide: function() {
            return this.$menu.hide(),
            this.shown = !1,
            this
        },
        lookup: function(t) {
            var n;
            return this.query = this.$element.val(),
            !this.query || this.query.length < this.options.minLength ? this.shown ? this.hide() : this: (n = e.isFunction(this.source) ? this.source(this.query, e.proxy(this.process, this)) : this.source, n ? this.process(n) : this)
        },
        process: function(t) {
            var n = this;
            return t = e.grep(t,
            function(e) {
                return n.matcher(e)
            }),
            t = this.sorter(t),
            t.length ? this.render(t.slice(0, this.options.items)).show() : this.shown ? this.hide() : this
        },
        matcher: function(e) {
            return~e.toLowerCase().indexOf(this.query.toLowerCase())
        },
        sorter: function(e) {
            var t = [],
            n = [],
            r = [],
            i;
            while (i = e.shift()) i.toLowerCase().indexOf(this.query.toLowerCase()) ? ~i.indexOf(this.query) ? n.push(i) : r.push(i) : t.push(i);
            return t.concat(n, r)
        },
        highlighter: function(e) {
            var t = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$\x26");
            return e.replace(new RegExp("(" + t + ")", "ig"),
            function(e, t) {
                return "\x3cstrong\x3e" + t + "\x3c/strong\x3e"
            })
        },
        render: function(t) {
            var n = this;
            return t = e(t).map(function(t, r) {
                return t = e(n.options.item).attr("data-value", r),
                t.find("a").html(n.highlighter(r)),
                t[0]
            }),
            t.first().addClass("active"),
            this.$menu.html(t),
            this
        },
        next: function(t) {
            var n = this.$menu.find(".active").removeClass("active"),
            r = n.next();
            r.length || (r = e(this.$menu.find("li")[0])),
            r.addClass("active")
        },
        prev: function(e) {
            var t = this.$menu.find(".active").removeClass("active"),
            n = t.prev();
            n.length || (n = this.$menu.find("li").last()),
            n.addClass("active")
        },
        listen: function() {
            this.$element.on("focus", e.proxy(this.focus, this)).on("blur", e.proxy(this.blur, this)).on("keypress", e.proxy(this.keypress, this)).on("keyup", e.proxy(this.keyup, this)),
            this.eventSupported("keydown") && this.$element.on("keydown", e.proxy(this.keydown, this)),
            this.$menu.on("click", e.proxy(this.click, this)).on("mouseenter", "li", e.proxy(this.mouseenter, this)).on("mouseleave", "li", e.proxy(this.mouseleave, this))
        },
        eventSupported: function(e) {
            var t = e in this.$element;
            return t || (this.$element.setAttribute(e, "return;"), t = typeof this.$element[e] == "function"),
            t
        },
        move: function(e) {
            if (!this.shown) return;
            switch (e.keyCode) {
            case 9:
            case 13:
            case 27:
                e.preventDefault();
                break;
            case 38:
                e.preventDefault(),
                this.prev();
                break;
            case 40:
                e.preventDefault(),
                this.next()
            }
            e.stopPropagation()
        },
        keydown: function(t) {
            this.suppressKeyPressRepeat = ~e.inArray(t.keyCode, [40, 38, 9, 13, 27]),
            this.move(t)
        },
        keypress: function(e) {
            if (this.suppressKeyPressRepeat) return;
            this.move(e)
        },
        keyup: function(e) {
            switch (e.keyCode) {
            case 40:
            case 38:
            case 16:
            case 17:
            case 18:
                break;
            case 9:
            case 13:
                if (!this.shown) return;
                this.select();
                break;
            case 27:
                if (!this.shown) return;
                this.hide();
                break;
            default:
                this.lookup()
            }
            e.stopPropagation(),
            e.preventDefault()
        },
        focus: function(e) {
            this.focused = !0
        },
        blur: function(e) {
            this.focused = !1,
            !this.mousedover && this.shown && this.hide()
        },
        click: function(e) {
            e.stopPropagation(),
            e.preventDefault(),
            this.select(),
            this.$element.focus()
        },
        mouseenter: function(t) {
            this.mousedover = !0,
            this.$menu.find(".active").removeClass("active"),
            e(t.currentTarget).addClass("active")
        },
        mouseleave: function(e) {
            this.mousedover = !1,
            !this.focused && this.shown && this.hide()
        }
    };
    var n = e.fn.typeahead;
    e.fn.typeahead = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("typeahead"),
            s = typeof n == "object" && n;
            i || r.data("typeahead", i = new t(this, s)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.typeahead.defaults = {
        source: [],
        items: 8,
        menu: '\x3cul class\x3d"typeahead dropdown-menu"\x3e\x3c/ul\x3e',
        item: '\x3cli\x3e\x3ca href\x3d"#"\x3e\x3c/a\x3e\x3c/li\x3e',
        minLength: 1
    },
    e.fn.typeahead.Constructor = t,
    e.fn.typeahead.noConflict = function() {
        return e.fn.typeahead = n,
        this
    },
    e(document).on("focus.typeahead.data-api", '[data-provide\x3d"typeahead"]',
    function(t) {
        var n = e(this);
        if (n.data("typeahead")) return;
        n.typeahead(n.data())
    })
} (window.jQuery),
function(e, t) {
    function r() {
        return new Date(Date.UTC.apply(Date, arguments))
    }
    function i() {
        var e = new Date;
        return r(e.getFullYear(), e.getMonth(), e.getDate())
    }
    function s(e) {
        return function() {
            return this[e].apply(this, arguments)
        }
    }
    function f(t, n) {
        function u(e, t) {
            return t.toLowerCase()
        }
        var r = e(t).data(),
        i = {},
        s,
        o = new RegExp("^" + n.toLowerCase() + "([A-Z])");
        n = new RegExp("^" + n.toLowerCase());
        for (var a in r) n.test(a) && (s = a.replace(o, u), i[s] = r[a]);
        return i
    }
    function l(t) {
        var n = {};
        if (!d[t]) {
            t = t.split("-")[0];
            if (!d[t]) return
        }
        var r = d[t];
        return e.each(p,
        function(e, t) {
            t in r && (n[t] = r[t])
        }),
        n
    }
    var n = e(window),
    o = function() {
        var t = {
            get: function(e) {
                return this.slice(e)[0]
            },
            contains: function(e) {
                var t = e && e.valueOf();
                for (var n = 0,
                r = this.length; n < r; n++) if (this[n].valueOf() === t) return n;
                return - 1
            },
            remove: function(e) {
                this.splice(e, 1)
            },
            replace: function(t) {
                if (!t) return;
                e.isArray(t) || (t = [t]),
                this.clear(),
                this.push.apply(this, t)
            },
            clear: function() {
                this.splice(0)
            },
            copy: function() {
                var e = new o;
                return e.replace(this),
                e
            }
        };
        return function() {
            var n = [];
            return n.push.apply(n, arguments),
            e.extend(n, t),
            n
        }
    } (),
    u = function(t, n) {
        this.dates = new o,
        this.viewDate = i(),
        this.focusDate = null,
        this._process_options(n),
        this.element = e(t),
        this.isInline = !1,
        this.isInput = this.element.is("input"),
        this.component = this.element.is(".date") ? this.element.find(".add-on, .input-group-addon, .btn") : !1,
        this.hasInput = this.component && this.element.find("input").length,
        this.component && this.component.length === 0 && (this.component = !1),
        this.picker = e(v.template),
        this._buildEvents(),
        this._attachEvents(),
        this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"),
        this.o.rtl && this.picker.addClass("datepicker-rtl"),
        this.viewMode = this.o.startView,
        this.o.calendarWeeks && this.picker.find("tfoot th.today").attr("colspan",
        function(e, t) {
            return parseInt(t) + 1
        }),
        this._allow_update = !1,
        this.setStartDate(this._o.startDate),
        this.setEndDate(this._o.endDate),
        this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),
        this.fillDow(),
        this.fillMonths(),
        this._allow_update = !0,
        this.update(),
        this.showMode(),
        this.isInline && this.show()
    };
    u.prototype = {
        constructor: u,
        _process_options: function(t) {
            this._o = e.extend({},
            this._o, t);
            var n = this.o = e.extend({},
            this._o),
            r = n.language;
            d[r] || (r = r.split("-")[0], d[r] || (r = h.language)),
            n.language = r;
            switch (n.startView) {
            case 2:
            case "decade":
                n.startView = 2;
                break;
            case 1:
            case "year":
                n.startView = 1;
                break;
            default:
                n.startView = 0
            }
            switch (n.minViewMode) {
            case 1:
            case "months":
                n.minViewMode = 1;
                break;
            case 2:
            case "years":
                n.minViewMode = 2;
                break;
            default:
                n.minViewMode = 0
            }
            n.startView = Math.max(n.startView, n.minViewMode),
            n.multidate !== !0 && (n.multidate = Number(n.multidate) || !1, n.multidate !== !1 ? n.multidate = Math.max(0, n.multidate) : n.multidate = 1),
            n.multidateSeparator = String(n.multidateSeparator),
            n.weekStart %= 7,
            n.weekEnd = (n.weekStart + 6) % 7;
            var i = v.parseFormat(n.format);
            n.startDate !== -Infinity && (n.startDate ? n.startDate instanceof Date ? n.startDate = this._local_to_utc(this._zero_time(n.startDate)) : n.startDate = v.parseDate(n.startDate, i, n.language) : n.startDate = -Infinity),
            n.endDate !== Infinity && (n.endDate ? n.endDate instanceof Date ? n.endDate = this._local_to_utc(this._zero_time(n.endDate)) : n.endDate = v.parseDate(n.endDate, i, n.language) : n.endDate = Infinity),
            n.daysOfWeekDisabled = n.daysOfWeekDisabled || [],
            e.isArray(n.daysOfWeekDisabled) || (n.daysOfWeekDisabled = n.daysOfWeekDisabled.split(/[,\s]*/)),
            n.daysOfWeekDisabled = e.map(n.daysOfWeekDisabled,
            function(e) {
                return parseInt(e, 10)
            });
            var s = String(n.orientation).toLowerCase().split(/\s+/g),
            o = n.orientation.toLowerCase();
            s = e.grep(s,
            function(e) {
                return /^auto|left|right|top|bottom$/.test(e)
            }),
            n.orientation = {
                x: "auto",
                y: "auto"
            };
            if ( !! o && o !== "auto") if (s.length === 1) switch (s[0]) {
            case "top":
            case "bottom":
                n.orientation.y = s[0];
                break;
            case "left":
            case "right":
                n.orientation.x = s[0]
            } else o = e.grep(s,
            function(e) {
                return /^left|right$/.test(e)
            }),
            n.orientation.x = o[0] || "auto",
            o = e.grep(s,
            function(e) {
                return /^top|bottom$/.test(e)
            }),
            n.orientation.y = o[0] || "auto"
        },
        _events: [],
        _secondaryEvents: [],
        _applyEvents: function(e) {
            for (var n = 0,
            r, i, s; n < e.length; n++) r = e[n][0],
            e[n].length === 2 ? (i = t, s = e[n][1]) : e[n].length === 3 && (i = e[n][1], s = e[n][2]),
            r.on(s, i)
        },
        _unapplyEvents: function(e) {
            for (var n = 0,
            r, i, s; n < e.length; n++) r = e[n][0],
            e[n].length === 2 ? (s = t, i = e[n][1]) : e[n].length === 3 && (s = e[n][1], i = e[n][2]),
            r.off(i, s)
        },
        _buildEvents: function() {
            this.isInput ? this._events = [[this.element, {
                focus: e.proxy(this.show, this),
                keyup: e.proxy(function(t) {
                    e.inArray(t.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1 && this.update()
                },
                this),
                keydown: e.proxy(this.keydown, this)
            }]] : this.component && this.hasInput ? this._events = [[this.element.find("input"), {
                focus: e.proxy(this.show, this),
                keyup: e.proxy(function(t) {
                    e.inArray(t.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1 && this.update()
                },
                this),
                keydown: e.proxy(this.keydown, this)
            }], [this.component, {
                click: e.proxy(this.show, this)
            }]] : this.element.is("div") ? this.isInline = !0 : this._events = [[this.element, {
                click: e.proxy(this.show, this)
            }]],
            this._events.push([this.element, "*", {
                blur: e.proxy(function(e) {
                    this._focused_from = e.target
                },
                this)
            }], [this.element, {
                blur: e.proxy(function(e) {
                    this._focused_from = e.target
                },
                this)
            }]),
            this._secondaryEvents = [[this.picker, {
                click: e.proxy(this.click, this)
            }], [e(window), {
                resize: e.proxy(this.place, this)
            }], [e(document), {
                "mousedown touchstart": e.proxy(function(e) {
                    this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length || this.hide()
                },
                this)
            }]]
        },
        _attachEvents: function() {
            this._detachEvents(),
            this._applyEvents(this._events)
        },
        _detachEvents: function() {
            this._unapplyEvents(this._events)
        },
        _attachSecondaryEvents: function() {
            this._detachSecondaryEvents(),
            this._applyEvents(this._secondaryEvents)
        },
        _detachSecondaryEvents: function() {
            this._unapplyEvents(this._secondaryEvents)
        },
        _trigger: function(t, n) {
            var r = n || this.dates.get( - 1),
            i = this._utc_to_local(r);
            this.element.trigger({
                type: t,
                date: i,
                dates: e.map(this.dates, this._utc_to_local),
                format: e.proxy(function(e, t) {
                    arguments.length === 0 ? (e = this.dates.length - 1, t = this.o.format) : typeof e == "string" && (t = e, e = this.dates.length - 1),
                    t = t || this.o.format;
                    var n = this.dates.get(e);
                    return v.formatDate(n, t, this.o.language)
                },
                this)
            })
        },
        show: function() {
            this.isInline || this.picker.appendTo("body"),
            this.picker.show(),
            this.place(),
            this._attachSecondaryEvents(),
            this._trigger("show")
        },
        hide: function() {
            if (this.isInline) return;
            if (!this.picker.is(":visible")) return;
            this.focusDate = null,
            this.picker.hide().detach(),
            this._detachSecondaryEvents(),
            this.viewMode = this.o.startView,
            this.showMode(),
            this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(),
            this._trigger("hide")
        },
        remove: function() {
            this.hide(),
            this._detachEvents(),
            this._detachSecondaryEvents(),
            this.picker.remove(),
            delete this.element.data().datepicker,
            this.isInput || delete this.element.data().date
        },
        _utc_to_local: function(e) {
            return e && new Date(e.getTime() + e.getTimezoneOffset() * 6E4)
        },
        _local_to_utc: function(e) {
            return e && new Date(e.getTime() - e.getTimezoneOffset() * 6E4)
        },
        _zero_time: function(e) {
            return e && new Date(e.getFullYear(), e.getMonth(), e.getDate())
        },
        _zero_utc_time: function(e) {
            return e && new Date(Date.UTC(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()))
        },
        getDates: function() {
            return e.map(this.dates, this._utc_to_local)
        },
        getUTCDates: function() {
            return e.map(this.dates,
            function(e) {
                return new Date(e)
            })
        },
        getDate: function() {
            return this._utc_to_local(this.getUTCDate())
        },
        getUTCDate: function() {
            return new Date(this.dates.get( - 1))
        },
        setDates: function() {
            var t = e.isArray(arguments[0]) ? arguments[0] : arguments;
            this.update.apply(this, t),
            this._trigger("changeDate"),
            this.setValue()
        },
        setUTCDates: function() {
            var t = e.isArray(arguments[0]) ? arguments[0] : arguments;
            this.update.apply(this, e.map(t, this._utc_to_local)),
            this._trigger("changeDate"),
            this.setValue()
        },
        setDate: s("setDates"),
        setUTCDate: s("setUTCDates"),
        setValue: function() {
            var e = this.getFormattedDate();
            this.isInput ? this.element.val(e).change() : this.component && this.element.find("input").val(e).change()
        },
        getFormattedDate: function(n) {
            n === t && (n = this.o.format);
            var r = this.o.language;
            return e.map(this.dates,
            function(e) {
                return v.formatDate(e, n, r)
            }).join(this.o.multidateSeparator)
        },
        setStartDate: function(e) {
            this._process_options({
                startDate: e
            }),
            this.update(),
            this.updateNavArrows()
        },
        setEndDate: function(e) {
            this._process_options({
                endDate: e
            }),
            this.update(),
            this.updateNavArrows()
        },
        setDaysOfWeekDisabled: function(e) {
            this._process_options({
                daysOfWeekDisabled: e
            }),
            this.update(),
            this.updateNavArrows()
        },
        place: function() {
            if (this.isInline) return;
            var t = this.picker.outerWidth(),
            r = this.picker.outerHeight(),
            i = 10,
            s = n.width(),
            o = n.height(),
            u = n.scrollTop(),
            a = parseInt(this.element.parents().filter(function() {
                return e(this).css("z-index") !== "auto"
            }).first().css("z-index")) + 10,
            f = this.component ? this.component.parent().offset() : this.element.offset(),
            l = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1),
            c = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1),
            h = f.left,
            p = f.top;
            this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),
            this.o.orientation.x !== "auto" ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), this.o.orientation.x === "right" && (h -= t - c)) : (this.picker.addClass("datepicker-orient-left"), f.left < 0 ? h -= f.left - i: f.left + t > s && (h = s - t - i));
            var d = this.o.orientation.y,
            v, m;
            d === "auto" && (v = -u + f.top - r, m = u + o - (f.top + l + r), Math.max(v, m) === m ? d = "top": d = "bottom"),
            this.picker.addClass("datepicker-orient-" + d),
            d === "top" ? p += l: p -= r + parseInt(this.picker.css("padding-top")),
            this.picker.css({
                top: p,
                left: h,
                zIndex: a
            })
        },
        _allow_update: !0,
        update: function() {
            if (!this._allow_update) return;
            var t = this.dates.copy(),
            n = [],
            r = !1;
            arguments.length ? (e.each(arguments, e.proxy(function(e, t) {
                t instanceof Date && (t = this._local_to_utc(t)),
                n.push(t)
            },
            this)), r = !0) : (n = this.isInput ? this.element.val() : this.element.data("date") || this.element.find("input").val(), n && this.o.multidate ? n = n.split(this.o.multidateSeparator) : n = [n], delete this.element.data().date),
            n = e.map(n, e.proxy(function(e) {
                return v.parseDate(e, this.o.format, this.o.language)
            },
            this)),
            n = e.grep(n, e.proxy(function(e) {
                return e < this.o.startDate || e > this.o.endDate || !e
            },
            this), !0),
            this.dates.replace(n),
            this.dates.length ? this.viewDate = new Date(this.dates.get( - 1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate && (this.viewDate = new Date(this.o.endDate)),
            r ? this.setValue() : n.length && String(t) !== String(this.dates) && this._trigger("changeDate"),
            !this.dates.length && t.length && this._trigger("clearDate"),
            this.fill()
        },
        fillDow: function() {
            var e = this.o.weekStart,
            t = "\x3ctr\x3e";
            if (this.o.calendarWeeks) {
                var n = '\x3cth class\x3d"cw"\x3e\x26nbsp;\x3c/th\x3e';
                t += n,
                this.picker.find(".datepicker-days thead tr:first-child").prepend(n)
            }
            while (e < this.o.weekStart + 7) t += '\x3cth class\x3d"dow"\x3e' + d[this.o.language].daysMin[e++%7] + "\x3c/th\x3e";
            t += "\x3c/tr\x3e",
            this.picker.find(".datepicker-days thead").append(t)
        },
        fillMonths: function() {
            var e = "",
            t = 0;
            while (t < 12) e += '\x3cspan class\x3d"month"\x3e' + d[this.o.language].monthsShort[t++] + "\x3c/span\x3e";
            this.picker.find(".datepicker-months td").html(e)
        },
        setRange: function(t) { ! t || !t.length ? delete this.range: this.range = e.map(t,
            function(e) {
                return e.valueOf()
            }),
            this.fill()
        },
        getClassNames: function(t) {
            var n = [],
            r = this.viewDate.getUTCFullYear(),
            i = this.viewDate.getUTCMonth(),
            s = new Date;
            return t.getUTCFullYear() < r || t.getUTCFullYear() === r && t.getUTCMonth() < i ? n.push("old") : (t.getUTCFullYear() > r || t.getUTCFullYear() === r && t.getUTCMonth() > i) && n.push("new"),
            this.focusDate && t.valueOf() === this.focusDate.valueOf() && n.push("focused"),
            this.o.todayHighlight && t.getUTCFullYear() === s.getFullYear() && t.getUTCMonth() === s.getMonth() && t.getUTCDate() === s.getDate() && n.push("today"),
            this.dates.contains(t) !== -1 && n.push("active"),
            (t.valueOf() < this.o.startDate || t.valueOf() > this.o.endDate || e.inArray(t.getUTCDay(), this.o.daysOfWeekDisabled) !== -1) && n.push("disabled"),
            this.range && (t > this.range[0] && t < this.range[this.range.length - 1] && n.push("range"), e.inArray(t.valueOf(), this.range) !== -1 && n.push("selected")),
            n
        },
        fill: function() {
            var n = new Date(this.viewDate),
            i = n.getUTCFullYear(),
            s = n.getUTCMonth(),
            o = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,
            u = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,
            a = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,
            f = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,
            l = d[this.o.language].today || d.en.today || "",
            c = d[this.o.language].clear || d.en.clear || "",
            h;
            this.picker.find(".datepicker-days thead th.datepicker-switch").text(d[this.o.language].months[s] + " " + i),
            this.picker.find("tfoot th.today").text(l).toggle(this.o.todayBtn !== !1),
            this.picker.find("tfoot th.clear").text(c).toggle(this.o.clearBtn !== !1),
            this.updateNavArrows(),
            this.fillMonths();
            var p = r(i, s - 1, 28),
            m = v.getDaysInMonth(p.getUTCFullYear(), p.getUTCMonth());
            p.setUTCDate(m),
            p.setUTCDate(m - (p.getUTCDay() - this.o.weekStart + 7) % 7);
            var g = new Date(p);
            g.setUTCDate(g.getUTCDate() + 42),
            g = g.valueOf();
            var y = [],
            b;
            while (p.valueOf() < g) {
                if (p.getUTCDay() === this.o.weekStart) {
                    y.push("\x3ctr\x3e");
                    if (this.o.calendarWeeks) {
                        var w = new Date( + p + (this.o.weekStart - p.getUTCDay() - 7) % 7 * 864E5),
                        E = new Date(Number(w) + (11 - w.getUTCDay()) % 7 * 864E5),
                        S = new Date(Number(S = r(E.getUTCFullYear(), 0, 1)) + (11 - S.getUTCDay()) % 7 * 864E5),
                        x = (E - S) / 864E5 / 7 + 1;
                        y.push('\x3ctd class\x3d"cw"\x3e' + x + "\x3c/td\x3e")
                    }
                }
                b = this.getClassNames(p),
                b.push("day");
                if (this.o.beforeShowDay !== e.noop) {
                    var T = this.o.beforeShowDay(this._utc_to_local(p));
                    T === t ? T = {}: typeof T == "boolean" ? T = {
                        enabled: T
                    }: typeof T == "string" && (T = {
                        classes: T
                    }),
                    T.enabled === !1 && b.push("disabled"),
                    T.classes && (b = b.concat(T.classes.split(/\s+/))),
                    T.tooltip && (h = T.tooltip)
                }
                b = e.unique(b),
                y.push('\x3ctd class\x3d"' + b.join(" ") + '"' + (h ? ' title\x3d"' + h + '"': "") + "\x3e" + p.getUTCDate() + "\x3c/td\x3e"),
                p.getUTCDay() === this.o.weekEnd && y.push("\x3c/tr\x3e"),
                p.setUTCDate(p.getUTCDate() + 1)
            }
            this.picker.find(".datepicker-days tbody").empty().append(y.join(""));
            var N = this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");
            e.each(this.dates,
            function(e, t) {
                t.getUTCFullYear() === i && N.eq(t.getUTCMonth()).addClass("active")
            }),
            (i < o || i > a) && N.addClass("disabled"),
            i === o && N.slice(0, u).addClass("disabled"),
            i === a && N.slice(f + 1).addClass("disabled"),
            y = "",
            i = parseInt(i / 10, 10) * 10;
            var C = this.picker.find(".datepicker-years").find("th:eq(1)").text(i + "-" + (i + 9)).end().find("td");
            i -= 1;
            var k = e.map(this.dates,
            function(e) {
                return e.getUTCFullYear()
            }),
            L;
            for (var A = -1; A < 11; A++) L = ["year"],
            A === -1 ? L.push("old") : A === 10 && L.push("new"),
            e.inArray(i, k) !== -1 && L.push("active"),
            (i < o || i > a) && L.push("disabled"),
            y += '\x3cspan class\x3d"' + L.join(" ") + '"\x3e' + i + "\x3c/span\x3e",
            i += 1;
            C.html(y)
        },
        updateNavArrows: function() {
            if (!this._allow_update) return;
            var e = new Date(this.viewDate),
            t = e.getUTCFullYear(),
            n = e.getUTCMonth();
            switch (this.viewMode) {
            case 0:
                this.o.startDate !== -Infinity && t <= this.o.startDate.getUTCFullYear() && n <= this.o.startDate.getUTCMonth() ? this.picker.find(".prev").css({
                    visibility: "hidden"
                }) : this.picker.find(".prev").css({
                    visibility: "visible"
                }),
                this.o.endDate !== Infinity && t >= this.o.endDate.getUTCFullYear() && n >= this.o.endDate.getUTCMonth() ? this.picker.find(".next").css({
                    visibility: "hidden"
                }) : this.picker.find(".next").css({
                    visibility: "visible"
                });
                break;
            case 1:
            case 2:
                this.o.startDate !== -Infinity && t <= this.o.startDate.getUTCFullYear() ? this.picker.find(".prev").css({
                    visibility: "hidden"
                }) : this.picker.find(".prev").css({
                    visibility: "visible"
                }),
                this.o.endDate !== Infinity && t >= this.o.endDate.getUTCFullYear() ? this.picker.find(".next").css({
                    visibility: "hidden"
                }) : this.picker.find(".next").css({
                    visibility: "visible"
                })
            }
        },
        click: function(t) {
            t.stopPropagation(),
            t.preventDefault();
            var n = e(t.target).closest("span, td, th"),
            i,
            s,
            o;
            if (n.length === 1) switch (n[0].nodeName.toLowerCase()) {
            case "th":
                switch (n[0].className) {
                case "datepicker-switch":
                    this.showMode(1);
                    break;
                case "prev":
                case "next":
                    var u = v.modes[this.viewMode].navStep * (n[0].className === "prev" ? -1 : 1);
                    switch (this.viewMode) {
                    case 0:
                        this.viewDate = this.moveMonth(this.viewDate, u),
                        this._trigger("changeMonth", this.viewDate);
                        break;
                    case 1:
                    case 2:
                        this.viewDate = this.moveYear(this.viewDate, u),
                        this.viewMode === 1 && this._trigger("changeYear", this.viewDate)
                    }
                    this.fill();
                    break;
                case "today":
                    var a = new Date;
                    a = r(a.getFullYear(), a.getMonth(), a.getDate(), 0, 0, 0),
                    this.showMode( - 2);
                    var f = this.o.todayBtn === "linked" ? null: "view";
                    this._setDate(a, f);
                    break;
                case "clear":
                    var l;
                    this.isInput ? l = this.element: this.component && (l = this.element.find("input")),
                    l && l.val("").change(),
                    this.update(),
                    this._trigger("changeDate"),
                    this.o.autoclose && this.hide()
                }
                break;
            case "span":
                n.is(".disabled") || (this.viewDate.setUTCDate(1), n.is(".month") ? (o = 1, s = n.parent().find("span").index(n), i = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(s), this._trigger("changeMonth", this.viewDate), this.o.minViewMode === 1 && this._setDate(r(i, s, o))) : (o = 1, s = 0, i = parseInt(n.text(), 10) || 0, this.viewDate.setUTCFullYear(i), this._trigger("changeYear", this.viewDate), this.o.minViewMode === 2 && this._setDate(r(i, s, o))), this.showMode( - 1), this.fill());
                break;
            case "td":
                n.is(".day") && !n.is(".disabled") && (o = parseInt(n.text(), 10) || 1, i = this.viewDate.getUTCFullYear(), s = this.viewDate.getUTCMonth(), n.is(".old") ? s === 0 ? (s = 11, i -= 1) : s -= 1 : n.is(".new") && (s === 11 ? (s = 0, i += 1) : s += 1), this._setDate(r(i, s, o)))
            }
            this.picker.is(":visible") && this._focused_from && e(this._focused_from).focus(),
            delete this._focused_from
        },
        _toggle_multidate: function(e) {
            var t = this.dates.contains(e);
            e ? t !== -1 ? this.dates.remove(t) : this.dates.push(e) : this.dates.clear();
            if (typeof this.o.multidate == "number") while (this.dates.length > this.o.multidate) this.dates.remove(0)
        },
        _setDate: function(e, t) { (!t || t === "date") && this._toggle_multidate(e && new Date(e));
            if (!t || t === "view") this.viewDate = e && new Date(e);
            this.fill(),
            this.setValue(),
            this._trigger("changeDate");
            var n;
            this.isInput ? n = this.element: this.component && (n = this.element.find("input")),
            n && n.change(),
            this.o.autoclose && (!t || t === "date") && this.hide()
        },
        moveMonth: function(e, n) {
            if (!e) return t;
            if (!n) return e;
            var r = new Date(e.valueOf()),
            i = r.getUTCDate(),
            s = r.getUTCMonth(),
            o = Math.abs(n),
            u,
            a;
            n = n > 0 ? 1 : -1;
            if (o === 1) {
                a = n === -1 ?
                function() {
                    return r.getUTCMonth() === s
                }: function() {
                    return r.getUTCMonth() !== u
                },
                u = s + n,
                r.setUTCMonth(u);
                if (u < 0 || u > 11) u = (u + 12) % 12
            } else {
                for (var f = 0; f < o; f++) r = this.moveMonth(r, n);
                u = r.getUTCMonth(),
                r.setUTCDate(i),
                a = function() {
                    return u !== r.getUTCMonth()
                }
            }
            while (a()) r.setUTCDate(--i),
            r.setUTCMonth(u);
            return r
        },
        moveYear: function(e, t) {
            return this.moveMonth(e, t * 12)
        },
        dateWithinRange: function(e) {
            return e >= this.o.startDate && e <= this.o.endDate
        },
        keydown: function(e) {
            if (this.picker.is(":not(:visible)")) {
                e.keyCode === 27 && this.show();
                return
            }
            var t = !1,
            n, r, s, o = this.focusDate || this.viewDate;
            switch (e.keyCode) {
            case 27:
                this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get( - 1) || this.viewDate, this.fill()) : this.hide(),
                e.preventDefault();
                break;
            case 37:
            case 39:
                if (!this.o.keyboardNavigation) break;
                n = e.keyCode === 37 ? -1 : 1,
                e.ctrlKey ? (r = this.moveYear(this.dates.get( - 1) || i(), n), s = this.moveYear(o, n), this._trigger("changeYear", this.viewDate)) : e.shiftKey ? (r = this.moveMonth(this.dates.get( - 1) || i(), n), s = this.moveMonth(o, n), this._trigger("changeMonth", this.viewDate)) : (r = new Date(this.dates.get( - 1) || i()), r.setUTCDate(r.getUTCDate() + n), s = new Date(o), s.setUTCDate(o.getUTCDate() + n)),
                this.dateWithinRange(r) && (this.focusDate = this.viewDate = s, this.setValue(), this.fill(), e.preventDefault());
                break;
            case 38:
            case 40:
                if (!this.o.keyboardNavigation) break;
                n = e.keyCode === 38 ? -1 : 1,
                e.ctrlKey ? (r = this.moveYear(this.dates.get( - 1) || i(), n), s = this.moveYear(o, n), this._trigger("changeYear", this.viewDate)) : e.shiftKey ? (r = this.moveMonth(this.dates.get( - 1) || i(), n), s = this.moveMonth(o, n), this._trigger("changeMonth", this.viewDate)) : (r = new Date(this.dates.get( - 1) || i()), r.setUTCDate(r.getUTCDate() + n * 7), s = new Date(o), s.setUTCDate(o.getUTCDate() + n * 7)),
                this.dateWithinRange(r) && (this.focusDate = this.viewDate = s, this.setValue(), this.fill(), e.preventDefault());
                break;
            case 32:
                break;
            case 13:
                o = this.focusDate || this.dates.get( - 1) || this.viewDate,
                this._toggle_multidate(o),
                t = !0,
                this.focusDate = null,
                this.viewDate = this.dates.get( - 1) || this.viewDate,
                this.setValue(),
                this.fill(),
                this.picker.is(":visible") && (e.preventDefault(), this.o.autoclose && this.hide());
                break;
            case 9:
                this.focusDate = null,
                this.viewDate = this.dates.get( - 1) || this.viewDate,
                this.fill(),
                this.hide()
            }
            if (t) {
                this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate");
                var u;
                this.isInput ? u = this.element: this.component && (u = this.element.find("input")),
                u && u.change()
            }
        },
        showMode: function(e) {
            e && (this.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + e))),
            this.picker.find("\x3ediv").hide().filter(".datepicker-" + v.modes[this.viewMode].clsName).css("display", "block"),
            this.updateNavArrows()
        }
    };
    var a = function(t, n) {
        this.element = e(t),
        this.inputs = e.map(n.inputs,
        function(e) {
            return e.jquery ? e[0] : e
        }),
        delete n.inputs,
        e(this.inputs).datepicker(n).bind("changeDate", e.proxy(this.dateUpdated, this)),
        this.pickers = e.map(this.inputs,
        function(t) {
            return e(t).data("datepicker")
        }),
        this.updateDates()
    };
    a.prototype = {
        updateDates: function() {
            this.dates = e.map(this.pickers,
            function(e) {
                return e.getUTCDate()
            }),
            this.updateRanges()
        },
        updateRanges: function() {
            var t = e.map(this.dates,
            function(e) {
                return e.valueOf()
            });
            e.each(this.pickers,
            function(e, n) {
                n.setRange(t)
            })
        },
        dateUpdated: function(t) {
            if (this.updating) return;
            this.updating = !0;
            var n = e(t.target).data("datepicker"),
            r = n.getUTCDate(),
            i = e.inArray(t.target, this.inputs),
            s = this.inputs.length;
            if (i === -1) return;
            e.each(this.pickers,
            function(e, t) {
                t.getUTCDate() || t.setUTCDate(r)
            });
            if (r < this.dates[i]) while (i >= 0 && r < this.dates[i]) this.pickers[i--].setUTCDate(r);
            else if (r > this.dates[i]) while (i < s && r > this.dates[i]) this.pickers[i++].setUTCDate(r);
            this.updateDates(),
            delete this.updating
        },
        remove: function() {
            e.map(this.pickers,
            function(e) {
                e.remove()
            }),
            delete this.element.data().datepicker
        }
    };
    var c = e.fn.datepicker;
    e.fn.datepicker = function(n) {
        var r = Array.apply(null, arguments);
        r.shift();
        var i;
        return this.each(function() {
            var s = e(this),
            o = s.data("datepicker"),
            c = typeof n == "object" && n;
            if (!o) {
                var p = f(this, "date"),
                d = e.extend({},
                h, p, c),
                v = l(d.language),
                m = e.extend({},
                h, v, p, c);
                if (s.is(".input-daterange") || m.inputs) {
                    var g = {
                        inputs: m.inputs || s.find("input").toArray()
                    };
                    s.data("datepicker", o = new a(this, e.extend(m, g)))
                } else s.data("datepicker", o = new u(this, m))
            }
            if (typeof n == "string" && typeof o[n] == "function") {
                i = o[n].apply(o, r);
                if (i !== t) return ! 1
            }
        }),
        i !== t ? i: this
    };
    var h = e.fn.datepicker.defaults = {
        autoclose: !1,
        beforeShowDay: e.noop,
        calendarWeeks: !1,
        clearBtn: !1,
        daysOfWeekDisabled: [],
        endDate: Infinity,
        forceParse: !0,
        format: "mm/dd/yyyy",
        keyboardNavigation: !0,
        language: "en",
        minViewMode: 0,
        multidate: !1,
        multidateSeparator: ",",
        orientation: "auto",
        rtl: !1,
        startDate: -Infinity,
        startView: 0,
        todayBtn: !1,
        todayHighlight: !1,
        weekStart: 0
    },
    p = e.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"];
    e.fn.datepicker.Constructor = u;
    var d = e.fn.datepicker.dates = {
        en: {
            days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
            daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
            daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"],
            months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            today: "Today",
            clear: "Clear"
        }
    },
    v = {
        modes: [{
            clsName: "days",
            navFnc: "Month",
            navStep: 1
        },
        {
            clsName: "months",
            navFnc: "FullYear",
            navStep: 1
        },
        {
            clsName: "years",
            navFnc: "FullYear",
            navStep: 10
        }],
        isLeapYear: function(e) {
            return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
        },
        getDaysInMonth: function(e, t) {
            return [31, v.isLeapYear(e) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][t]
        },
        validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
        nonpunctuation: /[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,
        parseFormat: function(e) {
            var t = e.replace(this.validParts, "\x00").split("\x00"),
            n = e.match(this.validParts);
            if (!t || !t.length || !n || n.length === 0) throw new Error("Invalid date format.");
            return {
                separators: t,
                parts: n
            }
        },
        parseDate: function(n, i, s) {
            function w() {
                var e = this.slice(0, a[c].length),
                t = a[c].slice(0, e.length);
                return e === t
            }
            if (!n) return t;
            if (n instanceof Date) return n;
            typeof i == "string" && (i = v.parseFormat(i));
            var o = /([\-+]\d+)([dmwy])/,
            a = n.match(/([\-+]\d+)([dmwy])/g),
            f,
            l,
            c;
            if (/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)) {
                n = new Date;
                for (c = 0; c < a.length; c++) {
                    f = o.exec(a[c]),
                    l = parseInt(f[1]);
                    switch (f[2]) {
                    case "d":
                        n.setUTCDate(n.getUTCDate() + l);
                        break;
                    case "m":
                        n = u.prototype.moveMonth.call(u.prototype, n, l);
                        break;
                    case "w":
                        n.setUTCDate(n.getUTCDate() + l * 7);
                        break;
                    case "y":
                        n = u.prototype.moveYear.call(u.prototype, n, l)
                    }
                }
                return r(n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate(), 0, 0, 0)
            }
            a = n && n.match(this.nonpunctuation) || [],
            n = new Date;
            var h = {},
            p = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"],
            m = {
                yyyy: function(e, t) {
                    return e.setUTCFullYear(t)
                },
                yy: function(e, t) {
                    return e.setUTCFullYear(2E3 + t)
                },
                m: function(e, t) {
                    if (isNaN(e)) return e;
                    t -= 1;
                    while (t < 0) t += 12;
                    t %= 12,
                    e.setUTCMonth(t);
                    while (e.getUTCMonth() !== t) e.setUTCDate(e.getUTCDate() - 1);
                    return e
                },
                d: function(e, t) {
                    return e.setUTCDate(t)
                }
            },
            g,
            y;
            m.M = m.MM = m.mm = m.m,
            m.dd = m.d,
            n = r(n.getFullYear(), n.getMonth(), n.getDate(), 0, 0, 0);
            var b = i.parts.slice();
            a.length !== b.length && (b = e(b).filter(function(t, n) {
                return e.inArray(n, p) !== -1
            }).toArray());
            if (a.length === b.length) {
                var E;
                for (c = 0, E = b.length; c < E; c++) {
                    g = parseInt(a[c], 10),
                    f = b[c];
                    if (isNaN(g)) switch (f) {
                    case "MM":
                        y = e(d[s].months).filter(w),
                        g = e.inArray(y[0], d[s].months) + 1;
                        break;
                    case "M":
                        y = e(d[s].monthsShort).filter(w),
                        g = e.inArray(y[0], d[s].monthsShort) + 1
                    }
                    h[f] = g
                }
                var S, x;
                for (c = 0; c < p.length; c++) x = p[c],
                x in h && !isNaN(h[x]) && (S = new Date(n), m[x](S, h[x]), isNaN(S) || (n = S))
            }
            return n
        },
        formatDate: function(t, n, r) {
            if (!t) return "";
            typeof n == "string" && (n = v.parseFormat(n));
            var i = {
                d: t.getUTCDate(),
                D: d[r].daysShort[t.getUTCDay()],
                DD: d[r].days[t.getUTCDay()],
                m: t.getUTCMonth() + 1,
                M: d[r].monthsShort[t.getUTCMonth()],
                MM: d[r].months[t.getUTCMonth()],
                yy: t.getUTCFullYear().toString().substring(2),
                yyyy: t.getUTCFullYear()
            };
            i.dd = (i.d < 10 ? "0": "") + i.d,
            i.mm = (i.m < 10 ? "0": "") + i.m,
            t = [];
            var s = e.extend([], n.separators);
            for (var o = 0,
            u = n.parts.length; o <= u; o++) s.length && t.push(s.shift()),
            t.push(i[n.parts[o]]);
            return t.join("")
        },
        headTemplate: '\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"prev"\x3e\x3ci class\x3d"fa fa-arrow-left"/\x3e\x3c/th\x3e\x3cth colspan\x3d"5" class\x3d"datepicker-switch"\x3e\x3c/th\x3e\x3cth class\x3d"next"\x3e\x3ci class\x3d"fa fa-arrow-right"/\x3e\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e',
        contTemplate: '\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d"7"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e',
        footTemplate: '\x3ctfoot\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"today"\x3e\x3c/th\x3e\x3c/tr\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"clear"\x3e\x3c/th\x3e\x3c/tr\x3e\x3c/tfoot\x3e'
    };
    v.template = '\x3cdiv class\x3d"datepicker"\x3e\x3cdiv class\x3d"datepicker-days"\x3e\x3ctable class\x3d" table-condensed"\x3e' + v.headTemplate + "\x3ctbody\x3e\x3c/tbody\x3e" + v.footTemplate + "\x3c/table\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"datepicker-months"\x3e' + '\x3ctable class\x3d"table-condensed"\x3e' + v.headTemplate + v.contTemplate + v.footTemplate + "\x3c/table\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"datepicker-years"\x3e' + '\x3ctable class\x3d"table-condensed"\x3e' + v.headTemplate + v.contTemplate + v.footTemplate + "\x3c/table\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e",
    e.fn.datepicker.DPGlobal = v,
    e.fn.datepicker.noConflict = function() {
        return e.fn.datepicker = c,
        this
    },
    e(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide\x3d"datepicker"]',
    function(t) {
        var n = e(this);
        if (n.data("datepicker")) return;
        t.preventDefault(),
        n.datepicker("show")
    }),
    e(function() {
        e('[data-provide\x3d"datepicker-inline"]').datepicker()
    })
} (window.jQuery),
function(e) {
    e.fn.datepicker.dates["zh-CN"] = {
        days: ["\u661f\u671f\u65e5", "\u661f\u671f\u4e00", "\u661f\u671f\u4e8c", "\u661f\u671f\u4e09", "\u661f\u671f\u56db", "\u661f\u671f\u4e94", "\u661f\u671f\u516d", "\u661f\u671f\u65e5"],
        daysShort: ["\u5468\u65e5", "\u5468\u4e00", "\u5468\u4e8c", "\u5468\u4e09", "\u5468\u56db", "\u5468\u4e94", "\u5468\u516d", "\u5468\u65e5"],
        daysMin: ["\u65e5", "\u4e00", "\u4e8c", "\u4e09", "\u56db", "\u4e94", "\u516d", "\u65e5"],
        months: ["\u4e00\u6708", "\u4e8c\u6708", "\u4e09\u6708", "\u56db\u6708", "\u4e94\u6708", "\u516d\u6708", "\u4e03\u6708", "\u516b\u6708", "\u4e5d\u6708", "\u5341\u6708", "\u5341\u4e00\u6708", "\u5341\u4e8c\u6708"],
        monthsShort: ["\u4e00\u6708", "\u4e8c\u6708", "\u4e09\u6708", "\u56db\u6708", "\u4e94\u6708", "\u516d\u6708", "\u4e03\u6708", "\u516b\u6708", "\u4e5d\u6708", "\u5341\u6708", "\u5341\u4e00\u6708", "\u5341\u4e8c\u6708"],
        today: "\u4eca\u65e5",
        format: "yyyy\u5e74mm\u6708dd\u65e5",
        weekStart: 1
    }
} (jQuery),
!
function(e) {
    var t = function(t, n) {
        this.$element = e(t),
        this.$note = e('\x3cdiv class\x3d"alert"\x3e\x3c/div\x3e'),
        this.options = e.extend(!0, e.fn.notify.defaults, n),
        this.options.transition ? this.options.transition == "fade" ? this.$note.addClass("in").addClass(this.options.transition) : this.$note.addClass(this.options.transition) : this.$note.addClass("fade").addClass("in"),
        this.options.type ? this.$note.addClass("alert-" + this.options.type) : this.$note.addClass("alert-success"),
        !this.options.message && this.$element.data("message") !== "" ? this.$note.html(this.$element.data("message")) : typeof this.options.message == "object" && (this.options.message.html ? this.$note.html(this.options.message.html) : this.options.message.text ? this.$note.text(this.options.message.text) : this.$note.html(this.options.message));
        if (this.options.closable) var r = e('\x3ca class\x3d"close pull-right" href\x3d"#"\x3e\x26times;\x3c/a\x3e');
        return e(r).on("click", e.proxy(onClose, this)),
        this.$note.prepend(r),
        this
    };
    onClose = function() {
        this.options.onClose(),
        e(this.$note).remove(),
        this.options.onClosed()
    },
    t.prototype.show = function() {
        this.options.fadeOut.enabled && this.$note.delay(this.options.fadeOut.delay || 3E3).fadeOut("fast", e.proxy(onClose, this)),
        this.$element.append(this.$note),
        this.$note.alert()
    },
    t.prototype.hide = function() {
        this.options.fadeOut.enabled ? this.$note.delay(this.options.fadeOut.delay || 3E3).fadeOut("fast", e.proxy(onClose, this)) : onClose.call(this)
    },
    e.fn.notify = function(e) {
        return new t(this, e)
    },
    e.fn.notify.defaults = {
        type: "success",
        closable: !0,
        transition: "fade",
        fadeOut: {
            enabled: !0,
            delay: 3E3
        },
        message: null,
        onClose: function() {},
        onClosed: function() {}
    }
} (window.jQuery),
!
function(e) {
    var t = function(e, t) {
        this.cinit("clickover", e, t)
    };
    t.prototype = e.extend({},
    e.fn.popover.Constructor.prototype, {
        constructor: t,
        cinit: function(t, n, r) {
            this.attr = {},
            this.attr.me = (Math.random() * 10 + "").replace(/\D/g, ""),
            this.attr.click_event_ns = "click." + this.attr.me,
            r || (r = {}),
            r.trigger = "manual",
            this.init(t, n, r),
            this.$element.on("click", this.options.selector, e.proxy(this.clickery, this))
        },
        clickery: function(t) {
            t && (t.preventDefault(), t.stopPropagation()),
            this.options.width && this.tip().find(".popover-inner").width(this.options.width),
            this.options.height && this.tip().find(".popover-inner").height(this.options.height),
            this.options.tip_id && this.tip().attr("id", this.options.tip_id),
            this.options.class_name && this.tip().addClass(this.options.class_name),
            this.toggle();
            if (this.isShown()) {
                var n = this;
                this.options.global_close && e("body").on(this.attr.click_event_ns,
                function(e) {
                    n.tip().has(e.target).length || n.clickery()
                }),
                this.options.esc_close && e(document).bind("keyup.clickery",
                function(e) {
                    e.keyCode == 27 && n.clickery();
                    return
                }),
                !this.options.allow_multiple && e("[data-clickover-open\x3d1]").each(function() {
                    e(this).data("clickover") && e(this).data("clickover").clickery()
                }),
                this.$element.attr("data-clickover-open", 1),
                this.tip().on("click", '[data-dismiss\x3d"clickover"]', e.proxy(this.clickery, this)),
                this.options.auto_close && this.options.auto_close > 0 && (this.attr.tid = setTimeout(e.proxy(this.clickery, this), this.options.auto_close)),
                typeof this.options.onShown == "function" && this.options.onShown.call(this),
                this.$element.trigger("shown")
            } else this.$element.removeAttr("data-clickover-open"),
            this.options.esc_close && e(document).unbind("keyup.clickery"),
            this.tip().off("click", '[data-dismiss\x3d"clickover"]', e.proxy(this.clickery, this)),
            e("body").off(this.attr.click_event_ns),
            typeof this.attr.tid == "number" && (clearTimeout(this.attr.tid), delete this.attr.tid),
            typeof this.options.onHidden == "function" && this.options.onHidden.call(this),
            this.$element.trigger("hidden")
        },
        isShown: function() {
            return this.tip().hasClass("in")
        },
        resetPosition: function() {
            var e, t, n, r, i, s, o;
            if (this.hasContent() && this.enabled) {
                e = this.tip(),
                s = typeof this.options.placement == "function" ? this.options.placement.call(this, e[0], this.$element[0]) : this.options.placement,
                t = /in/.test(s),
                n = this.getPosition(t),
                r = e[0].offsetWidth,
                i = e[0].offsetHeight;
                switch (t ? s.split(" ")[1] : s) {
                case "bottom":
                    o = {
                        top: n.top + n.height,
                        left: n.left + n.width / 2 - r / 2
                    };
                    break;
                case "top":
                    o = {
                        top: n.top - i,
                        left: n.left + n.width / 2 - r / 2
                    };
                    break;
                case "left":
                    o = {
                        top: n.top + n.height / 2 - i / 2,
                        left: n.left - r
                    };
                    break;
                case "right":
                    o = {
                        top: n.top + n.height / 2 - i / 2,
                        left: n.left + n.width
                    }
                }
                e.css(o)
            }
        },
        debughide: function() {
            var e = (new Date).toString();
            console.log(e + ": clickover hide"),
            this.hide()
        }
    }),
    e.fn.clickover = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("clickover"),
            s = typeof n == "object" && n;
            i || r.data("clickover", i = new t(this, s)),
            typeof n == "string" && i[n]()
        })
    },
    e.fn.clickover.Constructor = t,
    e.fn.clickover.defaults = e.extend({},
    e.fn.popover.defaults, {
        trigger: "manual",
        auto_close: 0,
        global_close: 1,
        esc_close: 1,
        onShown: null,
        onHidden: null,
        width: null,
        height: null,
        tip_id: null,
        class_name: "clickover",
        allow_multiple: 0
    })
} (window.jQuery),
function(e) {
    var t = function(t, n) {
        this.element = e(t),
        this.options = e.extend({},
        e.fn.progressbar.defaults, n)
    };
    t.prototype = {
        constructor: t,
        transition: function() {
            var t = this.element,
            n = t.parent(),
            r = this.back,
            i = this.front,
            s = this.options,
            o = t.attr("data-percentage"),
            u = t.attr("data-amount-part"),
            a = t.attr("data-amount-total"),
            f,
            l,
            c,
            h;
            f = n.hasClass("vertical"),
            l = s.update && typeof s.update == "function" ? s.update: e.fn.progressbar.defaults.update,
            c = s.done && typeof s.done == "function" ? s.done: e.fn.progressbar.defaults.done,
            h = s.fail && typeof s.fail == "function" ? s.fail: e.fn.progressbar.defaults.fail;
            if (s.use_percentage && !o) {
                h("bootstrap-progressbar: you can't use percentage without data-percentage being set");
                return
            }
            if (!s.use_percentage) {
                if (!u && !a) {
                    h("bootstrap-progressbar: you can't use values without data-amount-part and data-amount-total being set");
                    return
                }
                o = Math.round(100 * u / a)
            }
            if (s.display_text === e.fn.progressbar.display_text.center && !i && !r) {
                this.back = r = e("\x3cspan\x3e").addClass("progressbar-back-text"),
                this.front = i = e("\x3cspan\x3e").addClass("progressbar-front-text"),
                n.prepend(r),
                t.prepend(i);
                var p;
                f ? (p = n.css("height"), r.css("height", p), r.css("line-height", p), i.css("height", p), i.css("line-height", p), e(window).resize(function() {
                    p = n.css("height"),
                    r.css("height", p),
                    r.css("line-height", p),
                    i.css("height", p),
                    i.css("line-height", p)
                })) : (p = n.css("width"), i.css("width", p), e(window).resize(function() {
                    p = n.css("width"),
                    i.css("width", p)
                }))
            }
            setTimeout(function() {
                var h, p, d, v, m;
                f ? t.css("height", o + "%") : t.css("width", o + "%");
                var g = setInterval(function() {
                    f ? (d = t.height(), v = n.height()) : (d = t.width(), v = n.width()),
                    h = Math.round(100 * d / v),
                    p = Math.round(d / v * a),
                    h >= o && (h = o, p = u, c(), clearInterval(g)),
                    s.display_text !== e.fn.progressbar.display_text.none && (m = s.use_percentage ? h + "%": p + " / " + a, s.display_text === e.fn.progressbar.display_text.filled ? t.text(m) : s.display_text === e.fn.progressbar.display_text.center && (r.text(m), i.text(m))),
                    l(h)
                },
                s.refresh_speed)
            },
            s.transition_delay)
        }
    },
    e.fn.progressbar = function(n) {
        return this.each(function() {
            var r = e(this),
            i = r.data("progressbar"),
            s = typeof n == "object" && n;
            i || r.data("progressbar", i = new t(this, s)),
            typeof n == "string" && i[n](),
            i.transition()
        })
    },
    e.fn.progressbar.display_text = {
        none: 0,
        filled: 1,
        center: 2
    },
    e.fn.progressbar.defaults = {
        transition_delay: 300,
        refresh_speed: 50,
        display_text: e.fn.progressbar.display_text.none,
        use_percentage: !0,
        update: e.noop,
        done: e.noop,
        fail: e.noop
    },
    e.fn.progressbar.Constructor = t
} (window.jQuery),
function() {
    function xt(e, t) {
        var n;
        e || (e = {});
        for (n in t) e[n] = t[n];
        return e
    }
    function Tt() {
        var e, t = arguments.length,
        n = {},
        r = function(e, t) {
            var n, i;
            for (i in t) t.hasOwnProperty(i) && (n = t[i], typeof e != "object" && (e = {}), n && typeof n == "object" && Object.prototype.toString.call(n) !== "[object Array]" && typeof n.nodeType != "number" ? e[i] = r(e[i] || {},
            n) : e[i] = t[i]);
            return e
        };
        for (e = 0; e < t; e++) n = r(n, arguments[e]);
        return n
    }
    function Nt() {
        var e = 0,
        t = arguments,
        n = t.length,
        r = {};
        for (; e < n; e++) r[t[e++]] = t[e];
        return r
    }
    function Ct(e, t) {
        return parseInt(e, t || 10)
    }
    function kt(e) {
        return typeof e == "string"
    }
    function Lt(e) {
        return typeof e == "object"
    }
    function At(e) {
        return Object.prototype.toString.call(e) === "[object Array]"
    }
    function Ot(e) {
        return typeof e == "number"
    }
    function Mt(e) {
        return r.log(e) / r.LN10
    }
    function _t(e) {
        return r.pow(10, e)
    }
    function Dt(e, t) {
        var n = e.length;
        while (n--) if (e[n] === t) {
            e.splice(n, 1);
            break
        }
    }
    function Pt(t) {
        return t !== e && t !== null
    }
    function Ht(e, t, n) {
        var r, i = "setAttribute",
        s;
        if (kt(t)) Pt(n) ? e[i](t, n) : e && e.getAttribute && (s = e.getAttribute(t));
        else if (Pt(t) && Lt(t)) for (r in t) e[i](r, t[r]);
        return s
    }
    function Bt(e) {
        return At(e) ? e: [e]
    }
    function jt() {
        var e = arguments,
        t, n, r = e.length;
        for (t = 0; t < r; t++) {
            n = e[t];
            if (typeof n != "undefined" && n !== null) return n
        }
    }
    function Ft(t, n) {
        m && n && n.opacity !== e && (n.filter = "alpha(opacity\x3d" + n.opacity * 100 + ")"),
        xt(t.style, n)
    }
    function It(e, n, r, i, s) {
        var o = t.createElement(e);
        return n && xt(o, n),
        s && Ft(o, {
            padding: 0,
            border: V,
            margin: 0
        }),
        r && Ft(o, r),
        i && i.appendChild(o),
        o
    }
    function qt(e, t) {
        var n = function() {};
        return n.prototype = new e,
        xt(n.prototype, t),
        n
    }
    function Rt(e) {
        return e = (e || 0).toString(),
        e.indexOf(".") > -1 ? e.split(".")[1].length: 0
    }
    function Ut(e, t, n, r) {
        var i = O.lang,
        s = e,
        o = t === -1 ? Rt(e) : isNaN(t = f(t)) ? 2 : t,
        u = n === undefined ? i.decimalPoint: n,
        a = r === undefined ? i.thousandsSep: r,
        l = s < 0 ? "-": "",
        c = String(Ct(s = f( + s || 0).toFixed(o))),
        h = c.length > 3 ? c.length % 3 : 0;
        return l + (h ? c.substr(0, h) + a: "") + c.substr(h).replace(/(\d{3})(?=\d)/g, "$1" + a) + (o ? u + f(s - c).toFixed(o).slice(2) : "")
    }
    function zt(e, t) {
        return (new Array((t || 2) + 1 - String(e).length)).join(0) + e
    }
    function Wt(e, t, n) {
        var r = e[t];
        e[t] = function() {
            var e = Array.prototype.slice.call(arguments);
            return e.unshift(r),
            n.apply(this, e)
        }
    }
    function Xt(e, t) {
        var n = /f$/,
        r = /\.([0-9])/,
        i = O.lang,
        s;
        return n.test(e) ? (s = e.match(r), s = s ? s[1] : 6, t = Ut(t, s, i.decimalPoint, e.indexOf(",") > -1 ? i.thousandsSep: "")) : t = M(e, t),
        t
    }
    function Vt(e, t) {
        var n = "{",
        r = !1,
        i, s, o, u, a, f = [],
        l,
        c;
        while ((c = e.indexOf(n)) !== -1) {
            i = e.slice(0, c);
            if (r) {
                s = i.split(":"),
                o = s.shift().split("."),
                a = o.length,
                l = t;
                for (u = 0; u < a; u++) l = l[o[u]];
                s.length && (l = Xt(s.join(":"), l)),
                f.push(l)
            } else f.push(i);
            e = e.slice(c + 1),
            r = !r,
            n = r ? "}": "{"
        }
        return f.push(e),
        f.join("")
    }
    function $t(e, t, n, r) {
        var i, s;
        n = jt(n, 1),
        i = e / n,
        t || (t = [1, 2, 2.5, 5, 10], r && r.allowDecimals === !1 && (n === 1 ? t = [1, 2, 5, 10] : n <= .1 && (t = [1 / n])));
        for (s = 0; s < t.length; s++) {
            e = t[s];
            if (i <= (t[s] + (t[s + 1] || t[s])) / 2) break
        }
        return e *= n,
        e
    }
    function Jt(e, t) {
        var n = t || [[Z, [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], [et, [1, 2, 5, 10, 15, 30]], [tt, [1, 2, 5, 10, 15, 30]], [nt, [1, 2, 3, 4, 6, 8, 12]], [rt, [1, 2]], [it, [1, 2]], [st, [1, 2, 3, 4, 6]], [ot, null]],
        r = n[n.length - 1],
        i = P[r[0]],
        s = r[1],
        o,
        u;
        for (u = 0; u < n.length; u++) {
            r = n[u],
            i = P[r[0]],
            s = r[1];
            if (n[u + 1]) {
                var a = (i * s[s.length - 1] + P[n[u + 1][0]]) / 2;
                if (e <= a) break
            }
        }
        return i === P[ot] && e < 5 * i && (s = [1, 2, 5]),
        i === P[ot] && e < 5 * i && (s = [1, 2, 5]),
        o = $t(e / i, s),
        {
            unitRange: i,
            count: o,
            unitName: r[0]
        }
    }
    function Kt(e, t, n, r) {
        var i = [],
        o,
        u = {},
        a = O.global.useUTC,
        f,
        l = new Date(t),
        c = e.unitRange,
        h = e.count;
        if (Pt(t)) {
            c >= P[et] && (l.setMilliseconds(0), l.setSeconds(c >= P[tt] ? 0 : h * s(l.getSeconds() / h))),
            c >= P[tt] && l[gt](c >= P[nt] ? 0 : h * s(l[ct]() / h)),
            c >= P[nt] && l[yt](c >= P[rt] ? 0 : h * s(l[ht]() / h)),
            c >= P[rt] && l[bt](c >= P[st] ? 1 : h * s(l[dt]() / h)),
            c >= P[st] && (l[wt](c >= P[ot] ? 0 : h * s(l[vt]() / h)), f = l[mt]()),
            c >= P[ot] && (f -= f % h, l[Et](f)),
            c === P[it] && l[bt](l[dt]() - l[pt]() + jt(r, 1)),
            o = 1,
            f = l[mt]();
            var p = l.getTime(),
            d = l[vt](),
            v = l[dt](),
            m = a ? 0 : (864E5 + l.getTimezoneOffset() * 60 * 1E3) % 864E5;
            while (p < n) i.push(p),
            c === P[ot] ? p = lt(f + o * h, 0) : c === P[st] ? p = lt(f, d + o * h) : !!a || c !== P[rt] && c !== P[it] ? (p += c * h, c <= P[nt] && p % P[rt] === m && (u[p] = rt)) : p = lt(f, d, v + o * h * (c === P[rt] ? 1 : 7)),
            o++;
            i.push(p)
        }
        return i.info = xt(e, {
            higherRanks: u,
            totalRange: c * h
        }),
        i
    }
    function Qt() {
        this.color = 0,
        this.symbol = 0
    }
    function Gt(e, t) {
        var n = e.length,
        r, i;
        for (i = 0; i < n; i++) e[i].ss_i = i;
        e.sort(function(e, n) {
            return r = t(e, n),
            r === 0 ? e.ss_i - n.ss_i: r
        });
        for (i = 0; i < n; i++) delete e[i].ss_i
    }
    function Yt(e) {
        var t = e.length,
        n = e[0];
        while (t--) e[t] < n && (n = e[t]);
        return n
    }
    function Zt(e) {
        var t = e.length,
        n = e[0];
        while (t--) e[t] > n && (n = e[t]);
        return n
    }
    function en(e, t) {
        var n;
        for (n in e) e[n] && e[n] !== t && e[n].destroy && e[n].destroy(),
        delete e[n]
    }
    function tn(e) {
        A || (A = It(I)),
        e && A.appendChild(e),
        A.innerHTML = ""
    }
    function nn(e, t) {
        var r = "Highcharts error #" + e + ": www.highcharts.com/errors/" + e;
        if (t) throw r;
        n.console && console.log(r)
    }
    function rn(e) {
        return parseFloat(e.toPrecision(14))
    }
    function sn(e, t) {
        _ = jt(e, t.animation)
    }
    function Tn() {
        var e = O.global.useUTC,
        t = e ? "getUTC": "get",
        n = e ? "setUTC": "set";
        lt = e ? Date.UTC: function(e, t, n, r, i, s) {
            return (new Date(e, t, jt(n, 1), jt(r, 0), jt(i, 0), jt(s, 0))).getTime()
        },
        ct = t + "Minutes",
        ht = t + "Hours",
        pt = t + "Day",
        dt = t + "Date",
        vt = t + "Month",
        mt = t + "FullYear",
        gt = n + "Minutes",
        yt = n + "Hours",
        bt = n + "Date",
        wt = n + "Month",
        Et = n + "FullYear"
    }
    function Nn(e) {
        return O = Tt(O, e),
        Tn(),
        O
    }
    function Cn() {
        return O
    }
    function Ln() {}
    function Hn(e, t, n, r) {
        this.axis = e,
        this.pos = t,
        this.type = n || "",
        this.isNew = !0,
        !n && !r && this.addLabel()
    }
    function Bn(e, t) {
        this.axis = e,
        t && (this.options = t, this.id = t.id)
    }
    function jn(e, t, n, r, i, s) {
        var o = e.chart.inverted;
        this.axis = e,
        this.isNegative = n,
        this.options = t,
        this.x = r,
        this.stack = i,
        this.percent = s === "percent",
        this.alignOptions = {
            align: t.align || (o ? n ? "left": "right": "center"),
            verticalAlign: t.verticalAlign || (o ? "middle": n ? "bottom": "top"),
            y: jt(t.y, o ? 4 : n ? 14 : -6),
            x: jt(t.x, o ? n ? -6 : 6 : 0)
        },
        this.textAlign = t.textAlign || (o ? n ? "right": "left": "center")
    }
    function Fn() {
        this.init.apply(this, arguments)
    }
    function In() {
        this.init.apply(this, arguments)
    }
    function qn(e, t) {
        this.init(e, t)
    }
    function Rn(e, t) {
        this.init(e, t)
    }
    function Un() {
        this.init.apply(this, arguments)
    }
    var e, t = document,
    n = window,
    r = Math,
    i = r.round,
    s = r.floor,
    o = r.ceil,
    u = r.max,
    a = r.min,
    f = r.abs,
    l = r.cos,
    c = r.sin,
    h = r.PI,
    p = h * 2 / 360,
    d = navigator.userAgent,
    v = n.opera,
    m = /msie/i.test(d) && !v,
    g = t.documentMode === 8,
    y = /AppleWebKit/.test(d),
    b = /Firefox/.test(d),
    w = /(Mobile|Android|Windows Phone)/.test(d),
    E = "http://www.w3.org/2000/svg",
    S = !!t.createElementNS && !!t.createElementNS(E, "svg").createSVGRect,
    x = b && parseInt(d.split("Firefox/")[1], 10) < 4,
    T = !S && !m && !!t.createElement("canvas").getContext,
    N,
    C = t.documentElement.ontouchstart !== e,
    k = {},
    L = 0,
    A,
    O,
    M,
    _,
    D,
    P,
    H = function() {},
    B = [],
    j = "Highcharts",
    F = "3.0.0",
    I = "div",
    q = "absolute",
    R = "relative",
    U = "hidden",
    z = "highcharts-",
    W = "visible",
    X = "px",
    V = "none",
    $ = "M",
    J = "L",
    K = "rgba(192,192,192," + (S ? 1E-4: .002) + ")",
    Q = "",
    G = "hover",
    Y = "select",
    Z = "millisecond",
    et = "second",
    tt = "minute",
    nt = "hour",
    rt = "day",
    it = "week",
    st = "month",
    ot = "year",
    ut = "linearGradient",
    at = "stops",
    ft = "stroke-width",
    lt,
    ct,
    ht,
    pt,
    dt,
    vt,
    mt,
    gt,
    yt,
    bt,
    wt,
    Et,
    St = {};
    n.Highcharts = n.Highcharts ? nn(16, !0) : {},
    M = function(e, t, n) {
        if (!Pt(t) || isNaN(t)) return "Invalid date";
        e = jt(e, "%Y-%m-%d %H:%M:%S");
        var r = new Date(t),
        s,
        o = r[ht](),
        u = r[pt](),
        a = r[dt](),
        f = r[vt](),
        l = r[mt](),
        c = O.lang,
        h = c.weekdays,
        p = xt({
            a: h[u].substr(0, 3),
            A: h[u],
            d: zt(a),
            e: a,
            b: c.shortMonths[f],
            B: c.months[f],
            m: zt(f + 1),
            y: l.toString().substr(2, 2),
            Y: l,
            H: zt(o),
            I: zt(o % 12 || 12),
            l: o % 12 || 12,
            M: zt(r[ct]()),
            p: o < 12 ? "AM": "PM",
            P: o < 12 ? "am": "pm",
            S: zt(r.getSeconds()),
            L: zt(i(t % 1E3), 3)
        },
        Highcharts.dateFormats);
        for (s in p) while (e.indexOf("%" + s) !== -1) e = e.replace("%" + s, typeof p[s] == "function" ? p[s](t) : p[s]);
        return n ? e.substr(0, 1).toUpperCase() + e.substr(1) : e
    },
    Qt.prototype = {
        wrapColor: function(e) {
            this.color >= e && (this.color = 0)
        },
        wrapSymbol: function(e) {
            this.symbol >= e && (this.symbol = 0)
        }
    },
    P = Nt(Z, 1, et, 1E3, tt, 6E4, nt, 36E5, rt, 864E5, it, 6048E5, st, 26784E5, ot, 31556952E3),
    D = {
        init: function(e, t, n) {
            t = t || "";
            var r = e.shift,
            i = t.indexOf("C") > -1,
            s = i ? 7 : 3,
            o,
            u,
            a,
            f = t.split(" "),
            l = [].concat(n),
            c,
            h,
            p = function(e) {
                a = e.length;
                while (a--) e[a] === $ && e.splice(a + 1, 0, e[a + 1], e[a + 2], e[a + 1], e[a + 2])
            };
            i && (p(f), p(l)),
            e.isArea && (c = f.splice(f.length - 6, 6), h = l.splice(l.length - 6, 6));
            if (r <= l.length / s) while (r--) l = [].concat(l).splice(0, s).concat(l);
            e.shift = 0;
            if (f.length) {
                o = l.length;
                while (f.length < o) u = [].concat(f).splice(f.length - s, s),
                i && (u[s - 6] = u[s - 2], u[s - 5] = u[s - 1]),
                f = f.concat(u)
            }
            return c && (f = f.concat(c), l = l.concat(h)),
            [f, l]
        },
        step: function(e, t, n, r) {
            var i = [],
            s = e.length,
            o;
            if (n === 1) i = r;
            else if (s === t.length && n < 1) while (s--) o = parseFloat(e[s]),
            i[s] = isNaN(o) ? e[s] : n * parseFloat(t[s] - o) + o;
            else i = t;
            return i
        }
    },
    function(r) {
        n.HighchartsAdapter = n.HighchartsAdapter || r && {
            init: function(t) {
                var n = r.fx,
                i = n.step,
                s, o = r.Tween,
                u = o && o.propHooks;
                r.extend(r.easing, {
                    easeOutQuad: function(e, t, n, r, i) {
                        return - r * (t /= i) * (t - 2) + n
                    }
                }),
                r.each(["cur", "_default", "width", "height", "opacity"],
                function(t, r) {
                    var s = i,
                    a, f;
                    r === "cur" ? s = n.prototype: r === "_default" && o && (s = u[r], r = "set"),
                    a = s[r],
                    a && (s[r] = function(n) {
                        return n = t ? n: this,
                        f = n.elem,
                        f.attr ? f.attr(n.prop, r === "cur" ? e: n.now) : a.apply(this, arguments)
                    })
                }),
                s = function(e) {
                    var n = e.elem,
                    r;
                    e.started || (r = t.init(n, n.d, n.toD), e.start = r[0], e.end = r[1], e.started = !0),
                    n.attr("d", t.step(e.start, e.end, e.pos, n.toD))
                },
                o ? u.d = {
                    set: s
                }: i.d = s,
                this.each = Array.prototype.forEach ?
                function(e, t) {
                    return Array.prototype.forEach.call(e, t)
                }: function(e, t) {
                    var n = 0,
                    r = e.length;
                    for (; n < r; n++) if (t.call(e[n], e[n], n, e) === !1) return n
                },
                r.fn.highcharts = function() {
                    var t = "Chart",
                    n = arguments,
                    r, i, s;
                    return kt(n[0]) && (t = n[0], n = Array.prototype.slice.call(n, 1)),
                    r = n[0],
                    r !== e && (r.chart = r.chart || {},
                    r.chart.renderTo = this[0], s = new Highcharts[t](r, n[1]), i = this),
                    r === e && (i = B[Ht(this[0], "data-highcharts-chart")]),
                    i
                }
            },
            getScript: r.getScript,
            inArray: r.inArray,
            adapterRun: function(e, t) {
                return r(e)[t]()
            },
            grep: r.grep,
            map: function(e, t) {
                var n = [],
                r = 0,
                i = e.length;
                for (; r < i; r++) n[r] = t.call(e[r], e[r], r, e);
                return n
            },
            offset: function(e) {
                return r(e).offset()
            },
            addEvent: function(e, t, n) {
                r(e).bind(t, n)
            },
            removeEvent: function(e, n, i) {
                var s = t.removeEventListener ? "removeEventListener": "detachEvent";
                t[s] && !e[s] && (e[s] = function() {}),
                r(e).unbind(n, i)
            },
            fireEvent: function(e, t, n, i) {
                var s = r.Event(t),
                o = "detached" + t,
                u; ! m && n && (delete n.layerX, delete n.layerY),
                xt(s, n),
                e[t] && (e[o] = e[t], e[t] = null),
                r.each(["preventDefault", "stopPropagation"],
                function(e, t) {
                    var n = s[t];
                    s[t] = function() {
                        try {
                            n.call(s)
                        } catch(e$32) {
                            t === "preventDefault" && (u = !0)
                        }
                    }
                }),
                r(e).trigger(s),
                e[o] && (e[t] = e[o], e[o] = null),
                i && !s.isDefaultPrevented() && !u && i(s)
            },
            washMouseEvent: function(t) {
                var n = t.originalEvent || t;
                return n.pageX === e && (n.pageX = t.pageX, n.pageY = t.pageY),
                n
            },
            animate: function(t, n, i) {
                var s = r(t);
                n.d && (t.toD = n.d, n.d = 1),
                s.stop(),
                n.opacity !== e && t.attr && (n.opacity += "px"),
                s.animate(n, i)
            },
            stop: function(e) {
                r(e).stop()
            }
        }
    } (n.jQuery);
    var on = n.HighchartsAdapter,
    un = on || {};
    on && on.init.call(on, D);
    var an = un.adapterRun,
    fn = un.getScript,
    ln = un.inArray,
    cn = un.each,
    hn = un.grep,
    pn = un.offset,
    dn = un.map,
    vn = un.addEvent,
    mn = un.removeEvent,
    gn = un.fireEvent,
    yn = un.washMouseEvent,
    bn = un.animate,
    wn = un.stop,
    En = {
        enabled: !0,
        align: "center",
        x: 0,
        y: 15,
        style: {
            color: "#666",
            cursor: "default",
            fontSize: "11px",
            lineHeight: "14px"
        }
    };
    O = {
        colors: ["#2f7ed8", "#0d233a", "#8bbc21", "#910000", "#1aadce", "#492970", "#f28f43", "#77a1e5", "#c42525", "#a6c96a"],
        symbols: ["circle", "diamond", "square", "triangle", "triangle-down"],
        lang: {
            loading: "Loading...",
            months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            weekdays: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            decimalPoint: ".",
            numericSymbols: ["k", "M", "G", "T", "P", "E"],
            resetZoom: "Reset zoom",
            resetZoomTitle: "Reset zoom level 1:1",
            thousandsSep: ","
        },
        global: {
            useUTC: !0,
            canvasToolsURL: "http://code.highcharts.com/3.0.0/modules/canvas-tools.js",
            VMLRadialGradientURL: "http://code.highcharts.com/3.0.0/gfx/vml-radial-gradient.png"
        },
        chart: {
            borderColor: "#4572A7",
            borderRadius: 5,
            defaultSeriesType: "line",
            ignoreHiddenSeries: !0,
            spacingTop: 10,
            spacingRight: 10,
            spacingBottom: 15,
            spacingLeft: 10,
            style: {
                fontFamily: '"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',
                fontSize: "12px"
            },
            backgroundColor: "#FFFFFF",
            plotBorderColor: "#C0C0C0",
            resetZoomButton: {
                theme: {
                    zIndex: 20
                },
                position: {
                    align: "right",
                    x: -10,
                    y: 10
                }
            }
        },
        title: {
            text: "Chart title",
            align: "center",
            y: 15,
            style: {
                color: "#274b6d",
                fontSize: "16px"
            }
        },
        subtitle: {
            text: "",
            align: "center",
            y: 30,
            style: {
                color: "#4d759e"
            }
        },
        plotOptions: {
            line: {
                allowPointSelect: !1,
                showCheckbox: !1,
                animation: {
                    duration: 1E3
                },
                events: {},
                lineWidth: 2,
                marker: {
                    enabled: !0,
                    lineWidth: 0,
                    radius: 4,
                    lineColor: "#FFFFFF",
                    states: {
                        hover: {
                            enabled: !0
                        },
                        select: {
                            fillColor: "#FFFFFF",
                            lineColor: "#000000",
                            lineWidth: 2
                        }
                    }
                },
                point: {
                    events: {}
                },
                dataLabels: Tt(En, {
                    enabled: !1,
                    formatter: function() {
                        return this.y
                    },
                    verticalAlign: "bottom",
                    y: 0
                }),
                cropThreshold: 300,
                pointRange: 0,
                showInLegend: !0,
                states: {
                    hover: {
                        marker: {}
                    },
                    select: {
                        marker: {}
                    }
                },
                stickyTracking: !0
            }
        },
        labels: {
            style: {
                position: q,
                color: "#3E576F"
            }
        },
        legend: {
            enabled: !0,
            align: "center",
            layout: "horizontal",
            labelFormatter: function() {
                return this.name
            },
            borderWidth: 1,
            borderColor: "#909090",
            borderRadius: 5,
            navigation: {
                activeColor: "#274b6d",
                inactiveColor: "#CCC"
            },
            shadow: !1,
            itemStyle: {
                cursor: "pointer",
                color: "#274b6d",
                fontSize: "12px"
            },
            itemHoverStyle: {
                color: "#000"
            },
            itemHiddenStyle: {
                color: "#CCC"
            },
            itemCheckboxStyle: {
                position: q,
                width: "13px",
                height: "13px"
            },
            symbolWidth: 16,
            symbolPadding: 5,
            verticalAlign: "bottom",
            x: 0,
            y: 0,
            title: {
                style: {
                    fontWeight: "bold"
                }
            }
        },
        loading: {
            labelStyle: {
                fontWeight: "bold",
                position: R,
                top: "1em"
            },
            style: {
                position: q,
                backgroundColor: "white",
                opacity: .5,
                textAlign: "center"
            }
        },
        tooltip: {
            enabled: !0,
            animation: S,
            backgroundColor: "rgba(255, 255, 255, .85)",
            borderWidth: 1,
            borderRadius: 3,
            dateTimeLabelFormats: {
                millisecond: "%A, %b %e, %H:%M:%S.%L",
                second: "%A, %b %e, %H:%M:%S",
                minute: "%A, %b %e, %H:%M",
                hour: "%A, %b %e, %H:%M",
                day: "%A, %b %e, %Y",
                week: "Week from %A, %b %e, %Y",
                month: "%B %Y",
                year: "%Y"
            },
            headerFormat: '\x3cspan style\x3d"font-size: 10px"\x3e{point.key}\x3c/span\x3e\x3cbr/\x3e',
            pointFormat: '\x3cspan style\x3d"color:{series.color}"\x3e{series.name}\x3c/span\x3e: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e',
            shadow: !0,
            snap: w ? 25 : 10,
            style: {
                color: "#333333",
                cursor: "default",
                fontSize: "12px",
                padding: "8px",
                whiteSpace: "nowrap"
            }
        },
        credits: {
            enabled: !0,
            text: "Highcharts.com",
            href: "http://www.highcharts.com",
            position: {
                align: "right",
                x: -10,
                verticalAlign: "bottom",
                y: -5
            },
            style: {
                cursor: "pointer",
                color: "#909090",
                fontSize: "9px"
            }
        }
    };
    var Sn = O.plotOptions,
    xn = Sn.line;
    Tn();
    var kn = function(e) {
        function i(e) {
            e && e.stops ? r = dn(e.stops,
            function(e) {
                return kn(e[1])
            }) : (n = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e), n ? t = [Ct(n[1]), Ct(n[2]), Ct(n[3]), parseFloat(n[4], 10)] : (n = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e), n ? t = [Ct(n[1], 16), Ct(n[2], 16), Ct(n[3], 16), 1] : (n = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e), n && (t = [Ct(n[1]), Ct(n[2]), Ct(n[3]), 1]))))
        }
        function s(n) {
            var i;
            return r ? (i = Tt(e), i.stops = [].concat(i.stops), cn(r,
            function(e, t) {
                i.stops[t] = [i.stops[t][0], e.get(n)]
            })) : t && !isNaN(t[0]) ? n === "rgb" ? i = "rgb(" + t[0] + "," + t[1] + "," + t[2] + ")": n === "a" ? i = t[3] : i = "rgba(" + t.join(",") + ")": i = e,
            i
        }
        function o(e) {
            if (r) cn(r,
            function(t) {
                t.brighten(e)
            });
            else if (Ot(e) && e !== 0) {
                var n;
                for (n = 0; n < 3; n++) t[n] += Ct(e * 255),
                t[n] < 0 && (t[n] = 0),
                t[n] > 255 && (t[n] = 255)
            }
            return this
        }
        function u(e) {
            return t[3] = e,
            this
        }
        var t = [],
        n,
        r;
        return i(e),
        {
            get: s,
            brighten: o,
            rgba: t,
            setOpacity: u
        }
    };
    Ln.prototype = {
        init: function(e, n) {
            var r = this;
            r.element = n === "span" ? It(n) : t.createElementNS(E, n),
            r.renderer = e,
            r.attrSetters = {}
        },
        opacity: 1,
        animate: function(e, t, n) {
            var r = jt(t, _, !0);
            wn(this),
            r ? (r = Tt(r), n && (r.complete = n), bn(this, e, r)) : (this.attr(e), n && n())
        },
        attr: function(n, r) {
            var i = this,
            s, o, a, f, l, c = i.element,
            h = c.nodeName.toLowerCase(),
            p = i.renderer,
            d,
            v,
            m = i.attrSetters,
            g = i.shadows,
            y,
            b,
            w = i;
            kt(n) && Pt(r) && (s = n, n = {},
            n[s] = r);
            if (kt(n)) s = n,
            h === "circle" ? s = {
                x: "cx",
                y: "cy"
            } [s] || s: s === "strokeWidth" && (s = "stroke-width"),
            w = Ht(c, s) || i[s] || 0,
            s !== "d" && s !== "visibility" && (w = parseFloat(w));
            else {
                for (s in n) {
                    d = !1,
                    o = n[s],
                    a = m[s] && m[s].call(i, o, s);
                    if (a !== !1) {
                        a !== e && (o = a);
                        if (s === "d") o && o.join && (o = o.join(" ")),
                        /(NaN| {2}|^$)/.test(o) && (o = "M 0 0");
                        else if (s === "x" && h === "text") for (f = 0; f < c.childNodes.length; f++) l = c.childNodes[f],
                        Ht(l, "x") === Ht(c, "x") && Ht(l, "x", o);
                        else if (!i.rotation || s !== "x" && s !== "y") if (s === "fill") o = p.color(o, c, s);
                        else if (h !== "circle" || s !== "x" && s !== "y") if (h === "rect" && s === "r") Ht(c, {
                            rx: o,
                            ry: o
                        }),
                        d = !0;
                        else if (s === "translateX" || s === "translateY" || s === "rotation" || s === "verticalAlign" || s === "scaleX" || s === "scaleY") b = !0,
                        d = !0;
                        else if (s === "stroke") o = p.color(o, c, s);
                        else if (s === "dashstyle") {
                            s = "stroke-dasharray",
                            o = o && o.toLowerCase();
                            if (o === "solid") o = V;
                            else if (o) {
                                o = o.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/, "").split(","),
                                f = o.length;
                                while (f--) o[f] = Ct(o[f]) * n["stroke-width"];
                                o = o.join(",")
                            }
                        } else s === "width" ? o = Ct(o) : s === "align" ? (s = "text-anchor", o = {
                            left: "start",
                            center: "middle",
                            right: "end"
                        } [o]) : s === "title" && (v = c.getElementsByTagName("title")[0], v || (v = t.createElementNS(E, "title"), c.appendChild(v)), v.textContent = o);
                        else s = {
                            x: "cx",
                            y: "cy"
                        } [s] || s;
                        else b = !0;
                        s === "strokeWidth" && (s = "stroke-width");
                        if (s === "stroke-width" || s === "stroke") i[s] = o,
                        i.stroke && i["stroke-width"] ? (Ht(c, "stroke", i.stroke), Ht(c, "stroke-width", i["stroke-width"]), i.hasStroke = !0) : s === "stroke-width" && o === 0 && i.hasStroke && (c.removeAttribute("stroke"), i.hasStroke = !1),
                        d = !0;
                        i.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s) && (y || (i.symbolAttr(n), y = !0), d = !0);
                        if (g && /^(width|height|visibility|x|y|d|transform)$/.test(s)) {
                            f = g.length;
                            while (f--) Ht(g[f], s, s === "height" ? u(o - (g[f].cutHeight || 0), 0) : o)
                        } (s === "width" || s === "height") && h === "rect" && o < 0 && (o = 0),
                        i[s] = o,
                        s === "text" ? (o !== i.textStr && delete i.bBox, i.textStr = o, i.added && p.buildText(i)) : d || Ht(c, s, o)
                    }
                }
                b && i.updateTransform()
            }
            return w
        },
        addClass: function(e) {
            return Ht(this.element, "class", Ht(this.element, "class") + " " + e),
            this
        },
        symbolAttr: function(e) {
            var t = this;
            cn(["x", "y", "r", "start", "end", "width", "height", "innerR", "anchorX", "anchorY"],
            function(n) {
                t[n] = jt(e[n], t[n])
            }),
            t.attr({
                d: t.renderer.symbols[t.symbolName](t.x, t.y, t.width, t.height, t)
            })
        },
        clip: function(e) {
            return this.attr("clip-path", e ? "url(" + this.renderer.url + "#" + e.id + ")": V)
        },
        crisp: function(e, t, n, r, o) {
            var u = this,
            a, f = {},
            l = {},
            c;
            e = e || u.strokeWidth || u.attr && u.attr("stroke-width") || 0,
            c = i(e) % 2 / 2,
            l.x = s(t || u.x || 0) + c,
            l.y = s(n || u.y || 0) + c,
            l.width = s((r || u.width || 0) - 2 * c),
            l.height = s((o || u.height || 0) - 2 * c),
            l.strokeWidth = e;
            for (a in l) u[a] !== l[a] && (u[a] = f[a] = l[a]);
            return f
        },
        css: function(e) {
            var t = this,
            n = t.element,
            r = e && e.width && n.nodeName.toLowerCase() === "text",
            i,
            s = "",
            o = function(e, t) {
                return "-" + t.toLowerCase()
            };
            e && e.color && (e.fill = e.color),
            e = xt(t.styles, e),
            t.styles = e,
            T && r && delete e.width;
            if (m && !S) r && delete e.width,
            Ft(t.element, e);
            else {
                for (i in e) s += i.replace(/([A-Z])/g, o) + ":" + e[i] + ";";
                t.attr({
                    style: s
                })
            }
            return r && t.added && t.renderer.buildText(t),
            t
        },
        on: function(e, t) {
            return C && e === "click" && (this.element.ontouchstart = function(e) {
                e.preventDefault(),
                t()
            }),
            this.element["on" + e] = t,
            this
        },
        setRadialReference: function(e) {
            return this.element.radialReference = e,
            this
        },
        translate: function(e, t) {
            return this.attr({
                translateX: e,
                translateY: t
            })
        },
        invert: function() {
            var e = this;
            return e.inverted = !0,
            e.updateTransform(),
            e
        },
        htmlCss: function(e) {
            var t = this,
            n = t.element,
            r = e && n.tagName === "SPAN" && e.width;
            return r && (delete e.width, t.textWidth = r, t.updateTransform()),
            t.styles = xt(t.styles, e),
            Ft(t.element, e),
            t
        },
        htmlGetBBox: function() {
            var e = this,
            t = e.element,
            n = e.bBox;
            return n || (t.nodeName === "text" && (t.style.position = q), n = e.bBox = {
                x: t.offsetLeft,
                y: t.offsetTop,
                width: t.offsetWidth,
                height: t.offsetHeight
            }),
            n
        },
        htmlUpdateTransform: function() {
            if (!this.added) {
                this.alignOnAdd = !0;
                return
            }
            var e = this,
            t = e.renderer,
            n = e.element,
            r = e.translateX || 0,
            i = e.translateY || 0,
            s = e.x || 0,
            o = e.y || 0,
            u = e.textAlign || "left",
            a = {
                left: 0,
                center: .5,
                right: 1
            } [u],
            f = u && u !== "left",
            h = e.shadows;
            if (r || i) Ft(n, {
                marginLeft: r,
                marginTop: i
            }),
            h && cn(h,
            function(e) {
                Ft(e, {
                    marginLeft: r + 1,
                    marginTop: i + 1
                })
            });
            e.inverted && cn(n.childNodes,
            function(e) {
                t.invertChild(e, n)
            });
            if (n.tagName === "SPAN") {
                var d, g, w = e.rotation,
                E, S = 0,
                x = 1,
                T = 0,
                N, C = Ct(e.textWidth),
                k = e.xCorr || 0,
                L = e.yCorr || 0,
                A = [w, u, n.innerHTML, e.textWidth].join(","),
                O = {},
                M;
                A !== e.cTT && (Pt(w) && (t.isSVG ? (M = m ? "-ms-transform": y ? "-webkit-transform": b ? "MozTransform": v ? "-o-transform": "", O[M] = O.transform = "rotate(" + w + "deg)") : (S = w * p, x = l(S), T = c(S), O.filter = w ? ["progid:DXImageTransform.Microsoft.Matrix(M11\x3d", x, ", M12\x3d", -T, ", M21\x3d", T, ", M22\x3d", x, ", sizingMethod\x3d'auto expand')"].join("") : V), Ft(n, O)), d = jt(e.elemWidth, n.offsetWidth), g = jt(e.elemHeight, n.offsetHeight), d > C && /[ \-]/.test(n.textContent || n.innerText) && (Ft(n, {
                    width: C + X,
                    display: "block",
                    whiteSpace: "normal"
                }), d = C), E = t.fontMetrics(n.style.fontSize).b, k = x < 0 && -d, L = T < 0 && -g, N = x * T < 0, k += T * E * (N ? 1 - a: a), L -= x * E * (w ? N ? a: 1 - a: 1), f && (k -= d * a * (x < 0 ? -1 : 1), w && (L -= g * a * (T < 0 ? -1 : 1)), Ft(n, {
                    textAlign: u
                })), e.xCorr = k, e.yCorr = L),
                Ft(n, {
                    left: s + k + X,
                    top: o + L + X
                }),
                y && (g = n.offsetHeight),
                e.cTT = A
            }
        },
        updateTransform: function() {
            var e = this,
            t = e.translateX || 0,
            n = e.translateY || 0,
            r = e.scaleX,
            i = e.scaleY,
            s = e.inverted,
            o = e.rotation,
            u = [];
            s && (t += e.attr("width"), n += e.attr("height")),
            (t || n) && u.push("translate(" + t + "," + n + ")"),
            s ? u.push("rotate(90) scale(-1,1)") : o && u.push("rotate(" + o + " " + (e.x || 0) + " " + (e.y || 0) + ")"),
            (Pt(r) || Pt(i)) && u.push("scale(" + jt(r, 1) + " " + jt(i, 1) + ")"),
            u.length && Ht(e.element, "transform", u.join(" "))
        },
        toFront: function() {
            var e = this.element;
            return e.parentNode.appendChild(e),
            this
        },
        align: function(e, t, n) {
            var r, s, o, u, a = {},
            f, l = this.renderer,
            c = l.alignedObjects;
            if (e) {
                this.alignOptions = e,
                this.alignByTranslate = t;
                if (!n || kt(n)) this.alignTo = f = n || "renderer",
                Dt(c, this),
                c.push(this),
                n = null
            } else e = this.alignOptions,
            t = this.alignByTranslate,
            f = this.alignTo;
            n = jt(n, l[f], l),
            r = e.align,
            s = e.verticalAlign,
            o = (n.x || 0) + (e.x || 0),
            u = (n.y || 0) + (e.y || 0);
            if (r === "right" || r === "center") o += (n.width - (e.width || 0)) / {
                right: 1,
                center: 2
            } [r];
            a[t ? "translateX": "x"] = i(o);
            if (s === "bottom" || s === "middle") u += (n.height - (e.height || 0)) / ({
                bottom: 1,
                middle: 2
            } [s] || 1);
            return a[t ? "translateY": "y"] = i(u),
            this[this.placed ? "animate": "attr"](a),
            this.placed = !0,
            this.alignAttr = a,
            this
        },
        getBBox: function() {
            var e = this,
            t = e.bBox,
            n = e.renderer,
            r, i, s = e.rotation,
            o = e.element,
            u = e.styles,
            a = s * p;
            if (!t) {
                if (o.namespaceURI === E || n.forExport) {
                    try {
                        t = o.getBBox ? xt({},
                        o.getBBox()) : {
                            width: o.offsetWidth,
                            height: o.offsetHeight
                        }
                    } catch(h$33) {}
                    if (!t || t.width < 0) t = {
                        width: 0,
                        height: 0
                    }
                } else t = e.htmlGetBBox();
                n.isSVG && (r = t.width, i = t.height, m && u && u.fontSize === "11px" && i.toPrecision(3) === 22.7 && (t.height = i = 14), s && (t.width = f(i * c(a)) + f(r * l(a)), t.height = f(i * l(a)) + f(r * c(a)))),
                e.bBox = t
            }
            return t
        },
        show: function() {
            return this.attr({
                visibility: W
            })
        },
        hide: function() {
            return this.attr({
                visibility: U
            })
        },
        fadeOut: function(e) {
            var t = this;
            t.animate({
                opacity: 0
            },
            {
                duration: e || 150,
                complete: function() {
                    t.hide()
                }
            })
        },
        add: function(e) {
            var t = this.renderer,
            n = e || t,
            r = n.element || t.box,
            i = r.childNodes,
            s = this.element,
            o = Ht(s, "zIndex"),
            u,
            a,
            f,
            l;
            e && (this.parentGroup = e),
            this.parentInverted = e && e.inverted,
            this.textStr !== undefined && t.buildText(this),
            o && (n.handleZ = !0, o = Ct(o));
            if (n.handleZ) for (f = 0; f < i.length; f++) {
                u = i[f],
                a = Ht(u, "zIndex");
                if (u !== s && (Ct(a) > o || !Pt(o) && Pt(a))) {
                    r.insertBefore(s, u),
                    l = !0;
                    break
                }
            }
            return l || r.appendChild(s),
            this.added = !0,
            gn(this, "add"),
            this
        },
        safeRemoveChild: function(e) {
            var t = e.parentNode;
            t && t.removeChild(e)
        },
        destroy: function() {
            var e = this,
            t = e.element || {},
            n = e.shadows,
            r, i;
            t.onclick = t.onmouseout = t.onmouseover = t.onmousemove = t.point = null,
            wn(e),
            e.clipPath && (e.clipPath = e.clipPath.destroy());
            if (e.stops) {
                for (i = 0; i < e.stops.length; i++) e.stops[i] = e.stops[i].destroy();
                e.stops = null
            }
            e.safeRemoveChild(t),
            n && cn(n,
            function(t) {
                e.safeRemoveChild(t)
            }),
            e.alignTo && Dt(e.renderer.alignedObjects, e);
            for (r in e) delete e[r];
            return null
        },
        shadow: function(e, t, n) {
            var r = [],
            i,
            s,
            o = this.element,
            a,
            f,
            l,
            c;
            if (e) {
                f = jt(e.width, 3),
                l = (e.opacity || .15) / f,
                c = this.parentInverted ? "(-1,-1)": "(" + jt(e.offsetX, 1) + ", " + jt(e.offsetY, 1) + ")";
                for (i = 1; i <= f; i++) s = o.cloneNode(0),
                a = f * 2 + 1 - 2 * i,
                Ht(s, {
                    isShadow: "true",
                    stroke: e.color || "black",
                    "stroke-opacity": l * i,
                    "stroke-width": a,
                    transform: "translate" + c,
                    fill: V
                }),
                n && (Ht(s, "height", u(Ht(s, "height") - a, 0)), s.cutHeight = a),
                t ? t.element.appendChild(s) : o.parentNode.insertBefore(s, o),
                r.push(s);
                this.shadows = r
            }
            return this
        }
    };
    var An = function() {
        this.init.apply(this, arguments)
    };
    An.prototype = {
        Element: Ln,
        init: function(e, r, i, s) {
            var u = this,
            a = location,
            f, l;
            f = u.createElement("svg").attr({
                xmlns: E,
                version: "1.1"
            }),
            e.appendChild(f.element),
            u.isSVG = !0,
            u.box = f.element,
            u.boxWrapper = f,
            u.alignedObjects = [],
            u.url = (b || y) && t.getElementsByTagName("base").length ? a.href.replace(/#.*?$/, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20") : "",
            l = this.createElement("desc").add(),
            l.element.appendChild(t.createTextNode("Created with " + j + " " + F)),
            u.defs = this.createElement("defs").add(),
            u.forExport = s,
            u.gradients = {},
            u.setSize(r, i, !1);
            var c, h;
            b && e.getBoundingClientRect && (u.subPixelFix = c = function() {
                Ft(e, {
                    left: 0,
                    top: 0
                }),
                h = e.getBoundingClientRect(),
                Ft(e, {
                    left: o(h.left) - h.left + X,
                    top: o(h.top) - h.top + X
                })
            },
            c(), vn(n, "resize", c))
        },
        isHidden: function() {
            return ! this.boxWrapper.getBBox().width
        },
        destroy: function() {
            var e = this,
            t = e.defs;
            return e.box = null,
            e.boxWrapper = e.boxWrapper.destroy(),
            en(e.gradients || {}),
            e.gradients = null,
            t && (e.defs = t.destroy()),
            e.subPixelFix && mn(n, "resize", e.subPixelFix),
            e.alignedObjects = null,
            null
        },
        createElement: function(e) {
            var t = new this.Element;
            return t.init(this, e),
            t
        },
        draw: function() {},
        buildText: function(e) {
            var n = e.element,
            r = this,
            i = r.forExport,
            s = jt(e.textStr, "").toString().replace(/<(b|strong)>/g, '\x3cspan style\x3d"font-weight:bold"\x3e').replace(/<(i|em)>/g, '\x3cspan style\x3d"font-style:italic"\x3e').replace(/<a/g, "\x3cspan").replace(/<\/(b|strong|i|em|a)>/g, "\x3c/span\x3e").split(/<br.*?>/g),
            o = n.childNodes,
            u = /style="([^"]+)"/,
            a = /href="([^"]+)"/,
            f = Ht(n, "x"),
            l = e.styles,
            c = l && l.width && Ct(l.width),
            h = l && l.lineHeight,
            p = o.length;
            while (p--) n.removeChild(o[p]);
            c && !e.added && this.box.appendChild(n),
            s[s.length - 1] === "" && s.pop(),
            cn(s,
            function(s, o) {
                var p, d = 0;
                s = s.replace(/<span/g, "|||\x3cspan").replace(/<\/span>/g, "\x3c/span\x3e|||"),
                p = s.split("|||"),
                cn(p,
                function(s) {
                    if (s !== "" || p.length === 1) {
                        var v = {},
                        m = t.createElementNS(E, "tspan"),
                        g;
                        u.test(s) && (g = s.match(u)[1].replace(/(;| |^)color([ :])/, "$1fill$2"), Ht(m, "style", g)),
                        a.test(s) && !i && (Ht(m, "onclick", 'location.href\x3d"' + s.match(a)[1] + '"'), Ft(m, {
                            cursor: "pointer"
                        })),
                        s = (s.replace(/<(.|\n)*?>/g, "") || " ").replace(/&lt;/g, "\x3c").replace(/&gt;/g, "\x3e"),
                        m.appendChild(t.createTextNode(s)),
                        d ? v.dx = 0 : v.x = f,
                        Ht(m, v),
                        !d && o && (!S && i && Ft(m, {
                            display: "block"
                        }), Ht(m, "dy", h || r.fontMetrics(/px$/.test(m.style.fontSize) ? m.style.fontSize: l.fontSize).h, y && m.offsetHeight)),
                        n.appendChild(m),
                        d++;
                        if (c) {
                            var b = s.replace(/([^\^])-/g, "$1- ").split(" "),
                            w,
                            x,
                            T = [];
                            while (b.length || T.length) delete e.bBox,
                            x = e.getBBox().width,
                            w = x > c,
                            !w || b.length === 1 ? (b = T, T = [], b.length && (m = t.createElementNS(E, "tspan"), Ht(m, {
                                dy: h || 16,
                                x: f
                            }), g && Ht(m, "style", g), n.appendChild(m), x > c && (c = x))) : (m.removeChild(m.firstChild), T.unshift(b.pop())),
                            b.length && m.appendChild(t.createTextNode(b.join(" ").replace(/- /g, "-")))
                        }
                    }
                })
            })
        },
        button: function(e, t, n, r, i, s, o) {
            var u = this.label(e, t, n, null, null, null, null, null, "button"),
            a = 0,
            f,
            l,
            c,
            h,
            p,
            d = "style",
            v = {
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 1
            };
            return i = Tt({
                "stroke-width": 1,
                stroke: "#CCCCCC",
                fill: {
                    linearGradient: v,
                    stops: [[0, "#FEFEFE"], [1, "#F6F6F6"]]
                },
                r: 2,
                padding: 5,
                style: {
                    color: "black"
                }
            },
            i),
            c = i[d],
            delete i[d],
            s = Tt(i, {
                stroke: "#68A",
                fill: {
                    linearGradient: v,
                    stops: [[0, "#FFF"], [1, "#ACF"]]
                }
            },
            s),
            h = s[d],
            delete s[d],
            o = Tt(i, {
                stroke: "#68A",
                fill: {
                    linearGradient: v,
                    stops: [[0, "#9BD"], [1, "#CDF"]]
                }
            },
            o),
            p = o[d],
            delete o[d],
            vn(u.element, "mouseenter",
            function() {
                u.attr(s).css(h)
            }),
            vn(u.element, "mouseleave",
            function() {
                f = [i, s, o][a],
                l = [c, h, p][a],
                u.attr(f).css(l)
            }),
            u.setState = function(e) {
                a = e,
                e ? e === 2 && u.attr(o).css(p) : u.attr(i).css(c)
            },
            u.on("click",
            function() {
                r.call(u)
            }).attr(i).css(xt({
                cursor: "default"
            },
            c))
        },
        crispLine: function(e, t) {
            return e[1] === e[4] && (e[1] = e[4] = i(e[1]) - t % 2 / 2),
            e[2] === e[5] && (e[2] = e[5] = i(e[2]) + t % 2 / 2),
            e
        },
        path: function(e) {
            var t = {
                fill: V
            };
            return At(e) ? t.d = e: Lt(e) && xt(t, e),
            this.createElement("path").attr(t)
        },
        circle: function(e, t, n) {
            var r = Lt(e) ? e: {
                x: e,
                y: t,
                r: n
            };
            return this.createElement("circle").attr(r)
        },
        arc: function(e, t, n, r, i, s) {
            return Lt(e) && (t = e.y, n = e.r, r = e.innerR, i = e.start, s = e.end, e = e.x),
            this.symbol("arc", e || 0, t || 0, n || 0, n || 0, {
                innerR: r || 0,
                start: i || 0,
                end: s || 0
            })
        },
        rect: function(e, t, n, r, i, s) {
            i = Lt(e) ? e.r: i;
            var o = this.createElement("rect").attr({
                rx: i,
                ry: i,
                fill: V
            });
            return o.attr(Lt(e) ? e: o.crisp(s, e, t, u(n, 0), u(r, 0)))
        },
        setSize: function(e, t, n) {
            var r = this,
            i = r.alignedObjects,
            s = i.length;
            r.width = e,
            r.height = t,
            r.boxWrapper[jt(n, !0) ? "animate": "attr"]({
                width: e,
                height: t
            });
            while (s--) i[s].align()
        },
        g: function(e) {
            var t = this.createElement("g");
            return Pt(e) ? t.attr({
                "class": z + e
            }) : t
        },
        image: function(e, t, n, r, i) {
            var s = {
                preserveAspectRatio: V
            },
            o;
            return arguments.length > 1 && xt(s, {
                x: t,
                y: n,
                width: r,
                height: i
            }),
            o = this.createElement("image").attr(s),
            o.element.setAttributeNS ? o.element.setAttributeNS("http://www.w3.org/1999/xlink", "href", e) : o.element.setAttribute("hc-svg-href", e),
            o
        },
        symbol: function(e, t, n, r, s, o) {
            var u, a = this.symbols[e],
            f = a && a(i(t), i(n), r, s, o),
            l,
            c = /^url\((.*?)\)$/,
            h,
            p,
            d;
            return f ? (u = this.path(f), xt(u, {
                symbolName: e,
                x: t,
                y: n,
                width: r,
                height: s
            }), o && xt(u, o)) : c.test(e) && (d = function(e, t) {
                e.element && (e.attr({
                    width: t[0],
                    height: t[1]
                }), e.alignByTranslate || e.translate(i((r - t[0]) / 2), i((s - t[1]) / 2)))
            },
            h = e.match(c)[1], p = k[h], u = this.image(h).attr({
                x: t,
                y: n
            }), p ? d(u, p) : (u.attr({
                width: 0,
                height: 0
            }), l = It("img", {
                onload: function() {
                    d(u, k[h] = [this.width, this.height])
                },
                src: h
            }))),
            u
        },
        symbols: {
            circle: function(e, t, n, r) {
                var i = .166 * n;
                return [$, e + n / 2, t, "C", e + n + i, t, e + n + i, t + r, e + n / 2, t + r, "C", e - i, t + r, e - i, t, e + n / 2, t, "Z"]
            },
            square: function(e, t, n, r) {
                return [$, e, t, J, e + n, t, e + n, t + r, e, t + r, "Z"]
            },
            triangle: function(e, t, n, r) {
                return [$, e + n / 2, t, J, e + n, t + r, e, t + r, "Z"]
            },
            "triangle-down": function(e, t, n, r) {
                return [$, e, t, J, e + n, t, e + n / 2, t + r, "Z"]
            },
            diamond: function(e, t, n, r) {
                return [$, e + n / 2, t, J, e + n, t + r / 2, e + n / 2, t + r, e, t + r / 2, "Z"]
            },
            arc: function(e, t, n, r, i) {
                var s = i.start,
                o = i.r || n || r,
                u = i.end - .001,
                a = i.innerR,
                f = i.open,
                p = l(s),
                d = c(s),
                v = l(u),
                m = c(u),
                g = i.end - s < h ? 0 : 1;
                return [$, e + o * p, t + o * d, "A", o, o, 0, g, 1, e + o * v, t + o * m, f ? $: J, e + a * v, t + a * m, "A", a, a, 0, g, 0, e + a * p, t + a * d, f ? "": "Z"]
            }
        },
        clipRect: function(e, t, n, r) {
            var i, s = z + L++,
            o = this.createElement("clipPath").attr({
                id: s
            }).add(this.defs);
            return i = this.rect(e, t, n, r, 0).add(o),
            i.id = s,
            i.clipPath = o,
            i
        },
        color: function(e, t, n) {
            var r = this,
            i, s = /^rgba/,
            o, u, a, f, l, c, h, p, d, v, m = [];
            e && e.linearGradient ? o = "linearGradient": e && e.radialGradient && (o = "radialGradient");
            if (o) {
                u = e[o],
                a = r.gradients,
                l = e.stops,
                p = t.radialReference,
                At(u) && (e[o] = u = {
                    x1: u[0],
                    y1: u[1],
                    x2: u[2],
                    y2: u[3],
                    gradientUnits: "userSpaceOnUse"
                }),
                o === "radialGradient" && p && !Pt(u.gradientUnits) && (u = Tt(u, {
                    cx: p[0] - p[2] / 2 + u.cx * p[2],
                    cy: p[1] - p[2] / 2 + u.cy * p[2],
                    r: u.r * p[2],
                    gradientUnits: "userSpaceOnUse"
                }));
                for (d in u) d !== "id" && m.push(d, u[d]);
                for (d in l) m.push(l[d]);
                return m = m.join(","),
                a[m] ? v = a[m].id: (u.id = v = z + L++, a[m] = f = r.createElement(o).attr(u).add(r.defs), f.stops = [], cn(l,
                function(e) {
                    var t;
                    s.test(e[1]) ? (i = kn(e[1]), c = i.get("rgb"), h = i.get("a")) : (c = e[1], h = 1),
                    t = r.createElement("stop").attr({
                        offset: e[0],
                        "stop-color": c,
                        "stop-opacity": h
                    }).add(f),
                    f.stops.push(t)
                })),
                "url(" + r.url + "#" + v + ")"
            }
            return s.test(e) ? (i = kn(e), Ht(t, n + "-opacity", i.get("a")), i.get("rgb")) : (t.removeAttribute(n + "-opacity"), e)
        },
        text: function(e, t, n, r) {
            var s = this,
            o = O.chart.style,
            u = T || !S && s.forExport,
            a;
            return r && !s.forExport ? s.html(e, t, n) : (t = i(jt(t, 0)), n = i(jt(n, 0)), a = s.createElement("text").attr({
                x: t,
                y: n,
                text: e
            }).css({
                fontFamily: o.fontFamily,
                fontSize: o.fontSize
            }), u && a.css({
                position: q
            }), a.x = t, a.y = n, a)
        },
        html: function(e, t, n) {
            var r = O.chart.style,
            s = this.createElement("span"),
            o = s.attrSetters,
            u = s.element,
            a = s.renderer;
            return o.text = function(e) {
                return e !== u.innerHTML && delete this.bBox,
                u.innerHTML = e,
                !1
            },
            o.x = o.y = o.align = function(e, t) {
                return t === "align" && (t = "textAlign"),
                s[t] = e,
                s.htmlUpdateTransform(),
                !1
            },
            s.attr({
                text: e,
                x: i(t),
                y: i(n)
            }).css({
                position: q,
                whiteSpace: "nowrap",
                fontFamily: r.fontFamily,
                fontSize: r.fontSize
            }),
            s.css = s.htmlCss,
            a.isSVG && (s.add = function(e) {
                var t, n = a.box.parentNode,
                r, i = [];
                if (e) {
                    t = e.div;
                    if (!t) {
                        r = e;
                        while (r) i.push(r),
                        r = r.parentGroup;
                        cn(i.reverse(),
                        function(e) {
                            var r;
                            t = e.div = e.div || It(I, {
                                className: Ht(e.element, "class")
                            },
                            {
                                position: q,
                                left: (e.translateX || 0) + X,
                                top: (e.translateY || 0) + X
                            },
                            t || n),
                            r = t.style,
                            xt(e.attrSetters, {
                                translateX: function(e) {
                                    r.left = e + X
                                },
                                translateY: function(e) {
                                    r.top = e + X
                                },
                                visibility: function(e, t) {
                                    r[t] = e
                                }
                            })
                        })
                    }
                } else t = n;
                return t.appendChild(u),
                s.added = !0,
                s.alignOnAdd && s.htmlUpdateTransform(),
                s
            }),
            s
        },
        fontMetrics: function(e) {
            e = Ct(e || 11);
            var t = e < 24 ? e + 4 : i(e * 1.2),
            n = i(t * .8);
            return {
                h: t,
                b: n
            }
        },
        label: function(t, n, r, s, o, u, a, f, l) {
            function L() {
                var e, t, n = p.element.style;
                v = (b === undefined || w === undefined || h.styles.textAlign) && p.getBBox(),
                h.width = (b || v.width || 0) + 2 * g + y,
                h.height = (w || v.height || 0) + 2 * g,
                N = g + c.fontMetrics(n && n.fontSize).b,
                k && (d || (e = i( - m * g), t = f ? -N: 0, h.box = d = s ? c.symbol(s, e, t, h.width, h.height) : c.rect(e, t, h.width, h.height, 0, T[ft]), d.add(h)), d.attr(Tt({
                    width: h.width,
                    height: h.height
                },
                T)), T = null)
            }
            function A() {
                var e = h.styles,
                t = e && e.textAlign,
                n = y + g * (1 - m),
                r;
                r = f ? 0 : N,
                Pt(b) && (t === "center" || t === "right") && (n += {
                    center: .5,
                    right: 1
                } [t] * (b - v.width)),
                (n !== p.x || r !== p.y) && p.attr({
                    x: n,
                    y: r
                }),
                p.x = n,
                p.y = r
            }
            function O(e, t) {
                d ? d.attr(e, t) : T[e] = t
            }
            function M() {
                p.add(h),
                h.attr({
                    text: t,
                    x: n,
                    y: r
                }),
                d && Pt(o) && h.attr({
                    anchorX: o,
                    anchorY: u
                })
            }
            var c = this,
            h = c.g(l),
            p = c.text("", 0, 0, a).attr({
                zIndex: 1
            }),
            d,
            v,
            m = 0,
            g = 3,
            y = 0,
            b,
            w,
            E,
            S,
            x = 0,
            T = {},
            N,
            C = h.attrSetters,
            k;
            vn(h, "add", M),
            C.width = function(e) {
                return b = e,
                !1
            },
            C.height = function(e) {
                return w = e,
                !1
            },
            C.padding = function(e) {
                return Pt(e) && e !== g && (g = e, A()),
                !1
            },
            C.paddingLeft = function(e) {
                return Pt(e) && e !== y && (y = e, A()),
                !1
            },
            C.align = function(e) {
                return m = {
                    left: 0,
                    center: .5,
                    right: 1
                } [e],
                !1
            },
            C.text = function(e, t) {
                return p.attr(t, e),
                L(),
                A(),
                !1
            },
            C[ft] = function(e, t) {
                return k = !0,
                x = e % 2 / 2,
                O(t, e),
                !1
            },
            C.stroke = C.fill = C.r = function(e, t) {
                return t === "fill" && (k = !0),
                O(t, e),
                !1
            },
            C.anchorX = function(e, t) {
                return o = e,
                O(t, e + x - E),
                !1
            },
            C.anchorY = function(e, t) {
                return u = e,
                O(t, e - S),
                !1
            },
            C.x = function(e) {
                return h.x = e,
                e -= m * ((b || v.width) + g),
                E = i(e),
                h.attr("translateX", E),
                !1
            },
            C.y = function(e) {
                return S = h.y = i(e),
                h.attr("translateY", S),
                !1
            };
            var _ = h.css;
            return xt(h, {
                css: function(t) {
                    if (t) {
                        var n = {};
                        t = Tt(t),
                        cn(["fontSize", "fontWeight", "fontFamily", "color", "lineHeight", "width"],
                        function(r) {
                            t[r] !== e && (n[r] = t[r], delete t[r])
                        }),
                        p.css(n)
                    }
                    return _.call(h, t)
                },
                getBBox: function() {
                    return {
                        width: v.width + 2 * g,
                        height: v.height + 2 * g,
                        x: v.x - g,
                        y: v.y - g
                    }
                },
                shadow: function(e) {
                    return d && d.shadow(e),
                    h
                },
                destroy: function() {
                    mn(h, "add", M),
                    mn(h.element, "mouseenter"),
                    mn(h.element, "mouseleave"),
                    p && (p = p.destroy()),
                    d && (d = d.destroy()),
                    Ln.prototype.destroy.call(h),
                    h = c = L = A = O = M = null
                }
            })
        }
    },
    N = An;
    var On, Mn;
    if (!S && !T) {
        Highcharts.VMLElement = Mn = {
            init: function(e, t) {
                var n = this,
                r = ["\x3c", t, ' filled\x3d"f" stroked\x3d"f"'],
                i = ["position: ", q, ";"],
                s = t === I; (t === "shape" || s) && i.push("left:0;top:0;width:1px;height:1px;"),
                i.push("visibility: ", s ? U: W),
                r.push(' style\x3d"', i.join(""), '"/\x3e'),
                t && (r = s || t === "span" || t === "img" ? r.join("") : e.prepVML(r), n.element = It(r)),
                n.renderer = e,
                n.attrSetters = {}
            },
            add: function(e) {
                var t = this,
                n = t.renderer,
                r = t.element,
                i = n.box,
                s = e && e.inverted,
                o = e ? e.element || e: i;
                return s && n.invertChild(r, o),
                o.appendChild(r),
                t.added = !0,
                t.alignOnAdd && !t.deferUpdateTransform && t.updateTransform(),
                gn(t, "add"),
                t
            },
            updateTransform: Ln.prototype.htmlUpdateTransform,
            attr: function(t, n) {
                var r = this,
                s, o, a, f, h = r.element || {},
                d = h.style,
                v = h.nodeName,
                m = r.renderer,
                y = r.symbolName,
                b, w = r.shadows,
                E, S = r.attrSetters,
                x = r;
                kt(t) && Pt(n) && (s = t, t = {},
                t[s] = n);
                if (kt(t)) s = t,
                s === "strokeWidth" || s === "stroke-width" ? x = r.strokeweight: x = r[s];
                else for (s in t) {
                    o = t[s],
                    E = !1,
                    f = S[s] && S[s].call(r, o, s);
                    if (f !== !1 && o !== null) {
                        f !== e && (o = f);
                        if (y && /^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(s)) b || (r.symbolAttr(t), b = !0),
                        E = !0;
                        else if (s === "d") {
                            o = o || [],
                            r.d = o.join(" "),
                            a = o.length;
                            var T = [];
                            while (a--) if (Ot(o[a])) T[a] = i(o[a] * 10) - 5;
                            else if (o[a] === "Z") T[a] = "x";
                            else {
                                T[a] = o[a];
                                if (o[a] === "wa" || o[a] === "at") T[a + 5] === T[a + 7] && (T[a + 7] -= 1),
                                T[a + 6] === T[a + 8] && (T[a + 8] -= 1)
                            }
                            o = T.join(" ") || "x",
                            h.path = o;
                            if (w) {
                                a = w.length;
                                while (a--) w[a].path = w[a].cutOff ? this.cutOffPath(o, w[a].cutOff) : o
                            }
                            E = !0
                        } else if (s === "visibility") {
                            if (w) {
                                a = w.length;
                                while (a--) w[a].style[s] = o
                            }
                            v === "DIV" && (o = o === U ? "-999em": 0, g || (d[s] = o ? U: W), s = "top"),
                            d[s] = o,
                            E = !0
                        } else if (s === "zIndex") o && (d[s] = o),
                        E = !0;
                        else if (ln(s, ["x", "y", "width", "height"]) !== -1) r[s] = o,
                        s === "x" || s === "y" ? s = {
                            x: "left",
                            y: "top"
                        } [s] : o = u(0, o),
                        r.updateClipping ? (r[s] = o, r.updateClipping()) : d[s] = o,
                        E = !0;
                        else if (s === "class" && v === "DIV") h.className = o;
                        else if (s === "stroke") o = m.color(o, h, s),
                        s = "strokecolor";
                        else if (s === "stroke-width" || s === "strokeWidth") h.stroked = o ? !0 : !1,
                        s = "strokeweight",
                        r[s] = o,
                        Ot(o) && (o += X);
                        else if (s === "dashstyle") {
                            var N = h.getElementsByTagName("stroke")[0] || It(m.prepVML(["\x3cstroke/\x3e"]), null, null, h);
                            N[s] = o || "solid",
                            r.dashstyle = o,
                            E = !0
                        } else s === "fill" ? v === "SPAN" ? d.color = o: v !== "IMG" && (h.filled = o !== V ? !0 : !1, o = m.color(o, h, s, r), s = "fillcolor") : s === "opacity" ? E = !0 : v === "shape" && s === "rotation" ? (r[s] = o, h.style.left = -i(c(o * p) + 1) + X, h.style.top = i(l(o * p)) + X) : s === "translateX" || s === "translateY" || s === "rotation" ? (r[s] = o, r.updateTransform(), E = !0) : s === "text" && (this.bBox = null, h.innerHTML = o, E = !0);
                        E || (g ? h[s] = o: Ht(h, s, o))
                    }
                }
                return x
            },
            clip: function(e) {
                var t = this,
                n, r;
                return e ? (n = e.members, Dt(n, t), n.push(t), t.destroyClip = function() {
                    Dt(n, t)
                },
                r = e.getCSS(t)) : (t.destroyClip && t.destroyClip(), r = {
                    clip: g ? "inherit": "rect(auto)"
                }),
                t.css(r)
            },
            css: Ln.prototype.htmlCss,
            safeRemoveChild: function(e) {
                e.parentNode && tn(e)
            },
            destroy: function() {
                return this.destroyClip && this.destroyClip(),
                Ln.prototype.destroy.apply(this)
            },
            on: function(e, t) {
                return this.element["on" + e] = function() {
                    var e = n.event;
                    e.target = e.srcElement,
                    t(e)
                },
                this
            },
            cutOffPath: function(e, t) {
                var n;
                e = e.split(/[ ,]/),
                n = e.length;
                if (n === 9 || n === 11) e[n - 4] = e[n - 2] = Ct(e[n - 2]) - 10 * t;
                return e.join(" ")
            },
            shadow: function(e, t, n) {
                var r = [],
                i,
                s = this.element,
                o = this.renderer,
                u,
                a = s.style,
                f,
                l = s.path,
                c,
                h,
                p,
                d;
                l && typeof l.value != "string" && (l = "x"),
                h = l;
                if (e) {
                    p = jt(e.width, 3),
                    d = (e.opacity || .15) / p;
                    for (i = 1; i <= 3; i++) c = p * 2 + 1 - 2 * i,
                    n && (h = this.cutOffPath(l.value, c + .5)),
                    f = ['\x3cshape isShadow\x3d"true" strokeweight\x3d"', c, '" filled\x3d"false" path\x3d"', h, '" coordsize\x3d"10 10" style\x3d"', s.style.cssText, '" /\x3e'],
                    u = It(o.prepVML(f), null, {
                        left: Ct(a.left) + jt(e.offsetX, 1),
                        top: Ct(a.top) + jt(e.offsetY, 1)
                    }),
                    n && (u.cutOff = c + 1),
                    f = ['\x3cstroke color\x3d"', e.color || "black", '" opacity\x3d"', d * i, '"/\x3e'],
                    It(o.prepVML(f), null, null, u),
                    t ? t.element.appendChild(u) : s.parentNode.insertBefore(u, s),
                    r.push(u);
                    this.shadows = r
                }
                return this
            }
        },
        Mn = qt(Ln, Mn);
        var _n = {
            Element: Mn,
            isIE8: d.indexOf("MSIE 8.0") > -1,
            init: function(e, n, r) {
                var i = this,
                s, o;
                i.alignedObjects = [],
                s = i.createElement(I),
                o = s.element,
                o.style.position = R,
                e.appendChild(s.element),
                i.isVML = !0,
                i.box = o,
                i.boxWrapper = s,
                i.setSize(n, r, !1),
                t.namespaces.hcv || (t.namespaces.add("hcv", "urn:schemas-microsoft-com:vml"), t.createStyleSheet().cssText = "hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")
            },
            isHidden: function() {
                return ! this.box.offsetWidth
            },
            clipRect: function(e, t, n, r) {
                var s = this.createElement(),
                o = Lt(e);
                return xt(s, {
                    members: [],
                    left: o ? e.x: e,
                    top: o ? e.y: t,
                    width: o ? e.width: n,
                    height: o ? e.height: r,
                    getCSS: function(e) {
                        var t = e.element,
                        n = t.nodeName,
                        r = n === "shape",
                        s = e.inverted,
                        o = this,
                        u = o.top - (r ? t.offsetTop: 0),
                        a = o.left,
                        f = a + o.width,
                        l = u + o.height,
                        c = {
                            clip: "rect(" + i(s ? a: u) + "px," + i(s ? l: f) + "px," + i(s ? f: l) + "px," + i(s ? u: a) + "px)"
                        };
                        return ! s && g && n === "DIV" && xt(c, {
                            width: f + X,
                            height: l + X
                        }),
                        c
                    },
                    updateClipping: function() {
                        cn(s.members,
                        function(e) {
                            e.css(s.getCSS(e))
                        })
                    }
                })
            },
            color: function(e, t, n, i) {
                var s = this,
                o, u = /^rgba/,
                a, f, l = V;
                e && e.linearGradient ? f = "gradient": e && e.radialGradient && (f = "pattern");
                if (f) {
                    var c, p, d = e.linearGradient || e.radialGradient,
                    v, m, g, y, b, w, E, S, x = "",
                    T = e.stops,
                    N, C, k = [],
                    L = function() {
                        a = ['\x3cfill colors\x3d"' + k.join(",") + '" opacity\x3d"', w, '" o:opacity2\x3d"', b, '" type\x3d"', f, '" ', x, 'focus\x3d"100%" method\x3d"any" /\x3e'],
                        It(s.prepVML(a), null, null, t)
                    };
                    N = T[0],
                    C = T[T.length - 1],
                    N[0] > 0 && T.unshift([0, N[1]]),
                    C[0] < 1 && T.push([1, C[1]]),
                    cn(T,
                    function(e, t) {
                        u.test(e[1]) ? (o = kn(e[1]), c = o.get("rgb"), p = o.get("a")) : (c = e[1], p = 1),
                        k.push(e[0] * 100 + "% " + c),
                        t ? (w = p, E = c) : (b = p, S = c)
                    });
                    if (n === "fill") if (f === "gradient") v = d.x1 || d[0] || 0,
                    m = d.y1 || d[1] || 0,
                    g = d.x2 || d[2] || 0,
                    y = d.y2 || d[3] || 0,
                    x = 'angle\x3d"' + (90 - r.atan((y - m) / (g - v)) * 180 / h) + '"',
                    L();
                    else {
                        var A = d.r,
                        M = A * 2,
                        _ = A * 2,
                        D = d.cx,
                        P = d.cy,
                        H = t.radialReference,
                        B, j = function() {
                            H && (B = i.getBBox(), D += (H[0] - B.x) / B.width - .5, P += (H[1] - B.y) / B.height - .5, M *= H[2] / B.width, _ *= H[2] / B.height),
                            x = 'src\x3d"' + O.global.VMLRadialGradientURL + '" ' + 'size\x3d"' + M + "," + _ + '" ' + 'origin\x3d"0.5,0.5" ' + 'position\x3d"' + D + "," + P + '" ' + 'color2\x3d"' + S + '" ',
                            L()
                        };
                        i.added ? j() : vn(i, "add", j),
                        l = E
                    } else l = c
                } else if (u.test(e) && t.tagName !== "IMG") o = kn(e),
                a = ["\x3c", n, ' opacity\x3d"', o.get("a"), '"/\x3e'],
                It(this.prepVML(a), null, null, t),
                l = o.get("rgb");
                else {
                    var F = t.getElementsByTagName(n);
                    F.length && (F[0].opacity = 1, F[0].type = "solid"),
                    l = e
                }
                return l
            },
            prepVML: function(e) {
                var t = "display:inline-block;behavior:url(#default#VML);",
                n = this.isIE8;
                return e = e.join(""),
                n ? (e = e.replace("/\x3e", ' xmlns\x3d"urn:schemas-microsoft-com:vml" /\x3e'), e.indexOf('style\x3d"') === -1 ? e = e.replace("/\x3e", ' style\x3d"' + t + '" /\x3e') : e = e.replace('style\x3d"', 'style\x3d"' + t)) : e = e.replace("\x3c", "\x3chcv:"),
                e
            },
            text: An.prototype.html,
            path: function(e) {
                var t = {
                    coordsize: "10 10"
                };
                return At(e) ? t.d = e: Lt(e) && xt(t, e),
                this.createElement("shape").attr(t)
            },
            circle: function(e, t, n) {
                return Lt(e) && (n = e.r, t = e.y, e = e.x),
                this.symbol("circle").attr({
                    x: e - n,
                    y: t - n,
                    width: 2 * n,
                    height: 2 * n
                })
            },
            g: function(e) {
                var t, n;
                return e && (n = {
                    className: z + e,
                    "class": z + e
                }),
                t = this.createElement(I).attr(n),
                t
            },
            image: function(e, t, n, r, i) {
                var s = this.createElement("img").attr({
                    src: e
                });
                return arguments.length > 1 && s.attr({
                    x: t,
                    y: n,
                    width: r,
                    height: i
                }),
                s
            },
            rect: function(e, t, n, r, i, s) {
                Lt(e) && (t = e.y, n = e.width, r = e.height, s = e.strokeWidth, e = e.x);
                var o = this.symbol("rect");
                return o.r = i,
                o.attr(o.crisp(s, e, t, u(n, 0), u(r, 0)))
            },
            invertChild: function(e, t) {
                var n = t.style;
                Ft(e, {
                    flip: "x",
                    left: Ct(n.width) - 1,
                    top: Ct(n.height) - 1,
                    rotation: -90
                })
            },
            symbols: {
                arc: function(e, t, n, r, i) {
                    var s = i.start,
                    o = i.end,
                    u = i.r || n || r,
                    a = i.innerR,
                    f = l(s),
                    h = c(s),
                    p = l(o),
                    d = c(o),
                    v;
                    return o - s === 0 ? ["x"] : (v = ["wa", e - u, t - u, e + u, t + u, e + u * f, t + u * h, e + u * p, t + u * d], i.open && !a && v.push("e", $, e, t), v.push("at", e - a, t - a, e + a, t + a, e + a * p, t + a * d, e + a * f, t + a * h, "x", "e"), v)
                },
                circle: function(e, t, n, r) {
                    return ["wa", e, t, e + n, t + r, e + n, t + r / 2, e + n, t + r / 2, "e"]
                },
                rect: function(e, t, n, r, i) {
                    var s = e + n,
                    o = t + r,
                    u, f;
                    return ! Pt(i) || !i.r ? u = An.prototype.symbols.square.apply(0, arguments) : (f = a(i.r, n, r), u = [$, e + f, t, J, s - f, t, "wa", s - 2 * f, t, s, t + 2 * f, s - f, t, s, t + f, J, s, o - f, "wa", s - 2 * f, o - 2 * f, s, o, s, o - f, s - f, o, J, e + f, o, "wa", e, o - 2 * f, e + 2 * f, o, e + f, o, e, o - f, J, e, t + f, "wa", e, t, e + 2 * f, t + 2 * f, e, t + f, e + f, t, "x", "e"]),
                    u
                }
            }
        };
        Highcharts.VMLRenderer = On = function() {
            this.init.apply(this, arguments)
        },
        On.prototype = Tt(An.prototype, _n),
        N = On
    }
    var Dn, Pn;
    T && (Highcharts.CanVGRenderer = Dn = function() {
        E = "http://www.w3.org/1999/xhtml"
    },
    Dn.prototype.symbols = {},
    Pn = function() {
        function t() {
            var t = e.length,
            n;
            for (n = 0; n < t; n++) e[n]();
            e = []
        }
        var e = [];
        return {
            push: function(n, r) {
                e.length === 0 && fn(r, t),
                e.push(n)
            }
        }
    } (), N = Dn),
    Hn.prototype = {
        addLabel: function() {
            var e = this,
            t = e.axis,
            n = t.options,
            r = t.chart,
            s = t.horiz,
            o = t.categories,
            a = t.series[0] && t.series[0].names,
            f = e.pos,
            l = n.labels,
            c,
            h = t.tickPositions,
            p = s && o && !l.step && !l.staggerLines && !l.rotation && r.plotWidth / h.length || !s && r.plotWidth / 2,
            d = f === h[0],
            v = f === h[h.length - 1],
            m,
            g,
            y = o ? jt(o[f], a && a[f], f) : f,
            b = e.label,
            w = h.info,
            E;
            t.isDatetimeAxis && w && (E = n.dateTimeLabelFormats[w.higherRanks[f] || w.unitName]),
            e.isFirst = d,
            e.isLast = v,
            c = t.labelFormatter.call({
                axis: t,
                chart: r,
                isFirst: d,
                isLast: v,
                dateTimeLabelFormat: E,
                value: t.isLog ? rn(_t(y)) : y
            }),
            m = p && {
                width: u(1, i(p - 2 * (l.padding || 10))) + X
            },
            m = xt(m, l.style),
            Pt(b) ? b && b.attr({
                text: c
            }).css(m) : (g = {
                align: l.align
            },
            Ot(l.rotation) && (g.rotation = l.rotation), e.label = Pt(c) && l.enabled ? r.renderer.text(c, 0, 0, l.useHTML).attr(g).css(m).add(t.labelGroup) : null)
        },
        getLabelSize: function() {
            var e = this.label,
            t = this.axis;
            return e ? (this.labelBBox = e.getBBox())[t.horiz ? "height": "width"] : 0
        },
        getLabelSides: function() {
            var e = this.labelBBox,
            t = this.axis,
            n = t.options,
            r = n.labels,
            i = e.width,
            s = i * {
                left: 0,
                center: .5,
                right: 1
            } [r.align] - r.x;
            return [ - s, i - s]
        },
        handleOverflow: function(e, t) {
            var n = !0,
            r = this.axis,
            i = r.chart,
            s = this.isFirst,
            o = this.isLast,
            u = t.x,
            a = r.reversed,
            f = r.tickPositions;
            if (s || o) {
                var l = this.getLabelSides(),
                c = l[0],
                h = l[1],
                p = i.plotLeft,
                d = p + r.len,
                v = r.ticks[f[e + (s ? 1 : -1)]],
                m = v && v.label.xy && v.label.xy.x + v.getLabelSides()[s ? 0 : 1];
                s && !a || o && a ? u + c < p && (u = p - c, v && u + h > m && (n = !1)) : u + h > d && (u = d - h, v && u + c < m && (n = !1)),
                t.x = u
            }
            return n
        },
        getPosition: function(e, t, n, r) {
            var i = this.axis,
            s = i.chart,
            o = r && s.oldChartHeight || s.chartHeight;
            return {
                x: e ? i.translate(t + n, null, null, r) + i.transB: i.left + i.offset + (i.opposite ? (r && s.oldChartWidth || s.chartWidth) - i.right - i.left: 0),
                y: e ? o - i.bottom + i.offset - (i.opposite ? i.height: 0) : o - i.translate(t + n, null, null, r) - i.transB
            }
        },
        getLabelPosition: function(e, t, n, r, i, s, o, u) {
            var a = this.axis,
            f = a.transA,
            l = a.reversed,
            c = a.staggerLines;
            return e = e + i.x - (s && r ? s * f * (l ? -1 : 1) : 0),
            t = t + i.y - (s && !r ? s * f * (l ? 1 : -1) : 0),
            Pt(i.y) || (t += Ct(n.styles.lineHeight) * .9 - n.getBBox().height / 2),
            c && (t += o / (u || 1) % c * 16),
            {
                x: e,
                y: t
            }
        },
        getMarkPath: function(e, t, n, r, i, s) {
            return s.crispLine([$, e, t, J, e + (i ? 0 : -n), t + (i ? n: 0)], r)
        },
        render: function(t, n, r) {
            var i = this,
            s = i.axis,
            o = s.options,
            u = s.chart,
            a = u.renderer,
            f = s.horiz,
            l = i.type,
            c = i.label,
            h = i.pos,
            p = o.labels,
            d = i.gridLine,
            v = l ? l + "Grid": "grid",
            m = l ? l + "Tick": "tick",
            g = o[v + "LineWidth"],
            y = o[v + "LineColor"],
            b = o[v + "LineDashStyle"],
            w = o[m + "Length"],
            E = o[m + "Width"] || 0,
            S = o[m + "Color"],
            x = o[m + "Position"],
            T,
            N = i.mark,
            C,
            k = p.step,
            L,
            A = !0,
            O = s.tickmarkOffset,
            M = i.getPosition(f, h, O, n),
            _ = M.x,
            D = M.y,
            P = f && _ === s.pos || !f && D === s.pos + s.len ? -1 : 1,
            H = s.staggerLines;
            this.isActive = !0,
            g && (T = s.getPlotLinePath(h + O, g * P, n, !0), d === e && (L = {
                stroke: y,
                "stroke-width": g
            },
            b && (L.dashstyle = b), l || (L.zIndex = 1), n && (L.opacity = 0), i.gridLine = d = g ? a.path(T).attr(L).add(s.gridGroup) : null), !n && d && T && d[i.isNew ? "attr": "animate"]({
                d: T,
                opacity: r
            })),
            E && w && (x === "inside" && (w = -w), s.opposite && (w = -w), C = i.getMarkPath(_, D, w, E * P, f, a), N ? N.animate({
                d: C,
                opacity: r
            }) : i.mark = a.path(C).attr({
                stroke: S,
                "stroke-width": E,
                opacity: r
            }).add(s.axisGroup)),
            c && !isNaN(_) && (c.xy = M = i.getLabelPosition(_, D, c, f, p, O, t, k), i.isFirst && !jt(o.showFirstLabel, 1) || i.isLast && !jt(o.showLastLabel, 1) ? A = !1 : !H && f && p.overflow === "justify" && !i.handleOverflow(t, M) && (A = !1), k && t % k && (A = !1), A && !isNaN(M.y) ? (M.opacity = r, c[i.isNew ? "attr": "animate"](M), i.isNew = !1) : c.attr("y", -9999))
        },
        destroy: function() {
            en(this, this.axis)
        }
    },
    Bn.prototype = {
        render: function() {
            var e = this,
            t = e.axis,
            n = t.horiz,
            r = (t.pointRange || 0) / 2,
            i = e.options,
            s = i.label,
            o = e.label,
            f = i.width,
            l = i.to,
            c = i.from,
            h = Pt(c) && Pt(l),
            p = i.value,
            d = i.dashStyle,
            v = e.svgElem,
            m = [],
            g,
            y,
            b,
            w,
            E,
            S,
            x = i.color,
            T = i.zIndex,
            N = i.events,
            C,
            k = t.chart.renderer;
            t.isLog && (c = Mt(c), l = Mt(l), p = Mt(p));
            if (f) m = t.getPlotLinePath(p, f),
            C = {
                stroke: x,
                "stroke-width": f
            },
            d && (C.dashstyle = d);
            else {
                if (!h) return;
                c = u(c, t.min - r),
                l = a(l, t.max + r),
                m = t.getPlotBandPath(c, l, i),
                C = {
                    fill: x
                },
                i.borderWidth && (C.stroke = i.borderColor, C["stroke-width"] = i.borderWidth)
            }
            Pt(T) && (C.zIndex = T);
            if (v) m ? v.animate({
                d: m
            },
            null, v.onGetPath) : (v.hide(), v.onGetPath = function() {
                v.show()
            });
            else if (m && m.length) {
                e.svgElem = v = k.path(m).attr(C).add();
                if (N) {
                    g = function(t) {
                        v.on(t,
                        function(n) {
                            N[t].apply(e, [n])
                        })
                    };
                    for (y in N) g(y)
                }
            }
            return s && Pt(s.text) && m && m.length && t.width > 0 && t.height > 0 ? (s = Tt({
                align: n && h && "center",
                x: n ? !h && 4 : 10,
                verticalAlign: !n && h && "middle",
                y: n ? h ? 16 : 10 : h ? 6 : -4,
                rotation: n && !h && 90
            },
            s), o || (e.label = o = k.text(s.text, 0, 0).attr({
                align: s.textAlign || s.align,
                rotation: s.rotation,
                zIndex: T
            }).css(s.style).add()), b = [m[1], m[4], jt(m[6], m[1])], w = [m[2], m[5], jt(m[7], m[2])], E = Yt(b), S = Yt(w), o.align(s, !1, {
                x: E,
                y: S,
                width: Zt(b) - E,
                height: Zt(w) - S
            }), o.show()) : o && o.hide(),
            e
        },
        destroy: function() {
            var e = this,
            t = e.axis;
            Dt(t.plotLinesAndBands, e),
            en(e, this.axis)
        }
    },
    jn.prototype = {
        destroy: function() {
            en(this, this.axis)
        },
        setTotal: function(e) {
            this.total = e,
            this.cum = e
        },
        render: function(e) {
            var t = this.options,
            n = t.formatter.call(this);
            this.label ? this.label.attr({
                text: n,
                visibility: U
            }) : this.label = this.axis.chart.renderer.text(n, 0, 0, t.useHTML).css(t.style).attr({
                align: this.textAlign,
                rotation: t.rotation,
                visibility: U
            }).add(e)
        },
        setOffset: function(e, t) {
            var n = this,
            r = n.axis,
            i = r.chart,
            s = i.inverted,
            o = this.isNegative,
            u = r.translate(this.percent ? 100 : this.total, 0, 0, 0, 1),
            a = r.translate(0),
            l = f(u - a),
            c = i.xAxis[0].translate(this.x) + e,
            h = i.plotHeight,
            p = {
                x: s ? o ? u: u - l: c,
                y: s ? h - c - t: o ? h - u - l: h - u,
                width: s ? l: t,
                height: s ? t: l
            },
            d = this.label,
            v;
            d && (d.align(this.alignOptions, null, p), v = d.alignAttr, d.attr({
                visibility: this.options.crop === !1 || i.isInsidePlot(v.x, v.y) ? S ? "inherit": W: U
            }))
        }
    },
    Fn.prototype = {
        defaultOptions: {
            dateTimeLabelFormats: {
                millisecond: "%H:%M:%S.%L",
                second: "%H:%M:%S",
                minute: "%H:%M",
                hour: "%H:%M",
                day: "%e. %b",
                week: "%e. %b",
                month: "%b '%y",
                year: "%Y"
            },
            endOnTick: !1,
            gridLineColor: "#C0C0C0",
            labels: En,
            lineColor: "#C0D0E0",
            lineWidth: 1,
            minPadding: .01,
            maxPadding: .01,
            minorGridLineColor: "#E0E0E0",
            minorGridLineWidth: 1,
            minorTickColor: "#A0A0A0",
            minorTickLength: 2,
            minorTickPosition: "outside",
            startOfWeek: 1,
            startOnTick: !1,
            tickColor: "#C0D0E0",
            tickLength: 5,
            tickmarkPlacement: "between",
            tickPixelInterval: 100,
            tickPosition: "outside",
            tickWidth: 1,
            title: {
                align: "middle",
                style: {
                    color: "#4d759e",
                    fontWeight: "bold"
                }
            },
            type: "linear"
        },
        defaultYAxisOptions: {
            endOnTick: !0,
            gridLineWidth: 1,
            tickPixelInterval: 72,
            showLastLabel: !0,
            labels: {
                align: "right",
                x: -8,
                y: 3
            },
            lineWidth: 0,
            maxPadding: .05,
            minPadding: .05,
            startOnTick: !0,
            tickWidth: 0,
            title: {
                rotation: 270,
                text: "Values"
            },
            stackLabels: {
                enabled: !1,
                formatter: function() {
                    return this.total
                },
                style: En.style
            }
        },
        defaultLeftAxisOptions: {
            labels: {
                align: "right",
                x: -8,
                y: null
            },
            title: {
                rotation: 270
            }
        },
        defaultRightAxisOptions: {
            labels: {
                align: "left",
                x: 8,
                y: null
            },
            title: {
                rotation: 90
            }
        },
        defaultBottomAxisOptions: {
            labels: {
                align: "center",
                x: 0,
                y: 14
            },
            title: {
                rotation: 0
            }
        },
        defaultTopAxisOptions: {
            labels: {
                align: "center",
                x: 0,
                y: -5
            },
            title: {
                rotation: 0
            }
        },
        init: function(t, n) {
            var r = n.isX,
            i = this;
            i.horiz = t.inverted ? !r: r,
            i.isXAxis = r,
            i.xOrY = r ? "x": "y",
            i.opposite = n.opposite,
            i.side = i.horiz ? i.opposite ? 0 : 2 : i.opposite ? 1 : 3,
            i.setOptions(n);
            var s = this.options,
            o = s.type,
            u = o === "datetime";
            i.labelFormatter = s.labels.formatter || i.defaultLabelFormatter,
            i.staggerLines = i.horiz && s.labels.staggerLines,
            i.userOptions = n,
            i.minPixelPadding = 0,
            i.chart = t,
            i.reversed = s.reversed,
            i.zoomEnabled = s.zoomEnabled !== !1,
            i.categories = s.categories || o === "category",
            i.isLog = o === "logarithmic",
            i.isDatetimeAxis = u,
            i.isLinked = Pt(s.linkedTo),
            i.tickmarkOffset = i.categories && s.tickmarkPlacement === "between" ? .5 : 0,
            i.ticks = {},
            i.minorTicks = {},
            i.plotLinesAndBands = [],
            i.alternateBands = {},
            i.len = 0,
            i.minRange = i.userMinRange = s.minRange || s.maxZoom,
            i.range = s.range,
            i.offset = s.offset || 0,
            i.stacks = {},
            i._stacksTouched = 0,
            i.max = null,
            i.min = null;
            var a, f = i.options.events;
            ln(i, t.axes) === -1 && (t.axes.push(i), t[r ? "xAxis": "yAxis"].push(i)),
            i.series = i.series || [],
            t.inverted && r && i.reversed === e && (i.reversed = !0),
            i.removePlotBand = i.removePlotBandOrLine,
            i.removePlotLine = i.removePlotBandOrLine;
            for (a in f) vn(i, a, f[a]);
            i.isLog && (i.val2lin = Mt, i.lin2val = _t)
        },
        setOptions: function(e) {
            this.options = Tt(this.defaultOptions, this.isXAxis ? {}: this.defaultYAxisOptions, [this.defaultTopAxisOptions, this.defaultRightAxisOptions, this.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side], Tt(O[this.isXAxis ? "xAxis": "yAxis"], e))
        },
        update: function(e, t) {
            var n = this.chart;
            e = n.options[this.xOrY + "Axis"][this.options.index] = Tt(this.userOptions, e),
            this.destroy(),
            this._addedPlotLB = !1,
            this.init(n, e),
            n.isDirtyBox = !0,
            jt(t, !0) && n.redraw()
        },
        remove: function(e) {
            var t = this.chart,
            n = this.xOrY + "Axis";
            cn(this.series,
            function(e) {
                e.remove(!1)
            }),
            Dt(t.axes, this),
            Dt(t[n], this),
            t.options[n].splice(this.options.index, 1),
            this.destroy(),
            t.isDirtyBox = !0,
            jt(e, !0) && t.redraw()
        },
        defaultLabelFormatter: function() {
            var t = this.axis,
            n = this.value,
            r = t.categories,
            i = this.dateTimeLabelFormat,
            s = O.lang.numericSymbols,
            o = s && s.length,
            u, a, f = t.options.labels.format,
            l = t.isLog ? n: t.tickInterval;
            if (f) a = Vt(f, this);
            else if (r) a = n;
            else if (i) a = M(i, n);
            else if (o && l >= 1E3) while (o--&&a === e) u = Math.pow(1E3, o + 1),
            l >= u && s[o] !== null && (a = Ut(n / u, -1) + s[o]);
            return a === e && (n >= 1E3 ? a = Ut(n, 0) : a = Ut(n, -1)),
            a
        },
        getSeriesExtremes: function() {
            var t = this,
            n = t.chart,
            r = t.stacks,
            i = [],
            s = [],
            o = t._stacksTouched = t._stacksTouched + 1,
            f,
            l;
            t.hasVisibleSeries = !1,
            t.dataMin = t.dataMax = null,
            cn(t.series,
            function(f) {
                if (f.visible || !n.options.chart.ignoreHiddenSeries) {
                    var c = f.options,
                    h, p, d, v, m, g, y, b, w, E, S = c.threshold,
                    x, T = [],
                    N,
                    C,
                    k = 0;
                    t.hasVisibleSeries = !0,
                    t.isLog && S <= 0 && (S = c.threshold = null);
                    if (t.isXAxis) y = f.xData,
                    y.length && (t.dataMin = a(jt(t.dataMin, y[0]), Yt(y)), t.dataMax = u(jt(t.dataMax, y[0]), Zt(y)));
                    else {
                        var L, A, O, M = f.cropped,
                        _ = f.xAxis.getExtremes(),
                        D,
                        P = !!f.modifyValue;
                        h = c.stacking,
                        t.usePercentage = h === "percent",
                        h && (m = c.stack, v = f.type + jt(m, ""), g = "-" + v, f.stackKey = v, p = i[v] || [], i[v] = p, d = s[g] || [], s[g] = d),
                        t.usePercentage && (t.dataMin = 0, t.dataMax = 99),
                        y = f.processedXData,
                        b = f.processedYData,
                        x = b.length;
                        for (l = 0; l < x; l++) {
                            w = y[l],
                            E = b[l],
                            h && (L = E < S, A = L ? d: p, O = L ? g: v, Pt(A[w]) ? (A[w] = rn(A[w] + E), E = [E, A[w]]) : A[w] = E, r[O] || (r[O] = {}), r[O][w] || (r[O][w] = new jn(t, t.options.stackLabels, L, w, m, h)), r[O][w].setTotal(A[w]), r[O][w].touched = o);
                            if (E !== null && E !== e && (!t.isLog || E > 0)) {
                                P && (E = f.modifyValue(E));
                                if (f.getExtremesFromAll || M || (y[l + 1] || w) >= _.min && (y[l - 1] || w) <= _.max) {
                                    D = E.length;
                                    if (D) while (D--) E[D] !== null && (T[k++] = E[D]);
                                    else T[k++] = E
                                }
                            }
                        } ! t.usePercentage && T.length && (f.dataMin = N = Yt(T), f.dataMax = C = Zt(T), t.dataMin = a(jt(t.dataMin, N), N), t.dataMax = u(jt(t.dataMax, C), C)),
                        Pt(S) && (t.dataMin >= S ? (t.dataMin = S, t.ignoreMinPadding = !0) : t.dataMax < S && (t.dataMax = S, t.ignoreMaxPadding = !0))
                    }
                }
            });
            for (f in r) for (l in r[f]) r[f][l].touched < o && (r[f][l].destroy(), delete r[f][l])
        },
        translate: function(e, t, n, r, i, s) {
            var o = this,
            u = o.len,
            a = 1,
            f = 0,
            l = r ? o.oldTransA: o.transA,
            c = r ? o.oldMin: o.min,
            h,
            p = o.minPixelPadding,
            d = (o.options.ordinal || o.isLog && i) && o.lin2val;
            return l || (l = o.transA),
            n && (a *= -1, f = u),
            o.reversed && (a *= -1, f -= a * u),
            t ? (e = e * a + f, e -= p, h = e / l + c, d && (h = o.lin2val(h))) : (d && (e = o.val2lin(e)), h = a * (e - c) * l + f + a * p + (s ? l * o.pointRange / 2 : 0)),
            h
        },
        toPixels: function(e, t) {
            return this.translate(e, !1, !this.horiz, null, !0) + (t ? 0 : this.pos)
        },
        toValue: function(e, t) {
            return this.translate(e - (t ? 0 : this.pos), !0, !this.horiz, null, !0)
        },
        getPlotLinePath: function(e, t, n, r) {
            var s = this,
            o = s.chart,
            u = s.left,
            a = s.top,
            f, l, c, h, p = s.translate(e, null, null, n),
            d = n && o.oldChartHeight || o.chartHeight,
            v = n && o.oldChartWidth || o.chartWidth,
            m,
            g = s.transB;
            f = c = i(p + g),
            l = h = i(d - p - g);
            if (isNaN(p)) m = !0;
            else if (s.horiz) {
                l = a,
                h = d - s.bottom;
                if (f < u || f > u + s.width) m = !0
            } else {
                f = u,
                c = v - s.right;
                if (l < a || l > a + s.height) m = !0
            }
            return m && !r ? null: o.renderer.crispLine([$, f, l, J, c, h], t || 0)
        },
        getPlotBandPath: function(e, t) {
            var n = this.getPlotLinePath(t),
            r = this.getPlotLinePath(e);
            return r && n ? r.push(n[4], n[5], n[1], n[2]) : r = null,
            r
        },
        getLinearTickPositions: function(e, t, n) {
            var r, i, u = rn(s(t / e) * e),
            a = rn(o(n / e) * e),
            f = [];
            r = u;
            while (r <= a) {
                f.push(r),
                r = rn(r + e);
                if (r === i) break;
                i = r
            }
            return f
        },
        getLogTickPositions: function(e, t, n, o) {
            var u = this,
            a = u.options,
            f = u.len,
            l = [];
            o || (u._minorAutoInterval = null);
            if (e >= .5) e = i(e),
            l = u.getLinearTickPositions(e, t, n);
            else if (e >= .08) {
                var c = s(t),
                h,
                p,
                d,
                v,
                m,
                g,
                y;
                e > .3 ? h = [1, 2, 4] : e > .15 ? h = [1, 2, 4, 6, 8] : h = [1, 2, 3, 4, 5, 6, 7, 8, 9];
                for (p = c; p < n + 1 && !y; p++) {
                    v = h.length;
                    for (d = 0; d < v && !y; d++) m = Mt(_t(p) * h[d]),
                    m > t && g <= n && l.push(g),
                    g > n && (y = !0),
                    g = m
                }
            } else {
                var b = _t(t),
                w = _t(n),
                E = a[o ? "minorTickInterval": "tickInterval"],
                S = E === "auto" ? null: E,
                x = a.tickPixelInterval / (o ? 5 : 1),
                T = o ? f / u.tickPositions.length: f;
                e = jt(S, u._minorAutoInterval, (w - b) * x / (T || 1)),
                e = $t(e, null, r.pow(10, s(r.log(e) / r.LN10))),
                l = dn(u.getLinearTickPositions(e, b, w), Mt),
                o || (u._minorAutoInterval = e / 5)
            }
            return o || (u.tickInterval = e),
            l
        },
        getMinorTickPositions: function() {
            var e = this,
            t = e.options,
            n = e.tickPositions,
            r = e.minorTickInterval,
            i = [],
            s,
            o,
            u;
            if (e.isLog) {
                u = n.length;
                for (o = 1; o < u; o++) i = i.concat(e.getLogTickPositions(r, n[o - 1], n[o], !0))
            } else if (e.isDatetimeAxis && t.minorTickInterval === "auto") i = i.concat(Kt(Jt(r), e.min, e.max, t.startOfWeek)),
            i[0] < e.min && i.shift();
            else for (s = e.min + (n[0] - e.min) % r; s <= e.max; s += r) i.push(s);
            return i
        },
        adjustForMinRange: function() {
            var t = this,
            n = t.options,
            r = t.min,
            i = t.max,
            s, o = t.dataMax - t.dataMin >= t.minRange,
            u, f, l, c, h, p, d;
            t.isXAxis && t.minRange === e && !t.isLog && (Pt(n.min) || Pt(n.max) ? t.minRange = null: (cn(t.series,
            function(t) {
                c = t.xData,
                h = t.xIncrement ? 1 : c.length - 1;
                for (f = h; f > 0; f--) {
                    l = c[f] - c[f - 1];
                    if (u === e || l < u) u = l
                }
            }), t.minRange = a(u * 5, t.dataMax - t.dataMin)));
            if (i - r < t.minRange) {
                var v = t.minRange;
                s = (v - i + r) / 2,
                p = [r - s, jt(n.min, r - s)],
                o && (p[2] = t.dataMin),
                r = Zt(p),
                d = [r + v, jt(n.max, r + v)],
                o && (d[2] = t.dataMax),
                i = Yt(d),
                i - r < v && (p[0] = i - v, p[1] = jt(n.min, i - v), r = Zt(p))
            }
            t.min = r,
            t.max = i
        },
        setAxisTranslation: function(e) {
            var t = this,
            n = t.max - t.min,
            r = 0,
            i, s = 0,
            o = 0,
            f = t.linkedParent,
            l = t.transA;
            t.isXAxis && (f ? (s = f.minPointOffset, o = f.pointRangePadding) : cn(t.series,
            function(e) {
                var t = e.pointRange,
                f = e.options.pointPlacement,
                l = e.closestPointRange;
                t > n && (t = 0),
                r = u(r, t),
                s = u(s, f ? 0 : t / 2),
                o = u(o, f === "on" ? 0 : t),
                !e.noSharedTooltip && Pt(l) && (i = Pt(i) ? a(i, l) : l)
            }), t.minPointOffset = s, t.pointRangePadding = o, t.pointRange = a(r, n), t.closestPointRange = i),
            e && (t.oldTransA = l),
            t.translationSlope = t.transA = l = t.len / (n + o || 1),
            t.transB = t.horiz ? t.left: t.bottom,
            t.minPixelPadding = l * s
        },
        setTickPositions: function(e) {
            var t = this,
            n = t.chart,
            i = t.options,
            o = t.isLog,
            f = t.isDatetimeAxis,
            l = t.isXAxis,
            c = t.isLinked,
            h = t.options.tickPositioner,
            p, d = i.maxPadding,
            v = i.minPadding,
            m, g, y = i.tickInterval,
            b = i.minTickInterval,
            w = i.tickPixelInterval,
            E, S = t.categories;
            c ? (t.linkedParent = n[l ? "xAxis": "yAxis"][i.linkedTo], g = t.linkedParent.getExtremes(), t.min = jt(g.min, g.dataMin), t.max = jt(g.max, g.dataMax), i.type !== t.linkedParent.options.type && nn(11, 1)) : (t.min = jt(t.userMin, i.min, t.dataMin), t.max = jt(t.userMax, i.max, t.dataMax)),
            o && (!e && a(t.min, jt(t.dataMin, t.min)) <= 0 && nn(10, 1), t.min = rn(Mt(t.min)), t.max = rn(Mt(t.max))),
            t.range && (t.userMin = t.min = u(t.min, t.max - t.range), t.userMax = t.max, e && (t.range = null)),
            t.beforePadding && t.beforePadding(),
            t.adjustForMinRange(),
            !S && !t.usePercentage && !c && Pt(t.min) && Pt(t.max) && (m = t.max - t.min, m && (!Pt(i.min) && !Pt(t.userMin) && v && (t.dataMin < 0 || !t.ignoreMinPadding) && (t.min -= m * v), !Pt(i.max) && !Pt(t.userMax) && d && (t.dataMax > 0 || !t.ignoreMaxPadding) && (t.max += m * d))),
            t.min === t.max || t.min === undefined || t.max === undefined ? t.tickInterval = 1 : c && !y && w === t.linkedParent.options.tickPixelInterval ? t.tickInterval = t.linkedParent.tickInterval: t.tickInterval = jt(y, S ? 1 : (t.max - t.min) * w / (t.len || 1)),
            l && !e && cn(t.series,
            function(e) {
                e.processData(t.min !== t.oldMin || t.max !== t.oldMax)
            }),
            t.setAxisTranslation(!0),
            t.beforeSetTickPositions && t.beforeSetTickPositions(),
            t.postProcessTickInterval && (t.tickInterval = t.postProcessTickInterval(t.tickInterval)),
            !y && t.tickInterval < b && (t.tickInterval = b),
            !f && !o && (p = r.pow(10, s(r.log(t.tickInterval) / r.LN10)), y || (t.tickInterval = $t(t.tickInterval, null, p, i))),
            t.minorTickInterval = i.minorTickInterval === "auto" && t.tickInterval ? t.tickInterval / 5 : i.minorTickInterval,
            t.tickPositions = E = i.tickPositions ? [].concat(i.tickPositions) : h && h.apply(t, [t.min, t.max]),
            E || (f ? E = (t.getNonLinearTimeTicks || Kt)(Jt(t.tickInterval, i.units), t.min, t.max, i.startOfWeek, t.ordinalPositions, t.closestPointRange, !0) : o ? E = t.getLogTickPositions(t.tickInterval, t.min, t.max) : E = t.getLinearTickPositions(t.tickInterval, t.min, t.max), t.tickPositions = E);
            if (!c) {
                var x = E[0],
                T = E[E.length - 1],
                N = t.minPointOffset || 0,
                C;
                i.startOnTick ? t.min = x: t.min - N > x && E.shift(),
                i.endOnTick ? t.max = T: t.max + N < T && E.pop(),
                E.length === 1 && (C = .001, t.min -= C, t.max += C)
            }
        },
        setMaxTicks: function() {
            var e = this.chart,
            t = e.maxTicks || {},
            n = this.tickPositions,
            r = this._maxTicksKey = [this.xOrY, this.pos, this.len].join("-"); ! this.isLinked && !this.isDatetimeAxis && n && n.length > (t[r] || 0) && this.options.alignTicks !== !1 && (t[r] = n.length),
            e.maxTicks = t
        },
        adjustTickAmount: function() {
            var e = this,
            t = e.chart,
            n = e._maxTicksKey,
            r = e.tickPositions,
            i = t.maxTicks;
            if (i && i[n] && !e.isDatetimeAxis && !e.categories && !e.isLinked && e.options.alignTicks !== !1) {
                var s = e.tickAmount,
                o = r.length,
                u;
                e.tickAmount = u = i[n];
                if (o < u) {
                    while (r.length < u) r.push(rn(r[r.length - 1] + e.tickInterval));
                    e.transA *= (o - 1) / (u - 1),
                    e.max = r[r.length - 1]
                }
                Pt(s) && u !== s && (e.isDirty = !0)
            }
        },
        setScale: function() {
            var e = this,
            t = e.stacks,
            n, r, i, s;
            e.oldMin = e.min,
            e.oldMax = e.max,
            e.oldAxisLength = e.len,
            e.setAxisSize(),
            s = e.len !== e.oldAxisLength,
            cn(e.series,
            function(e) {
                if (e.isDirtyData || e.isDirty || e.xAxis.isDirty) i = !0
            });
            if (s || i || e.isLinked || e.forceRedraw || e.userMin !== e.oldUserMin || e.userMax !== e.oldUserMax) e.forceRedraw = !1,
            e.getSeriesExtremes(),
            e.setTickPositions(),
            e.oldUserMin = e.userMin,
            e.oldUserMax = e.userMax,
            e.isDirty || (e.isDirty = s || e.min !== e.oldMin || e.max !== e.oldMax);
            if (!e.isXAxis) for (n in t) for (r in t[n]) t[n][r].cum = t[n][r].total;
            e.setMaxTicks()
        },
        setExtremes: function(e, t, n, r, i) {
            var s = this,
            o = s.chart;
            n = jt(n, !0),
            i = xt(i, {
                min: e,
                max: t
            }),
            gn(s, "setExtremes", i,
            function() {
                s.userMin = e,
                s.userMax = t,
                s.isDirtyExtremes = !0,
                n && o.redraw(r)
            })
        },
        zoom: function(t, n) {
            return t <= this.dataMin && (t = e),
            n >= this.dataMax && (n = e),
            this.displayBtn = t !== e || n !== e,
            this.setExtremes(t, n, !1, e, {
                trigger: "zoom"
            }),
            !0
        },
        setAxisSize: function() {
            var e = this.chart,
            t = this.options,
            n = t.offsetLeft || 0,
            r = t.offsetRight || 0,
            i = this.horiz,
            s, o, a, f;
            this.left = f = jt(t.left, e.plotLeft + n),
            this.top = a = jt(t.top, e.plotTop),
            this.width = s = jt(t.width, e.plotWidth - n + r),
            this.height = o = jt(t.height, e.plotHeight),
            this.bottom = e.chartHeight - o - a,
            this.right = e.chartWidth - s - f,
            this.len = u(i ? s: o, 0),
            this.pos = i ? f: a
        },
        getExtremes: function() {
            var e = this,
            t = e.isLog;
            return {
                min: t ? rn(_t(e.min)) : e.min,
                max: t ? rn(_t(e.max)) : e.max,
                dataMin: e.dataMin,
                dataMax: e.dataMax,
                userMin: e.userMin,
                userMax: e.userMax
            }
        },
        getThreshold: function(e) {
            var t = this,
            n = t.isLog,
            r = n ? _t(t.min) : t.min,
            i = n ? _t(t.max) : t.max;
            return r > e || e === null ? e = r: i < e && (e = i),
            t.translate(e, 0, 1, 0, 1)
        },
        addPlotBand: function(e) {
            this.addPlotBandOrLine(e, "plotBands")
        },
        addPlotLine: function(e) {
            this.addPlotBandOrLine(e, "plotLines")
        },
        addPlotBandOrLine: function(e, t) {
            var n = (new Bn(this, e)).render(),
            r = this.userOptions;
            return t && (r[t] = r[t] || [], r[t].push(e)),
            this.plotLinesAndBands.push(n),
            n
        },
        getOffset: function() {
            var e = this,
            t = e.chart,
            n = t.renderer,
            r = e.options,
            i = e.tickPositions,
            s = e.ticks,
            o = e.horiz,
            a = e.side,
            f = t.inverted ? [1, 0, 3, 2][a] : a,
            l,
            c,
            h = 0,
            p,
            d = 0,
            v = r.title,
            m = r.labels,
            g = 0,
            y = t.axisOffset,
            b = t.clipOffset,
            w = [ - 1, 1, 1, -1][a],
            E;
            e.hasData = l = e.hasVisibleSeries || Pt(e.min) && Pt(e.max) && !!i,
            e.showAxis = c = l || jt(r.showEmpty, !0),
            e.axisGroup || (e.gridGroup = n.g("grid").attr({
                zIndex: r.gridZIndex || 1
            }).add(), e.axisGroup = n.g("axis").attr({
                zIndex: r.zIndex || 2
            }).add(), e.labelGroup = n.g("axis-labels").attr({
                zIndex: m.zIndex || 7
            }).add());
            if (l || e.isLinked) cn(i,
            function(t) {
                s[t] ? s[t].addLabel() : s[t] = new Hn(e, t)
            }),
            cn(i,
            function(e) {
                if (a === 0 || a === 2 || {
                    1 : "left",
                    3 : "right"
                } [a] === m.align) g = u(s[e].getLabelSize(), g)
            }),
            e.staggerLines && (g += (e.staggerLines - 1) * 16);
            else for (E in s) s[E].destroy(),
            delete s[E];
            v && v.text && v.enabled !== !1 && (e.axisTitle || (e.axisTitle = n.text(v.text, 0, 0, v.useHTML).attr({
                zIndex: 7,
                rotation: v.rotation || 0,
                align: v.textAlign || {
                    low: "left",
                    middle: "center",
                    high: "right"
                } [v.align]
            }).css(v.style).add(e.axisGroup), e.axisTitle.isNew = !0), c && (h = e.axisTitle.getBBox()[o ? "height": "width"], d = jt(v.margin, o ? 5 : 10), p = v.offset), e.axisTitle[c ? "show": "hide"]()),
            e.offset = w * jt(r.offset, y[a]),
            e.axisTitleMargin = jt(p, g + d + (a !== 2 && g && w * r.labels[o ? "y": "x"])),
            y[a] = u(y[a], e.axisTitleMargin + h + w * e.offset),
            b[f] = u(b[f], r.lineWidth)
        },
        getLinePath: function(e) {
            var t = this.chart,
            n = this.opposite,
            r = this.offset,
            i = this.horiz,
            s = this.left + (n ? this.width: 0) + r,
            o = t.chartHeight - this.bottom - (n ? this.height: 0) + r;
            return this.lineTop = o,
            n || (e *= -1),
            t.renderer.crispLine([$, i ? this.left: s, i ? o: this.top, J, i ? t.chartWidth - this.right: s, i ? o: t.chartHeight - this.bottom], e)
        },
        getTitlePosition: function() {
            var e = this.horiz,
            t = this.left,
            n = this.top,
            r = this.len,
            i = this.options.title,
            s = e ? t: n,
            o = this.opposite,
            u = this.offset,
            a = Ct(i.style.fontSize || 12),
            f = {
                low: s + (e ? 0 : r),
                middle: s + r / 2,
                high: s + (e ? r: 0)
            } [i.align],
            l = (e ? n + this.height: t) + (e ? 1 : -1) * (o ? -1 : 1) * this.axisTitleMargin + (this.side === 2 ? a: 0);
            return {
                x: e ? f: l + (o ? this.width: 0) + u + (i.x || 0),
                y: e ? l - (o ? this.height: 0) + u: f + (i.y || 0)
            }
        },
        render: function() {
            var t = this,
            n = t.chart,
            r = n.renderer,
            i = t.options,
            s = t.isLog,
            o = t.isLinked,
            u = t.tickPositions,
            a = t.axisTitle,
            f = t.stacks,
            l = t.ticks,
            c = t.minorTicks,
            h = t.alternateBands,
            p = i.stackLabels,
            d = i.alternateGridColor,
            v = t.tickmarkOffset,
            m = i.lineWidth,
            g, y = n.hasRendered,
            b = y && Pt(t.oldMin) && !isNaN(t.oldMin),
            w = t.hasData,
            E = t.showAxis,
            S,
            x;
            if (w || o) cn([l, c, h],
            function(e) {
                var t;
                for (t in e) e[t].isActive = !1
            }),
            t.minorTickInterval && !t.categories && cn(t.getMinorTickPositions(),
            function(e) {
                c[e] || (c[e] = new Hn(t, e, "minor")),
                b && c[e].isNew && c[e].render(null, !0),
                c[e].render(null, !1, 1)
            }),
            u.length && (cn(u.slice(1).concat([u[0]]),
            function(e, n) {
                n = n === u.length - 1 ? 0 : n + 1;
                if (!o || e >= t.min && e <= t.max) l[e] || (l[e] = new Hn(t, e)),
                b && l[e].isNew && l[e].render(n, !0),
                l[e].render(n, !1, 1)
            }), v && t.min === 0 && (l[ - 1] || (l[ - 1] = new Hn(t, -1, null, !0)), l[ - 1].render( - 1))),
            d && cn(u,
            function(n, r) {
                r % 2 === 0 && n < t.max && (h[n] || (h[n] = new Bn(t)), S = n + v, x = u[r + 1] !== e ? u[r + 1] + v: t.max, h[n].options = {
                    from: s ? _t(S) : S,
                    to: s ? _t(x) : x,
                    color: d
                },
                h[n].render(), h[n].isActive = !0)
            }),
            t._addedPlotLB || (cn((i.plotLines || []).concat(i.plotBands || []),
            function(e) {
                t.addPlotBandOrLine(e)
            }), t._addedPlotLB = !0);
            cn([l, c, h],
            function(e) {
                var t, r, i = [],
                s = _ ? _.duration || 500 : 0,
                o = function() {
                    r = i.length;
                    while (r--) e[i[r]] && !e[i[r]].isActive && (e[i[r]].destroy(), delete e[i[r]])
                };
                for (t in e) e[t].isActive || (e[t].render(t, !1, 0), e[t].isActive = !1, i.push(t));
                e === h || !n.hasRendered || !s ? o() : s && setTimeout(o, s)
            }),
            m && (g = t.getLinePath(m), t.axisLine ? t.axisLine.animate({
                d: g
            }) : t.axisLine = r.path(g).attr({
                stroke: i.lineColor,
                "stroke-width": m,
                zIndex: 7
            }).add(t.axisGroup), t.axisLine[E ? "show": "hide"]()),
            a && E && (a[a.isNew ? "attr": "animate"](t.getTitlePosition()), a.isNew = !1);
            if (p && p.enabled) {
                var T, N, C, k = t.stackTotalGroup;
                k || (t.stackTotalGroup = k = r.g("stack-labels").attr({
                    visibility: W,
                    zIndex: 6
                }).add()),
                k.translate(n.plotLeft, n.plotTop);
                for (T in f) {
                    N = f[T];
                    for (C in N) N[C].render(k)
                }
            }
            t.isDirty = !1
        },
        removePlotBandOrLine: function(e) {
            var t = this.plotLinesAndBands,
            n = t.length;
            while (n--) t[n].id === e && t[n].destroy()
        },
        setTitle: function(e, t) {
            this.update({
                title: e
            },
            t)
        },
        redraw: function() {
            var e = this,
            t = e.chart,
            n = t.pointer;
            n.reset && n.reset(!0),
            e.render(),
            cn(e.plotLinesAndBands,
            function(e) {
                e.render()
            }),
            cn(e.series,
            function(e) {
                e.isDirty = !0
            })
        },
        setCategories: function(e, t) {
            this.update({
                categories: e
            },
            t)
        },
        destroy: function() {
            var e = this,
            t = e.stacks,
            n;
            mn(e);
            for (n in t) en(t[n]),
            t[n] = null;
            cn([e.ticks, e.minorTicks, e.alternateBands, e.plotLinesAndBands],
            function(e) {
                en(e)
            }),
            cn(["stackTotalGroup", "axisLine", "axisGroup", "gridGroup", "labelGroup", "axisTitle"],
            function(t) {
                e[t] && (e[t] = e[t].destroy())
            })
        }
    },
    In.prototype = {
        init: function(e, t) {
            var n = t.borderWidth,
            r = t.style,
            i = Ct(r.padding);
            this.chart = e,
            this.options = t,
            this.crosshairs = [],
            this.now = {
                x: 0,
                y: 0
            },
            this.isHidden = !0,
            this.label = e.renderer.label("", 0, 0, t.shape, null, null, t.useHTML, null, "tooltip").attr({
                padding: i,
                fill: t.backgroundColor,
                "stroke-width": n,
                r: t.borderRadius,
                zIndex: 8
            }).css(r).css({
                padding: 0
            }).hide().add(),
            T || this.label.shadow(t.shadow),
            this.shared = t.shared
        },
        destroy: function() {
            cn(this.crosshairs,
            function(e) {
                e && e.destroy()
            }),
            this.label && (this.label = this.label.destroy())
        },
        move: function(e, t, n, r) {
            var i = this,
            s = i.now,
            o = i.options.animation !== !1 && !i.isHidden;
            xt(s, {
                x: o ? (2 * s.x + e) / 3 : e,
                y: o ? (s.y + t) / 2 : t,
                anchorX: o ? (2 * s.anchorX + n) / 3 : n,
                anchorY: o ? (s.anchorY + r) / 2 : r
            }),
            i.label.attr(s),
            o && (f(e - s.x) > 1 || f(t - s.y) > 1) && (clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function() {
                i && i.move(e, t, n, r)
            },
            32))
        },
        hide: function() {
            var e = this,
            t;
            this.isHidden || (t = this.chart.hoverPoints, this.hideTimer = setTimeout(function() {
                e.label.fadeOut(),
                e.isHidden = !0
            },
            jt(this.options.hideDelay, 500)), t && cn(t,
            function(e) {
                e.setState()
            }), this.chart.hoverPoints = null)
        },
        hideCrosshairs: function() {
            cn(this.crosshairs,
            function(e) {
                e && e.hide()
            })
        },
        getAnchor: function(t, n) {
            var r, s = this.chart,
            o = s.inverted,
            u = s.plotTop,
            a = 0,
            f = 0,
            l;
            return t = Bt(t),
            r = t[0].tooltipPos,
            this.followPointer && n && (n.chartX === e && (n = s.pointer.normalize(n)), r = [n.chartX - s.plotLeft, n.chartY - u]),
            r || (cn(t,
            function(e) {
                l = e.series.yAxis,
                a += e.plotX,
                f += (e.plotLow ? (e.plotLow + e.plotHigh) / 2 : e.plotY) + (!o && l ? l.top - u: 0)
            }), a /= t.length, f /= t.length, r = [o ? s.plotWidth - f: a, this.shared && !o && t.length > 1 && n ? n.chartY - u: o ? s.plotHeight - a: f]),
            dn(r, i)
        },
        getPosition: function(e, t, n) {
            var r = this.chart,
            i = r.plotLeft,
            s = r.plotTop,
            o = r.plotWidth,
            a = r.plotHeight,
            f = jt(this.options.distance, 12),
            l = n.plotX,
            c = n.plotY,
            h = l + i + (r.inverted ? f: -e - f),
            p = c - t + s + 15,
            d;
            return h < 7 && (h = i + u(l, 0) + f),
            h + e > i + o && (h -= h + e - (i + o), p = c - t + s - f, d = !0),
            p < s + 5 && (p = s + 5, d && c >= p && c <= p + t && (p = c + s + f)),
            p + t > s + a && (p = u(s, s + a - t - f)),
            {
                x: h,
                y: p
            }
        },
        defaultFormatter: function(e) {
            var t = this.points || Bt(this),
            n = t[0].series,
            r;
            return r = [n.tooltipHeaderFormatter(t[0])],
            cn(t,
            function(e) {
                n = e.series,
                r.push(n.tooltipFormatter && n.tooltipFormatter(e) || e.point.tooltipFormatter(n.tooltipOptions.pointFormat))
            }),
            r.push(e.options.footerFormat || ""),
            r.join("")
        },
        refresh: function(e, t) {
            var n = this,
            r = n.chart,
            i = n.label,
            s = n.options,
            o, u, a, f, l = {},
            c, h = [],
            p = s.formatter || n.defaultFormatter,
            d = r.hoverPoints,
            v,
            m = s.crosshairs,
            g = n.shared,
            y;
            clearTimeout(this.hideTimer),
            n.followPointer = Bt(e)[0].series.tooltipOptions.followPointer,
            f = n.getAnchor(e, t),
            o = f[0],
            u = f[1],
            g && (!e.series || !e.series.noSharedTooltip) ? (r.hoverPoints = e, d && cn(d,
            function(e) {
                e.setState()
            }), cn(e,
            function(e) {
                e.setState(G),
                h.push(e.getLabelConfig())
            }), l = {
                x: e[0].category,
                y: e[0].y
            },
            l.points = h, e = e[0]) : l = e.getLabelConfig(),
            c = p.call(l, n),
            y = e.series,
            a = g || !y.isCartesian || y.tooltipOutsidePlot || r.isInsidePlot(o, u),
            c === !1 || !a ? this.hide() : (n.isHidden && (wn(i), i.attr("opacity", 1).show()), i.attr({
                text: c
            }), v = s.borderColor || e.color || y.color || "#606060", i.attr({
                stroke: v
            }), n.updatePosition({
                plotX: o,
                plotY: u
            }), this.isHidden = !1);
            if (m) {
                m = Bt(m);
                var b, w = m.length,
                E, S;
                while (w--) S = e.series[w ? "yAxis": "xAxis"],
                m[w] && S && (b = S.getPlotLinePath(w ? jt(e.stackY, e.y) : e.x, 1), n.crosshairs[w] ? n.crosshairs[w].attr({
                    d: b,
                    visibility: W
                }) : (E = {
                    "stroke-width": m[w].width || 1,
                    stroke: m[w].color || "#C0C0C0",
                    zIndex: m[w].zIndex || 2
                },
                m[w].dashStyle && (E.dashstyle = m[w].dashStyle), n.crosshairs[w] = r.renderer.path(b).attr(E).add()))
            }
            gn(r, "tooltipRefresh", {
                text: c,
                x: o + r.plotLeft,
                y: u + r.plotTop,
                borderColor: v
            })
        },
        updatePosition: function(e) {
            var t = this.chart,
            n = this.label,
            r = (this.options.positioner || this.getPosition).call(this, n.width, n.height, e);
            this.move(i(r.x), i(r.y), e.plotX + t.plotLeft, e.plotY + t.plotTop)
        }
    },
    qn.prototype = {
        init: function(e, t) {
            var n = T ? "": t.chart.zoomType,
            r = e.inverted,
            i,
            s;
            this.options = t,
            this.chart = e,
            this.zoomX = i = /x/.test(n),
            this.zoomY = s = /y/.test(n),
            this.zoomHor = i && !r || s && r,
            this.zoomVert = s && !r || i && r,
            this.pinchDown = [],
            this.lastValidTouch = {},
            t.tooltip.enabled && (e.tooltip = new In(e, t.tooltip)),
            this.setDOMEvents()
        },
        normalize: function(t) {
            var r, s, o, u;
            return t = t || n.event,
            t.target || (t.target = t.srcElement),
            t = yn(t),
            u = t.touches ? t.touches.item(0) : t,
            this.chartPosition = r = pn(this.chart.container),
            u.pageX === e ? (s = t.x, o = t.y) : (s = u.pageX - r.left, o = u.pageY - r.top),
            xt(t, {
                chartX: i(s),
                chartY: i(o)
            })
        },
        getCoordinates: function(e) {
            var t = {
                xAxis: [],
                yAxis: []
            };
            return cn(this.chart.axes,
            function(n) {
                t[n.isXAxis ? "xAxis": "yAxis"].push({
                    axis: n,
                    value: n.toValue(e[n.horiz ? "chartX": "chartY"])
                })
            }),
            t
        },
        getIndex: function(e) {
            var t = this.chart;
            return t.inverted ? t.plotHeight + t.plotTop - e.chartY: e.chartX - t.plotLeft
        },
        runPointActions: function(e) {
            var t = this,
            n = t.chart,
            r = n.series,
            i = n.tooltip,
            s, o, u = n.hoverPoint,
            l = n.hoverSeries,
            c, h, p = n.chartWidth,
            d = t.getIndex(e),
            v;
            if (i && t.options.tooltip.shared && (!l || !l.noSharedTooltip)) {
                o = [],
                c = r.length;
                for (h = 0; h < c; h++) r[h].visible && r[h].options.enableMouseTracking !== !1 && !r[h].noSharedTooltip && r[h].tooltipPoints.length && (s = r[h].tooltipPoints[d], s.series && (s._dist = f(d - s.clientX), p = a(p, s._dist), o.push(s)));
                c = o.length;
                while (c--) o[c]._dist > p && o.splice(c, 1);
                o.length && o[0].clientX !== t.hoverX && (i.refresh(o, e), t.hoverX = o[0].clientX)
            }
            l && l.tracker ? (s = l.tooltipPoints[d], s && s !== u && s.onMouseOver(e)) : i && i.followPointer && !i.isHidden && (v = i.getAnchor([{}], e), i.updatePosition({
                plotX: v[0],
                plotY: v[1]
            }))
        },
        reset: function(t) {
            var n = this,
            r = n.chart,
            i = r.hoverSeries,
            s = r.hoverPoint,
            o = r.tooltip,
            u = o && o.shared ? r.hoverPoints: s;
            t = t && o && u,
            t && Bt(u)[0].plotX === e && (t = !1),
            t ? o.refresh(u) : (s && s.onMouseOut(), i && i.onMouseOut(), o && (o.hide(), o.hideCrosshairs()), n.hoverX = null)
        },
        scaleGroups: function(e, t) {
            var n = this.chart;
            cn(n.series,
            function(r) {
                r.xAxis.zoomEnabled && (r.group.attr(e), r.markerGroup && (r.markerGroup.attr(e), r.markerGroup.clip(t ? n.clipRect: null)), r.dataLabelsGroup && r.dataLabelsGroup.attr(e))
            }),
            n.clipRect.attr(t || n.clipBox)
        },
        pinchTranslateDirection: function(e, t, n, r, i, s, o) {
            var u = this.chart,
            a = e ? "x": "y",
            l = e ? "X": "Y",
            c = "chart" + l,
            h = e ? "width": "height",
            p = u["plot" + (e ? "Left": "Top")],
            d,
            v,
            m,
            g = 1,
            y = u.inverted,
            b = u.bounds[e ? "h": "v"],
            w = t.length === 1,
            E = t[0][c],
            S = n[0][c],
            x = !w && t[1][c],
            T = !w && n[1][c],
            N,
            C,
            k,
            L = function() { ! w && f(E - x) > 20 && (g = f(S - T) / f(E - x)),
                m = (p - S) / g + E,
                d = u["plot" + (e ? "Width": "Height")] / g
            };
            L(),
            v = m,
            v < b.min ? (v = b.min, N = !0) : v + d > b.max && (v = b.max - d, N = !0),
            N ? (S -= .8 * (S - o[a][0]), w || (T -= .8 * (T - o[a][1])), L()) : o[a] = [S, T],
            y || (s[a] = m - p, s[h] = d),
            k = y ? e ? "scaleY": "scaleX": "scale" + l,
            C = y ? 1 / g: g,
            i[h] = d,
            i[a] = v,
            r[k] = g,
            r["translate" + l] = C * p + (S - C * E)
        },
        pinch: function(e) {
            var t = this,
            n = t.chart,
            r = t.pinchDown,
            i = e.touches,
            s = t.lastValidTouch,
            o = t.zoomHor || t.pinchHor,
            f = t.zoomVert || t.pinchVert,
            l = t.selectionMarker,
            c = {},
            h = {};
            e.type === "touchstart" && (t.inClass(e.target, z + "tracker") ? n.runTrackerClick || e.preventDefault() : n.runChartClick || e.preventDefault()),
            dn(i,
            function(e) {
                return t.normalize(e)
            }),
            e.type === "touchstart" ? (cn(i,
            function(e, t) {
                r[t] = {
                    chartX: e.chartX,
                    chartY: e.chartY
                }
            }), s.x = [r[0].chartX, r[1] && r[1].chartX], s.y = [r[0].chartY, r[1] && r[1].chartY], cn(n.axes,
            function(e) {
                if (e.zoomEnabled) {
                    var t = n.bounds[e.horiz ? "h": "v"],
                    r = e.minPixelPadding,
                    i = e.toPixels(e.dataMin),
                    s = e.toPixels(e.dataMax),
                    o = a(i, s),
                    f = u(i, s);
                    t.min = a(e.pos, o - r),
                    t.max = u(e.pos + e.len, f + r)
                }
            })) : r.length && (l || (t.selectionMarker = l = xt({
                destroy: H
            },
            n.plotBox)), o && t.pinchTranslateDirection(!0, r, i, c, l, h, s), f && t.pinchTranslateDirection(!1, r, i, c, l, h, s), t.hasPinched = o || f, t.scaleGroups(c, h))
        },
        dragStart: function(e) {
            var t = this.chart;
            t.mouseIsDown = e.type,
            t.cancelClick = !1,
            t.mouseDownX = this.mouseDownX = e.chartX,
            this.mouseDownY = e.chartY
        },
        drag: function(e) {
            var t = this.chart,
            n = t.options.chart,
            r = e.chartX,
            i = e.chartY,
            s = this.zoomHor,
            o = this.zoomVert,
            u = t.plotLeft,
            a = t.plotTop,
            l = t.plotWidth,
            c = t.plotHeight,
            h, p, d = this.mouseDownX,
            v = this.mouseDownY;
            r < u ? r = u: r > u + l && (r = u + l),
            i < a ? i = a: i > a + c && (i = a + c),
            this.hasDragged = Math.sqrt(Math.pow(d - r, 2) + Math.pow(v - i, 2)),
            this.hasDragged > 10 && (h = t.isInsidePlot(d - u, v - a), t.hasCartesianSeries && (this.zoomX || this.zoomY) && h && (this.selectionMarker || (this.selectionMarker = t.renderer.rect(u, a, s ? 1 : l, o ? 1 : c, 0).attr({
                fill: n.selectionMarkerFill || "rgba(69,114,167,0.25)",
                zIndex: 7
            }).add())), this.selectionMarker && s && (p = r - d, this.selectionMarker.attr({
                width: f(p),
                x: (p > 0 ? 0 : p) + d
            })), this.selectionMarker && o && (p = i - v, this.selectionMarker.attr({
                height: f(p),
                y: (p > 0 ? 0 : p) + v
            })), h && !this.selectionMarker && n.panning && t.pan(r))
        },
        drop: function(e) {
            var t = this.chart,
            n = this.hasPinched;
            if (this.selectionMarker) {
                var r = {
                    xAxis: [],
                    yAxis: [],
                    originalEvent: e.originalEvent || e
                },
                i = this.selectionMarker,
                s = i.x,
                o = i.y,
                f;
                if (this.hasDragged || n) cn(t.axes,
                function(e) {
                    if (e.zoomEnabled) {
                        var t = e.horiz,
                        n = e.minPixelPadding,
                        l = e.toValue((t ? s: o) + n),
                        c = e.toValue((t ? s + i.width: o + i.height) - n); ! isNaN(l) && !isNaN(c) && (r[e.xOrY + "Axis"].push({
                            axis: e,
                            min: a(l, c),
                            max: u(l, c)
                        }), f = !0)
                    }
                }),
                f && gn(t, "selection", r,
                function(e) {
                    t.zoom(xt(e, n ? {
                        animation: !1
                    }: null))
                });
                this.selectionMarker = this.selectionMarker.destroy(),
                n && this.scaleGroups({
                    translateX: t.plotLeft,
                    translateY: t.plotTop,
                    scaleX: 1,
                    scaleY: 1
                })
            }
            t && (Ft(t.container, {
                cursor: "auto"
            }), t.cancelClick = this.hasDragged, t.mouseIsDown = this.hasDragged = this.hasPinched = !1, this.pinchDown = [])
        },
        onContainerMouseDown: function(e) {
            e = this.normalize(e),
            e.preventDefault && e.preventDefault(),
            this.dragStart(e)
        },
        onDocumentMouseUp: function(e) {
            this.drop(e)
        },
        onDocumentMouseMove: function(e) {
            var t = this.chart,
            n = this.chartPosition,
            r = t.hoverSeries;
            e = yn(e),
            n && r && r.isCartesian && !t.isInsidePlot(e.pageX - n.left - t.plotLeft, e.pageY - n.top - t.plotTop) && this.reset()
        },
        onContainerMouseLeave: function() {
            this.reset(),
            this.chartPosition = null
        },
        onContainerMouseMove: function(e) {
            var t = this.chart;
            e = this.normalize(e),
            e.returnValue = !1,
            t.mouseIsDown === "mousedown" && this.drag(e),
            t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) && this.runPointActions(e)
        },
        inClass: function(e, t) {
            var n;
            while (e) {
                n = Ht(e, "class");
                if (n) {
                    if (n.indexOf(t) !== -1) return ! 0;
                    if (n.indexOf(z + "container") !== -1) return ! 1
                }
                e = e.parentNode
            }
        },
        onTrackerMouseOut: function(e) {
            var t = this.chart.hoverSeries;
            t && !t.options.stickyTracking && !this.inClass(e.toElement || e.relatedTarget, z + "tooltip") && t.onMouseOut()
        },
        onContainerClick: function(e) {
            var t = this.chart,
            n = t.hoverPoint,
            r = t.plotLeft,
            i = t.plotTop,
            s = t.inverted,
            o, u, a;
            e = this.normalize(e),
            e.cancelBubble = !0,
            t.cancelClick || (n && this.inClass(e.target, z + "tracker") ? (o = this.chartPosition, u = n.plotX, a = n.plotY, xt(n, {
                pageX: o.left + r + (s ? t.plotWidth - a: u),
                pageY: o.top + i + (s ? t.plotHeight - u: a)
            }), gn(n.series, "click", xt(e, {
                point: n
            })), n.firePointEvent("click", e)) : (xt(e, this.getCoordinates(e)), t.isInsidePlot(e.chartX - r, e.chartY - i) && gn(t, "click", e)))
        },
        onContainerTouchStart: function(e) {
            var t = this.chart;
            e.touches.length === 1 ? (e = this.normalize(e), t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) && (this.runPointActions(e), this.pinch(e))) : e.touches.length === 2 && this.pinch(e)
        },
        onContainerTouchMove: function(e) { (e.touches.length === 1 || e.touches.length === 2) && this.pinch(e)
        },
        onDocumentTouchEnd: function(e) {
            this.drop(e)
        },
        setDOMEvents: function() {
            var e = this,
            n = e.chart.container,
            r;
            this._events = r = [[n, "onmousedown", "onContainerMouseDown"], [n, "onmousemove", "onContainerMouseMove"], [n, "onclick", "onContainerClick"], [n, "mouseleave", "onContainerMouseLeave"], [t, "mousemove", "onDocumentMouseMove"], [t, "mouseup", "onDocumentMouseUp"]],
            C && r.push([n, "ontouchstart", "onContainerTouchStart"], [n, "ontouchmove", "onContainerTouchMove"], [t, "touchend", "onDocumentTouchEnd"]),
            cn(r,
            function(t) {
                e["_" + t[2]] = function(n) {
                    e[t[2]](n)
                },
                t[1].indexOf("on") === 0 ? t[0][t[1]] = e["_" + t[2]] : vn(t[0], t[1], e["_" + t[2]])
            })
        },
        destroy: function() {
            var e = this;
            cn(e._events,
            function(t) {
                t[1].indexOf("on") === 0 ? t[0][t[1]] = null: mn(t[0], t[1], e["_" + t[2]])
            }),
            delete e._events,
            clearInterval(e.tooltipTimeout)
        }
    },
    Rn.prototype = {
        init: function(e, t) {
            var n = this,
            r = t.itemStyle,
            i = jt(t.padding, 8),
            s = t.itemMarginTop || 0;
            this.options = t;
            if (!t.enabled) return;
            n.baseline = Ct(r.fontSize) + 3 + s,
            n.itemStyle = r,
            n.itemHiddenStyle = Tt(r, t.itemHiddenStyle),
            n.itemMarginTop = s,
            n.padding = i,
            n.initialItemX = i,
            n.initialItemY = i - 5,
            n.maxItemWidth = 0,
            n.chart = e,
            n.itemHeight = 0,
            n.lastLineHeight = 0,
            n.render(),
            vn(n.chart, "endResize",
            function() {
                n.positionCheckboxes()
            })
        },
        colorizeItem: function(t, n) {
            var r = this,
            i = r.options,
            s = t.legendItem,
            o = t.legendLine,
            u = t.legendSymbol,
            a = r.itemHiddenStyle.color,
            f = n ? i.itemStyle.color: a,
            l = n ? t.color: a,
            c = t.options && t.options.marker,
            h = {
                stroke: l,
                fill: l
            },
            p,
            d;
            s && s.css({
                fill: f,
                color: f
            }),
            o && o.attr({
                stroke: l
            });
            if (u) {
                if (c) {
                    c = t.convertAttribs(c);
                    for (p in c) d = c[p],
                    d !== e && (h[p] = d)
                }
                u.attr(h)
            }
        },
        positionItem: function(e) {
            var t = this,
            n = t.options,
            r = n.symbolPadding,
            i = !n.rtl,
            s = e._legendItemPos,
            o = s[0],
            u = s[1],
            a = e.checkbox;
            e.legendGroup && e.legendGroup.translate(i ? o: t.legendWidth - o - 2 * r - 4, u),
            a && (a.x = o, a.y = u)
        },
        destroyItem: function(e) {
            var t = e.checkbox;
            cn(["legendItem", "legendLine", "legendSymbol", "legendGroup"],
            function(t) {
                e[t] && e[t].destroy()
            }),
            t && tn(e.checkbox)
        },
        destroy: function() {
            var e = this,
            t = e.group,
            n = e.box;
            n && (e.box = n.destroy()),
            t && (e.group = t.destroy())
        },
        positionCheckboxes: function(e) {
            var t = this.group.alignAttr,
            n, r = this.clipHeight || this.legendHeight;
            t && (n = t.translateY, cn(this.allItems,
            function(i) {
                var s = i.checkbox,
                o;
                s && (o = n + s.y + (e || 0) + 3, Ft(s, {
                    left: t.translateX + i.legendItemWidth + s.x - 20 + X,
                    top: o + X,
                    display: o > n - 6 && o < n + r - 6 ? "": V
                }))
            }))
        },
        renderTitle: function() {
            var e = this.options,
            t = this.padding,
            n = e.title,
            r = 0;
            n.text && (this.title || (this.title = this.chart.renderer.label(n.text, t - 3, t - 4, null, null, null, null, null, "legend-title").attr({
                zIndex: 1
            }).css(n.style).add(this.group)), r = this.title.getBBox().height, this.contentGroup.attr({
                translateY: r
            })),
            this.titleHeight = r
        },
        renderItem: function(e) {
            var t = this,
            n = t.chart,
            r = n.renderer,
            i = t.options,
            s = i.layout === "horizontal",
            o = i.symbolWidth,
            a = i.symbolPadding,
            f = t.itemStyle,
            l = t.itemHiddenStyle,
            c = t.padding,
            h = !i.rtl,
            p, d = i.width,
            v = i.itemMarginBottom || 0,
            m = t.itemMarginTop,
            g = t.initialItemX,
            y, b, w = e.legendItem,
            E = e.series || e,
            S = E.options,
            x = S.showCheckbox,
            T = i.useHTML;
            w || (e.legendGroup = r.g("legend-item").attr({
                zIndex: 1
            }).add(t.scrollGroup), E.drawLegendSymbol(t, e), e.legendItem = w = r.text(i.labelFormat ? Vt(i.labelFormat, e) : i.labelFormatter.call(e), h ? o + a: -a, t.baseline, T).css(Tt(e.visible ? f: l)).attr({
                align: h ? "left": "right",
                zIndex: 2
            }).add(e.legendGroup), (T ? w: e.legendGroup).on("mouseover",
            function() {
                e.setState(G),
                w.css(t.options.itemHoverStyle)
            }).on("mouseout",
            function() {
                w.css(e.visible ? f: l),
                e.setState()
            }).on("click",
            function(t) {
                var n = "legendItemClick",
                r = function() {
                    e.setVisible()
                };
                t = {
                    browserEvent: t
                },
                e.firePointEvent ? e.firePointEvent(n, t, r) : gn(e, n, t, r)
            }), t.colorizeItem(e, e.visible), S && x && (e.checkbox = It("input", {
                type: "checkbox",
                checked: e.selected,
                defaultChecked: e.selected
            },
            i.itemCheckboxStyle, n.container), vn(e.checkbox, "click",
            function(t) {
                var n = t.target;
                gn(e, "checkboxClick", {
                    checked: n.checked
                },
                function() {
                    e.select()
                })
            }))),
            y = w.getBBox(),
            b = e.legendItemWidth = i.itemWidth || o + a + y.width + c + (x ? 20 : 0),
            t.itemHeight = p = y.height,
            s && t.itemX - g + b > (d || n.chartWidth - 2 * c - g) && (t.itemX = g, t.itemY += m + t.lastLineHeight + v, t.lastLineHeight = 0),
            t.maxItemWidth = u(t.maxItemWidth, b),
            t.lastItemY = m + t.itemY + v,
            t.lastLineHeight = u(p, t.lastLineHeight),
            e._legendItemPos = [t.itemX, t.itemY],
            s ? t.itemX += b: (t.itemY += m + p + v, t.lastLineHeight = p),
            t.offsetWidth = d || u(s ? t.itemX - g: b, t.offsetWidth)
        },
        render: function() {
            var e = this,
            t = e.chart,
            n = t.renderer,
            r = e.group,
            i, s, o, u, a = e.box,
            f = e.options,
            l = e.padding,
            c = f.borderWidth,
            h = f.backgroundColor;
            e.itemX = e.initialItemX,
            e.itemY = e.initialItemY,
            e.offsetWidth = 0,
            e.lastItemY = 0,
            r || (e.group = r = n.g("legend").attr({
                zIndex: 7
            }).add(), e.contentGroup = n.g().attr({
                zIndex: 1
            }).add(r), e.scrollGroup = n.g().add(e.contentGroup), e.clipRect = n.clipRect(0, 0, 9999, t.chartHeight), e.contentGroup.clip(e.clipRect)),
            e.renderTitle(),
            i = [],
            cn(t.series,
            function(e) {
                var t = e.options;
                if (!t.showInLegend || Pt(t.linkedTo)) return;
                i = i.concat(e.legendItems || (t.legendType === "point" ? e.data: e))
            }),
            Gt(i,
            function(e, t) {
                return (e.options && e.options.legendIndex || 0) - (t.options && t.options.legendIndex || 0)
            }),
            f.reversed && i.reverse(),
            e.allItems = i,
            e.display = s = !!i.length,
            cn(i,
            function(t) {
                e.renderItem(t)
            }),
            o = f.width || e.offsetWidth,
            u = e.lastItemY + e.lastLineHeight + e.titleHeight,
            u = e.handleOverflow(u);
            if (c || h) o += l,
            u += l,
            a ? o > 0 && u > 0 && (a[a.isNew ? "attr": "animate"](a.crisp(null, null, null, o, u)), a.isNew = !1) : (e.box = a = n.rect(0, 0, o, u, f.borderRadius, c || 0).attr({
                stroke: f.borderColor,
                "stroke-width": c || 0,
                fill: h || V
            }).add(r).shadow(f.shadow), a.isNew = !0),
            a[s ? "show": "hide"]();
            e.legendWidth = o,
            e.legendHeight = u,
            cn(i,
            function(t) {
                e.positionItem(t)
            }),
            s && r.align(xt({
                width: o,
                height: u
            },
            f), !0, "spacingBox"),
            t.isResizing || this.positionCheckboxes()
        },
        handleOverflow: function(e) {
            var t = this,
            n = this.chart,
            r = n.renderer,
            i, s = this.options,
            u = s.y,
            f = s.verticalAlign === "top",
            l = n.spacingBox.height + (f ? -u: u) - this.padding,
            c = s.maxHeight,
            h,
            p = this.clipRect,
            d = s.navigation,
            v = jt(d.animation, !0),
            m = d.arrowSize || 12,
            g = this.nav;
            return s.layout === "horizontal" && (l /= 2),
            c && (l = a(l, c)),
            e > l && !s.useHTML ? (this.clipHeight = h = l - 20 - this.titleHeight, this.pageCount = i = o(e / h), this.currentPage = jt(this.currentPage, 1), this.fullHeight = e, p.attr({
                height: h
            }), g || (this.nav = g = r.g().attr({
                zIndex: 1
            }).add(this.group), this.up = r.symbol("triangle", 0, 0, m, m).on("click",
            function() {
                t.scroll( - 1, v)
            }).add(g), this.pager = r.text("", 15, 10).css(d.style).add(g), this.down = r.symbol("triangle-down", 0, 0, m, m).on("click",
            function() {
                t.scroll(1, v)
            }).add(g)), t.scroll(0), e = l) : g && (p.attr({
                height: n.chartHeight
            }), g.hide(), this.scrollGroup.attr({
                translateY: 1
            }), this.clipHeight = 0),
            e
        },
        scroll: function(t, n) {
            var r = this.pageCount,
            i = this.currentPage + t,
            s = this.clipHeight,
            o = this.options.navigation,
            u = o.activeColor,
            f = o.inactiveColor,
            l = this.pager,
            c = this.padding,
            h;
            i > r && (i = r),
            i > 0 && (n !== e && sn(n, this.chart), this.nav.attr({
                translateX: c,
                translateY: s + 7 + this.titleHeight,
                visibility: W
            }), this.up.attr({
                fill: i === 1 ? f: u
            }).css({
                cursor: i === 1 ? "default": "pointer"
            }), l.attr({
                text: i + "/" + this.pageCount
            }), this.down.attr({
                x: 18 + this.pager.getBBox().width,
                fill: i === r ? f: u
            }).css({
                cursor: i === r ? "default": "pointer"
            }), h = -a(s * (i - 1), this.fullHeight - s + c) + 1, this.scrollGroup.animate({
                translateY: h
            }), l.attr({
                text: i + "/" + r
            }), this.currentPage = i, this.positionCheckboxes(h))
        }
    },
    Un.prototype = {
        init: function(e, t) {
            var n, r = e.series;
            e.series = null,
            n = Tt(O, e),
            n.series = e.series = r;
            var i = n.chart,
            s = i.margin,
            o = Lt(s) ? s: [s, s, s, s];
            this.optionsMarginTop = jt(i.marginTop, o[0]),
            this.optionsMarginRight = jt(i.marginRight, o[1]),
            this.optionsMarginBottom = jt(i.marginBottom, o[2]),
            this.optionsMarginLeft = jt(i.marginLeft, o[3]);
            var u = i.events;
            this.runChartClick = u && !!u.click,
            this.bounds = {
                h: {},
                v: {}
            },
            this.callback = t,
            this.isResizing = 0,
            this.options = n,
            this.axes = [],
            this.series = [],
            this.hasCartesianSeries = i.showAxes;
            var a = this,
            f;
            a.index = B.length,
            B.push(a),
            i.reflow !== !1 && vn(a, "load",
            function() {
                a.initReflow()
            });
            if (u) for (f in u) vn(a, f, u[f]);
            a.xAxis = [],
            a.yAxis = [],
            a.animation = T ? !1 : jt(i.animation, !0),
            a.pointCount = 0,
            a.counters = new Qt,
            a.firstRender()
        },
        initSeries: function(e) {
            var t = this,
            n = t.options.chart,
            r = e.type || n.type || n.defaultSeriesType,
            i, s = St[r];
            return s || nn(17, !0),
            i = new s,
            i.init(this, e),
            i
        },
        addSeries: function(e, t, n) {
            var r, i = this;
            return e && (t = jt(t, !0), gn(i, "addSeries", {
                options: e
            },
            function() {
                r = i.initSeries(e),
                i.isDirtyLegend = !0,
                t && i.redraw(n)
            })),
            r
        },
        addAxis: function(e, t, n, r) {
            var i = t ? "xAxis": "yAxis",
            s = this.options,
            o;
            o = new Fn(this, Tt(e, {
                index: this[i].length
            })),
            s[i] = Bt(s[i] || {}),
            s[i].push(e),
            jt(n, !0) && this.redraw(r)
        },
        isInsidePlot: function(e, t, n) {
            var r = n ? t: e,
            i = n ? e: t;
            return r >= 0 && r <= this.plotWidth && i >= 0 && i <= this.plotHeight
        },
        adjustTickAmounts: function() {
            this.options.chart.alignTicks !== !1 && cn(this.axes,
            function(e) {
                e.adjustTickAmount()
            }),
            this.maxTicks = null
        },
        redraw: function(e) {
            var t = this,
            n = t.axes,
            r = t.series,
            i = t.pointer,
            s = t.legend,
            o = t.isDirtyLegend,
            u, a = t.isDirtyBox,
            f = r.length,
            l = f,
            c, h = t.renderer,
            p = h.isHidden(),
            d = [];
            sn(e, t),
            p && t.cloneRenderTo();
            while (l--) {
                c = r[l];
                if (c.isDirty && c.options.stacking) {
                    u = !0;
                    break
                }
            }
            if (u) {
                l = f;
                while (l--) c = r[l],
                c.options.stacking && (c.isDirty = !0)
            }
            cn(r,
            function(e) {
                e.isDirty && e.options.legendType === "point" && (o = !0)
            }),
            o && s.options.enabled && (s.render(), t.isDirtyLegend = !1),
            t.hasCartesianSeries && (t.isResizing || (t.maxTicks = null, cn(n,
            function(e) {
                e.setScale()
            })), t.adjustTickAmounts(), t.getMargins(), cn(n,
            function(e) {
                e.isDirtyExtremes && (e.isDirtyExtremes = !1, d.push(function() {
                    gn(e, "afterSetExtremes", e.getExtremes())
                }));
                if (e.isDirty || a || u) e.redraw(),
                a = !0
            })),
            a && t.drawChartBox(),
            cn(r,
            function(e) {
                e.isDirty && e.visible && (!e.isCartesian || e.xAxis) && e.redraw()
            }),
            i && i.reset && i.reset(!0),
            h.draw(),
            gn(t, "redraw"),
            p && t.cloneRenderTo(!0),
            cn(d,
            function(e) {
                e.call()
            })
        },
        showLoading: function(e) {
            var t = this,
            n = t.options,
            r = t.loadingDiv,
            i = n.loading;
            r || (t.loadingDiv = r = It(I, {
                className: z + "loading"
            },
            xt(i.style, {
                left: t.plotLeft + X,
                top: t.plotTop + X,
                width: t.plotWidth + X,
                height: t.plotHeight + X,
                zIndex: 10,
                display: V
            }), t.container), t.loadingSpan = It("span", null, i.labelStyle, r)),
            t.loadingSpan.innerHTML = e || n.lang.loading,
            t.loadingShown || (Ft(r, {
                opacity: 0,
                display: ""
            }), bn(r, {
                opacity: i.style.opacity
            },
            {
                duration: i.showDuration || 0
            }), t.loadingShown = !0)
        },
        hideLoading: function() {
            var e = this.options,
            t = this.loadingDiv;
            t && bn(t, {
                opacity: 0
            },
            {
                duration: e.loading.hideDuration || 100,
                complete: function() {
                    Ft(t, {
                        display: V
                    })
                }
            }),
            this.loadingShown = !1
        },
        get: function(e) {
            var t = this,
            n = t.axes,
            r = t.series,
            i, s, o;
            for (i = 0; i < n.length; i++) if (n[i].options.id === e) return n[i];
            for (i = 0; i < r.length; i++) if (r[i].options.id === e) return r[i];
            for (i = 0; i < r.length; i++) {
                o = r[i].points || [];
                for (s = 0; s < o.length; s++) if (o[s].id === e) return o[s]
            }
            return null
        },
        getAxes: function() {
            var e = this,
            t = this.options,
            n = t.xAxis = Bt(t.xAxis || {}),
            r = t.yAxis = Bt(t.yAxis || {}),
            i,
            s;
            cn(n,
            function(e, t) {
                e.index = t,
                e.isX = !0
            }),
            cn(r,
            function(e, t) {
                e.index = t
            }),
            i = n.concat(r),
            cn(i,
            function(t) {
                s = new Fn(e, t)
            }),
            e.adjustTickAmounts()
        },
        getSelectedPoints: function() {
            var e = [];
            return cn(this.series,
            function(t) {
                e = e.concat(hn(t.points,
                function(e) {
                    return e.selected
                }))
            }),
            e
        },
        getSelectedSeries: function() {
            return hn(this.series,
            function(e) {
                return e.selected
            })
        },
        showResetZoom: function() {
            var e = this,
            t = O.lang,
            n = e.options.chart.resetZoomButton,
            r = n.theme,
            i = r.states,
            s = n.relativeTo === "chart" ? null: "plotBox";
            this.resetZoomButton = e.renderer.button(t.resetZoom, null, null,
            function() {
                e.zoomOut()
            },
            r, i && i.hover).attr({
                align: n.position.align,
                title: t.resetZoomTitle
            }).add().align(n.position, !1, s)
        },
        zoomOut: function() {
            var e = this;
            gn(e, "selection", {
                resetSelection: !0
            },
            function() {
                e.zoom()
            })
        },
        zoom: function(e) {
            var t = this,
            n, r = t.pointer,
            i = !1,
            s; ! e || e.resetSelection ? cn(t.axes,
            function(e) {
                n = e.zoom()
            }) : cn(e.xAxis.concat(e.yAxis),
            function(e) {
                var t = e.axis,
                s = t.isXAxis;
                if (r[s ? "zoomX": "zoomY"] || r[s ? "pinchX": "pinchY"]) n = t.zoom(e.min, e.max),
                t.displayBtn && (i = !0)
            }),
            s = t.resetZoomButton,
            i && !s ? t.showResetZoom() : !i && Lt(s) && (t.resetZoomButton = s.destroy()),
            n && t.redraw(jt(t.options.chart.animation, e && e.animation, t.pointCount < 100))
        },
        pan: function(e) {
            var t = this,
            n = t.xAxis[0],
            r = t.mouseDownX,
            i = n.pointRange / 2,
            s = n.getExtremes(),
            o = n.translate(r - e, !0) + i,
            f = n.translate(r + t.plotWidth - e, !0) - i,
            l = t.hoverPoints;
            l && cn(l,
            function(e) {
                e.setState()
            }),
            n.series.length && o > a(s.dataMin, s.min) && f < u(s.dataMax, s.max) && n.setExtremes(o, f, !0, !1, {
                trigger: "pan"
            }),
            t.mouseDownX = e,
            Ft(t.container, {
                cursor: "move"
            })
        },
        setTitle: function(e, t) {
            var n = this,
            r = n.options,
            i, s;
            i = r.title = Tt(r.title, e),
            s = r.subtitle = Tt(r.subtitle, t),
            cn([["title", e, i], ["subtitle", t, s]],
            function(e) {
                var t = e[0],
                r = n[t],
                i = e[1],
                s = e[2];
                r && i && (n[t] = r = r.destroy()),
                s && s.text && !r && (n[t] = n.renderer.text(s.text, 0, 0, s.useHTML).attr({
                    align: s.align,
                    "class": z + t,
                    zIndex: s.zIndex || 4
                }).css(s.style).add().align(s, !1, "spacingBox"))
            })
        },
        getChartSize: function() {
            var e = this,
            t = e.options.chart,
            n = e.renderToClone || e.renderTo;
            e.containerWidth = an(n, "width"),
            e.containerHeight = an(n, "height"),
            e.chartWidth = u(0, t.width || e.containerWidth || 600),
            e.chartHeight = u(0, jt(t.height, e.containerHeight > 19 ? e.containerHeight: 400))
        },
        cloneRenderTo: function(e) {
            var n = this.renderToClone,
            r = this.container;
            e ? n && (this.renderTo.appendChild(r), tn(n), delete this.renderToClone) : (r && this.renderTo.removeChild(r), this.renderToClone = n = this.renderTo.cloneNode(0), Ft(n, {
                position: q,
                top: "-9999px",
                display: "block"
            }), t.body.appendChild(n), r && n.appendChild(r))
        },
        getContainer: function() {
            var e = this,
            n, r = e.options.chart,
            i, s, o, u = "data-highcharts-chart",
            a, f;
            e.renderTo = o = r.renderTo,
            f = z + L++,
            kt(o) && (e.renderTo = o = t.getElementById(o)),
            o || nn(13, !0),
            a = Ct(Ht(o, u)),
            !isNaN(a) && B[a] && B[a].destroy(),
            Ht(o, u, e.index),
            o.innerHTML = "",
            o.offsetWidth || e.cloneRenderTo(),
            e.getChartSize(),
            i = e.chartWidth,
            s = e.chartHeight,
            e.container = n = It(I, {
                className: z + "container" + (r.className ? " " + r.className: ""),
                id: f
            },
            xt({
                position: R,
                overflow: U,
                width: i + X,
                height: s + X,
                textAlign: "left",
                lineHeight: "normal",
                zIndex: 0
            },
            r.style), e.renderToClone || o),
            e.renderer = r.forExport ? new An(n, i, s, !0) : new N(n, i, s),
            T && e.renderer.create(e, n, i, s)
        },
        getMargins: function() {
            var e = this,
            t = e.options.chart,
            n = t.spacingTop,
            r = t.spacingRight,
            i = t.spacingBottom,
            s = t.spacingLeft,
            o, a = e.legend,
            f = e.optionsMarginTop,
            l = e.optionsMarginLeft,
            c = e.optionsMarginRight,
            h = e.optionsMarginBottom,
            p = e.options.title,
            d = e.options.subtitle,
            v = e.options.legend,
            m = jt(v.margin, 10),
            g = v.x,
            y = v.y,
            b = v.align,
            w = v.verticalAlign,
            E;
            e.resetMargins(),
            o = e.axisOffset,
            (e.title || e.subtitle) && !Pt(e.optionsMarginTop) && (E = u(e.title && !p.floating && !p.verticalAlign && p.y || 0, e.subtitle && !d.floating && !d.verticalAlign && d.y || 0), E && (e.plotTop = u(e.plotTop, E + jt(p.margin, 15) + n))),
            a.display && !v.floating && (b === "right" ? Pt(c) || (e.marginRight = u(e.marginRight, a.legendWidth - g + m + r)) : b === "left" ? Pt(l) || (e.plotLeft = u(e.plotLeft, a.legendWidth + g + m + s)) : w === "top" ? Pt(f) || (e.plotTop = u(e.plotTop, a.legendHeight + y + m + n)) : w === "bottom" && (Pt(h) || (e.marginBottom = u(e.marginBottom, a.legendHeight - y + m + i)))),
            e.extraBottomMargin && (e.marginBottom += e.extraBottomMargin),
            e.extraTopMargin && (e.plotTop += e.extraTopMargin),
            e.hasCartesianSeries && cn(e.axes,
            function(e) {
                e.getOffset()
            }),
            Pt(l) || (e.plotLeft += o[3]),
            Pt(f) || (e.plotTop += o[0]),
            Pt(h) || (e.marginBottom += o[2]),
            Pt(c) || (e.marginRight += o[1]),
            e.setChartSize()
        },
        initReflow: function() {
            function o(o) {
                var u = r.width || an(i, "width"),
                a = r.height || an(i, "height"),
                f = o ? o.target: n;
                if (!e.hasUserSize && u && a && (f === n || f === t)) {
                    if (u !== e.containerWidth || a !== e.containerHeight) clearTimeout(s),
                    e.reflowTimeout = s = setTimeout(function() {
                        e.container && (e.setSize(u, a, !1), e.hasUserSize = null)
                    },
                    100);
                    e.containerWidth = u,
                    e.containerHeight = a
                }
            }
            var e = this,
            r = e.options.chart,
            i = e.renderTo,
            s;
            vn(n, "resize", o),
            vn(e, "destroy",
            function() {
                mn(n, "resize", o)
            })
        },
        setSize: function(e, t, n) {
            var r = this,
            s, o, a;
            r.isResizing += 1,
            a = function() {
                r && gn(r, "endResize", null,
                function() {
                    r.isResizing -= 1
                })
            },
            sn(n, r),
            r.oldChartHeight = r.chartHeight,
            r.oldChartWidth = r.chartWidth,
            Pt(e) && (r.chartWidth = s = u(0, i(e)), r.hasUserSize = !!s),
            Pt(t) && (r.chartHeight = o = u(0, i(t))),
            Ft(r.container, {
                width: s + X,
                height: o + X
            }),
            r.setChartSize(!0),
            r.renderer.setSize(s, o, n),
            r.maxTicks = null,
            cn(r.axes,
            function(e) {
                e.isDirty = !0,
                e.setScale()
            }),
            cn(r.series,
            function(e) {
                e.isDirty = !0
            }),
            r.isDirtyLegend = !0,
            r.isDirtyBox = !0,
            r.getMargins(),
            r.redraw(n),
            r.oldChartHeight = null,
            gn(r, "resize"),
            _ === !1 ? a() : setTimeout(a, _ && _.duration || 500)
        },
        setChartSize: function(e) {
            var t = this,
            n = t.inverted,
            r = t.renderer,
            a = t.chartWidth,
            f = t.chartHeight,
            l = t.options.chart,
            c = l.spacingTop,
            h = l.spacingRight,
            p = l.spacingBottom,
            d = l.spacingLeft,
            v = t.clipOffset,
            m, g, y, b, w, E, S;
            t.plotLeft = y = i(t.plotLeft),
            t.plotTop = b = i(t.plotTop),
            t.plotWidth = w = u(0, i(a - y - t.marginRight)),
            t.plotHeight = E = u(0, i(f - b - t.marginBottom)),
            t.plotSizeX = n ? E: w,
            t.plotSizeY = n ? w: E,
            t.plotBorderWidth = S = l.plotBorderWidth || 0,
            t.spacingBox = r.spacingBox = {
                x: d,
                y: c,
                width: a - d - h,
                height: f - c - p
            },
            t.plotBox = r.plotBox = {
                x: y,
                y: b,
                width: w,
                height: E
            },
            m = o(u(S, v[3]) / 2),
            g = o(u(S, v[0]) / 2),
            t.clipBox = {
                x: m,
                y: g,
                width: s(t.plotSizeX - u(S, v[1]) / 2 - m),
                height: s(t.plotSizeY - u(S, v[2]) / 2 - g)
            },
            e || cn(t.axes,
            function(e) {
                e.setAxisSize(),
                e.setAxisTranslation()
            })
        },
        resetMargins: function() {
            var e = this,
            t = e.options.chart,
            n = t.spacingTop,
            r = t.spacingRight,
            i = t.spacingBottom,
            s = t.spacingLeft;
            e.plotTop = jt(e.optionsMarginTop, n),
            e.marginRight = jt(e.optionsMarginRight, r),
            e.marginBottom = jt(e.optionsMarginBottom, i),
            e.plotLeft = jt(e.optionsMarginLeft, s),
            e.axisOffset = [0, 0, 0, 0],
            e.clipOffset = [0, 0, 0, 0]
        },
        drawChartBox: function() {
            var e = this,
            t = e.options.chart,
            n = e.renderer,
            r = e.chartWidth,
            i = e.chartHeight,
            s = e.chartBackground,
            o = e.plotBackground,
            u = e.plotBorder,
            a = e.plotBGImage,
            f = t.borderWidth || 0,
            l = t.backgroundColor,
            c = t.plotBackgroundColor,
            h = t.plotBackgroundImage,
            p = t.plotBorderWidth || 0,
            d, v, m = e.plotLeft,
            g = e.plotTop,
            y = e.plotWidth,
            b = e.plotHeight,
            w = e.plotBox,
            E = e.clipRect,
            S = e.clipBox;
            d = f + (t.shadow ? 8 : 0);
            if (f || l) s ? s.animate(s.crisp(null, null, null, r - d, i - d)) : (v = {
                fill: l || V
            },
            f && (v.stroke = t.borderColor, v["stroke-width"] = f), e.chartBackground = n.rect(d / 2, d / 2, r - d, i - d, t.borderRadius, f).attr(v).add().shadow(t.shadow));
            c && (o ? o.animate(w) : e.plotBackground = n.rect(m, g, y, b, 0).attr({
                fill: c
            }).add().shadow(t.plotShadow)),
            h && (a ? a.animate(w) : e.plotBGImage = n.image(h, m, g, y, b).add()),
            E ? E.animate({
                width: S.width,
                height: S.height
            }) : e.clipRect = n.clipRect(S),
            p && (u ? u.animate(u.crisp(null, m, g, y, b)) : e.plotBorder = n.rect(m, g, y, b, 0, p).attr({
                stroke: t.plotBorderColor,
                "stroke-width": p,
                zIndex: 1
            }).add()),
            e.isDirtyBox = !1
        },
        propFromSeries: function() {
            var e = this,
            t = e.options.chart,
            n, r = e.options.series,
            i, s;
            cn(["inverted", "angular", "polar"],
            function(o) {
                n = St[t.type || t.defaultSeriesType],
                s = e[o] || t[o] || n && n.prototype[o],
                i = r && r.length;
                while (!s && i--) n = St[r[i].type],
                n && n.prototype[o] && (s = !0);
                e[o] = s
            })
        },
        render: function() {
            var e = this,
            t = e.axes,
            n = e.renderer,
            r = e.options,
            i = r.labels,
            s = r.credits,
            o;
            e.setTitle(),
            e.legend = new Rn(e, r.legend),
            cn(t,
            function(e) {
                e.setScale()
            }),
            e.getMargins(),
            e.maxTicks = null,
            cn(t,
            function(e) {
                e.setTickPositions(!0),
                e.setMaxTicks()
            }),
            e.adjustTickAmounts(),
            e.getMargins(),
            e.drawChartBox(),
            e.hasCartesianSeries && cn(t,
            function(e) {
                e.render()
            }),
            e.seriesGroup || (e.seriesGroup = n.g("series-group").attr({
                zIndex: 3
            }).add()),
            cn(e.series,
            function(e) {
                e.translate(),
                e.setTooltipPoints(),
                e.render()
            }),
            i.items && cn(i.items,
            function(t) {
                var r = xt(i.style, t.style),
                s = Ct(r.left) + e.plotLeft,
                o = Ct(r.top) + e.plotTop + 12;
                delete r.left,
                delete r.top,
                n.text(t.html, s, o).attr({
                    zIndex: 2
                }).css(r).add()
            }),
            s.enabled && !e.credits && (o = s.href, e.credits = n.text(s.text, 0, 0).on("click",
            function() {
                o && (location.href = o)
            }).attr({
                align: s.position.align,
                zIndex: 8
            }).css(s.style).add().align(s.position)),
            e.hasRendered = !0
        },
        destroy: function() {
            var t = this,
            n = t.axes,
            r = t.series,
            i = t.container,
            s, o = i && i.parentNode;
            gn(t, "destroy"),
            B[t.index] = e,
            t.renderTo.removeAttribute("data-highcharts-chart"),
            mn(t),
            s = n.length;
            while (s--) n[s] = n[s].destroy();
            s = r.length;
            while (s--) r[s] = r[s].destroy();
            cn(["title", "subtitle", "chartBackground", "plotBackground", "plotBGImage", "plotBorder", "seriesGroup", "clipRect", "credits", "pointer", "scroller", "rangeSelector", "legend", "resetZoomButton", "tooltip", "renderer"],
            function(e) {
                var n = t[e];
                n && n.destroy && (t[e] = n.destroy())
            }),
            i && (i.innerHTML = "", mn(i), o && tn(i));
            for (s in t) delete t[s]
        },
        isReadyToRender: function() {
            var e = this;
            return ! S && n == n.top && t.readyState !== "complete" || T && !n.canvg ? (T ? Pn.push(function() {
                e.firstRender()
            },
            e.options.global.canvasToolsURL) : t.attachEvent("onreadystatechange",
            function() {
                t.detachEvent("onreadystatechange", e.firstRender),
                t.readyState === "complete" && e.firstRender()
            }), !1) : !0
        },
        firstRender: function() {
            var e = this,
            t = e.options,
            n = e.callback;
            if (!e.isReadyToRender()) return;
            e.getContainer(),
            gn(e, "init"),
            e.resetMargins(),
            e.setChartSize(),
            e.propFromSeries(),
            e.getAxes(),
            cn(t.series || [],
            function(t) {
                e.initSeries(t)
            }),
            gn(e, "beforeRender"),
            e.pointer = new qn(e, t),
            e.render(),
            e.renderer.draw(),
            n && n.apply(e, [e]),
            cn(e.callbacks,
            function(t) {
                t.apply(e, [e])
            }),
            e.cloneRenderTo(!0),
            gn(e, "load")
        }
    },
    Un.prototype.callbacks = [];
    var zn = function() {};
    zn.prototype = {
        init: function(e, t, n) {
            var r = this,
            i;
            return r.series = e,
            r.applyOptions(t, n),
            r.pointAttr = {},
            e.options.colorByPoint && (i = e.options.colors || e.chart.options.colors, r.color = r.color || i[e.colorCounter++], e.colorCounter === i.length && (e.colorCounter = 0)),
            e.chart.pointCount++,
            r
        },
        applyOptions: function(t, n) {
            var r = this,
            i = r.series,
            s = i.pointValKey;
            return t = zn.prototype.optionsToObject.call(this, t),
            xt(r, t),
            r.options = r.options ? xt(r.options, t) : t,
            s && (r.y = r[s]),
            r.x === e && i && (r.x = n === e ? i.autoIncrement() : n),
            r
        },
        optionsToObject: function(e) {
            var t, n = this.series,
            r = n.pointArrayMap || ["y"],
            i = r.length,
            s,
            o = 0,
            u = 0;
            if (typeof e == "number" || e === null) t = {
                y: e
            };
            else if (At(e)) {
                t = {},
                e.length > i && (s = typeof e[0], s === "string" ? t.name = e[0] : s === "number" && (t.x = e[0]), o++);
                while (u < i) t[r[u++]] = e[o++]
            } else typeof e == "object" && (t = e, e.dataLabels && (n._hasPointLabels = !0), e.marker && (n._hasPointMarkers = !0));
            return t
        },
        destroy: function() {
            var e = this,
            t = e.series,
            n = t.chart,
            r = n.hoverPoints,
            i;
            n.pointCount--,
            r && (e.setState(), Dt(r, e), r.length || (n.hoverPoints = null)),
            e === n.hoverPoint && e.onMouseOut();
            if (e.graphic || e.dataLabel) mn(e),
            e.destroyElements();
            e.legendItem && n.legend.destroyItem(e);
            for (i in e) e[i] = null
        },
        destroyElements: function() {
            var e = this,
            t = ["graphic", "dataLabel", "dataLabelUpper", "group", "connector", "shadowGroup"],
            n,
            r = 6;
            while (r--) n = t[r],
            e[n] && (e[n] = e[n].destroy())
        },
        getLabelConfig: function() {
            var e = this;
            return {
                x: e.category,
                y: e.y,
                key: e.name || e.category,
                series: e.series,
                point: e,
                percentage: e.percentage,
                total: e.total || e.stackTotal
            }
        },
        select: function(e, t) {
            var n = this,
            r = n.series,
            i = r.chart;
            e = jt(e, !n.selected),
            n.firePointEvent(e ? "select": "unselect", {
                accumulate: t
            },
            function() {
                n.selected = n.options.selected = e,
                r.options.data[ln(n, r.data)] = n.options,
                n.setState(e && Y),
                t || cn(i.getSelectedPoints(),
                function(e) {
                    e.selected && e !== n && (e.selected = e.options.selected = !1, r.options.data[ln(e, r.data)] = e.options, e.setState(Q), e.firePointEvent("unselect"))
                })
            })
        },
        onMouseOver: function(e) {
            var t = this,
            n = t.series,
            r = n.chart,
            i = r.tooltip,
            s = r.hoverPoint;
            s && s !== t && s.onMouseOut(),
            t.firePointEvent("mouseOver"),
            i && (!i.shared || n.noSharedTooltip) && i.refresh(t, e),
            t.setState(G),
            r.hoverPoint = t
        },
        onMouseOut: function() {
            var e = this.series.chart,
            t = e.hoverPoints;
            if (!t || ln(this, t) === -1) this.firePointEvent("mouseOut"),
            this.setState(),
            e.hoverPoint = null
        },
        tooltipFormatter: function(e) {
            var t = this.series,
            n = t.tooltipOptions,
            r = n.valueDecimals,
            i = n.valuePrefix || "",
            s = n.valueSuffix || "";
            return cn(t.pointArrayMap || ["y"],
            function(t) {
                t = "{point." + t;
                if (i || s) e = e.replace(t + "}", i + t + "}" + s);
                Ot(r) && (e = e.replace(t + "}", t + ":,." + r + "f}"))
            }),
            Vt(e, {
                point: this,
                series: this.series
            })
        },
        update: function(e, t, n) {
            var r = this,
            i = r.series,
            s = r.graphic,
            o, u = i.data,
            a = i.chart;
            t = jt(t, !0),
            r.firePointEvent("update", {
                options: e
            },
            function() {
                r.applyOptions(e),
                Lt(e) && (i.getAttribs(), s && s.attr(r.pointAttr[i.state])),
                o = ln(r, u),
                i.xData[o] = r.x,
                i.yData[o] = i.toYData ? i.toYData(r) : r.y,
                i.zData[o] = r.z,
                i.options.data[o] = r.options,
                i.isDirty = !0,
                i.isDirtyData = !0,
                t && a.redraw(n)
            })
        },
        remove: function(e, t) {
            var n = this,
            r = n.series,
            i = r.chart,
            s, o = r.data;
            sn(t, i),
            e = jt(e, !0),
            n.firePointEvent("remove", null,
            function() {
                s = ln(n, o),
                o.splice(s, 1),
                r.options.data.splice(s, 1),
                r.xData.splice(s, 1),
                r.yData.splice(s, 1),
                r.zData.splice(s, 1),
                n.destroy(),
                r.isDirty = !0,
                r.isDirtyData = !0,
                e && i.redraw()
            })
        },
        firePointEvent: function(e, t, n) {
            var r = this,
            i = this.series,
            s = i.options; (s.point.events[e] || r.options && r.options.events && r.options.events[e]) && this.importEvents(),
            e === "click" && s.allowPointSelect && (n = function(e) {
                r.select(null, e.ctrlKey || e.metaKey || e.shiftKey)
            }),
            gn(this, e, t, n)
        },
        importEvents: function() {
            if (!this.hasImportedEvents) {
                var e = this,
                t = Tt(e.series.options.point, e.options),
                n = t.events,
                r;
                e.events = n;
                for (r in n) vn(e, r, n[r]);
                this.hasImportedEvents = !0
            }
        },
        setState: function(e) {
            var t = this,
            n = t.plotX,
            r = t.plotY,
            i = t.series,
            s = i.options.states,
            o = Sn[i.type].marker && i.options.marker,
            u = o && !o.enabled,
            a = o && o.states[e],
            f = a && a.enabled === !1,
            l = i.stateMarkerGraphic,
            c = t.marker || {},
            h = i.chart,
            p,
            d,
            v = t.pointAttr;
            e = e || Q;
            if (e === t.state || t.selected && e !== Y || s[e] && s[e].enabled === !1 || e && (f || u && !a.enabled)) return;
            t.graphic ? (p = o && t.graphic.symbolName && v[e].r, t.graphic.attr(Tt(v[e], p ? {
                x: n - p,
                y: r - p,
                width: 2 * p,
                height: 2 * p
            }: {}))) : (e && a && (p = a.radius, d = c.symbol || i.symbol, l && l.currentSymbol !== d && (l = l.destroy()), l ? l.attr({
                x: n - p,
                y: r - p
            }) : (i.stateMarkerGraphic = l = h.renderer.symbol(d, n - p, r - p, 2 * p, 2 * p).attr(v[e]).add(i.markerGroup), l.currentSymbol = d)), l && l[e && h.isInsidePlot(n, r) ? "show": "hide"]()),
            t.state = e
        }
    };
    var Wn = function() {};
    Wn.prototype = {
        isCartesian: !0,
        type: "line",
        pointClass: zn,
        sorted: !0,
        requireSorting: !0,
        pointAttrToOptions: {
            stroke: "lineColor",
            "stroke-width": "lineWidth",
            fill: "fillColor",
            r: "radius"
        },
        colorCounter: 0,
        init: function(e, t) {
            var n = this,
            r, i, s, o = e.series;
            n.chart = e,
            n.options = t = n.setOptions(t),
            n.bindAxes(),
            xt(n, {
                name: t.name,
                state: Q,
                pointAttr: {},
                visible: t.visible !== !1,
                selected: t.selected === !0
            }),
            T && (t.animation = !1),
            i = t.events;
            for (r in i) vn(n, r, i[r]);
            if (i && i.click || t.point && t.point.events && t.point.events.click || t.allowPointSelect) e.runTrackerClick = !0;
            n.getColor(),
            n.getSymbol(),
            n.setData(t.data, !1),
            n.isCartesian && (e.hasCartesianSeries = !0),
            o.push(n),
            n._i = o.length - 1,
            Gt(o,
            function(e, t) {
                return jt(e.options.index, e._i) - jt(t.options.index, e._i)
            }),
            cn(o,
            function(e, t) {
                e.index = t,
                e.name = e.name || "Series " + (t + 1)
            }),
            s = t.linkedTo,
            n.linkedSeries = [],
            kt(s) && (s === ":previous" ? s = o[n.index - 1] : s = e.get(s), s && (s.linkedSeries.push(n), n.linkedParent = s))
        },
        bindAxes: function() {
            var t = this,
            n = t.options,
            r = t.chart,
            i;
            t.isCartesian && cn(["xAxis", "yAxis"],
            function(s) {
                cn(r[s],
                function(r) {
                    i = r.options;
                    if (n[s] === i.index || n[s] !== e && n[s] === i.id || n[s] === e && i.index === 0) r.series.push(t),
                    t[s] = r,
                    r.isDirty = !0
                }),
                t[s] || nn(17, !0)
            })
        },
        autoIncrement: function() {
            var e = this,
            t = e.options,
            n = e.xIncrement;
            return n = jt(n, t.pointStart, 0),
            e.pointInterval = jt(e.pointInterval, t.pointInterval, 1),
            e.xIncrement = n + e.pointInterval,
            n
        },
        getSegments: function() {
            var e = this,
            t = -1,
            n = [],
            r,
            i = e.points,
            s = i.length;
            if (s) if (e.options.connectNulls) {
                r = s;
                while (r--) i[r].y === null && i.splice(r, 1);
                i.length && (n = [i])
            } else cn(i,
            function(e, r) {
                e.y === null ? (r > t + 1 && n.push(i.slice(t + 1, r)), t = r) : r === s - 1 && n.push(i.slice(t + 1, r + 1))
            });
            e.segments = n
        },
        setOptions: function(e) {
            var t = this.chart,
            n = t.options,
            r = n.plotOptions,
            i = r[this.type],
            s;
            return this.userOptions = e,
            s = Tt(i, r.series, e),
            this.tooltipOptions = Tt(n.tooltip, s.tooltip),
            i.marker === null && delete s.marker,
            s
        },
        getColor: function() {
            var e = this.options,
            t = this.userOptions,
            n = this.chart.options.colors,
            r = this.chart.counters,
            i, s;
            i = e.color || Sn[this.type].color,
            !i && !e.colorByPoint && (Pt(t._colorIndex) ? s = t._colorIndex: (t._colorIndex = r.color, s = r.color++), i = n[s]),
            this.color = i,
            r.wrapColor(n.length)
        },
        getSymbol: function() {
            var e = this,
            t = e.userOptions,
            n = e.options.marker,
            r = e.chart,
            i = r.options.symbols,
            s = r.counters,
            o;
            e.symbol = n.symbol,
            e.symbol || (Pt(t._symbolIndex) ? o = t._symbolIndex: (t._symbolIndex = s.symbol, o = s.symbol++), e.symbol = i[o]),
            /^url/.test(e.symbol) && (n.radius = 0),
            s.wrapSymbol(i.length)
        },
        drawLegendSymbol: function(e) {
            var t = this.options,
            n = t.marker,
            r, i = e.options,
            s, o = i.symbolWidth,
            u = this.chart.renderer,
            a = this.legendGroup,
            f = e.baseline,
            l;
            t.lineWidth && (l = {
                "stroke-width": t.lineWidth
            },
            t.dashStyle && (l.dashstyle = t.dashStyle), this.legendLine = u.path([$, 0, f - 4, J, o, f - 4]).attr(l).add(a)),
            n && n.enabled && (r = n.radius, this.legendSymbol = s = u.symbol(this.symbol, o / 2 - r, f - 4 - r, 2 * r, 2 * r).add(a))
        },
        addPoint: function(e, t, n, r) {
            var i = this,
            s = i.options,
            o = i.data,
            u = i.graph,
            a = i.area,
            f = i.chart,
            l = i.xData,
            c = i.yData,
            h = i.zData,
            p = i.names,
            d = u && u.shift || 0,
            v = s.data,
            m;
            sn(r, f),
            u && n && (u.shift = d + 1),
            a && (n && (a.shift = d + 1), a.isArea = !0),
            t = jt(t, !0),
            m = {
                series: i
            },
            i.pointClass.prototype.applyOptions.apply(m, [e]),
            l.push(m.x),
            c.push(i.toYData ? i.toYData(m) : m.y),
            h.push(m.z),
            p && (p[m.x] = m.name),
            v.push(e),
            s.legendType === "point" && i.generatePoints(),
            n && (o[0] && o[0].remove ? o[0].remove(!1) : (o.shift(), l.shift(), c.shift(), h.shift(), v.shift())),
            i.getAttribs(),
            i.isDirty = !0,
            i.isDirtyData = !0,
            t && f.redraw()
        },
        setData: function(t, n) {
            var r = this,
            i = r.points,
            s = r.options,
            o = r.chart,
            u = null,
            a = r.xAxis,
            f = a && a.categories && !a.categories.length ? [] : null,
            l;
            r.xIncrement = null,
            r.pointRange = a && a.categories ? 1 : s.pointRange,
            r.colorCounter = 0;
            var c = [],
            h = [],
            p = [],
            d = t ? t.length: [],
            v = s.turboThreshold || 1E3,
            m,
            g = r.pointArrayMap,
            y = g && g.length,
            b = !!r.toYData;
            if (d > v) {
                l = 0;
                while (u === null && l < d) u = t[l],
                l++;
                if (Ot(u)) {
                    var w = jt(s.pointStart, 0),
                    E = jt(s.pointInterval, 1);
                    for (l = 0; l < d; l++) c[l] = w,
                    h[l] = t[l],
                    w += E;
                    r.xIncrement = w
                } else if (At(u)) if (y) for (l = 0; l < d; l++) m = t[l],
                c[l] = m[0],
                h[l] = m.slice(1, y + 1);
                else for (l = 0; l < d; l++) m = t[l],
                c[l] = m[0],
                h[l] = m[1]
            } else for (l = 0; l < d; l++) t[l] !== e && (m = {
                series: r
            },
            r.pointClass.prototype.applyOptions.apply(m, [t[l]]), c[l] = m.x, h[l] = b ? r.toYData(m) : m.y, p[l] = m.z, f && m.name && (f[l] = m.name));
            r.requireSorting && c.length > 1 && c[1] < c[0] && nn(15),
            kt(h[0]) && nn(14, !0),
            r.data = [],
            r.options.data = t,
            r.xData = c,
            r.yData = h,
            r.zData = p,
            r.names = f,
            l = i && i.length || 0;
            while (l--) i[l] && i[l].destroy && i[l].destroy();
            a && (a.minRange = a.userMinRange),
            r.isDirty = r.isDirtyData = o.isDirtyBox = !0,
            jt(n, !0) && o.redraw(!1)
        },
        remove: function(e, t) {
            var n = this,
            r = n.chart;
            e = jt(e, !0),
            n.isRemoving || (n.isRemoving = !0, gn(n, "remove", null,
            function() {
                n.destroy(),
                r.isDirtyLegend = r.isDirtyBox = !0,
                e && r.redraw(t)
            })),
            n.isRemoving = !1
        },
        processData: function(t) {
            var n = this,
            r = n.xData,
            i = n.yData,
            s = r.length,
            o = 0,
            a = s,
            f, l, c, h = n.xAxis,
            p, d = n.options,
            v = d.cropThreshold,
            m = n.isCartesian;
            if (m && !n.isDirty && !h.isDirty && !n.yAxis.isDirty && !t) return ! 1;
            if (m && n.sorted && (!v || s > v || n.forceCrop)) {
                var g = h.getExtremes(),
                y = g.min,
                b = g.max;
                if (r[s - 1] < y || r[0] > b) r = [],
                i = [];
                else if (r[0] < y || r[s - 1] > b) {
                    for (p = 0; p < s; p++) if (r[p] >= y) {
                        o = u(0, p - 1);
                        break
                    }
                    for (; p < s; p++) if (r[p] > b) {
                        a = p + 1;
                        break
                    }
                    r = r.slice(o, a),
                    i = i.slice(o, a),
                    f = !0
                }
            }
            for (p = r.length - 1; p > 0; p--) l = r[p] - r[p - 1],
            l > 0 && (c === e || l < c) && (c = l);
            n.cropped = f,
            n.cropStart = o,
            n.processedXData = r,
            n.processedYData = i,
            d.pointRange === null && (n.pointRange = c || 1),
            n.closestPointRange = c
        },
        generatePoints: function() {
            var t = this,
            n = t.options,
            r = n.data,
            i = t.data,
            s, o = t.processedXData,
            u = t.processedYData,
            a = t.pointClass,
            f = o.length,
            l = t.cropStart || 0,
            c, h = t.hasGroupedData,
            p, d = [],
            v;
            if (!i && !h) {
                var m = [];
                m.length = r.length,
                i = t.data = m
            }
            for (v = 0; v < f; v++) c = l + v,
            h ? d[v] = (new a).init(t, [o[v]].concat(Bt(u[v]))) : (i[c] ? p = i[c] : r[c] !== e && (i[c] = p = (new a).init(t, r[c], o[v])), d[v] = p);
            if (i && (f !== (s = i.length) || h)) for (v = 0; v < s; v++) v === l && !h && (v += f),
            i[v] && (i[v].destroyElements(), i[v].plotX = e);
            t.data = i,
            t.points = d
        },
        translate: function() {
            this.processedXData || this.processData(),
            this.generatePoints();
            var t = this,
            n = t.options,
            r = n.stacking,
            s = t.xAxis,
            o = s.categories,
            u = t.yAxis,
            a = t.points,
            f = a.length,
            l = !!t.modifyValue,
            c, h = u.series,
            p = h.length,
            d = n.pointPlacement === "between",
            v = n.threshold;
            while (p--) if (h[p].visible) {
                h[p] === t && (c = !0);
                break
            }
            for (p = 0; p < f; p++) {
                var m = a[p],
                g = m.x,
                y = m.y,
                b = m.low,
                w = u.stacks[(y < v ? "-": "") + t.stackKey],
                E,
                S;
                u.isLog && y <= 0 && (m.y = y = null),
                m.plotX = s.translate(g, 0, 0, 0, 1, d),
                r && t.visible && w && w[g] && (E = w[g], S = E.total, E.cum = b = E.cum - y, y = b + y, c && (b = jt(v, u.min)), u.isLog && b <= 0 && (b = null), r === "percent" && (b = S ? b * 100 / S: 0, y = S ? y * 100 / S: 0), m.percentage = S ? m.y * 100 / S: 0, m.total = m.stackTotal = S, m.stackY = y),
                m.yBottom = Pt(b) ? u.translate(b, 0, 1, 0, 1) : null,
                l && (y = t.modifyValue(y, m)),
                m.plotY = typeof y == "number" && y !== Infinity ? i(u.translate(y, 0, 1, 0, 1) * 10) / 10 : e,
                m.clientX = d ? s.translate(g, 0, 0, 0, 1) : m.plotX,
                m.negative = m.y < (v || 0),
                m.category = o && o[m.x] !== e ? o[m.x] : m.x
            }
            t.getSegments()
        },
        setTooltipPoints: function(e) {
            var t = this,
            n = [],
            r,
            i,
            o,
            a = t.xAxis,
            f = a ? a.tooltipLen || a.len: t.chart.plotSizeX,
            l,
            c,
            h = [];
            if (t.options.enableMouseTracking === !1) return;
            e && (t.tooltipPoints = null),
            cn(t.segments || t.points,
            function(e) {
                n = n.concat(e)
            }),
            a && a.reversed && (n = n.reverse()),
            r = n.length;
            for (c = 0; c < r; c++) {
                l = n[c],
                i = n[c - 1] ? o + 1 : 0,
                o = n[c + 1] ? u(0, s((l.clientX + (n[c + 1] ? n[c + 1].clientX: f)) / 2)) : f;
                while (i >= 0 && i <= o) h[i++] = l
            }
            t.tooltipPoints = h
        },
        tooltipHeaderFormatter: function(e) {
            var t = this,
            n = t.tooltipOptions,
            r = n.xDateFormat,
            i = t.xAxis,
            s = i && i.options.type === "datetime",
            o = n.headerFormat,
            u;
            if (s && !r) for (u in P) if (P[u] >= i.closestPointRange) {
                r = n.dateTimeLabelFormats[u];
                break
            }
            return s && r && Ot(e.key) && (o = o.replace("{point.key}", "{point.key:" + r + "}")),
            Vt(o, {
                point: e,
                series: t
            })
        },
        onMouseOver: function() {
            var e = this,
            t = e.chart,
            n = t.hoverSeries;
            n && n !== e && n.onMouseOut(),
            e.options.events.mouseOver && gn(e, "mouseOver"),
            e.setState(G),
            t.hoverSeries = e
        },
        onMouseOut: function() {
            var e = this,
            t = e.options,
            n = e.chart,
            r = n.tooltip,
            i = n.hoverPoint;
            i && i.onMouseOut(),
            e && t.events.mouseOut && gn(e, "mouseOut"),
            r && !t.stickyTracking && (!r.shared || e.noSharedTooltip) && r.hide(),
            e.setState(),
            n.hoverSeries = null
        },
        animate: function(e) {
            var t = this,
            n = t.chart,
            r = n.renderer,
            i, s, o = t.options.animation,
            u = n.clipBox,
            a = n.inverted,
            f;
            o && !Lt(o) && (o = Sn[t.type].animation),
            f = "_sharedClip" + o.duration + o.easing,
            e ? (i = n[f], s = n[f + "m"], i || (n[f] = i = r.clipRect(xt(u, {
                width: 0
            })), n[f + "m"] = s = r.clipRect( - 99, a ? -n.plotLeft: -n.plotTop, 99, a ? n.chartWidth: n.chartHeight)), t.group.clip(i), t.markerGroup.clip(s), t.sharedClipKey = f) : (i = n[f], i && (i.animate({
                width: n.plotSizeX
            },
            o), n[f + "m"].animate({
                width: n.plotSizeX + 99
            },
            o)), t.animate = null, t.animationTimeout = setTimeout(function() {
                t.afterAnimate()
            },
            o.duration))
        },
        afterAnimate: function() {
            var e = this.chart,
            t = this.sharedClipKey,
            n = this.group;
            n && this.options.clip !== !1 && (n.clip(e.clipRect), this.markerGroup.clip()),
            setTimeout(function() {
                t && e[t] && (e[t] = e[t].destroy(), e[t + "m"] = e[t + "m"].destroy())
            },
            100)
        },
        drawPoints: function() {
            var t = this,
            n, r = t.points,
            i = t.chart,
            s, o, u, a, f, l, c, h, p = t.options,
            d = p.marker,
            v, m, g, y = t.markerGroup;
            if (d.enabled || t._hasPointMarkers) {
                u = r.length;
                while (u--) a = r[u],
                s = a.plotX,
                o = a.plotY,
                h = a.graphic,
                v = a.marker || {},
                m = d.enabled && v.enabled === e || v.enabled,
                g = i.isInsidePlot(s, o, i.inverted),
                m && o !== e && !isNaN(o) && a.y !== null ? (n = a.pointAttr[a.selected ? Y: Q], f = n.r, l = jt(v.symbol, t.symbol), c = l.indexOf("url") === 0, h ? h.attr({
                    visibility: g ? S ? "inherit": W: U
                }).animate(xt({
                    x: s - f,
                    y: o - f
                },
                h.symbolName ? {
                    width: 2 * f,
                    height: 2 * f
                }: {})) : g && (f > 0 || c) && (a.graphic = h = i.renderer.symbol(l, s - f, o - f, 2 * f, 2 * f).attr(n).add(y))) : h && (a.graphic = h.destroy())
            }
        },
        convertAttribs: function(e, t, n, r) {
            var i = this.pointAttrToOptions,
            s, o, u = {};
            e = e || {},
            t = t || {},
            n = n || {},
            r = r || {};
            for (s in i) o = i[s],
            u[s] = jt(e[o], t[s], n[s], r[s]);
            return u
        },
        getAttribs: function() {
            var e = this,
            t = e.options,
            n = Sn[e.type].marker ? t.marker: t,
            r = n.states,
            i = r[G],
            s,
            o = e.color,
            u = {
                stroke: o,
                fill: o
            },
            a = e.points || [],
            f,
            l,
            c = [],
            h,
            p = e.pointAttrToOptions,
            d,
            v = t.negativeColor,
            m;
            t.marker ? (i.radius = i.radius || n.radius + 2, i.lineWidth = i.lineWidth || n.lineWidth + 1) : i.color = i.color || kn(i.color || o).brighten(i.brightness).get(),
            c[Q] = e.convertAttribs(n, u),
            cn([G, Y],
            function(t) {
                c[t] = e.convertAttribs(r[t], c[Q])
            }),
            e.pointAttr = c,
            f = a.length;
            while (f--) {
                l = a[f],
                n = l.options && l.options.marker || l.options,
                n && n.enabled === !1 && (n.radius = 0),
                l.negative && (l.color = l.fillColor = v),
                d = t.colorByPoint || l.color;
                if (l.options) for (m in p) Pt(n[p[m]]) && (d = !0);
                d ? (n = n || {},
                h = [], r = n.states || {},
                s = r[G] = r[G] || {},
                t.marker || (s.color = kn(s.color || l.color).brighten(s.brightness || i.brightness).get()), h[Q] = e.convertAttribs(xt({
                    color: l.color
                },
                n), c[Q]), h[G] = e.convertAttribs(r[G], c[G], h[Q]), h[Y] = e.convertAttribs(r[Y], c[Y], h[Q]), l.negative && t.marker && (h[Q].fill = h[G].fill = h[Y].fill = e.convertAttribs({
                    fillColor: v
                }).fill)) : h = c,
                l.pointAttr = h
            }
        },
        update: function(e, t) {
            var n = this.chart,
            r = this.userOptions,
            i = this.type;
            e = Tt(r, {
                animation: !1,
                index: this.index,
                pointStart: this.xData[0]
            },
            e),
            this.remove(!1),
            xt(this, St[e.type || i].prototype),
            this.init(n, e),
            jt(t, !0) && n.redraw(!1)
        },
        destroy: function() {
            var e = this,
            t = e.chart,
            n = /AppleWebKit\/533/.test(d),
            r,
            i,
            s = e.data || [],
            o,
            u,
            a;
            gn(e, "destroy"),
            mn(e),
            cn(["xAxis", "yAxis"],
            function(t) {
                a = e[t],
                a && (Dt(a.series, e), a.isDirty = a.forceRedraw = !0)
            }),
            e.legendItem && e.chart.legend.destroyItem(e),
            i = s.length;
            while (i--) o = s[i],
            o && o.destroy && o.destroy();
            e.points = null,
            clearTimeout(e.animationTimeout),
            cn(["area", "graph", "dataLabelsGroup", "group", "markerGroup", "tracker", "graphNeg", "areaNeg", "posClip", "negClip"],
            function(t) {
                e[t] && (r = n && t === "group" ? "hide": "destroy", e[t][r]())
            }),
            t.hoverSeries === e && (t.hoverSeries = null),
            Dt(t.series, e);
            for (u in e) delete e[u]
        },
        drawDataLabels: function() {
            var t = this,
            n = t.options,
            r = n.dataLabels,
            i = t.points,
            s, o, u, a;
            if (r.enabled || t._hasPointLabels) t.dlProcessOptions && t.dlProcessOptions(r),
            a = t.plotGroup("dataLabelsGroup", "data-labels", t.visible ? W: U, r.zIndex || 6),
            o = r,
            cn(i,
            function(n) {
                var i, f = n.dataLabel,
                l, c, h, p, d = n.connector,
                v = !0;
                s = n.options && n.options.dataLabels,
                i = o.enabled || s && s.enabled;
                if (f && !i) n.dataLabel = f.destroy();
                else if (i) {
                    p = r.rotation,
                    r = Tt(o, s),
                    l = n.getLabelConfig(),
                    u = r.format ? Vt(r.format, l) : r.formatter.call(l, r),
                    r.style.color = jt(r.color, r.style.color, t.color, "black");
                    if (f) Pt(u) ? (f.attr({
                        text: u
                    }), v = !1) : (n.dataLabel = f = f.destroy(), d && (n.connector = d.destroy()));
                    else if (Pt(u)) {
                        c = {
                            fill: r.backgroundColor,
                            stroke: r.borderColor,
                            "stroke-width": r.borderWidth,
                            r: r.borderRadius || 0,
                            rotation: p,
                            padding: r.padding,
                            zIndex: 1
                        };
                        for (h in c) c[h] === e && delete c[h];
                        f = n.dataLabel = t.chart.renderer[p ? "text": "label"](u, 0, -999, null, null, null, r.useHTML).attr(c).css(r.style).add(a).shadow(r.shadow)
                    }
                    f && t.alignDataLabel(n, f, r, null, v)
                }
            })
        },
        alignDataLabel: function(e, t, n, r, s) {
            var o = this.chart,
            u = o.inverted,
            a = jt(e.plotX, -999),
            f = jt(e.plotY, -999),
            l = t.getBBox(),
            c;
            r = xt({
                x: u ? o.plotWidth - f: a,
                y: i(u ? o.plotHeight - a: f),
                width: 0,
                height: 0
            },
            r),
            xt(n, {
                width: l.width,
                height: l.height
            }),
            n.rotation ? (c = {
                align: n.align,
                x: r.x + n.x + r.width / 2,
                y: r.y + n.y + r.height / 2
            },
            t[s ? "attr": "animate"](c)) : (t.align(n, null, r), c = t.alignAttr),
            t.attr({
                visibility: n.crop === !1 || o.isInsidePlot(a, f, u) ? o.renderer.isSVG ? "inherit": W: U
            })
        },
        getSegmentPath: function(e) {
            var t = this,
            n = [],
            r = t.options.step;
            return cn(e,
            function(i, s) {
                var o = i.plotX,
                u = i.plotY,
                a;
                t.getPointSpline ? n.push.apply(n, t.getPointSpline(e, i, s)) : (n.push(s ? J: $), r && s && (a = e[s - 1], r === "right" ? n.push(a.plotX, u) : r === "center" ? n.push((a.plotX + o) / 2, a.plotY, (a.plotX + o) / 2, u) : n.push(o, a.plotY)), n.push(i.plotX, i.plotY))
            }),
            n
        },
        getGraphPath: function() {
            var e = this,
            t = [],
            n,
            r = [];
            return cn(e.segments,
            function(i) {
                n = e.getSegmentPath(i),
                i.length > 1 ? t = t.concat(n) : r.push(i[0])
            }),
            e.singlePoints = r,
            e.graphPath = t,
            t
        },
        drawGraph: function() {
            var e = this,
            t = this.options,
            n = [["graph", t.lineColor || this.color]],
            r = t.lineWidth,
            i = t.dashStyle,
            s = this.getGraphPath(),
            o = t.negativeColor;
            o && n.push(["graphNeg", o]),
            cn(n,
            function(n, o) {
                var u = n[0],
                a = e[u],
                f;
                a ? (wn(a), a.animate({
                    d: s
                })) : r && s.length && (f = {
                    stroke: n[1],
                    "stroke-width": r,
                    zIndex: 1
                },
                i && (f.dashstyle = i), e[u] = e.chart.renderer.path(s).attr(f).add(e.group).shadow(!o && t.shadow))
            })
        },
        clipNeg: function() {
            var e = this.options,
            t = this.chart,
            n = t.renderer,
            r = e.negativeColor,
            i, s, a, f = this.posClip,
            l = this.negClip,
            c = t.chartWidth,
            h = t.chartHeight,
            p = u(c, h),
            d,
            v;
            r && this.graph && (i = o(this.yAxis.len - this.yAxis.translate(e.threshold || 0)), d = {
                x: 0,
                y: 0,
                width: p,
                height: i
            },
            v = {
                x: 0,
                y: i,
                width: p,
                height: p - i
            },
            t.inverted && n.isVML && (d = {
                x: t.plotWidth - i - t.plotLeft,
                y: 0,
                width: c,
                height: h
            },
            v = {
                x: i + t.plotLeft - c,
                y: 0,
                width: t.plotLeft + i,
                height: c
            }), this.yAxis.reversed ? (s = v, a = d) : (s = d, a = v), f ? (f.animate(s), l.animate(a)) : (this.posClip = f = n.clipRect(s), this.graph.clip(f), this.negClip = l = n.clipRect(a), this.graphNeg.clip(l), this.area && (this.area.clip(f), this.areaNeg.clip(l))))
        },
        invertGroups: function() {
            function n() {
                var t = {
                    width: e.yAxis.len,
                    height: e.xAxis.len
                };
                cn(["group", "markerGroup"],
                function(n) {
                    e[n] && e[n].attr(t).invert()
                })
            }
            var e = this,
            t = e.chart;
            vn(t, "resize", n),
            vn(e, "destroy",
            function() {
                mn(t, "resize", n)
            }),
            n(),
            e.invertGroups = n
        },
        plotGroup: function(e, t, n, r, i) {
            var s = this[e],
            o = !s,
            u = this.chart,
            a = this.xAxis,
            f = this.yAxis;
            return o && (this[e] = s = u.renderer.g(t).attr({
                visibility: n,
                zIndex: r || .1
            }).add(i)),
            s[o ? "attr": "animate"]({
                translateX: a ? a.left: u.plotLeft,
                translateY: f ? f.top: u.plotTop
            }),
            s
        },
        render: function() {
            var e = this,
            t = e.chart,
            n, r = e.options,
            i = r.animation,
            s = i && !!e.animate && t.renderer.isSVG,
            o = e.visible ? W: U,
            u = r.zIndex,
            a = e.hasRendered,
            f = t.seriesGroup;
            n = e.plotGroup("group", "series", o, u, f),
            e.markerGroup = e.plotGroup("markerGroup", "markers", o, u, f),
            s && e.animate(!0),
            e.getAttribs(),
            n.inverted = t.inverted,
            e.drawGraph && (e.drawGraph(), e.clipNeg()),
            e.drawDataLabels(),
            e.drawPoints(),
            e.options.enableMouseTracking !== !1 && e.drawTracker(),
            t.inverted && e.invertGroups(),
            r.clip !== !1 && !e.sharedClipKey && !a && n.clip(t.clipRect),
            s ? e.animate() : a || e.afterAnimate(),
            e.isDirty = e.isDirtyData = !1,
            e.hasRendered = !0
        },
        redraw: function() {
            var e = this,
            t = e.chart,
            n = e.isDirtyData,
            r = e.group,
            i = e.xAxis,
            s = e.yAxis;
            r && (t.inverted && r.attr({
                width: t.plotWidth,
                height: t.plotHeight
            }), r.animate({
                translateX: jt(i && i.left, t.plotLeft),
                translateY: jt(s && s.top, t.plotTop)
            })),
            e.translate(),
            e.setTooltipPoints(!0),
            e.render(),
            n && gn(e, "updatedData")
        },
        setState: function(e) {
            var t = this,
            n = t.options,
            r = t.graph,
            i = t.graphNeg,
            s = n.states,
            o = n.lineWidth,
            u;
            e = e || Q;
            if (t.state !== e) {
                t.state = e;
                if (s[e] && s[e].enabled === !1) return;
                e && (o = s[e].lineWidth || o + 1),
                r && !r.dashstyle && (u = {
                    "stroke-width": o
                },
                r.attr(u), i && i.attr(u))
            }
        },
        setVisible: function(t, n) {
            var r = this,
            i = r.chart,
            s = r.legendItem,
            o, u = i.options.chart.ignoreHiddenSeries,
            a = r.visible;
            r.visible = t = r.userOptions.visible = t === e ? !a: t,
            o = t ? "show": "hide",
            cn(["group", "dataLabelsGroup", "markerGroup", "tracker"],
            function(e) {
                r[e] && r[e][o]()
            }),
            i.hoverSeries === r && r.onMouseOut(),
            s && i.legend.colorizeItem(r, t),
            r.isDirty = !0,
            r.options.stacking && cn(i.series,
            function(e) {
                e.options.stacking && e.visible && (e.isDirty = !0)
            }),
            cn(r.linkedSeries,
            function(e) {
                e.setVisible(t, !1)
            }),
            u && (i.isDirtyBox = !0),
            n !== !1 && i.redraw(),
            gn(r, o)
        },
        show: function() {
            this.setVisible(!0)
        },
        hide: function() {
            this.setVisible(!1)
        },
        select: function(t) {
            var n = this;
            n.selected = t = t === e ? !n.selected: t,
            n.checkbox && (n.checkbox.checked = t),
            gn(n, t ? "select": "unselect")
        },
        drawTracker: function() {
            var e = this,
            t = e.options,
            n = t.trackByArea,
            r = [].concat(n ? e.areaPath: e.graphPath),
            i = r.length,
            s = e.chart,
            o = s.pointer,
            u = s.renderer,
            a = s.options.tooltip.snap,
            f = e.tracker,
            l = t.cursor,
            c = l && {
                cursor: l
            },
            h = e.singlePoints,
            p,
            d,
            v = function() {
                s.hoverSeries !== e && e.onMouseOver()
            };
            if (i && !n) {
                d = i + 1;
                while (d--) r[d] === $ && r.splice(d + 1, 0, r[d + 1] - a, r[d + 2], J),
                (d && r[d] === $ || d === i) && r.splice(d, 0, J, r[d - 2] + a, r[d - 1])
            }
            for (d = 0; d < h.length; d++) p = h[d],
            r.push($, p.plotX - a, p.plotY, J, p.plotX + a, p.plotY);
            f ? f.attr({
                d: r
            }) : (e.tracker = f = u.path(r).attr({
                "class": z + "tracker",
                "stroke-linejoin": "round",
                visibility: e.visible ? W: U,
                stroke: K,
                fill: n ? K: V,
                "stroke-width": t.lineWidth + (n ? 0 : 2 * a),
                zIndex: 2
            }).addClass(z + "tracker").on("mouseover", v).on("mouseout",
            function(e) {
                o.onTrackerMouseOut(e)
            }).css(c).add(e.markerGroup), C && f.on("touchstart", v))
        }
    };
    var Xn = qt(Wn);
    St.line = Xn,
    Sn.area = Tt(xn, {
        threshold: 0
    });
    var Vn = qt(Wn, {
        type: "area",
        getSegments: function() {
            var e = [],
            t = this.yAxis.stacks[this.stackKey],
            n = {},
            r,
            i,
            s = this.points,
            o,
            u;
            if (this.options.stacking && !this.cropped) {
                for (o = 0; o < s.length; o++) n[s[o].x] = s[o];
                for (u in t) n[u] ? e.push(n[u]) : (r = this.xAxis.translate(u), i = this.yAxis.toPixels(t[u].cum, !0), e.push({
                    y: null,
                    plotX: r,
                    clientX: r,
                    plotY: i,
                    yBottom: i,
                    onMouseOver: H
                }));
                e = [e]
            } else Wn.prototype.getSegments.call(this),
            e = this.segments;
            this.segments = e
        },
        getSegmentPath: function(e) {
            var t = Wn.prototype.getSegmentPath.call(this, e),
            n = [].concat(t),
            r,
            i = this.options,
            s = t.length;
            s === 3 && n.push(J, t[1], t[2]);
            if (i.stacking && !this.closedStacks) for (r = e.length - 1; r >= 0; r--) r < e.length - 1 && i.step && n.push(e[r + 1].plotX, e[r].yBottom),
            n.push(e[r].plotX, e[r].yBottom);
            else this.closeSegment(n, e);
            return this.areaPath = this.areaPath.concat(n),
            t
        },
        closeSegment: function(e, t) {
            var n = this.yAxis.getThreshold(this.options.threshold);
            e.push(J, t[t.length - 1].plotX, n, J, t[0].plotX, n)
        },
        drawGraph: function() {
            this.areaPath = [],
            Wn.prototype.drawGraph.apply(this);
            var e = this,
            t = this.areaPath,
            n = this.options,
            r = n.negativeColor,
            i = [["area", this.color, n.fillColor]];
            r && i.push(["areaNeg", n.negativeColor, n.negativeFillColor]),
            cn(i,
            function(r) {
                var i = r[0],
                s = e[i];
                s ? s.animate({
                    d: t
                }) : e[i] = e.chart.renderer.path(t).attr({
                    fill: jt(r[2], kn(r[1]).setOpacity(n.fillOpacity || .75).get()),
                    zIndex: 0
                }).add(e.group)
            })
        },
        drawLegendSymbol: function(e, t) {
            t.legendSymbol = this.chart.renderer.rect(0, e.baseline - 11, e.options.symbolWidth, 12, 2).attr({
                zIndex: 3
            }).add(t.legendGroup)
        }
    });
    St.area = Vn,
    Sn.spline = Tt(xn);
    var $n = qt(Wn, {
        type: "spline",
        getPointSpline: function(e, t, n) {
            var r = 1.5,
            i = r + 1,
            s = t.plotX,
            o = t.plotY,
            f = e[n - 1],
            l = e[n + 1],
            c,
            h,
            p,
            d,
            v;
            if (f && l) {
                var m = f.plotX,
                g = f.plotY,
                y = l.plotX,
                b = l.plotY,
                w;
                c = (r * s + m) / i,
                h = (r * o + g) / i,
                p = (r * s + y) / i,
                d = (r * o + b) / i,
                w = (d - h) * (p - s) / (p - c) + o - d,
                h += w,
                d += w,
                h > g && h > o ? (h = u(g, o), d = 2 * o - h) : h < g && h < o && (h = a(g, o), d = 2 * o - h),
                d > b && d > o ? (d = u(b, o), h = 2 * o - d) : d < b && d < o && (d = a(b, o), h = 2 * o - d),
                t.rightContX = p,
                t.rightContY = d
            }
            return n ? (v = ["C", f.rightContX || f.plotX, f.rightContY || f.plotY, c || s, h || o, s, o], f.rightContX = f.rightContY = null) : v = [$, s, o],
            v
        }
    });
    St.spline = $n,
    Sn.areaspline = Tt(Sn.area);
    var Jn = Vn.prototype,
    Kn = qt($n, {
        type: "areaspline",
        closedStacks: !0,
        getSegmentPath: Jn.getSegmentPath,
        closeSegment: Jn.closeSegment,
        drawGraph: Jn.drawGraph
    });
    St.areaspline = Kn,
    Sn.column = Tt(xn, {
        borderColor: "#FFFFFF",
        borderWidth: 1,
        borderRadius: 0,
        groupPadding: .2,
        marker: null,
        pointPadding: .1,
        minPointLength: 0,
        cropThreshold: 50,
        pointRange: null,
        states: {
            hover: {
                brightness: .1,
                shadow: !1
            },
            select: {
                color: "#C0C0C0",
                borderColor: "#000000",
                shadow: !1
            }
        },
        dataLabels: {
            align: null,
            verticalAlign: null,
            y: null
        },
        stickyTracking: !1,
        threshold: 0
    });
    var Qn = qt(Wn, {
        type: "column",
        tooltipOutsidePlot: !0,
        requireSorting: !1,
        pointAttrToOptions: {
            stroke: "borderColor",
            "stroke-width": "borderWidth",
            fill: "color",
            r: "borderRadius"
        },
        trackerGroups: ["group", "dataLabelsGroup"],
        init: function() {
            Wn.prototype.init.apply(this, arguments);
            var e = this,
            t = e.chart;
            t.hasRendered && cn(t.series,
            function(t) {
                t.type === e.type && (t.isDirty = !0)
            })
        },
        getColumnMetrics: function() {
            var t = this,
            n = t.chart,
            r = t.options,
            i = this.xAxis,
            s = i.reversed,
            o, u = {},
            l, c = 0;
            r.grouping === !1 ? c = 1 : cn(n.series,
            function(n) {
                var r = n.options;
                n.type === t.type && n.visible && t.options.group === r.group && (r.stacking ? (o = n.stackKey, u[o] === e && (u[o] = c++), l = u[o]) : r.grouping !== !1 && (l = c++), n.columnIndex = l)
            });
            var h = a(f(i.transA) * (i.ordinalSlope || r.pointRange || i.closestPointRange || 1), i.len),
            p = h * r.groupPadding,
            d = h - 2 * p,
            v = d / c,
            m = r.pointWidth,
            g = Pt(m) ? (v - m) / 2 : v * r.pointPadding,
            y = jt(m, v - 2 * g),
            b = (s ? c - (t.columnIndex || 0) : t.columnIndex) || 0,
            w = g + (p + b * v - h / 2) * (s ? -1 : 1);
            return t.columnMetrics = {
                width: y,
                offset: w
            }
        },
        translate: function() {
            var e = this,
            t = e.chart,
            n = e.options,
            r = n.stacking,
            i = n.borderWidth,
            s = e.yAxis,
            l = n.threshold,
            c = e.translatedThreshold = s.getThreshold(l),
            h = jt(n.minPointLength, 5),
            p = e.getColumnMetrics(),
            d = p.width,
            v = o(u(d, 1 + 2 * i)),
            m = p.offset;
            Wn.prototype.translate.apply(e),
            cn(e.points,
            function(n) {
                var l = a(u( - 999, n.plotY), s.len + 999),
                p = jt(n.yBottom, c),
                g = n.plotX + m,
                y = o(a(l, p)),
                b = o(u(l, p) - y),
                w = s.stacks[(n.y < 0 ? "-": "") + e.stackKey],
                E;
                r && e.visible && w && w[n.x] && w[n.x].setOffset(m, v),
                f(b) < h && h && (b = h, y = f(y - c) > h ? p - h: c - (s.translate(n.y, 0, 1, 0, 1) <= c ? h: 0)),
                n.barX = g,
                n.pointWidth = d,
                n.shapeType = "rect",
                n.shapeArgs = E = t.renderer.Element.prototype.crisp.call(0, i, g, y, v, b),
                i % 2 && (E.y -= 1, E.height += 1)
            })
        },
        getSymbol: H,
        drawLegendSymbol: Vn.prototype.drawLegendSymbol,
        drawGraph: H,
        drawPoints: function() {
            var t = this,
            n = t.options,
            r = t.chart.renderer,
            i;
            cn(t.points,
            function(s) {
                var o = s.plotY,
                u = s.graphic;
                o !== e && !isNaN(o) && s.y !== null ? (i = s.shapeArgs, u ? (wn(u), u.animate(Tt(i))) : s.graphic = u = r[s.shapeType](i).attr(s.pointAttr[s.selected ? Y: Q]).add(t.group).shadow(n.shadow, null, n.stacking && !n.borderRadius)) : u && (s.graphic = u.destroy())
            })
        },
        drawTracker: function() {
            var t = this,
            n = t.chart.pointer,
            r = t.options.cursor,
            i = r && {
                cursor: r
            },
            s = function(n) {
                var r = n.target,
                i;
                t.onMouseOver();
                while (r && !i) i = r.point,
                r = r.parentNode;
                i !== e && i.onMouseOver(n)
            };
            cn(t.points,
            function(e) {
                e.graphic && (e.graphic.element.point = e),
                e.dataLabel && (e.dataLabel.element.point = e)
            }),
            t._hasTracking ? t._hasTracking = !0 : cn(t.trackerGroups,
            function(e) {
                t[e] && (t[e].addClass(z + "tracker").on("mouseover", s).on("mouseout",
                function(e) {
                    n.onTrackerMouseOut(e)
                }).css(i), C && t[e].on("touchstart", s))
            })
        },
        alignDataLabel: function(e, t, n, r, i) {
            var s = this.chart,
            o = s.inverted,
            u = e.dlBox || e.shapeArgs,
            a = e.below || e.plotY > jt(this.translatedThreshold, s.plotSizeY),
            f = jt(n.inside, !!this.options.stacking);
            u && (r = Tt(u), o && (r = {
                x: s.plotWidth - r.y - r.height,
                y: s.plotHeight - r.x - r.width,
                width: r.height,
                height: r.width
            }), f || (o ? (r.x += a ? 0 : r.width, r.width = 0) : (r.y += a ? r.height: 0, r.height = 0))),
            n.align = jt(n.align, !o || f ? "center": a ? "right": "left"),
            n.verticalAlign = jt(n.verticalAlign, o || f ? "middle": a ? "top": "bottom"),
            Wn.prototype.alignDataLabel.call(this, e, t, n, r, i)
        },
        animate: function(e) {
            var t = this,
            n = this.yAxis,
            r = t.options,
            i = this.chart.inverted,
            s = {},
            o;
            S && (e ? (s.scaleY = .001, o = a(n.pos + n.len, u(n.pos, n.toPixels(r.threshold))), i ? s.translateX = o - n.len: s.translateY = o, t.group.attr(s)) : (s.scaleY = 1, s[i ? "translateX": "translateY"] = n.pos, t.group.animate(s, t.options.animation), t.animate = null))
        },
        remove: function() {
            var e = this,
            t = e.chart;
            t.hasRendered && cn(t.series,
            function(t) {
                t.type === e.type && (t.isDirty = !0)
            }),
            Wn.prototype.remove.apply(e, arguments)
        }
    });
    St.column = Qn,
    Sn.bar = Tt(Sn.column);
    var Gn = qt(Qn, {
        type: "bar",
        inverted: !0
    });
    St.bar = Gn,
    Sn.scatter = Tt(xn, {
        lineWidth: 0,
        tooltip: {
            headerFormat: '\x3cspan style\x3d"font-size: 10px; color:{series.color}"\x3e{series.name}\x3c/span\x3e\x3cbr/\x3e',
            pointFormat: "x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e",
            followPointer: !0
        },
        stickyTracking: !1
    });
    var Yn = qt(Wn, {
        type: "scatter",
        sorted: !1,
        requireSorting: !1,
        noSharedTooltip: !0,
        trackerGroups: ["markerGroup"],
        drawTracker: Qn.prototype.drawTracker,
        setTooltipPoints: H
    });
    St.scatter = Yn,
    Sn.pie = Tt(xn, {
        borderColor: "#FFFFFF",
        borderWidth: 1,
        center: [null, null],
        colorByPoint: !0,
        dataLabels: {
            distance: 30,
            enabled: !0,
            formatter: function() {
                return this.point.name
            }
        },
        ignoreHiddenPoint: !0,
        legendType: "point",
        marker: null,
        size: null,
        showInLegend: !1,
        slicedOffset: 10,
        states: {
            hover: {
                brightness: .1,
                shadow: !1
            }
        },
        stickyTracking: !1,
        tooltip: {
            followPointer: !0
        }
    });
    var Zn = qt(zn, {
        init: function() {
            zn.prototype.init.apply(this, arguments);
            var e = this,
            t;
            return e.y < 0 && (e.y = null),
            xt(e, {
                visible: e.visible !== !1,
                name: jt(e.name, "Slice")
            }),
            t = function() {
                e.slice()
            },
            vn(e, "select", t),
            vn(e, "unselect", t),
            e
        },
        setVisible: function(t) {
            var n = this,
            r = n.series,
            i = r.chart,
            s;
            n.visible = n.options.visible = t = t === e ? !n.visible: t,
            r.options.data[ln(n, r.data)] = n.options,
            s = t ? "show": "hide",
            cn(["graphic", "dataLabel", "connector", "shadowGroup"],
            function(e) {
                n[e] && n[e][s]()
            }),
            n.legendItem && i.legend.colorizeItem(n, t),
            !r.isDirty && r.options.ignoreHiddenPoint && (r.isDirty = !0, i.redraw())
        },
        slice: function(e, t, n) {
            var r = this,
            i = r.series,
            s = i.chart,
            o;
            sn(n, s),
            t = jt(t, !0),
            r.sliced = r.options.sliced = e = Pt(e) ? e: !r.sliced,
            i.options.data[ln(r, i.data)] = r.options,
            o = e ? r.slicedTranslation: {
                translateX: 0,
                translateY: 0
            },
            r.graphic.animate(o),
            r.shadowGroup && r.shadowGroup.animate(o)
        }
    }),
    er = {
        type: "pie",
        isCartesian: !1,
        pointClass: Zn,
        requireSorting: !1,
        noSharedTooltip: !0,
        trackerGroups: ["group", "dataLabelsGroup"],
        pointAttrToOptions: {
            stroke: "borderColor",
            "stroke-width": "borderWidth",
            fill: "color"
        },
        getColor: H,
        animate: function(e) {
            var t = this,
            n = t.points,
            r = t.startAngleRad;
            e || (cn(n,
            function(e) {
                var n = e.graphic,
                i = e.shapeArgs;
                n && (n.attr({
                    r: t.center[3] / 2,
                    start: r,
                    end: r
                }), n.animate({
                    r: i.r,
                    start: i.start,
                    end: i.end
                },
                t.options.animation))
            }), t.animate = null)
        },
        setData: function(e, t) {
            Wn.prototype.setData.call(this, e, !1),
            this.processData(),
            this.generatePoints(),
            jt(t, !0) && this.chart.redraw()
        },
        getCenter: function() {
            var e = this.options,
            t = this.chart,
            n = 2 * (e.dataLabels && e.dataLabels.enabled ? 0 : e.slicedOffset || 0),
            r = t.plotWidth - 2 * n,
            i = t.plotHeight - 2 * n,
            s = e.center,
            o = [jt(s[0], "50%"), jt(s[1], "50%"), e.size || "100%", e.innerSize || 0],
            u = a(r, i),
            f;
            return dn(o,
            function(e, t) {
                return f = /%$/.test(e),
                (f ? [r, i, u, u][t] * Ct(e) / 100 : e) + (t < 3 ? n: 0)
            })
        },
        translate: function(e) {
            this.generatePoints();
            var t = 0,
            n = this,
            s = 0,
            o = 1E3,
            u = n.options,
            a = u.slicedOffset,
            f = a + u.borderWidth,
            p, d, v, m = n.startAngleRad = h / 180 * ((u.startAngle || 0) % 360 - 90),
            g = n.points,
            y = 2 * h,
            b,
            w,
            E,
            S = u.dataLabels.distance,
            x = u.ignoreHiddenPoint,
            T,
            N = g.length,
            C;
            e || (n.center = e = n.getCenter()),
            n.getX = function(t, n) {
                return v = r.asin((t - e[1]) / (e[2] / 2 + S)),
                e[0] + (n ? -1 : 1) * l(v) * (e[2] / 2 + S)
            };
            for (T = 0; T < N; T++) C = g[T],
            t += x && !C.visible ? 0 : C.y;
            for (T = 0; T < N; T++) {
                C = g[T],
                b = t ? C.y / t: 0,
                p = i((m + s * y) * o) / o;
                if (!x || C.visible) s += b;
                d = i((m + s * y) * o) / o,
                C.shapeType = "arc",
                C.shapeArgs = {
                    x: e[0],
                    y: e[1],
                    r: e[2] / 2,
                    innerR: e[3] / 2,
                    start: p,
                    end: d
                },
                v = (d + p) / 2,
                v > .75 * y && (v -= 2 * h),
                C.slicedTranslation = {
                    translateX: i(l(v) * a),
                    translateY: i(c(v) * a)
                },
                w = l(v) * e[2] / 2,
                E = c(v) * e[2] / 2,
                C.tooltipPos = [e[0] + w * .7, e[1] + E * .7],
                C.half = v < y / 4 ? 0 : 1,
                C.angle = v,
                C.labelPos = [e[0] + w + l(v) * S, e[1] + E + c(v) * S, e[0] + w + l(v) * f, e[1] + E + c(v) * f, e[0] + w, e[1] + E, S < 0 ? "center": C.half ? "right": "left", v],
                C.percentage = b * 100,
                C.total = t
            }
            this.setTooltipPoints()
        },
        drawGraph: null,
        drawPoints: function() {
            var e = this,
            t = e.chart,
            n = t.renderer,
            r, i, s = e.options.shadow,
            o, u;
            s && !e.shadowGroup && (e.shadowGroup = n.g("shadow").add(e.group)),
            cn(e.points,
            function(t) {
                i = t.graphic,
                u = t.shapeArgs,
                o = t.shadowGroup,
                s && !o && (o = t.shadowGroup = n.g("shadow").add(e.shadowGroup)),
                r = t.sliced ? t.slicedTranslation: {
                    translateX: 0,
                    translateY: 0
                },
                o && o.attr(r),
                i ? i.animate(xt(u, r)) : t.graphic = i = n.arc(u).setRadialReference(e.center).attr(t.pointAttr[t.selected ? Y: Q]).attr({
                    "stroke-linejoin": "round"
                }).attr(r).add(e.group).shadow(s, o),
                t.visible === !1 && t.setVisible(!1)
            })
        },
        drawDataLabels: function() {
            var e = this,
            t = e.data,
            n, r = e.chart,
            s = e.options.dataLabels,
            o = jt(s.connectorPadding, 10),
            a = jt(s.connectorWidth, 1),
            l = r.plotWidth,
            c = r.plotHeight,
            h,
            p,
            d = jt(s.softConnector, !0),
            v = s.distance,
            m = e.center,
            g = m[2] / 2,
            y = m[1],
            b = v > 0,
            w,
            E,
            S,
            x,
            T = [[], []],
            N,
            C,
            k,
            L,
            A,
            O,
            M = [0, 0, 0, 0],
            _ = function(e, t) {
                return t.y - e.y
            },
            D = function(e, t) {
                e.sort(function(e, n) {
                    return e.angle !== undefined && (n.angle - e.angle) * t
                })
            };
            if (!s.enabled && !e._hasPointLabels) return;
            Wn.prototype.drawDataLabels.apply(e),
            cn(t,
            function(e) {
                e.dataLabel && T[e.half].push(e)
            }),
            A = 0;
            while (!x && t[A]) x = t[A] && t[A].dataLabel && (t[A].dataLabel.getBBox().height || 21),
            A++;
            A = 2;
            while (A--) {
                var P = [],
                H,
                B = [],
                j = T[A],
                F,
                I = j.length,
                q;
                D(j, A - .5);
                if (v > 0) {
                    for (F = y - g - v; F <= y + g + v; F += x) P.push(F);
                    H = P.length;
                    if (I > H) {
                        L = [].concat(j),
                        L.sort(_),
                        O = I;
                        while (O--) L[O].rank = O;
                        O = I;
                        while (O--) j[O].rank >= H && j.splice(O, 1);
                        I = j.length
                    }
                    for (O = 0; O < I; O++) {
                        n = j[O],
                        S = n.labelPos;
                        var R = 9999,
                        z, X;
                        for (X = 0; X < H; X++) z = f(P[X] - S[1]),
                        z < R && (R = z, q = X);
                        if (q < O && P[O] !== null) q = O;
                        else if (H < I - O + q && P[O] !== null) {
                            q = H - I + O;
                            while (P[q] === null) q++
                        } else while (P[q] === null) q++;
                        B.push({
                            i: q,
                            y: P[q]
                        }),
                        P[q] = null
                    }
                    B.sort(_)
                }
                for (O = 0; O < I; O++) {
                    var V, K;
                    n = j[O],
                    S = n.labelPos,
                    w = n.dataLabel,
                    k = n.visible === !1 ? U: W,
                    K = S[1];
                    if (v > 0) {
                        V = B.pop(),
                        q = V.i,
                        C = V.y;
                        if (K > C && P[q + 1] !== null || K < C && P[q - 1] !== null) C = K
                    } else C = K;
                    N = s.justify ? m[0] + (A ? -1 : 1) * (g + v) : e.getX(q === 0 || q === P.length - 1 ? K: C, A),
                    w._attr = {
                        visibility: k,
                        align: S[6]
                    },
                    w._pos = {
                        x: N + s.x + ({
                            left: o,
                            right: -o
                        } [S[6]] || 0),
                        y: C + s.y - 10
                    },
                    w.connX = N,
                    w.connY = C,
                    this.options.size === null && (E = w.width, N - E < o ? M[3] = u(i(E - N + o), M[3]) : N + E > l - o && (M[1] = u(i(N + E - l + o), M[1])), C - x / 2 < 0 ? M[0] = u(i( - C + x / 2), M[0]) : C + x / 2 > c && (M[2] = u(i(C + x / 2 - c), M[2])))
                }
            }
            if (Zt(M) === 0 || this.verifyDataLabelOverflow(M)) this.placeDataLabels(),
            b && a && cn(this.points,
            function(t) {
                h = t.connector,
                S = t.labelPos,
                w = t.dataLabel,
                w && w._pos ? (N = w.connX, C = w.connY, p = d ? [$, N + (S[6] === "left" ? 5 : -5), C, "C", N, C, 2 * S[2] - S[4], 2 * S[3] - S[5], S[2], S[3], J, S[4], S[5]] : [$, N + (S[6] === "left" ? 5 : -5), C, J, S[2], S[3], J, S[4], S[5]], h ? (h.animate({
                    d: p
                }), h.attr("visibility", k)) : t.connector = h = e.chart.renderer.path(p).attr({
                    "stroke-width": a,
                    stroke: s.connectorColor || t.color || "#606060",
                    visibility: k
                }).add(e.group)) : h && (t.connector = h.destroy())
            })
        },
        verifyDataLabelOverflow: function(e) {
            var t = this.center,
            n = this.options,
            r = n.center,
            i = n.minSize || 80,
            s = i,
            o;
            return r[0] !== null ? s = u(t[2] - u(e[1], e[3]), i) : (s = u(t[2] - e[1] - e[3], i), t[0] += (e[3] - e[1]) / 2),
            r[1] !== null ? s = u(a(s, t[2] - u(e[0], e[2])), i) : (s = u(a(s, t[2] - e[0] - e[2]), i), t[1] += (e[0] - e[2]) / 2),
            s < t[2] ? (t[2] = s, this.translate(t), cn(this.points,
            function(e) {
                e.dataLabel && (e.dataLabel._pos = null)
            }), this.drawDataLabels()) : o = !0,
            o
        },
        placeDataLabels: function() {
            cn(this.points,
            function(e) {
                var t = e.dataLabel,
                n;
                t && (n = t._pos, n ? (t.attr(t._attr), t[t.moved ? "animate": "attr"](n), t.moved = !0) : t && t.attr({
                    y: -999
                }))
            })
        },
        alignDataLabel: H,
        drawTracker: Qn.prototype.drawTracker,
        drawLegendSymbol: Vn.prototype.drawLegendSymbol,
        getSymbol: H
    };
    er = qt(Wn, er),
    St.pie = er,
    xt(Highcharts, {
        Axis: Fn,
        Chart: Un,
        Color: kn,
        Legend: Rn,
        Pointer: qn,
        Point: zn,
        Tick: Hn,
        Tooltip: In,
        Renderer: N,
        Series: Wn,
        SVGElement: Ln,
        SVGRenderer: An,
        arrayMin: Yt,
        arrayMax: Zt,
        charts: B,
        dateFormat: M,
        format: Vt,
        pathAnim: D,
        getOptions: Cn,
        hasBidiBug: x,
        isTouchDevice: w,
        numberFormat: Ut,
        seriesTypes: St,
        setOptions: Nn,
        addEvent: vn,
        removeEvent: mn,
        createElement: It,
        discardElement: tn,
        css: Ft,
        each: cn,
        extend: xt,
        map: dn,
        merge: Tt,
        pick: jt,
        splat: Bt,
        extendClass: qt,
        pInt: Ct,
        wrap: Wt,
        svg: S,
        canvas: T,
        vml: !S && !T,
        product: j,
        version: F
    })
} (),
function(e, t) {
    function n(e, t, n) {
        this.init.call(this, e, t, n)
    }
    function r(e, t, n) {
        e.call(this, t, n),
        this.chart.polar && (this.closeSegment = function(e) {
            var t = this.xAxis.center;
            e.push("L", t[0], t[1])
        },
        this.closedStacks = !0)
    }
    function i(e, t) {
        var n = this.chart,
        r = this.options.animation,
        i = this.group,
        s = this.markerGroup,
        o = this.xAxis.center,
        u = n.plotLeft,
        a = n.plotTop;
        if (n.polar) {
            if (n.renderer.isSVG) if (r === !0 && (r = {}), t) {
                if (n = {
                    translateX: o[0] + u,
                    translateY: o[1] + a,
                    scaleX: .001,
                    scaleY: .001
                },
                i.attr(n), s) s.attrSetters = i.attrSetters,
                s.attr(n)
            } else n = {
                translateX: u,
                translateY: a,
                scaleX: 1,
                scaleY: 1
            },
            i.animate(n, r),
            s && s.animate(n, r),
            this.animate = null
        } else e.call(this, t)
    }
    var s = e.arrayMin,
    o = e.arrayMax,
    u = e.each,
    a = e.extend,
    f = e.merge,
    l = e.map,
    c = e.pick,
    h = e.pInt,
    p = e.getOptions().plotOptions,
    d = e.seriesTypes,
    v = e.extendClass,
    m = e.splat,
    g = e.wrap,
    y = e.Axis,
    b = e.Tick,
    w = e.Series,
    E = d.column.prototype,
    S = Math,
    x = S.round,
    T = S.floor,
    N = S.ceil,
    C = S.min,
    k = S.max,
    L = function() {};
    a(n.prototype, {
        init: function(e, t, n) {
            var r = this,
            i = r.defaultOptions;
            r.chart = t,
            t.angular && (i.background = {}),
            r.options = e = f(i, e),
            (e = e.background) && u([].concat(m(e)).reverse(),
            function(e) {
                var t = e.backgroundColor,
                e = f(r.defaultBackgroundOptions, e);
                t && (e.backgroundColor = t),
                e.color = e.backgroundColor,
                n.options.plotBands.unshift(e)
            })
        },
        defaultOptions: {
            center: ["50%", "50%"],
            size: "85%",
            startAngle: 0
        },
        defaultBackgroundOptions: {
            shape: "circle",
            borderWidth: 1,
            borderColor: "silver",
            backgroundColor: {
                linearGradient: {
                    x1: 0,
                    y1: 0,
                    x2: 0,
                    y2: 1
                },
                stops: [[0, "#FFF"], [1, "#DDD"]]
            },
            from: Number.MIN_VALUE,
            innerRadius: 0,
            to: Number.MAX_VALUE,
            outerRadius: "105%"
        }
    });
    var A = y.prototype,
    b = b.prototype,
    O = {
        getOffset: L,
        redraw: function() {
            this.isDirty = !1
        },
        render: function() {
            this.isDirty = !1
        },
        setScale: L,
        setCategories: L,
        setTitle: L
    },
    M = {
        isRadial: !0,
        defaultRadialGaugeOptions: {
            labels: {
                align: "center",
                x: 0,
                y: null
            },
            minorGridLineWidth: 0,
            minorTickInterval: "auto",
            minorTickLength: 10,
            minorTickPosition: "inside",
            minorTickWidth: 1,
            plotBands: [],
            tickLength: 10,
            tickPosition: "inside",
            tickWidth: 2,
            title: {
                rotation: 0
            },
            zIndex: 2
        },
        defaultRadialXOptions: {
            gridLineWidth: 1,
            labels: {
                align: null,
                distance: 15,
                x: 0,
                y: null
            },
            maxPadding: 0,
            minPadding: 0,
            plotBands: [],
            showLastLabel: !1,
            tickLength: 0
        },
        defaultRadialYOptions: {
            gridLineInterpolation: "circle",
            labels: {
                align: "right",
                x: -3,
                y: -2
            },
            plotBands: [],
            showLastLabel: !1,
            title: {
                x: 4,
                text: null,
                rotation: 90
            }
        },
        setOptions: function(e) {
            this.options = f(this.defaultOptions, this.defaultRadialOptions, e)
        },
        getOffset: function() {
            A.getOffset.call(this),
            this.chart.axisOffset[this.side] = 0,
            this.center = this.pane.center = d.pie.prototype.getCenter.call(this.pane)
        },
        getLinePath: function(e, t) {
            var n = this.center,
            t = c(t, n[2] / 2 - this.offset);
            return this.chart.renderer.symbols.arc(this.left + n[0], this.top + n[1], t, t, {
                start: this.startAngleRad,
                end: this.endAngleRad,
                open: !0,
                innerR: 0
            })
        },
        setAxisTranslation: function() {
            A.setAxisTranslation.call(this),
            this.center && (this.transA = this.isCircular ? (this.endAngleRad - this.startAngleRad) / (this.max - this.min || 1) : this.center[2] / 2 / (this.max - this.min || 1), this.isXAxis) && (this.minPixelPadding = this.transA * this.minPointOffset + (this.reversed ? (this.endAngleRad - this.startAngleRad) / 4 : 0))
        },
        beforeSetTickPositions: function() {
            this.autoConnect && (this.max += this.categories && 1 || this.pointRange || this.closestPointRange)
        },
        setAxisSize: function() {
            A.setAxisSize.call(this),
            this.center && (this.len = this.width = this.height = this.isCircular ? this.center[2] * (this.endAngleRad - this.startAngleRad) / 2 : this.center[2] / 2)
        },
        getPosition: function(e, t) {
            return this.isCircular || (t = this.translate(e), e = this.min),
            this.postTranslate(this.translate(e), c(t, this.center[2] / 2) - this.offset)
        },
        postTranslate: function(e, t) {
            var n = this.chart,
            r = this.center,
            e = this.startAngleRad + e;
            return {
                x: n.plotLeft + r[0] + Math.cos(e) * t,
                y: n.plotTop + r[1] + Math.sin(e) * t
            }
        },
        getPlotBandPath: function(e, t, n) {
            var r = this.center,
            i = this.startAngleRad,
            s = r[2] / 2,
            o = [c(n.outerRadius, "100%"), n.innerRadius, c(n.thickness, 10)],
            u = /%$/,
            a,
            f = this.isCircular;
            return this.options.gridLineInterpolation === "polygon" ? r = this.getPlotLinePath(e).concat(this.getPlotLinePath(t, !0)) : (f || (o[0] = this.translate(e), o[1] = this.translate(t)), o = l(o,
            function(e) {
                return u.test(e) && (e = h(e, 10) * s / 100),
                e
            }), n.shape === "circle" || !f ? (e = -Math.PI / 2, t = Math.PI * 1.5, a = !0) : (e = i + this.translate(e), t = i + this.translate(t)), r = this.chart.renderer.symbols.arc(this.left + r[0], this.top + r[1], o[0], o[0], {
                start: e,
                end: t,
                innerR: c(o[1], o[0] - o[2]),
                open: a
            })),
            r
        },
        getPlotLinePath: function(e, t) {
            var n = this.center,
            r = this.chart,
            i = this.getPosition(e),
            s,
            o,
            a;
            return this.isCircular ? a = ["M", n[0] + r.plotLeft, n[1] + r.plotTop, "L", i.x, i.y] : this.options.gridLineInterpolation === "circle" ? (e = this.translate(e)) && (a = this.getLinePath(0, e)) : (s = r.xAxis[0], a = [], e = this.translate(e), n = s.tickPositions, s.autoConnect && (n = n.concat([n[0]])), t && (n = [].concat(n).reverse()), u(n,
            function(t, n) {
                o = s.getPosition(t, e),
                a.push(n ? "L": "M", o.x, o.y)
            })),
            a
        },
        getTitlePosition: function() {
            var e = this.center,
            t = this.chart,
            n = this.options.title;
            return {
                x: t.plotLeft + e[0] + (n.x || 0),
                y: t.plotTop + e[1] - {
                    high: .5,
                    middle: .25,
                    low: 0
                } [n.align] * e[2] + (n.y || 0)
            }
        }
    };
    g(A, "init",
    function(e, r, i) {
        var s, o = r.angular,
        u = r.polar,
        l = i.isX,
        h = o && l,
        p, d;
        d = r.options;
        var v = i.pane || 0;
        if (o) {
            if (a(this, h ? O: M), p = !l) this.defaultRadialOptions = this.defaultRadialGaugeOptions
        } else u && (a(this, M), this.defaultRadialOptions = (p = l) ? this.defaultRadialXOptions: f(this.defaultYAxisOptions, this.defaultRadialYOptions));
        e.call(this, r, i),
        !h && (o || u) && (e = this.options, r.panes || (r.panes = []), this.pane = (s = r.panes[v] = r.panes[v] || new n(m(d.pane)[v], r, this), v = s), v = v.options, r.inverted = !1, d.chart.zoomType = null, this.startAngleRad = r = (v.startAngle - 90) * Math.PI / 180, this.endAngleRad = d = (c(v.endAngle, v.startAngle + 360) - 90) * Math.PI / 180, this.offset = e.offset || 0, (this.isCircular = p) && i.max === t && d - r === 2 * Math.PI && (this.autoConnect = !0))
    }),
    g(b, "getPosition",
    function(e, t, n, r, i) {
        var s = this.axis;
        return s.getPosition ? s.getPosition(n) : e.call(this, t, n, r, i)
    }),
    g(b, "getLabelPosition",
    function(e, t, n, r, i, s, o, u, a) {
        var f = this.axis,
        l = s.y,
        p = s.align,
        d = (f.translate(this.pos) + f.startAngleRad + Math.PI / 2) / Math.PI * 180;
        return f.isRadial ? (e = f.getPosition(this.pos, f.center[2] / 2 + c(s.distance, -25)), s.rotation === "auto" ? r.attr({
            rotation: d
        }) : l === null && (l = h(r.styles.lineHeight) * .9 - r.getBBox().height / 2), p === null && (p = f.isCircular ? d > 20 && d < 160 ? "left": d > 200 && d < 340 ? "right": "center": "center", r.attr({
            align: p
        })), e.x += s.x, e.y += l) : e = e.call(this, t, n, r, i, s, o, u, a),
        e
    }),
    g(b, "getMarkPath",
    function(e, t, n, r, i, s, o) {
        var u = this.axis;
        return u.isRadial ? (e = u.getPosition(this.pos, u.center[2] / 2 + r), t = ["M", t, n, "L", e.x, e.y]) : t = e.call(this, t, n, r, i, s, o),
        t
    }),
    p.arearange = f(p.area, {
        lineWidth: 1,
        marker: null,
        threshold: null,
        tooltip: {
            pointFormat: '\x3cspan style\x3d"color:{series.color}"\x3e{series.name}\x3c/span\x3e: \x3cb\x3e{point.low}\x3c/b\x3e - \x3cb\x3e{point.high}\x3c/b\x3e\x3cbr/\x3e'
        },
        trackByArea: !0,
        dataLabels: {
            verticalAlign: null,
            xLow: 0,
            xHigh: 0,
            yLow: 0,
            yHigh: 0
        }
    }),
    d.arearange = e.extendClass(d.area, {
        type: "arearange",
        pointArrayMap: ["low", "high"],
        toYData: function(e) {
            return [e.low, e.high]
        },
        pointValKey: "low",
        translate: function() {
            var e = this.yAxis;
            d.area.prototype.translate.apply(this),
            u(this.points,
            function(t) {
                t.y !== null && (t.plotLow = t.plotY, t.plotHigh = e.translate(t.high, 0, 1, 0, 1))
            })
        },
        getSegmentPath: function(e) {
            var t = [],
            n = e.length,
            r = w.prototype.getSegmentPath,
            i,
            s;
            s = this.options;
            for (var o = s.step; n--;) i = e[n],
            t.push({
                plotX: i.plotX,
                plotY: i.plotHigh
            });
            return e = r.call(this, e),
            o && (o === !0 && (o = "left"), s.step = {
                left: "right",
                center: "center",
                right: "left"
            } [o]),
            t = r.call(this, t),
            s.step = o,
            s = [].concat(e, t),
            t[0] = "L",
            this.areaPath = this.areaPath.concat(e, t),
            s
        },
        drawDataLabels: function() {
            var e = this.data,
            t = e.length,
            n, r = [],
            i = w.prototype,
            s = this.options.dataLabels,
            o,
            u = this.chart.inverted;
            if (s.enabled || this._hasPointLabels) {
                for (n = t; n--;) o = e[n],
                o.y = o.high,
                o.plotY = o.plotHigh,
                r[n] = o.dataLabel,
                o.dataLabel = o.dataLabelUpper,
                o.below = !1,
                u ? (s.align = "left", s.x = s.xHigh) : s.y = s.yHigh;
                i.drawDataLabels.apply(this, arguments);
                for (n = t; n--;) o = e[n],
                o.dataLabelUpper = o.dataLabel,
                o.dataLabel = r[n],
                o.y = o.low,
                o.plotY = o.plotLow,
                o.below = !0,
                u ? (s.align = "right", s.x = s.xLow) : s.y = s.yLow;
                i.drawDataLabels.apply(this, arguments)
            }
        },
        alignDataLabel: d.column.prototype.alignDataLabel,
        getSymbol: d.column.prototype.getSymbol,
        drawPoints: L
    }),
    p.areasplinerange = f(p.arearange),
    d.areasplinerange = v(d.arearange, {
        type: "areasplinerange",
        getPointSpline: d.spline.prototype.getPointSpline
    }),
    p.columnrange = f(p.column, p.arearange, {
        lineWidth: 1,
        pointRange: null
    }),
    d.columnrange = v(d.arearange, {
        type: "columnrange",
        translate: function() {
            var e = this.yAxis,
            t;
            E.translate.apply(this),
            u(this.points,
            function(n) {
                var r = n.shapeArgs;
                n.plotHigh = t = e.translate(n.high, 0, 1, 0, 1),
                n.plotLow = n.plotY,
                r.y = t,
                r.height = n.plotY - t
            })
        },
        trackerGroups: ["group", "dataLabels"],
        drawGraph: L,
        pointAttrToOptions: E.pointAttrToOptions,
        drawPoints: E.drawPoints,
        drawTracker: E.drawTracker,
        animate: E.animate,
        getColumnMetrics: E.getColumnMetrics
    }),
    p.gauge = f(p.line, {
        dataLabels: {
            enabled: !0,
            y: 15,
            borderWidth: 1,
            borderColor: "silver",
            borderRadius: 3,
            style: {
                fontWeight: "bold"
            },
            verticalAlign: "top",
            zIndex: 2
        },
        dial: {},
        pivot: {},
        tooltip: {
            headerFormat: ""
        },
        showInLegend: !1
    }),
    b = {
        type: "gauge",
        pointClass: e.extendClass(e.Point, {
            setState: function(e) {
                this.state = e
            }
        }),
        angular: !0,
        drawGraph: L,
        trackerGroups: ["group", "dataLabels"],
        translate: function() {
            var e = this.yAxis,
            t = this.options,
            n = e.center;
            this.generatePoints(),
            u(this.points,
            function(r) {
                var i = f(t.dial, r.dial),
                s = h(c(i.radius, 80)) * n[2] / 200,
                o = h(c(i.baseLength, 70)) * s / 100,
                u = h(c(i.rearLength, 10)) * s / 100,
                a = i.baseWidth || 3,
                l = i.topWidth || 1,
                p = e.startAngleRad + e.translate(r.y, null, null, null, !0);
                t.wrap === !1 && (p = Math.max(e.startAngleRad, Math.min(e.endAngleRad, p))),
                p = p * 180 / Math.PI,
                r.shapeType = "path",
                r.shapeArgs = {
                    d: i.path || ["M", -u, -a / 2, "L", o, -a / 2, s, -l / 2, s, l / 2, o, a / 2, -u, a / 2, "z"],
                    translateX: n[0],
                    translateY: n[1],
                    rotation: p
                },
                r.plotX = n[0],
                r.plotY = n[1]
            })
        },
        drawPoints: function() {
            var e = this,
            t = e.yAxis.center,
            n = e.pivot,
            r = e.options,
            i = r.pivot,
            s = e.chart.renderer;
            u(e.points,
            function(t) {
                var n = t.graphic,
                i = t.shapeArgs,
                o = i.d,
                u = f(r.dial, t.dial);
                n ? (n.animate(i), i.d = o) : t.graphic = s[t.shapeType](i).attr({
                    stroke: u.borderColor || "none",
                    "stroke-width": u.borderWidth || 0,
                    fill: u.backgroundColor || "black",
                    rotation: i.rotation
                }).add(e.group)
            }),
            n ? n.animate({
                translateX: t[0],
                translateY: t[1]
            }) : e.pivot = s.circle(0, 0, c(i.radius, 5)).attr({
                "stroke-width": i.borderWidth || 0,
                stroke: i.borderColor || "silver",
                fill: i.backgroundColor || "black"
            }).translate(t[0], t[1]).add(e.group)
        },
        animate: function(e) {
            var t = this;
            e || (u(t.points,
            function(e) {
                var n = e.graphic;
                n && (n.attr({
                    rotation: t.yAxis.startAngleRad * 180 / Math.PI
                }), n.animate({
                    rotation: e.shapeArgs.rotation
                },
                t.options.animation))
            }), t.animate = null)
        },
        render: function() {
            this.group = this.plotGroup("group", "series", this.visible ? "visible": "hidden", this.options.zIndex, this.chart.seriesGroup),
            d.pie.prototype.render.call(this),
            this.group.clip(this.chart.clipRect)
        },
        setData: d.pie.prototype.setData,
        drawTracker: d.column.prototype.drawTracker
    },
    d.gauge = e.extendClass(d.line, b),
    p.boxplot = f(p.column, {
        fillColor: "#FFFFFF",
        lineWidth: 1,
        medianWidth: 2,
        states: {
            hover: {
                brightness: -.3
            }
        },
        threshold: null,
        tooltip: {
            pointFormat: '\x3cspan style\x3d"color:{series.color};font-weight:bold"\x3e{series.name}\x3c/span\x3e\x3cbr/\x3eMinimum: {point.low}\x3cbr/\x3eLower quartile: {point.q1}\x3cbr/\x3eMedian: {point.median}\x3cbr/\x3eHigher quartile: {point.q3}\x3cbr/\x3eMaximum: {point.high}\x3cbr/\x3e'
        },
        whiskerLength: "50%",
        whiskerWidth: 2
    }),
    d.boxplot = v(d.column, {
        type: "boxplot",
        pointArrayMap: ["low", "q1", "median", "q3", "high"],
        toYData: function(e) {
            return [e.low, e.q1, e.median, e.q3, e.high]
        },
        pointValKey: "high",
        pointAttrToOptions: {
            fill: "fillColor",
            stroke: "color",
            "stroke-width": "lineWidth"
        },
        drawDataLabels: L,
        translate: function() {
            var e = this.yAxis,
            t = this.pointArrayMap;
            d.column.prototype.translate.apply(this),
            u(this.points,
            function(n) {
                u(t,
                function(t) {
                    n[t] !== null && (n[t + "Plot"] = e.translate(n[t], 0, 1, 0, 1))
                })
            })
        },
        drawPoints: function() {
            var e = this,
            n = e.points,
            r = e.options,
            i = e.chart.renderer,
            s, o, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, N, C, k, L, A, O = e.doQuartiles !== !1,
            M = parseInt(e.options.whiskerLength, 10) / 100;
            u(n,
            function(n) {
                d = n.graphic,
                L = n.shapeArgs,
                m = {},
                b = {},
                E = {},
                A = n.color || e.color,
                n.plotY !== t && ((s = n.pointAttr[n.selected ? "selected": ""], S = L.width, N = T(L.x), C = N + S, k = x(S / 2), o = T(O ? n.q1Plot: n.lowPlot), a = T(O ? n.q3Plot: n.lowPlot), f = T(n.highPlot), l = T(n.lowPlot), m.stroke = n.stemColor || r.stemColor || A, m["stroke-width"] = n.stemWidth || r.stemWidth || r.lineWidth, m.dashstyle = n.stemDashStyle || r.stemDashStyle, b.stroke = n.whiskerColor || r.whiskerColor || A, b["stroke-width"] = n.whiskerWidth || r.whiskerWidth || r.lineWidth, E.stroke = n.medianColor || r.medianColor || A, E["stroke-width"] = n.medianWidth || r.medianWidth || r.lineWidth, h = m["stroke-width"] % 2 / 2, p = N + k + h, v = ["M", p, a, "L", p, f, "M", p, o, "L", p, l, "z"], O && (h = s["stroke-width"] % 2 / 2, p = T(p) + h, o = T(o) + h, a = T(a) + h, N += h, C += h, g = ["M", N, a, "L", N, o, "L", C, o, "L", C, a, "L", N, a, "z"]), M && (h = b["stroke-width"] % 2 / 2, f += h, l += h, y = ["M", p - k * M, f, "L", p + k * M, f, "M", p - k * M, l, "L", p + k * M, l]), h = E["stroke-width"] % 2 / 2, c = x(n.medianPlot) + h, w = ["M", N, c, C, c, "z"], d) ? (n.stem.animate({
                    d: v
                }), M && n.whiskers.animate({
                    d: y
                }), O && n.box.animate({
                    d: g
                }), n.medianShape.animate({
                    d: w
                })) : (n.graphic = d = i.g().add(e.group), n.stem = i.path(v).attr(m).add(d), M && (n.whiskers = i.path(y).attr(b).add(d)), O && (n.box = i.path(g).attr(s).add(d)), n.medianShape = i.path(w).attr(E).add(d)))
            })
        }
    }),
    p.errorbar = f(p.boxplot, {
        color: "#000000",
        grouping: !1,
        linkedTo: ":previous",
        tooltip: {
            pointFormat: p.arearange.tooltip.pointFormat
        },
        whiskerWidth: null
    }),
    d.errorbar = v(d.boxplot, {
        type: "errorbar",
        pointArrayMap: ["low", "high"],
        toYData: function(e) {
            return [e.low, e.high]
        },
        pointValKey: "high",
        doQuartiles: !1,
        getColumnMetrics: function() {
            return this.linkedParent && this.linkedParent.columnMetrics || d.column.prototype.getColumnMetrics.call(this)
        }
    }),
    g(A, "getSeriesExtremes",
    function(e, t) {
        e.call(this, t);
        if (!this.isXAxis) {
            var n = this,
            r = [],
            i = !0;
            u(n.series,
            function(e) {
                if (e.visible && e.stackKey && e.type === "waterfall" && HighchartsAdapter.inArray(e.stackKey) === -1) {
                    i && (n.dataMin = n.dataMax = null, i = !1);
                    var t = e.processedYData,
                    s = t.length,
                    o = t[0],
                    u = t[0],
                    a = e.options.threshold,
                    f = n.stacks,
                    l = e.stackKey,
                    h = "-" + l,
                    p,
                    d,
                    v,
                    m;
                    for (m = 0; m < s; m++) v = t[m] < a ? h: l,
                    p = f[v][m].total,
                    m > a && (p += d, f[v][m].setTotal(p), f[v][m]._cum = null),
                    p < o && (o = p),
                    p > u && (u = p),
                    d = p;
                    e.dataMin = o,
                    e.dataMax = u,
                    n.dataMin = C(c(n.dataMin, o), o, a),
                    n.dataMax = k(c(n.dataMax, u), u, a),
                    r.push(e.stackKey),
                    typeof a == "number" && (n.dataMin >= a ? (n.dataMin = a, n.ignoreMinPadding = !0) : n.dataMax < a && (n.dataMax = a, n.ignoreMaxPadding = !0))
                }
            })
        }
    }),
    p.waterfall = f(p.column, {
        lineWidth: 1,
        lineColor: "#333",
        dashStyle: "dot",
        borderColor: "#333"
    }),
    d.waterfall = v(d.column, {
        type: "waterfall",
        upColorProp: "fill",
        pointArrayMap: ["y", "low"],
        pointValKey: "y",
        init: function(e, t) {
            t.stacking = !0,
            d.column.prototype.init.call(this, e, t)
        },
        translate: function() {
            var e = this.yAxis,
            t, n, r, i, s, o, u, a, f, l, c, h, p = this.options.borderWidth % 2 / 2;
            d.column.prototype.translate.apply(this),
            r = this.points,
            f = u = r[0],
            o = a = r[0].y;
            for (n = 1, t = r.length; n < t; n++) i = r[n],
            s = i.shapeArgs,
            l = this.getStack(n),
            c = this.getStack(n - 1),
            h = this.getStackY(c),
            f === null && (f = i, a = 0),
            i.y && !i.isSum && !i.isIntermediateSum && (o += i.y, a += i.y),
            i.isSum || i.isIntermediateSum ? (i.isIntermediateSum ? (l = this.getSumEdges(f, r[n - 1]), i.y = a, f = null) : (l = this.getSumEdges(u, r[n - 1]), i.y = o), s.y = i.plotY = l[1], s.height = l[0] - l[1]) : i.y < 0 ? (c = l._cum === null ? c.total: l._cum, l._cum = c + i.y, i = N(e.translate(c, 0, 1)) - p, l = e.translate(l._cum, 0, 1), s.y = i, s.height = N(l - i)) : s.height = T(h - s.y)
        },
        processData: function(e) {
            w.prototype.processData.call(this, e);
            var e = this.yData,
            t = e.length,
            n, r;
            for (r = 0; r < t; r++) n = e[r],
            n !== null && typeof n != "number" && (e[r] = n === "sum" ? null: n === "intermediateSum" ? null: n[0])
        },
        toYData: function(e) {
            return e.isSum ? "sum": e.isIntermediateSum ? "intermediateSum": [e.y]
        },
        getAttribs: function() {
            d.column.prototype.getAttribs.apply(this, arguments);
            var t = this.options,
            n = t.states,
            r = t.upColor || this.color,
            t = e.Color(r).brighten(.1).get(),
            i = f(this.pointAttr),
            s = this.upColorProp;
            i[""][s] = r,
            i.hover[s] = n.hover.upColor || t,
            i.select[s] = n.select.upColor || r,
            u(this.points,
            function(e) {
                e.y > 0 && !e.color && (e.pointAttr = i, e.color = r)
            })
        },
        getGraphPath: function() {
            var e = this.data,
            t = e.length,
            n = x(this.options.lineWidth + this.options.borderWidth) % 2 / 2,
            r = [],
            i,
            s,
            o;
            for (o = 1; o < t; o++) s = e[o].shapeArgs,
            i = e[o - 1].shapeArgs,
            s = ["M", i.x + i.width, i.y + n, "L", s.x, i.y + n],
            e[o - 1].y < 0 && (s[2] += i.height, s[5] += i.height),
            r = r.concat(s);
            return r
        },
        getStack: function(e) {
            var t = this.yAxis.stacks,
            n = this.stackKey;
            return this.processedYData[e] < this.options.threshold && (n = "-" + n),
            t[n][e]
        },
        getStackY: function(e) {
            return N(this.yAxis.translate(e.total, null, !0))
        },
        getSumEdges: function(e, t) {
            var n, r, i;
            return r = this.options.threshold,
            n = e.y >= r ? e.shapeArgs.y + e.shapeArgs.height: e.shapeArgs.y,
            r = t.y >= r ? t.shapeArgs.y: t.shapeArgs.y + t.shapeArgs.height,
            r > n && (i = n, n = r, r = i),
            [n, r]
        },
        drawGraph: w.prototype.drawGraph
    }),
    p.bubble = f(p.scatter, {
        dataLabels: {
            inside: !0,
            style: {
                color: "white",
                textShadow: "0px 0px 3px black"
            },
            verticalAlign: "middle"
        },
        marker: {
            lineColor: null,
            lineWidth: 1
        },
        minSize: 8,
        maxSize: "20%",
        tooltip: {
            pointFormat: "({point.x}, {point.y}), Size: {point.z}"
        },
        zThreshold: 0
    }),
    d.bubble = v(d.scatter, {
        type: "bubble",
        pointArrayMap: ["y", "z"],
        trackerGroups: ["group", "dataLabelsGroup"],
        pointAttrToOptions: {
            stroke: "lineColor",
            "stroke-width": "lineWidth",
            fill: "fillColor"
        },
        applyOpacity: function(t) {
            var n = this.options.marker,
            r = c(n.fillOpacity, .5),
            t = t || n.fillColor || this.color;
            return r !== 1 && (t = e.Color(t).setOpacity(r).get("rgba")),
            t
        },
        convertAttribs: function() {
            var e = w.prototype.convertAttribs.apply(this, arguments);
            return e.fill = this.applyOpacity(e.fill),
            e
        },
        getRadii: function(e, t, n, r) {
            var i, s, o, u = this.zData,
            a = [];
            for (s = 0, i = u.length; s < i; s++) o = t - e,
            o = o > 0 ? (u[s] - e) / (t - e) : .5,
            a.push(S.round(n + o * (r - n)) / 2);
            this.radii = a
        },
        animate: function(e) {
            var t = this.options.animation;
            e || (u(this.points,
            function(e) {
                var n = e.graphic,
                e = e.shapeArgs;
                n && e && (n.attr("r", 1), n.animate({
                    r: e.r
                },
                t))
            }), this.animate = null)
        },
        translate: function() {
            var e, t = this.data,
            n, r, i = this.radii;
            d.scatter.prototype.translate.call(this);
            for (e = t.length; e--;) n = t[e],
            r = i[e],
            n.negative = n.z < (this.options.zThreshold || 0),
            r >= this.minPxSize / 2 ? (n.shapeType = "circle", n.shapeArgs = {
                x: n.plotX,
                y: n.plotY,
                r: r
            },
            n.dlBox = {
                x: n.plotX - r,
                y: n.plotY - r,
                width: 2 * r,
                height: 2 * r
            }) : n.shapeArgs = n.plotY = n.dlBox = null
        },
        drawLegendSymbol: function(e, t) {
            var n = h(e.itemStyle.fontSize) / 2;
            t.legendSymbol = this.chart.renderer.circle(n, e.baseline - n, n).attr({
                zIndex: 3
            }).add(t.legendGroup)
        },
        drawPoints: d.column.prototype.drawPoints,
        alignDataLabel: d.column.prototype.alignDataLabel
    }),
    y.prototype.beforePadding = function() {
        var e = this.len,
        n = this.chart,
        r = 0,
        i = e,
        a = this.isXAxis,
        f = a ? "xData": "yData",
        l = this.min,
        p = {},
        d = S.min(n.plotWidth, n.plotHeight),
        v = Number.MAX_VALUE,
        m = -Number.MAX_VALUE,
        g = this.max - l,
        y = e / g,
        b = [];
        this.tickPositions && (u(this.series,
        function(e) {
            var t = e.options;
            e.type === "bubble" && e.visible && (b.push(e), a) && (u(["minSize", "maxSize"],
            function(e) {
                var n = t[e],
                r = /%$/.test(n),
                n = h(n);
                p[e] = r ? d * n / 100 : n
            }), e.minPxSize = p.minSize, e = e.zData, v = S.min(v, S.max(s(e), t.displayNegative === !1 ? t.zThreshold: -Number.MAX_VALUE)), m = S.max(m, o(e)))
        }), u(b,
        function(e) {
            var t = e[f],
            n = t.length,
            s;
            a && e.getRadii(v, m, p.minSize, p.maxSize);
            if (g > 0) for (; n--;) s = e.radii[n],
            r = Math.min((t[n] - l) * y - s, r),
            i = Math.max((t[n] - l) * y + s, i)
        }), g > 0 && c(this.options.min, this.userMin) === t && (i -= e, y *= (e + r - i) / e, this.min += r / y, this.max += i / y))
    };
    var _ = w.prototype,
    p = e.Pointer.prototype;
    _.toXY = function(e) {
        var t, n = this.chart;
        t = e.plotX;
        var r = e.plotY;
        e.rectPlotX = t,
        e.rectPlotY = r,
        e.clientX = t / Math.PI * 180,
        t = this.xAxis.postTranslate(e.plotX, this.yAxis.len - r),
        e.plotX = e.polarPlotX = t.x - n.plotLeft,
        e.plotY = e.polarPlotY = t.y - n.plotTop
    },
    g(d.area.prototype, "init", r),
    g(d.areaspline.prototype, "init", r),
    g(d.spline.prototype, "getPointSpline",
    function(e, t, n, r) {
        var i, s, o, u, a, f, l;
        return this.chart.polar ? (i = n.plotX, s = n.plotY, e = t[r - 1], o = t[r + 1], this.connectEnds && (e || (e = t[t.length - 2]), o || (o = t[1])), e && o && (u = e.plotX, a = e.plotY, t = o.plotX, f = o.plotY, u = (1.5 * i + u) / 2.5, a = (1.5 * s + a) / 2.5, o = (1.5 * i + t) / 2.5, l = (1.5 * s + f) / 2.5, t = Math.sqrt(Math.pow(u - i, 2) + Math.pow(a - s, 2)), f = Math.sqrt(Math.pow(o - i, 2) + Math.pow(l - s, 2)), u = Math.atan2(a - s, u - i), a = Math.atan2(l - s, o - i), l = Math.PI / 2 + (u + a) / 2, Math.abs(u - l) > Math.PI / 2 && (l -= Math.PI), u = i + Math.cos(l) * t, a = s + Math.sin(l) * t, o = i + Math.cos(Math.PI + l) * f, l = s + Math.sin(Math.PI + l) * f, n.rightContX = o, n.rightContY = l), r ? (n = ["C", e.rightContX || e.plotX, e.rightContY || e.plotY, u || i, a || s, i, s], e.rightContX = e.rightContY = null) : n = ["M", i, s]) : n = e.call(this, t, n, r),
        n
    }),
    g(_, "translate",
    function(e) {
        e.call(this);
        if (this.chart.polar && !this.preventPostTranslate) for (var e = this.points,
        t = e.length; t--;) this.toXY(e[t])
    }),
    g(_, "getSegmentPath",
    function(e, t) {
        var n = this.points;
        return this.chart.polar && this.options.connectEnds !== !1 && t[t.length - 1] === n[n.length - 1] && n[0].y !== null && (this.connectEnds = !0, t = [].concat(t, [n[0]])),
        e.call(this, t)
    }),
    g(_, "animate", i),
    g(E, "animate", i),
    g(_, "setTooltipPoints",
    function(e, t) {
        return this.chart.polar && a(this.xAxis, {
            tooltipLen: 360
        }),
        e.call(this, t)
    }),
    g(E, "translate",
    function(e) {
        var t = this.xAxis,
        n = this.yAxis.len,
        r = t.center,
        i = t.startAngleRad,
        s = this.chart.renderer,
        o, u;
        this.preventPostTranslate = !0,
        e.call(this);
        if (t.isRadial) {
            t = this.points;
            for (u = t.length; u--;) o = t[u],
            e = o.barX + i,
            o.shapeType = "path",
            o.shapeArgs = {
                d: s.symbols.arc(r[0], r[1], n - o.plotY, null, {
                    start: e,
                    end: e + o.pointWidth,
                    innerR: n - c(o.yBottom, n)
                })
            },
            this.toXY(o)
        }
    }),
    g(E, "alignDataLabel",
    function(e, t, n, r, i, s) {
        this.chart.polar ? (e = t.rectPlotX / Math.PI * 180, r.align === null && (r.align = e > 20 && e < 160 ? "left": e > 200 && e < 340 ? "right": "center"), r.verticalAlign === null && (r.verticalAlign = e < 45 || e > 315 ? "bottom": e > 135 && e < 225 ? "top": "middle"), _.alignDataLabel.call(this, t, n, r, i, s)) : e.call(this, t, n, r, i, s)
    }),
    g(p, "getIndex",
    function(e, t) {
        var n, r = this.chart,
        i;
        return r.polar ? (i = r.xAxis[0].center, n = t.chartX - i[0] - r.plotLeft, r = t.chartY - i[1] - r.plotTop, n = 180 - Math.round(Math.atan2(n, r) / Math.PI * 180)) : n = e.call(this, t),
        n
    }),
    g(p, "getCoordinates",
    function(e, t) {
        var n = this.chart,
        r = {
            xAxis: [],
            yAxis: []
        };
        return n.polar ? u(n.axes,
        function(e) {
            var i = e.isXAxis,
            s = e.center,
            o = t.chartX - s[0] - n.plotLeft,
            s = t.chartY - s[1] - n.plotTop;
            r[i ? "xAxis": "yAxis"].push({
                axis: e,
                value: e.translate(i ? Math.PI - Math.atan2(o, s) : Math.sqrt(Math.pow(o, 2) + Math.pow(s, 2)), !0)
            })
        }) : r = e.call(this, t),
        r
    })
} (Highcharts),
function(e) {
    var t = e.Chart,
    n = e.addEvent,
    r = e.removeEvent,
    i = e.createElement,
    s = e.discardElement,
    o = e.css,
    u = e.merge,
    a = e.each,
    f = e.extend,
    l = Math,
    c = l.max,
    h = document,
    p = window,
    d = e.isTouchDevice,
    v = "M",
    m = "L",
    g = "div",
    y = "hidden",
    b = "none",
    w = "highcharts-",
    E = "absolute",
    S = "px",
    x, T = e.Renderer.prototype.symbols,
    N = e.getOptions(),
    C;
    f(N.lang, {
        downloadPNG: "Download PNG image",
        downloadJPEG: "Download JPEG image",
        downloadPDF: "Download PDF document",
        downloadSVG: "Download SVG vector image",
        contextButtonTitle: "Chart context menu"
    }),
    N.navigation = {
        menuStyle: {
            border: "1px solid #A0A0A0",
            background: "#FFFFFF",
            padding: "5px 0"
        },
        menuItemStyle: {
            padding: "0 10px",
            background: b,
            color: "#303030",
            fontSize: d ? "14px": "11px"
        },
        menuItemHoverStyle: {
            background: "#4572A5",
            color: "#FFFFFF"
        },
        buttonOptions: {
            symbolFill: "#E0E0E0",
            symbolSize: 14,
            symbolStroke: "#666",
            symbolStrokeWidth: 3,
            symbolX: 12.5,
            symbolY: 10.5,
            align: "right",
            buttonSpacing: 3,
            height: 22,
            theme: {
                fill: "white",
                stroke: "none"
            },
            verticalAlign: "top",
            width: 24
        }
    },
    N.exporting = {
        type: "image/png",
        url: "http://export.highcharts.com/",
        buttons: {
            contextButton: {
                symbol: "menu",
                _titleKey: "contextButtonTitle",
                menuItems: [{
                    text: "Print chart",
                    onclick: function() {
                        this.print()
                    }
                },
                {
                    separator: !0
                },
                {
                    textKey: "downloadPNG",
                    onclick: function() {
                        this.exportChart()
                    }
                },
                {
                    textKey: "downloadJPEG",
                    onclick: function() {
                        this.exportChart({
                            type: "image/jpeg"
                        })
                    }
                },
                {
                    textKey: "downloadPDF",
                    onclick: function() {
                        this.exportChart({
                            type: "application/pdf"
                        })
                    }
                },
                {
                    textKey: "downloadSVG",
                    onclick: function() {
                        this.exportChart({
                            type: "image/svg+xml"
                        })
                    }
                }]
            }
        }
    },
    e.post = function(e, t) {
        var n, r;
        r = i("form", {
            method: "post",
            action: e,
            enctype: "multipart/form-data"
        },
        {
            display: b
        },
        h.body);
        for (n in t) i("input", {
            type: y,
            name: n,
            value: t[n]
        },
        null, r);
        r.submit(),
        s(r)
    },
    f(t.prototype, {
        getSVG: function(t) {
            var n = this,
            r, o, l, c, p, d, v, m, y = u(n.options, t);
            return h.createElementNS || (h.createElementNS = function(e, t) {
                return h.createElement(t)
            }),
            o = i(g, null, {
                position: E,
                top: "-9999em",
                width: n.chartWidth + S,
                height: n.chartHeight + S
            },
            h.body),
            v = n.renderTo.style.width,
            m = n.renderTo.style.height,
            p = y.exporting.sourceWidth || y.chart.width || /px$/.test(v) && parseInt(v, 10) || 600,
            d = y.exporting.sourceHeight || y.chart.height || /px$/.test(m) && parseInt(m, 10) || 400,
            f(y.chart, {
                animation: !1,
                renderTo: o,
                forExport: !0,
                width: p,
                height: d
            }),
            y.exporting.enabled = !1,
            y.chart.plotBackgroundImage = null,
            y.series = [],
            a(n.series,
            function(e) {
                c = u(e.options, {
                    animation: !1,
                    showCheckbox: !1,
                    visible: e.visible
                }),
                c.isInternal || y.series.push(c)
            }),
            r = new e.Chart(y, n.callback),
            a(["xAxis", "yAxis"],
            function(e) {
                a(n[e],
                function(t, n) {
                    var i = r[e][n],
                    s = t.getExtremes(),
                    o = s.userMin,
                    u = s.userMax; (o !== x || u !== x) && i.setExtremes(o, u, !0, !1)
                })
            }),
            l = r.container.innerHTML,
            y = null,
            r.destroy(),
            s(o),
            l = l.replace(/zIndex="[^"]+"/g, "").replace(/isShadow="[^"]+"/g, "").replace(/symbolName="[^"]+"/g, "").replace(/jQuery[0-9]+="[^"]+"/g, "").replace(/url\([^#]+#/g, "url(#").replace(/<svg /, '\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ href=/g, " xlink:href\x3d").replace(/\n/, " ").replace(/<\/svg>.*?$/, "\x3c/svg\x3e").replace(/&nbsp;/g, "\u00a0").replace(/&shy;/g, "\u00ad").replace(/<IMG /g, "\x3cimage ").replace(/height=([^" ]+)/g, 'height\x3d"$1"').replace(/width=([^" ]+)/g, 'width\x3d"$1"').replace(/hc-svg-href="([^"]+)">/g, 'xlink:href\x3d"$1"/\x3e').replace(/id=([^" >]+)/g, 'id\x3d"$1"').replace(/class=([^" ]+)/g, 'class\x3d"$1"').replace(/ transform /g, " ").replace(/:(path|rect)/g, "$1").replace(/style="([^"]+)"/g,
            function(e) {
                return e.toLowerCase()
            }),
            l = l.replace(/(url\(#highcharts-[0-9]+)&quot;/g, "$1").replace(/&quot;/g, "'"),
            l.match(/ xmlns="/g).length === 2 && (l = l.replace(/xmlns="[^"]+"/, "")),
            l
        },
        exportChart: function(t, n) {
            t = t || {};
            var r = this,
            i = r.getSVG(u({
                chart: {
                    borderRadius: 0
                }
            },
            r.options.exporting.chartOptions, n, {
                exporting: {
                    sourceWidth: t.sourceWidth,
                    sourceHeight: t.sourceHeight
                }
            }));
            t = u(r.options.exporting, t),
            e.post(t.url, {
                filename: t.filename || "chart",
                type: t.type,
                width: t.width || 0,
                scale: t.scale || 2,
                svg: i
            })
        },
        print: function() {
            var e = this,
            t = e.container,
            n = [],
            r = t.parentNode,
            i = h.body,
            s = i.childNodes;
            if (e.isPrinting) return;
            e.isPrinting = !0,
            a(s,
            function(e, t) {
                e.nodeType === 1 && (n[t] = e.style.display, e.style.display = b)
            }),
            i.appendChild(t),
            p.focus(),
            p.print(),
            setTimeout(function() {
                r.appendChild(t),
                a(s,
                function(e, t) {
                    e.nodeType === 1 && (e.style.display = n[t])
                }),
                e.isPrinting = !1
            },
            1E3)
        },
        contextMenu: function(e, t, r, s, u, l, h) {
            var p = this,
            d = p.options.navigation,
            v = d.menuItemStyle,
            m = p.chartWidth,
            y = p.chartHeight,
            x = "cache-" + e,
            T = p[x],
            N = c(u, l),
            C = "3px 3px 10px #888",
            k,
            L,
            A,
            O;
            T || (p[x] = T = i(g, {
                className: w + e
            },
            {
                position: E,
                zIndex: 1E3,
                padding: N + S
            },
            p.container), k = i(g, null, f({
                MozBoxShadow: C,
                WebkitBoxShadow: C,
                boxShadow: C
            },
            d.menuStyle), T), L = function() {
                o(T, {
                    display: b
                }),
                h && h.setState(0)
            },
            n(T, "mouseleave",
            function() {
                A = setTimeout(L, 500)
            }), n(T, "mouseenter",
            function() {
                clearTimeout(A)
            }), a(t,
            function(e) {
                if (e) {
                    var t = e.separator ? i("hr", null, null, k) : i(g, {
                        onmouseover: function() {
                            o(this, d.menuItemHoverStyle)
                        },
                        onmouseout: function() {
                            o(this, v)
                        },
                        onclick: function() {
                            L(),
                            e.onclick.apply(p, arguments)
                        },
                        innerHTML: e.text || p.options.lang[e.textKey]
                    },
                    f({
                        cursor: "pointer"
                    },
                    v), k);
                    p.exportDivElements.push(t)
                }
            }), p.exportDivElements.push(k, T), p.exportMenuWidth = T.offsetWidth, p.exportMenuHeight = T.offsetHeight),
            O = {
                display: "block"
            },
            r + p.exportMenuWidth > m ? O.right = m - r - u - N + S: O.left = r - N + S,
            s + l + p.exportMenuHeight > y ? O.bottom = y - s - N + S: O.top = s + l - N + S,
            o(T, O)
        },
        addButton: function(t) {
            var n = this,
            r = n.renderer,
            i = u(n.options.navigation.buttonOptions, t),
            s = i.onclick,
            o = i.menuItems,
            a,
            l,
            c = {
                stroke: i.symbolStroke,
                fill: i.symbolFill
            },
            h = i.symbolSize || 12,
            p;
            n.btnCount || (n.btnCount = 0),
            p = n.btnCount++,
            n.exportDivElements || (n.exportDivElements = [], n.exportSVGElements = []);
            if (i.enabled === !1) return;
            var d = i.theme,
            v = d.states,
            m = v && v.hover,
            g = v && v.select,
            y;
            delete d.states,
            s ? y = function() {
                s.apply(n, arguments)
            }: o && (y = function() {
                n.contextMenu("contextmenu", o, l.translateX, l.translateY, l.width, l.height, l),
                l.setState(2)
            }),
            i.text && i.symbol ? d.paddingLeft = e.pick(d.paddingLeft, 25) : i.text || f(d, {
                width: i.width,
                height: i.height,
                padding: 0
            }),
            l = r.button(i.text, 0, 0, y, d, m, g).attr({
                title: n.options.lang[i._titleKey],
                "stroke-linecap": "round"
            }),
            i.symbol && (a = r.symbol(i.symbol, i.symbolX - h / 2, i.symbolY - h / 2, h, h).attr(f(c, {
                "stroke-width": i.symbolStrokeWidth || 1,
                zIndex: 1
            })).add(l)),
            l.add().align(f(i, {
                width: l.width,
                x: C
            }), !0, "spacingBox"),
            C += (l.width + i.buttonSpacing) * (i.align === "right" ? -1 : 1),
            n.exportSVGElements.push(l, a)
        },
        destroyExport: function(e) {
            var t = e.target,
            n, i;
            for (n = 0; n < t.exportSVGElements.length; n++) i = t.exportSVGElements[n],
            i.onclick = i.ontouchstart = null,
            t.exportSVGElements[n] = i.destroy();
            for (n = 0; n < t.exportDivElements.length; n++) i = t.exportDivElements[n],
            r(i, "mouseleave"),
            t.exportDivElements[n] = i.onmouseout = i.onmouseover = i.ontouchstart = i.onclick = null,
            s(i)
        }
    }),
    T.menu = function(e, t, n, r) {
        var i = [v, e, t + 2.5, m, e + n, t + 2.5, v, e, t + r / 2 + .5, m, e + n, t + r / 2 + .5, v, e, t + r - 1.5, m, e + n, t + r - 1.5];
        return i
    },
    t.prototype.callbacks.push(function(e) {
        var t, r = e.options.exporting,
        i = r.buttons;
        C = 0;
        if (r.enabled !== !1) {
            for (t in i) e.addButton(i[t]);
            n(e, "destroy", e.destroyExport)
        }
    })
} (Highcharts),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery"], e) : e(window.jQuery || window.$)
} (function(e) {
    var t = {
        className: "autosizejs",
        append: "",
        callback: !1,
        resizeDelay: 10
    },
    n = '\x3ctextarea tabindex\x3d"-1" style\x3d"position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/\x3e',
    r = ["fontFamily", "fontSize", "fontWeight", "fontStyle", "letterSpacing", "textTransform", "wordSpacing", "textIndent"],
    i,
    s = e(n).data("autosize", !0)[0];
    s.style.lineHeight = "99px",
    e(s).css("lineHeight") === "99px" && r.push("lineHeight"),
    s.style.lineHeight = "",
    e.fn.autosize = function(n) {
        return n = e.extend({},
        t, n || {}),
        s.parentNode !== document.body && e(document.body).append(s),
        this.each(function() {
            function d() {
                var n, r;
                "getComputedStyle" in window ? (n = window.getComputedStyle(t), r = t.getBoundingClientRect().width, e.each(["paddingLeft", "paddingRight", "borderLeftWidth", "borderRightWidth"],
                function(e, t) {
                    r -= parseInt(n[t], 10)
                }), s.style.width = r + "px") : s.style.width = Math.max(o.width(), 0) + "px"
            }
            function v() {
                var a = {};
                i = t,
                s.className = n.className,
                u = parseInt(o.css("maxHeight"), 10),
                e.each(r,
                function(e, t) {
                    a[t] = o.css(t)
                }),
                e(s).css(a),
                d();
                if ("oninput" in t && "setSelectionRange" in t) {
                    var f = s.offsetWidth,
                    l = t.selectionStart;
                    t.value += " ",
                    t.value = t.value.slice(0, -1),
                    t.setSelectionRange(l, l)
                }
            }
            function m() {
                var e, r;
                i !== t ? v() : d(),
                s.value = t.value + n.append,
                s.style.overflowY = t.style.overflowY,
                r = parseInt(t.style.height, 10),
                s.scrollTop = 0,
                s.scrollTop = 9E4,
                e = s.scrollTop,
                u && e > u ? (t.style.overflowY = "scroll", e = u) : (t.style.overflowY = "hidden", e < a && (e = a)),
                e += f,
                r !== e && (t.style.height = e + "px", l && n.callback.call(t, t))
            }
            function g() {
                clearTimeout(h),
                h = setTimeout(function() {
                    var e = o.width();
                    e !== p && (p = e, m())
                },
                parseInt(n.resizeDelay, 10))
            }
            var t = this,
            o = e(t),
            u,
            a,
            f = 0,
            l = e.isFunction(n.callback),
            c = {
                height: t.style.height,
                overflow: t.style.overflow,
                overflowY: t.style.overflowY,
                wordWrap: t.style.wordWrap,
                resize: t.style.resize
            },
            h,
            p = o.width();
            if (o.data("autosize")) return;
            o.data("autosize", !0);
            if (o.css("box-sizing") === "border-box" || o.css("-moz-box-sizing") === "border-box" || o.css("-webkit-box-sizing") === "border-box") f = o.outerHeight() - o.height();
            a = Math.max(parseInt(o.css("minHeight"), 10) - f || 0, o.height()),
            o.css({
                overflow: "hidden",
                overflowY: "hidden",
                wordWrap: "break-word",
                resize: o.css("resize") === "none" || o.css("resize") === "vertical" ? "none": "horizontal"
            }),
            "onpropertychange" in t ? "oninput" in t ? o.on("input.autosize keyup.autosize", m) : o.on("propertychange.autosize",
            function() {
                event.propertyName === "value" && m()
            }) : o.on("input.autosize", m),
            n.resizeDelay !== !1 && e(window).on("resize.autosize", g),
            o.on("autosize.resize", m),
            o.on("autosize.resizeIncludeStyle",
            function() {
                i = null,
                m()
            }),
            o.on("autosize.destroy",
            function() {
                i = null,
                clearTimeout(h),
                e(window).off("resize", g),
                o.off("autosize").off(".autosize").css(c).removeData("autosize")
            }),
            m()
        })
    }
}),
function(e) {
    var t, n, r = 0,
    i = {
        control: e('\x3cdiv class\x3d"colorPicker-picker"\x3e\x26nbsp;\x3c/div\x3e'),
        palette: e('\x3cdiv id\x3d"colorPicker_palette" class\x3d"colorPicker-palette" /\x3e'),
        swatch: e('\x3cdiv class\x3d"colorPicker-swatch"\x3e\x26nbsp;\x3c/div\x3e'),
        hexLabel: e('\x3clabel for\x3d"colorPicker_hex"\x3eHex\x3c/label\x3e'),
        hexField: e('\x3cinput type\x3d"text" id\x3d"colorPicker_hex" /\x3e')
    },
    s = "transparent",
    o;
    e.fn.colorPicker = function(t) {
        return this.each(function() {
            var n = e(this),
            o = e.extend({},
            e.fn.colorPicker.defaults, t),
            u = e.fn.colorPicker.toHex(n.val().length > 0 ? n.val() : o.pickerDefault),
            a = i.control.clone(),
            f = i.palette.clone().attr("id", "colorPicker_palette-" + r),
            l = i.hexLabel.clone(),
            c = i.hexField.clone(),
            h = f[0].id,
            p;
            e.each(o.colors,
            function(t) {
                p = i.swatch.clone(),
                o.colors[t] === s ? (p.addClass(s).text("X"), e.fn.colorPicker.bindPalette(c, p, s)) : (p.css("background-color", "#" + this), e.fn.colorPicker.bindPalette(c, p)),
                p.appendTo(f)
            }),
            l.attr("for", "colorPicker_hex-" + r),
            c.attr({
                id: "colorPicker_hex-" + r,
                value: u
            }),
            c.bind("keydown",
            function(t) {
                if (t.keyCode === 13) {
                    var r = e.fn.colorPicker.toHex(e(this).val());
                    e.fn.colorPicker.changeColor(r ? r: n.val())
                }
                t.keyCode === 27 && e.fn.colorPicker.hidePalette()
            }),
            c.bind("keyup",
            function(t) {
                var r = e.fn.colorPicker.toHex(e(t.target).val());
                e.fn.colorPicker.previewColor(r ? r: n.val())
            }),
            e('\x3cdiv class\x3d"colorPicker_hexWrap" /\x3e').append(l).appendTo(f),
            f.find(".colorPicker_hexWrap").append(c),
            e("body").append(f),
            f.hide(),
            a.css("background-color", u),
            a.bind("click",
            function() {
                n.is(":not(:disabled)") && e.fn.colorPicker.togglePalette(e("#" + h), e(this))
            }),
            t && t.onColorChange ? a.data("onColorChange", t.onColorChange) : a.data("onColorChange",
            function() {}),
            n.after(a),
            n.bind("change",
            function() {
                n.next(".colorPicker-picker").css("background-color", e.fn.colorPicker.toHex(e(this).val()))
            }),
            n.val(u).hide(),
            r++
        })
    },
    e.extend(!0, e.fn.colorPicker, {
        toHex: function(e) {
            if (e.match(/[0-9A-F]{6}|[0-9A-F]{3}$/i)) return e.charAt(0) === "#" ? e: "#" + e;
            if (!e.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/)) return ! 1;
            var t = [parseInt(RegExp.$1, 10), parseInt(RegExp.$2, 10), parseInt(RegExp.$3, 10)],
            n = function(e) {
                if (e.length < 2) for (var t = 0,
                n = 2 - e.length; t < n; t++) e = "0" + e;
                return e
            };
            if (t.length === 3) {
                var r = n(t[0].toString(16)),
                i = n(t[1].toString(16)),
                s = n(t[2].toString(16));
                return "#" + r + i + s
            }
        },
        checkMouse: function(r, i) {
            var s = n,
            o = e(r.target).parents("#" + s.attr("id")).length;
            if (r.target === e(s)[0] || r.target === t[0] || o > 0) return;
            e.fn.colorPicker.hidePalette()
        },
        hidePalette: function() {
            e(document).unbind("mousedown", e.fn.colorPicker.checkMouse),
            e(".colorPicker-palette").hide()
        },
        showPalette: function(n) {
            var r = t.prev("input").val();
            n.css({
                top: t.offset().top + t.outerHeight(),
                left: t.offset().left
            }),
            e("#color_value").val(r),
            n.show(),
            e(document).bind("mousedown", e.fn.colorPicker.checkMouse)
        },
        togglePalette: function(r, i) {
            i && (t = i),
            n = r,
            n.is(":visible") ? e.fn.colorPicker.hidePalette() : e.fn.colorPicker.showPalette(r)
        },
        changeColor: function(n) {
            t.css("background-color", n),
            t.prev("input").val(n).change(),
            e.fn.colorPicker.hidePalette(),
            t.data("onColorChange").call(t, e(t).prev("input").attr("id"), n)
        },
        previewColor: function(e) {
            t.css("background-color", e)
        },
        bindPalette: function(n, r, i) {
            i = i ? i: e.fn.colorPicker.toHex(r.css("background-color")),
            r.bind({
                click: function(t) {
                    o = i,
                    e.fn.colorPicker.changeColor(i)
                },
                mouseover: function(t) {
                    o = n.val(),
                    e(this).css("border-color", "#598FEF"),
                    n.val(i),
                    e.fn.colorPicker.previewColor(i)
                },
                mouseout: function(r) {
                    e(this).css("border-color", "#000"),
                    n.val(t.css("background-color")),
                    n.val(o),
                    e.fn.colorPicker.previewColor(o)
                }
            })
        }
    }),
    e.fn.colorPicker.defaults = {
        pickerDefault: "FFFFFF",
        colors: ["000000", "993300", "333300", "000080", "333399", "333333", "800000", "FF6600", "808000", "008000", "008080", "0000FF", "666699", "808080", "FF0000", "FF9900", "99CC00", "339966", "33CCCC", "3366FF", "800080", "999999", "FF00FF", "FFCC00", "FFFF00", "00FF00", "00FFFF", "00CCFF", "993366", "C0C0C0", "FF99CC", "FFCC99", "FFFF99", "CCFFFF", "99CCFF", "FFFFFF"],
        addColors: []
    }
} (jQuery),
function(e) {
    e.fn.zclip = function(t) {
        if (typeof t == "object" && !t.length) {
            var n = e.extend({
                path: "ZeroClipboard.swf",
                copy: null,
                beforeCopy: null,
                afterCopy: null,
                clickAfter: !0,
                setHandCursor: !0,
                setCSSEffects: !0
            },
            t);
            return this.each(function() {
                var t = e(this);
                if (t.is(":visible") && (typeof n.copy == "string" || e.isFunction(n.copy))) {
                    ZeroClipboard.setMoviePath(n.path);
                    var r = new ZeroClipboard.Client;
                    e.isFunction(n.copy) && t.bind("zClip_copy", n.copy),
                    e.isFunction(n.beforeCopy) && t.bind("zClip_beforeCopy", n.beforeCopy),
                    e.isFunction(n.afterCopy) && t.bind("zClip_afterCopy", n.afterCopy),
                    r.setHandCursor(n.setHandCursor),
                    r.setCSSEffects(n.setCSSEffects),
                    r.addEventListener("mouseOver",
                    function(e) {
                        t.trigger("mouseenter")
                    }),
                    r.addEventListener("mouseOut",
                    function(e) {
                        t.trigger("mouseleave")
                    }),
                    r.addEventListener("mouseDown",
                    function(i) {
                        t.trigger("mousedown"),
                        e.isFunction(n.copy) ? r.setText(t.triggerHandler("zClip_copy")) : r.setText(n.copy),
                        e.isFunction(n.beforeCopy) && t.trigger("zClip_beforeCopy")
                    }),
                    r.addEventListener("complete",
                    function(r, i) {
                        e.isFunction(n.afterCopy) ? t.trigger("zClip_afterCopy") : (i.length > 500 && (i = i.substr(0, 500) + "...\n\n(" + (i.length - 500) + " characters not shown)"), t.removeClass("hover"), alert("Copied text to clipboard:\n\n " + i)),
                        n.clickAfter && t.trigger("click")
                    }),
                    r.glue(t[0], t.parent()[0]),
                    e(window).bind("load resize",
                    function() {
                        r.reposition()
                    })
                }
            })
        }
        if (typeof t == "string") return this.each(function() {
            var n = e(this);
            t = t.toLowerCase();
            var r = n.data("zclipId"),
            i = e("#" + r + ".zclip");
            t == "remove" ? (i.remove(), n.removeClass("active hover")) : t == "hide" ? (i.hide(), n.removeClass("active hover")) : t == "show" && i.show()
        })
    }
} (jQuery);
var ZeroClipboard = {
    version: "1.0.7",
    clients: {},
    moviePath: "ZeroClipboard.swf",
    nextId: 1,
    $: function(e) {
        return typeof e == "string" && (e = document.getElementById(e)),
        e.addClass || (e.hide = function() {
            this.style.display = "none"
        },
        e.show = function() {
            this.style.display = ""
        },
        e.addClass = function(e) {
            this.removeClass(e),
            this.className += " " + e
        },
        e.removeClass = function(e) {
            var t = this.className.split(/\s+/),
            n = -1;
            for (var r = 0; r < t.length; r++) t[r] == e && (n = r, r = t.length);
            return n > -1 && (t.splice(n, 1), this.className = t.join(" ")),
            this
        },
        e.hasClass = function(e) {
            return !! this.className.match(new RegExp("\\s*" + e + "\\s*"))
        }),
        e
    },
    setMoviePath: function(e) {
        this.moviePath = e
    },
    dispatch: function(e, t, n) {
        var r = this.clients[e];
        r && r.receiveEvent(t, n)
    },
    register: function(e, t) {
        this.clients[e] = t
    },
    getDOMObjectPosition: function(e, t) {
        var n = {
            left: 0,
            top: 0,
            width: e.width ? e.width: e.offsetWidth,
            height: e.height ? e.height: e.offsetHeight
        };
        return e && e != t && (n.left += e.offsetLeft, n.top += e.offsetTop),
        n
    },
    Client: function(e) {
        this.handlers = {},
        this.id = ZeroClipboard.nextId++,
        this.movieId = "ZeroClipboardMovie_" + this.id,
        ZeroClipboard.register(this.id, this),
        e && this.glue(e)
    }
};
ZeroClipboard.Client.prototype = {
    id: 0,
    ready: !1,
    movie: null,
    clipText: "",
    handCursorEnabled: !0,
    cssEffects: !0,
    handlers: null,
    glue: function(e, t, n) {
        this.domElement = ZeroClipboard.$(e);
        var r = 99;
        this.domElement.style.zIndex && (r = parseInt(this.domElement.style.zIndex, 10) + 1),
        typeof t == "string" ? t = ZeroClipboard.$(t) : typeof t == "undefined" && (t = document.getElementsByTagName("body")[0]);
        var i = ZeroClipboard.getDOMObjectPosition(this.domElement, t);
        this.div = document.createElement("div"),
        this.div.className = "zclip",
        this.div.id = "zclip-" + this.movieId,
        $(this.domElement).data("zclipId", "zclip-" + this.movieId);
        var s = this.div.style;
        s.position = "absolute",
        s.left = "" + i.left + "px",
        s.top = "" + i.top + "px",
        s.width = "" + i.width + "px",
        s.height = "" + i.height + "px",
        s.zIndex = r;
        if (typeof n == "object") for (addedStyle in n) s[addedStyle] = n[addedStyle];
        t.appendChild(this.div),
        this.div.innerHTML = this.getHTML(i.width, i.height)
    },
    getHTML: function(e, t) {
        var n = "",
        r = "id\x3d" + this.id + "\x26width\x3d" + e + "\x26height\x3d" + t;
        if (navigator.userAgent.match(/MSIE/)) {
            var i = location.href.match(/^https/i) ? "https://": "http://";
            n += '\x3cobject classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase\x3d"' + i + 'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d9,0,0,0" width\x3d"' + e + '" height\x3d"' + t + '" id\x3d"' + this.movieId + '" align\x3d"middle"\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"always" /\x3e\x3cparam name\x3d"allowFullScreen" value\x3d"false" /\x3e\x3cparam name\x3d"movie" value\x3d"' + ZeroClipboard.moviePath + '" /\x3e\x3cparam name\x3d"loop" value\x3d"false" /\x3e\x3cparam name\x3d"menu" value\x3d"false" /\x3e\x3cparam name\x3d"quality" value\x3d"best" /\x3e\x3cparam name\x3d"bgcolor" value\x3d"#ffffff" /\x3e\x3cparam name\x3d"flashvars" value\x3d"' + r + '"/\x3e\x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e\x3c/object\x3e'
        } else n += '\x3cembed id\x3d"' + this.movieId + '" src\x3d"' + ZeroClipboard.moviePath + '" loop\x3d"false" menu\x3d"false" quality\x3d"best" bgcolor\x3d"#ffffff" width\x3d"' + e + '" height\x3d"' + t + '" name\x3d"' + this.movieId + '" align\x3d"middle" allowScriptAccess\x3d"always" allowFullScreen\x3d"false" type\x3d"application/x-shockwave-flash" pluginspage\x3d"http://www.macromedia.com/go/getflashplayer" flashvars\x3d"' + r + '" wmode\x3d"transparent" /\x3e';
        return n
    },
    hide: function() {
        this.div && (this.div.style.left = "-2000px")
    },
    show: function() {
        this.reposition()
    },
    destroy: function() {
        if (this.domElement && this.div) {
            this.hide(),
            this.div.innerHTML = "";
            var e = document.getElementsByTagName("body")[0];
            try {
                e.removeChild(this.div)
            } catch(t) {}
            this.domElement = null,
            this.div = null
        }
    },
    reposition: function(e) {
        e && (this.domElement = ZeroClipboard.$(e), this.domElement || this.hide());
        if (this.domElement && this.div) {
            var t = ZeroClipboard.getDOMObjectPosition(this.domElement),
            n = this.div.style;
            n.left = "" + t.left + "px",
            n.top = "" + t.top + "px"
        }
    },
    setText: function(e) {
        this.clipText = e,
        this.ready && this.movie.setText(e)
    },
    addEventListener: function(e, t) {
        e = e.toString().toLowerCase().replace(/^on/, ""),
        this.handlers[e] || (this.handlers[e] = []),
        this.handlers[e].push(t)
    },
    setHandCursor: function(e) {
        this.handCursorEnabled = e,
        this.ready && this.movie.setHandCursor(e)
    },
    setCSSEffects: function(e) {
        this.cssEffects = !!e
    },
    receiveEvent: function(e, t) {
        e = e.toString().toLowerCase().replace(/^on/, "");
        switch (e) {
        case "load":
            this.movie = document.getElementById(this.movieId);
            if (!this.movie) {
                var n = this;
                setTimeout(function() {
                    n.receiveEvent("load", null)
                },
                1);
                return
            }
            if (!this.ready && navigator.userAgent.match(/Firefox/) && navigator.userAgent.match(/Windows/)) {
                var n = this;
                setTimeout(function() {
                    n.receiveEvent("load", null)
                },
                100),
                this.ready = !0;
                return
            }
            this.ready = !0;
            try {
                this.movie.setText(this.clipText)
            } catch(r) {}
            try {
                this.movie.setHandCursor(this.handCursorEnabled)
            } catch(r$34) {}
            break;
        case "mouseover":
            this.domElement && this.cssEffects && (this.domElement.addClass("hover"), this.recoverActive && this.domElement.addClass("active"));
            break;
        case "mouseout":
            this.domElement && this.cssEffects && (this.recoverActive = !1, this.domElement.hasClass("active") && (this.domElement.removeClass("active"), this.recoverActive = !0), this.domElement.removeClass("hover"));
            break;
        case "mousedown":
            this.domElement && this.cssEffects && this.domElement.addClass("active");
            break;
        case "mouseup":
            this.domElement && this.cssEffects && (this.domElement.removeClass("active"), this.recoverActive = !1)
        }
        if (this.handlers[e]) for (var i = 0,
        s = this.handlers[e].length; i < s; i++) {
            var o = this.handlers[e][i];
            typeof o == "function" ? o(this, t) : typeof o == "object" && o.length == 2 ? o[0][o[1]](this, t) : typeof o == "string" && window[o](this, t)
        }
    }
},
function(e, t, n) {
    function i(e) {
        return e
    }
    function s(e) {
        return decodeURIComponent(e.replace(r, " "))
    }
    var r = /\+/g,
    o = e.cookie = function(r, u, a) {
        if (u !== n) {
            a = e.extend({},
            o.defaults, a),
            u === null && (a.expires = -1);
            if (typeof a.expires == "number") {
                var f = a.expires,
                l = a.expires = new Date;
                l.setDate(l.getDate() + f)
            }
            return u = o.json ? JSON.stringify(u) : String(u),
            t.cookie = [encodeURIComponent(r), "\x3d", o.raw ? u: encodeURIComponent(u), a.expires ? "; expires\x3d" + a.expires.toUTCString() : "", a.path ? "; path\x3d" + a.path: "", a.domain ? "; domain\x3d" + a.domain: "", a.secure ? "; secure": ""].join("")
        }
        var c = o.raw ? i: s,
        h = t.cookie.split("; ");
        for (var p = 0,
        d = h.length; p < d; p++) {
            var v = h[p].split("\x3d");
            if (c(v.shift()) === r) {
                var m = c(v.join("\x3d"));
                return o.json ? JSON.parse(m) : m
            }
        }
        return null
    };
    o.defaults = {},
    e.removeCookie = function(t, n) {
        return e.cookie(t) !== null ? (e.cookie(t, null, n), !0) : !1
    }
} (jQuery, document),
function(e, t, n) {
    function o(t, n) {
        var i = this.element = t,
        o = this.options = e.extend({
            maxChars: e(i).attr("maxlength") ? e(i).attr("maxlength") : e(i).data(r.toLowerCase() + "-limit"),
            onCharsFull: function() {},
            onCharsEmpty: function() {},
            onCharsValid: function() {}
        },
        s, n);
        if (!o.maxChars) return;
        this._defaults = s,
        this._name = r,
        this.init(i, o)
    }
    var r = "charLimiter",
    i = t.document,
    s = {
        counterClass: "counter",
        generateCounter: !1,
        insert: "after",
        forceLimit: !0,
        textFormat: "{r}"
    };
    o.prototype.init = function(t, n) {
        var r = n.maxChars;
        if (n.generateCounter === !0) {
            var i = e("\x3cspan\x3e", {
                "class": n.counterClass,
                text: r
            });
            e(t).data("sp", i)[n.insert](i)
        } else e(t).each(function() {
            e("." + n.counterClass + '[data-counter-rel\x3d"' + e(this).data("counter-rel") + '"]').html(r)
        });
        e(t).on("keypress keyup keydown change input",
        function() {
            var t, i = e(this).val().length,
            s = r - i;
            s <= 0 ? n.onCharsFull(this) : (i === 0 && n.onCharsEmpty(this), n.onCharsValid(this));
            if (n.forceLimit && i > r) {
                var o = e(this).val();
                e(this).val(o.substr(0, r)),
                s = 0
            }
            t = n.textFormat.replace(/{r}/g, s).replace(/{rs}/g, s === 1 || s === -1 ? "": "s").replace(/{c}/g, i).replace(/{cs}/g, i === 1 || s === -1 ? "": "s").replace(/{m}/g, r),
            n.generateCounter === !0 ? e(this).data("sp").html(t) : e("." + n.counterClass + '[data-counter-rel\x3d"' + e(this).data("counter-rel") + '"]').html(t)
        }).change()
    },
    e.fn[r] = function(t) {
        return this.each(function() {
            e.data(this, "plugin_" + r) || e.data(this, "plugin_" + r, new o(this, t))
        })
    }
} (jQuery, window),
function(e) {
    e.Jcrop = function(t, n) {
        function a(e) {
            return Math.round(e) + "px"
        }
        function f(e) {
            return r.baseClass + "-" + e
        }
        function l() {
            return e.fx.step.hasOwnProperty("backgroundColor")
        }
        function c(t) {
            var n = e(t).offset();
            return [n.left, n.top]
        }
        function h(e) {
            return [e.pageX - i[0], e.pageY - i[1]]
        }
        function p(t) {
            typeof t != "object" && (t = {}),
            r = e.extend(r, t),
            e.each(["onChange", "onSelect", "onRelease", "onDblClick"],
            function(e, t) {
                typeof r[t] != "function" && (r[t] = function() {})
            })
        }
        function d(e, t, n) {
            i = c(A),
            nt.setCursor(e === "move" ? e: e + "-resize");
            if (e === "move") return nt.activateHandlers(m(t), E, n);
            var r = Z.getFixed(),
            s = g(e),
            o = Z.getCorner(g(s));
            Z.setPressed(Z.getCorner(s)),
            Z.setCurrent(o),
            nt.activateHandlers(v(e, r), E, n)
        }
        function v(e, t) {
            return function(n) {
                if (!r.aspectRatio) switch (e) {
                case "e":
                    n[1] = t.y2;
                    break;
                case "w":
                    n[1] = t.y2;
                    break;
                case "n":
                    n[0] = t.x2;
                    break;
                case "s":
                    n[0] = t.x2
                } else switch (e) {
                case "e":
                    n[1] = t.y + 1;
                    break;
                case "w":
                    n[1] = t.y + 1;
                    break;
                case "n":
                    n[0] = t.x + 1;
                    break;
                case "s":
                    n[0] = t.x + 1
                }
                Z.setCurrent(n),
                tt.update()
            }
        }
        function m(e) {
            var t = e;
            return rt.watchKeys(),
            function(e) {
                Z.moveOffset([e[0] - t[0], e[1] - t[1]]),
                t = e,
                tt.update()
            }
        }
        function g(e) {
            switch (e) {
            case "n":
                return "sw";
            case "s":
                return "nw";
            case "e":
                return "nw";
            case "w":
                return "ne";
            case "ne":
                return "sw";
            case "nw":
                return "se";
            case "se":
                return "nw";
            case "sw":
                return "ne"
            }
        }
        function y(e) {
            return function(t) {
                return r.disabled ? !1 : e === "move" && !r.allowMove ? !1 : (i = c(A), K = !0, d(e, h(t)), t.stopPropagation(), t.preventDefault(), !1)
            }
        }
        function b(e, t, n) {
            var r = e.width(),
            i = e.height();
            r > t && t > 0 && (r = t, i = t / e.width() * e.height()),
            i > n && n > 0 && (i = n, r = n / e.height() * e.width()),
            X = e.width() / r,
            V = e.height() / i,
            e.width(r).height(i)
        }
        function w(e) {
            return {
                x: e.x * X,
                y: e.y * V,
                x2: e.x2 * X,
                y2: e.y2 * V,
                w: e.w * X,
                h: e.h * V
            }
        }
        function E(e) {
            var t = Z.getFixed();
            t.w > r.minSelect[0] && t.h > r.minSelect[1] ? (tt.enableHandles(), tt.done()) : tt.release(),
            nt.setCursor(r.allowSelect ? "crosshair": "default")
        }
        function S(e) {
            if (r.disabled) return ! 1;
            if (!r.allowSelect) return ! 1;
            K = !0,
            i = c(A),
            tt.disableHandles(),
            nt.setCursor("crosshair");
            var t = h(e);
            return Z.setPressed(t),
            tt.update(),
            nt.activateHandlers(x, E, e.type.substring(0, 5) === "touch"),
            rt.watchKeys(),
            e.stopPropagation(),
            e.preventDefault(),
            !1
        }
        function x(e) {
            Z.setCurrent(e),
            tt.update()
        }
        function T() {
            var t = e("\x3cdiv\x3e\x3c/div\x3e").addClass(f("tracker"));
            return o && t.css({
                opacity: 0,
                backgroundColor: "white"
            }),
            t
        }
        function it(e) {
            _.removeClass().addClass(f("holder")).addClass(e)
        }
        function st(e, t) {
            function b() {
                window.setTimeout(w, c)
            }
            var n = e[0] / X,
            i = e[1] / V,
            s = e[2] / X,
            o = e[3] / V;
            if (Q) return;
            var u = Z.flipCoords(n, i, s, o),
            a = Z.getFixed(),
            f = [a.x, a.y, a.x2, a.y2],
            l = f,
            c = r.animationDelay,
            h = u[0] - f[0],
            p = u[1] - f[1],
            d = u[2] - f[2],
            v = u[3] - f[3],
            m = 0,
            g = r.swingSpeed;
            n = l[0],
            i = l[1],
            s = l[2],
            o = l[3],
            tt.animMode(!0);
            var y, w = function() {
                return function() {
                    m += (100 - m) / g,
                    l[0] = Math.round(n + m / 100 * h),
                    l[1] = Math.round(i + m / 100 * p),
                    l[2] = Math.round(s + m / 100 * d),
                    l[3] = Math.round(o + m / 100 * v),
                    m >= 99.8 && (m = 100),
                    m < 100 ? (ut(l), b()) : (tt.done(), tt.animMode(!1), typeof t == "function" && t.call(yt))
                }
            } ();
            b()
        }
        function ot(e) {
            ut([e[0] / X, e[1] / V, e[2] / X, e[3] / V]),
            r.onSelect.call(yt, w(Z.getFixed())),
            tt.enableHandles()
        }
        function ut(e) {
            Z.setPressed([e[0], e[1]]),
            Z.setCurrent([e[2], e[3]]),
            tt.update()
        }
        function at() {
            return w(Z.getFixed())
        }
        function ft() {
            return Z.getFixed()
        }
        function lt(e) {
            p(e),
            gt()
        }
        function ct() {
            r.disabled = !0,
            tt.disableHandles(),
            tt.setCursor("default"),
            nt.setCursor("default")
        }
        function ht() {
            r.disabled = !1,
            gt()
        }
        function pt() {
            tt.done(),
            nt.activateHandlers(null, null)
        }
        function dt() {
            _.remove(),
            C.show(),
            C.css("visibility", "visible"),
            e(t).removeData("Jcrop")
        }
        function vt(e, t) {
            tt.release(),
            ct();
            var n = new Image;
            n.onload = function() {
                var i = n.width,
                s = n.height,
                o = r.boxWidth,
                u = r.boxHeight;
                A.width(i).height(s),
                A.attr("src", e),
                D.attr("src", e),
                b(A, o, u),
                O = A.width(),
                M = A.height(),
                D.width(O).height(M),
                F.width(O + j * 2).height(M + j * 2),
                _.width(O).height(M),
                et.resize(O, M),
                ht(),
                typeof t == "function" && t.call(yt)
            },
            n.src = e
        }
        function mt(e, t, n) {
            var i = t || r.bgColor;
            r.bgFade && l() && r.fadeTime && !n ? e.animate({
                backgroundColor: i
            },
            {
                queue: !1,
                duration: r.fadeTime
            }) : e.css("backgroundColor", i)
        }
        function gt(e) {
            r.allowResize ? e ? tt.enableOnly() : tt.enableHandles() : tt.disableHandles(),
            nt.setCursor(r.allowSelect ? "crosshair": "default"),
            tt.setCursor(r.allowMove ? "move": "default"),
            r.hasOwnProperty("trueSize") && (X = r.trueSize[0] / O, V = r.trueSize[1] / M),
            r.hasOwnProperty("setSelect") && (ot(r.setSelect), tt.done(), delete r.setSelect),
            et.refresh(),
            r.bgColor != I && (mt(r.shade ? et.getShades() : _, r.shade ? r.shadeColor || r.bgColor: r.bgColor), I = r.bgColor),
            q != r.bgOpacity && (q = r.bgOpacity, r.shade ? et.refresh() : tt.setBgOpacity(q)),
            R = r.maxSize[0] || 0,
            U = r.maxSize[1] || 0,
            z = r.minSize[0] || 0,
            W = r.minSize[1] || 0,
            r.hasOwnProperty("outerImage") && (A.attr("src", r.outerImage), delete r.outerImage),
            tt.refresh()
        }
        var r = e.extend({},
        e.Jcrop.defaults),
        i,
        s = navigator.userAgent.toLowerCase(),
        o = /msie/.test(s),
        u = /msie [1-6]\./.test(s);
        typeof t != "object" && (t = e(t)[0]),
        typeof n != "object" && (n = {}),
        p(n);
        var N = {
            border: "none",
            visibility: "visible",
            margin: 0,
            padding: 0,
            position: "absolute",
            top: 0,
            left: 0
        },
        C = e(t),
        k = !0;
        if (t.tagName == "IMG") {
            if (C[0].width != 0 && C[0].height != 0) C.width(C[0].width),
            C.height(C[0].height);
            else {
                var L = new Image;
                L.src = C[0].src,
                C.width(L.width),
                C.height(L.height)
            }
            var A = C.clone().removeAttr("id").css(N).show();
            A.width(C.width()),
            A.height(C.height()),
            C.after(A).hide()
        } else A = C.css(N).show(),
        k = !1,
        r.shade === null && (r.shade = !0);
        b(A, r.boxWidth, r.boxHeight);
        var O = A.width(),
        M = A.height(),
        _ = e("\x3cdiv /\x3e").width(O).height(M).addClass(f("holder")).css({
            position: "relative",
            backgroundColor: r.bgColor
        }).insertAfter(C).append(A);
        r.addClass && _.addClass(r.addClass);
        var D = e("\x3cdiv /\x3e"),
        P = e("\x3cdiv /\x3e").width("100%").height("100%").css({
            zIndex: 310,
            position: "absolute",
            overflow: "hidden"
        }),
        H = e("\x3cdiv /\x3e").width("100%").height("100%").css("zIndex", 320),
        B = e("\x3cdiv /\x3e").css({
            position: "absolute",
            zIndex: 600
        }).dblclick(function() {
            var e = Z.getFixed();
            r.onDblClick.call(yt, e)
        }).insertBefore(A).append(P, H);
        k && (D = e("\x3cimg /\x3e").attr("src", A.attr("src")).css(N).width(O).height(M), P.append(D)),
        u && B.css({
            overflowY: "hidden"
        });
        var j = r.boundary,
        F = T().width(O + j * 2).height(M + j * 2).css({
            position: "absolute",
            top: a( - j),
            left: a( - j),
            zIndex: 290
        }).mousedown(S),
        I = r.bgColor,
        q = r.bgOpacity,
        R,
        U,
        z,
        W,
        X,
        V,
        J = !0,
        K,
        Q,
        G;
        i = c(A);
        var Y = function() {
            function e() {
                var e = {},
                t = ["touchstart", "touchmove", "touchend"],
                n = document.createElement("div"),
                r;
                try {
                    for (r = 0; r < t.length; r++) {
                        var i = t[r];
                        i = "on" + i;
                        var s = i in n;
                        s || (n.setAttribute(i, "return;"), s = typeof n[i] == "function"),
                        e[t[r]] = s
                    }
                    return e.touchstart && e.touchend && e.touchmove
                } catch(o$35) {
                    return ! 1
                }
            }
            function t() {
                return r.touchSupport === !0 || r.touchSupport === !1 ? r.touchSupport: e()
            }
            return {
                createDragger: function(e) {
                    return function(t) {
                        return r.disabled ? !1 : e === "move" && !r.allowMove ? !1 : (i = c(A), K = !0, d(e, h(Y.cfilter(t)), !0), t.stopPropagation(), t.preventDefault(), !1)
                    }
                },
                newSelection: function(e) {
                    return S(Y.cfilter(e))
                },
                cfilter: function(e) {
                    return e.pageX = e.originalEvent.changedTouches[0].pageX,
                    e.pageY = e.originalEvent.changedTouches[0].pageY,
                    e
                },
                isSupported: e,
                support: t()
            }
        } (),
        Z = function() {
            function u(r) {
                r = p(r),
                n = e = r[0],
                i = t = r[1]
            }
            function a(e) {
                e = p(e),
                s = e[0] - n,
                o = e[1] - i,
                n = e[0],
                i = e[1]
            }
            function f() {
                return [s, o]
            }
            function l(r) {
                var s = r[0],
                o = r[1];
                0 > e + s && (s -= s + e),
                0 > t + o && (o -= o + t),
                M < i + o && (o += M - (i + o)),
                O < n + s && (s += O - (n + s)),
                e += s,
                n += s,
                t += o,
                i += o
            }
            function c(e) {
                var t = h();
                switch (e) {
                case "ne":
                    return [t.x2, t.y];
                case "nw":
                    return [t.x, t.y];
                case "se":
                    return [t.x2, t.y2];
                case "sw":
                    return [t.x, t.y2]
                }
            }
            function h() {
                if (!r.aspectRatio) return v();
                var s = r.aspectRatio,
                o = r.minSize[0] / X,
                u = r.maxSize[0] / X,
                a = r.maxSize[1] / V,
                f = n - e,
                l = i - t,
                c = Math.abs(f),
                h = Math.abs(l),
                p = c / h,
                g,
                y,
                b,
                w;
                return u === 0 && (u = O * 10),
                a === 0 && (a = M * 10),
                p < s ? (y = i, b = h * s, g = f < 0 ? e - b: b + e, g < 0 ? (g = 0, w = Math.abs((g - e) / s), y = l < 0 ? t - w: w + t) : g > O && (g = O, w = Math.abs((g - e) / s), y = l < 0 ? t - w: w + t)) : (g = n, w = c / s, y = l < 0 ? t - w: t + w, y < 0 ? (y = 0, b = Math.abs((y - t) * s), g = f < 0 ? e - b: b + e) : y > M && (y = M, b = Math.abs(y - t) * s, g = f < 0 ? e - b: b + e)),
                g > e ? (g - e < o ? g = e + o: g - e > u && (g = e + u), y > t ? y = t + (g - e) / s: y = t - (g - e) / s) : g < e && (e - g < o ? g = e - o: e - g > u && (g = e - u), y > t ? y = t + (e - g) / s: y = t - (e - g) / s),
                g < 0 ? (e -= g, g = 0) : g > O && (e -= g - O, g = O),
                y < 0 ? (t -= y, y = 0) : y > M && (t -= y - M, y = M),
                m(d(e, t, g, y))
            }
            function p(e) {
                return e[0] < 0 && (e[0] = 0),
                e[1] < 0 && (e[1] = 0),
                e[0] > O && (e[0] = O),
                e[1] > M && (e[1] = M),
                [Math.round(e[0]), Math.round(e[1])]
            }
            function d(e, t, n, r) {
                var i = e,
                s = n,
                o = t,
                u = r;
                return n < e && (i = n, s = e),
                r < t && (o = r, u = t),
                [i, o, s, u]
            }
            function v() {
                var r = n - e,
                s = i - t,
                o;
                return R && Math.abs(r) > R && (n = r > 0 ? e + R: e - R),
                U && Math.abs(s) > U && (i = s > 0 ? t + U: t - U),
                W / V && Math.abs(s) < W / V && (i = s > 0 ? t + W / V: t - W / V),
                z / X && Math.abs(r) < z / X && (n = r > 0 ? e + z / X: e - z / X),
                e < 0 && (n -= e, e -= e),
                t < 0 && (i -= t, t -= t),
                n < 0 && (e -= n, n -= n),
                i < 0 && (t -= i, i -= i),
                n > O && (o = n - O, e -= o, n -= o),
                i > M && (o = i - M, t -= o, i -= o),
                e > O && (o = e - M, i -= o, t -= o),
                t > M && (o = t - M, i -= o, t -= o),
                m(d(e, t, n, i))
            }
            function m(e) {
                return {
                    x: e[0],
                    y: e[1],
                    x2: e[2],
                    y2: e[3],
                    w: e[2] - e[0],
                    h: e[3] - e[1]
                }
            }
            var e = 0,
            t = 0,
            n = 0,
            i = 0,
            s, o;
            return {
                flipCoords: d,
                setPressed: u,
                setCurrent: a,
                getOffset: f,
                moveOffset: l,
                getCorner: c,
                getFixed: h
            }
        } (),
        et = function() {
            function s(e, t) {
                i.left.css({
                    height: a(t)
                }),
                i.right.css({
                    height: a(t)
                })
            }
            function o() {
                return u(Z.getFixed())
            }
            function u(e) {
                i.top.css({
                    left: a(e.x),
                    width: a(e.w),
                    height: a(e.y)
                }),
                i.bottom.css({
                    top: a(e.y2),
                    left: a(e.x),
                    width: a(e.w),
                    height: a(M - e.y2)
                }),
                i.right.css({
                    left: a(e.x2),
                    width: a(O - e.x2)
                }),
                i.left.css({
                    width: a(e.x)
                })
            }
            function f() {
                return e("\x3cdiv /\x3e").css({
                    position: "absolute",
                    backgroundColor: r.shadeColor || r.bgColor
                }).appendTo(n)
            }
            function l() {
                t || (t = !0, n.insertBefore(A), o(), tt.setBgOpacity(1, 0, 1), D.hide(), c(r.shadeColor || r.bgColor, 1), tt.isAwake() ? p(r.bgOpacity, 1) : p(1, 1))
            }
            function c(e, t) {
                mt(v(), e, t)
            }
            function h() {
                t && (n.remove(), D.show(), t = !1, tt.isAwake() ? tt.setBgOpacity(r.bgOpacity, 1, 1) : (tt.setBgOpacity(1, 1, 1), tt.disableHandles()), mt(_, 0, 1))
            }
            function p(e, i) {
                t && (r.bgFade && !i ? n.animate({
                    opacity: 1 - e
                },
                {
                    queue: !1,
                    duration: r.fadeTime
                }) : n.css({
                    opacity: 1 - e
                }))
            }
            function d() {
                r.shade ? l() : h(),
                tt.isAwake() && p(r.bgOpacity)
            }
            function v() {
                return n.children()
            }
            var t = !1,
            n = e("\x3cdiv /\x3e").css({
                position: "absolute",
                zIndex: 240,
                opacity: 0
            }),
            i = {
                top: f(),
                left: f().height(M),
                right: f().height(M),
                bottom: f()
            };
            return {
                update: o,
                updateRaw: u,
                getShades: v,
                setBgColor: c,
                enable: l,
                disable: h,
                resize: s,
                refresh: d,
                opacity: p
            }
        } (),
        tt = function() {
            function l(t) {
                var n = e("\x3cdiv /\x3e").css({
                    position: "absolute",
                    opacity: r.borderOpacity
                }).addClass(f(t));
                return P.append(n),
                n
            }
            function c(t, n) {
                var r = e("\x3cdiv /\x3e").mousedown(y(t)).css({
                    cursor: t + "-resize",
                    position: "absolute",
                    zIndex: n
                }).addClass("ord-" + t);
                return Y.support && r.bind("touchstart.jcrop", Y.createDragger(t)),
                H.append(r),
                r
            }
            function h(e) {
                var t = r.handleSize,
                i = c(e, n++).css({
                    opacity: r.handleOpacity
                }).addClass(f("handle"));
                return t && i.width(t).height(t),
                i
            }
            function p(e) {
                return c(e, n++).addClass("jcrop-dragbar")
            }
            function d(e) {
                var t;
                for (t = 0; t < e.length; t++) o[e[t]] = p(e[t])
            }
            function v(e) {
                var t, n;
                for (n = 0; n < e.length; n++) {
                    switch (e[n]) {
                    case "n":
                        t = "hline";
                        break;
                    case "s":
                        t = "hline bottom";
                        break;
                    case "e":
                        t = "vline right";
                        break;
                    case "w":
                        t = "vline"
                    }
                    i[e[n]] = l(t)
                }
            }
            function m(e) {
                var t;
                for (t = 0; t < e.length; t++) s[e[t]] = h(e[t])
            }
            function g(e, t) {
                r.shade || D.css({
                    top: a( - t),
                    left: a( - e)
                }),
                B.css({
                    top: a(t),
                    left: a(e)
                })
            }
            function b(e, t) {
                B.width(Math.round(e)).height(Math.round(t))
            }
            function E() {
                var e = Z.getFixed();
                Z.setPressed([e.x, e.y]),
                Z.setCurrent([e.x2, e.y2]),
                S()
            }
            function S(e) {
                if (t) return x(e)
            }
            function x(e) {
                var n = Z.getFixed();
                b(n.w, n.h),
                g(n.x, n.y),
                r.shade && et.updateRaw(n),
                t || C(),
                e ? r.onSelect.call(yt, w(n)) : r.onChange.call(yt, w(n))
            }
            function N(e, n, i) {
                if (!t && !n) return;
                r.bgFade && !i ? A.animate({
                    opacity: e
                },
                {
                    queue: !1,
                    duration: r.fadeTime
                }) : A.css("opacity", e)
            }
            function C() {
                B.show(),
                r.shade ? et.opacity(q) : N(q, !0),
                t = !0
            }
            function k() {
                M(),
                B.hide(),
                r.shade ? et.opacity(1) : N(1),
                t = !1,
                r.onRelease.call(yt)
            }
            function L() {
                u && H.show()
            }
            function O() {
                u = !0;
                if (r.allowResize) return H.show(),
                !0
            }
            function M() {
                u = !1,
                H.hide()
            }
            function _(e) {
                e ? (Q = !0, M()) : (Q = !1, O())
            }
            function j() {
                _(!1),
                E()
            }
            var t, n = 370,
            i = {},
            s = {},
            o = {},
            u = !1;
            r.dragEdges && e.isArray(r.createDragbars) && d(r.createDragbars),
            e.isArray(r.createHandles) && m(r.createHandles),
            r.drawBorders && e.isArray(r.createBorders) && v(r.createBorders),
            e(document).bind("touchstart.jcrop-ios",
            function(t) {
                e(t.currentTarget).hasClass("jcrop-tracker") && t.stopPropagation()
            });
            var F = T().mousedown(y("move")).css({
                cursor: "move",
                position: "absolute",
                zIndex: 360
            });
            return Y.support && F.bind("touchstart.jcrop", Y.createDragger("move")),
            P.append(F),
            M(),
            {
                updateVisible: S,
                update: x,
                release: k,
                refresh: E,
                isAwake: function() {
                    return t
                },
                setCursor: function(e) {
                    F.css("cursor", e)
                },
                enableHandles: O,
                enableOnly: function() {
                    u = !0
                },
                showHandles: L,
                disableHandles: M,
                animMode: _,
                setBgOpacity: N,
                done: j
            }
        } (),
        nt = function() {
            function s(t) {
                F.css({
                    zIndex: 450
                }),
                t ? e(document).bind("touchmove.jcrop", l).bind("touchend.jcrop", c) : i && e(document).bind("mousemove.jcrop", u).bind("mouseup.jcrop", a)
            }
            function o() {
                F.css({
                    zIndex: 290
                }),
                e(document).unbind(".jcrop")
            }
            function u(e) {
                return t(h(e)),
                !1
            }
            function a(e) {
                return e.preventDefault(),
                e.stopPropagation(),
                K && (K = !1, n(h(e)), tt.isAwake() && r.onSelect.call(yt, w(Z.getFixed())), o(), t = function() {},
                n = function() {}),
                !1
            }
            function f(e, r, i) {
                return K = !0,
                t = e,
                n = r,
                s(i),
                !1
            }
            function l(e) {
                return t(h(Y.cfilter(e))),
                !1
            }
            function c(e) {
                return a(Y.cfilter(e))
            }
            function p(e) {
                F.css("cursor", e)
            }
            var t = function() {},
            n = function() {},
            i = r.trackDocument;
            return i || F.mousemove(u).mouseup(a).mouseout(a),
            A.before(F),
            {
                activateHandlers: f,
                setCursor: p
            }
        } (),
        rt = function() {
            function i() {
                r.keySupport && (t.show(), t.focus())
            }
            function s(e) {
                t.hide()
            }
            function o(e, t, n) {
                r.allowMove && (Z.moveOffset([t, n]), tt.updateVisible(!0)),
                e.preventDefault(),
                e.stopPropagation()
            }
            function a(e) {
                if (e.ctrlKey || e.metaKey) return ! 0;
                G = e.shiftKey ? !0 : !1;
                var t = G ? 10 : 1;
                switch (e.keyCode) {
                case 37:
                    o(e, -t, 0);
                    break;
                case 39:
                    o(e, t, 0);
                    break;
                case 38:
                    o(e, 0, -t);
                    break;
                case 40:
                    o(e, 0, t);
                    break;
                case 27:
                    r.allowSelect && tt.release();
                    break;
                case 9:
                    return ! 0
                }
                return ! 1
            }
            var t = e('\x3cinput type\x3d"radio" /\x3e').css({
                position: "fixed",
                left: "-120px",
                width: "12px"
            }).addClass("jcrop-keymgr"),
            n = e("\x3cdiv /\x3e").css({
                position: "absolute",
                overflow: "hidden"
            }).append(t);
            return r.keySupport && (t.keydown(a).blur(s), u || !r.fixedSupport ? (t.css({
                position: "absolute",
                left: "-20px"
            }), n.append(t).insertBefore(A)) : t.insertBefore(A)),
            {
                watchKeys: i
            }
        } ();
        Y.support && F.bind("touchstart.jcrop", Y.newSelection),
        H.hide(),
        gt(!0);
        var yt = {
            setImage: vt,
            animateTo: st,
            setSelect: ot,
            setOptions: lt,
            tellSelect: at,
            tellScaled: ft,
            setClass: it,
            disable: ct,
            enable: ht,
            cancel: pt,
            release: tt.release,
            destroy: dt,
            focus: rt.watchKeys,
            getBounds: function() {
                return [O * X, M * V]
            },
            getWidgetSize: function() {
                return [O, M]
            },
            getScaleFactor: function() {
                return [X, V]
            },
            getOptions: function() {
                return r
            },
            ui: {
                holder: _,
                selection: B
            }
        };
        return o && _.bind("selectstart",
        function() {
            return ! 1
        }),
        C.data("Jcrop", yt),
        yt
    },
    e.fn.Jcrop = function(t, n) {
        var r;
        return this.each(function() {
            if (e(this).data("Jcrop")) {
                if (t === "api") return e(this).data("Jcrop");
                e(this).data("Jcrop").setOptions(t)
            } else this.tagName == "IMG" ? e.Jcrop.Loader(this,
            function() {
                e(this).css({
                    display: "block",
                    visibility: "hidden"
                }),
                r = e.Jcrop(this, t),
                e.isFunction(n) && n.call(r)
            }) : (e(this).css({
                display: "block",
                visibility: "hidden"
            }), r = e.Jcrop(this, t), e.isFunction(n) && n.call(r))
        }),
        this
    },
    e.Jcrop.Loader = function(t, n, r) {
        function o() {
            s.complete ? (i.unbind(".jcloader"), e.isFunction(n) && n.call(s)) : window.setTimeout(o, 50)
        }
        var i = e(t),
        s = i[0];
        i.bind("load.jcloader", o).bind("error.jcloader",
        function(t) {
            i.unbind(".jcloader"),
            e.isFunction(r) && r.call(s)
        }),
        s.complete && e.isFunction(n) && (i.unbind(".jcloader"), n.call(s))
    },
    e.Jcrop.defaults = {
        allowSelect: !0,
        allowMove: !0,
        allowResize: !0,
        trackDocument: !0,
        baseClass: "jcrop",
        addClass: null,
        bgColor: "black",
        bgOpacity: .6,
        bgFade: !1,
        borderOpacity: .4,
        handleOpacity: .5,
        handleSize: null,
        aspectRatio: 0,
        keySupport: !0,
        createHandles: ["n", "s", "e", "w", "nw", "ne", "se", "sw"],
        createDragbars: ["n", "s", "e", "w"],
        createBorders: ["n", "s", "e", "w"],
        drawBorders: !0,
        dragEdges: !0,
        fixedSupport: !0,
        touchSupport: null,
        shade: null,
        boxWidth: 0,
        boxHeight: 0,
        boundary: 2,
        fadeTime: 400,
        animationDelay: 20,
        swingSpeed: 3,
        minSelect: [0, 0],
        maxSize: [0, 0],
        minSize: [0, 0],
        onChange: function() {},
        onSelect: function() {},
        onDblClick: function() {},
        onRelease: function() {}
    }
} (jQuery),
function(e) {
    
    e.extend(e.fn, {
        livequery: function(t, n, r) {
            var i = this,
            s;
            return e.isFunction(t) && (r = n, n = t, t = undefined),
            e.each(e.livequery.queries,
            function(e, o) {
                if (i.selector == o.selector && i.context == o.context && t == o.type && (!n || n.$lqguid == o.fn.$lqguid) && (!r || r.$lqguid == o.fn2.$lqguid)) return (s = o) && !1
            }),
            s = s || new e.livequery(this.selector, this.context, t, n, r),
            s.stopped = !1,
            s.run(),
            this
        },
        expire: function(t, n, r) {
            var i = this;
            return e.isFunction(t) && (r = n, n = t, t = undefined),
            e.each(e.livequery.queries,
            function(s, o) {
                i.selector == o.selector && i.context == o.context && (!t || t == o.type) && (!n || n.$lqguid == o.fn.$lqguid) && (!r || r.$lqguid == o.fn2.$lqguid) && !this.stopped && e.livequery.stop(o.id)
            }),
            this
        }
    }),
    e.livequery = function(t, n, r, i, s) {
        return this.selector = t,
        this.context = n,
        this.type = r,
        this.fn = i,
        this.fn2 = s,
        this.elements = [],
        this.stopped = !1,
        this.id = e.livequery.queries.push(this) - 1,
        i.$lqguid = i.$lqguid || e.livequery.guid++,
        s && (s.$lqguid = s.$lqguid || e.livequery.guid++),
        this
    },
    e.livequery.prototype = {
        stop: function() {
            var e = this;
            this.type ? this.elements.unbind(this.type, this.fn) : this.fn2 && this.elements.each(function(t, n) {
                e.fn2.apply(n)
            }),
            this.elements = [],
            this.stopped = !0
        },
        run: function() {
            if (this.stopped) return;
            var t = this,
            n = this.elements,
            r = e(this.selector, this.context),
            i = r.not(n);
            this.elements = r,
            this.type ? (i.bind(this.type, this.fn), n.length > 0 && e.each(n,
            function(n, i) {
                e.inArray(i, r) < 0 && e.event.remove(i, t.type, t.fn)
            })) : (i.each(function() {
                t.fn.apply(this)
            }), this.fn2 && n.length > 0 && e.each(n,
            function(n, i) {
                e.inArray(i, r) < 0 && t.fn2.apply(i)
            }))
        }
    },
    e.extend(e.livequery, {
        guid: 0,
        queries: [],
        queue: [],
        running: !1,
        timeout: null,
        checkQueue: function() {
            if (e.livequery.running && e.livequery.queue.length) {
                var t = e.livequery.queue.length;
                while (t--) e.livequery.queries[e.livequery.queue.shift()].run()
            }
        },
        pause: function() {
            e.livequery.running = !1
        },
        play: function() {
            e.livequery.running = !0,
            e.livequery.run()
        },
        registerPlugin: function() {
            e.each(arguments,
            function(t, n) {
                if (!e.fn[n]) return;
                var r = e.fn[n];
                e.fn[n] = function() {
                    var t = r.apply(this, arguments);
                    return e.livequery.run(),
                    t
                }
            })
        },
        run: function(t) {
            t != undefined ? e.inArray(t, e.livequery.queue) < 0 && e.livequery.queue.push(t) : e.each(e.livequery.queries,
            function(t) {
                e.inArray(t, e.livequery.queue) < 0 && e.livequery.queue.push(t)
            }),
            e.livequery.timeout && clearTimeout(e.livequery.timeout),
            e.livequery.timeout = setTimeout(e.livequery.checkQueue, 20)
        },
        stop: function(t) {
            t != undefined ? e.livequery.queries[t].stop() : e.each(e.livequery.queries,
            function(t) {
                e.livequery.queries[t].stop()
            })
        }
    }),
    e.livequery.registerPlugin("append", "prepend", "after", "before", "wrap", "attr", "removeAttr", "addClass", "removeClass", "toggleClass", "empty", "remove", "html"),
    e(function() {
        e.livequery.play()
    });
    // alert($(".with_tooltip").livequery);
} (jQuery),
function(e) {
    e.extend({
        fileDownload: function(t, n) {
            function y() {
                if (document.cookie.indexOf(i.cookieName + "\x3d" + i.cookieValue) != -1) {
                    c.onSuccess(t);
                    var n = new Date(1E3);
                    document.cookie = i.cookieName + "\x3d; expires\x3d" + n.toUTCString() + "; path\x3d" + i.cookiePath,
                    w(!1);
                    return
                }
                if (p || h) try {
                    var r;
                    p ? r = p.document: r = b(h);
                    if (r && r.body != null && r.body.innerHTML.length > 0) {
                        var s = !0;
                        if (v && v.length > 0) {
                            var o = e(r.body).contents().first();
                            o.length > 0 && o[0] === v[0] && (s = !1)
                        }
                        if (s) {
                            c.onFail(r.body.innerHTML, t),
                            w(!0);
                            return
                        }
                    }
                } catch(u$36) {
                    c.onFail("", t),
                    w(!0);
                    return
                }
                setTimeout(y, i.checkInterval)
            }
            function b(e) {
                var t = e[0].contentWindow || e[0].contentDocument;
                return t.document && (t = t.document),
                t
            }
            function w(e) {
                setTimeout(function() {
                    p && (u && p.close(), o && (e ? (p.focus(), p.close()) : p.focus()))
                },
                0)
            }
            function E(e) {
                return e.replace(/[<>&\r\n"']/gm,
                function(e) {
                    return "\x26" + {
                        "\x3c": "lt;",
                        "\x3e": "gt;",
                        "\x26": "amp;",
                        "\r": "#13;",
                        "\n": "#10;",
                        '"': "quot;",
                        "'": "apos;"
                    } [e]
                })
            }
            var r = function(e, t) {
                alert("A file download error has occurred, please try again.")
            },
            i = e.extend({
                preparingMessageHtml: null,
                failMessageHtml: null,
                androidPostUnsupportedMessageHtml: "Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",
                dialogOptions: {
                    modal: !0
                },
                successCallback: function(e) {},
                failCallback: r,
                httpMethod: "GET",
                data: null,
                checkInterval: 100,
                cookieName: "fileDownload",
                cookieValue: "true",
                cookiePath: "/",
                popupWindowTitle: "Initiating file download...",
                encodeHTMLEntities: !0
            },
            n),
            s = (navigator.userAgent || navigator.vendor || window.opera).toLowerCase(),
            o = !1,
            u = !1,
            a = !1;
            /ip(ad|hone|od)/.test(s) ? o = !0 : s.indexOf("android") != -1 ? u = !0 : a = /avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(s) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(s.substr(0, 4));
            var f = i.httpMethod.toUpperCase();
            if (u && f != "GET") {
                e().dialog ? e("\x3cdiv\x3e").html(i.androidPostUnsupportedMessageHtml).dialog(i.dialogOptions) : alert(i.androidPostUnsupportedMessageHtml);
                return
            }
            var l = null;
            i.preparingMessageHtml && (l = e("\x3cdiv\x3e").html(i.preparingMessageHtml).dialog(i.dialogOptions));
            var c = {
                onSuccess: function(e) {
                    l && l.dialog("close"),
                    i.successCallback(e)
                },
                onFail: function(t, n) {
                    l && l.dialog("close"),
                    i.failMessageHtml ? (e("\x3cdiv\x3e").html(i.failMessageHtml).dialog(i.dialogOptions), i.failCallback != r && i.failCallback(t, n)) : i.failCallback(t, n)
                }
            };
            i.data !== null && typeof i.data != "string" && (i.data = e.param(i.data));
            var h, p, d, v;
            if (f === "GET") {
                if (i.data !== null) {
                    var m = t.indexOf("?");
                    m != -1 ? t.substring(t.length - 1) !== "\x26" && (t += "\x26") : t += "?",
                    t += i.data
                }
                o || u ? (p = window.open(t), p.document.title = i.popupWindowTitle, window.focus()) : a ? window.location(t) : h = e("\x3ciframe\x3e").hide().attr("src", t).appendTo("body")
            } else {
                var g = "";
                i.data !== null && e.each(i.data.replace(/\+/g, " ").split("\x26"),
                function() {
                    var e = this.split("\x3d"),
                    t = i.encodeHTMLEntities ? E(decodeURIComponent(e[0])) : decodeURIComponent(e[0]);
                    if (!t) return;
                    var n = e[1] || "";
                    n = i.encodeHTMLEntities ? E(decodeURIComponent(e[1])) : decodeURIComponent(e[1]),
                    g += '\x3cinput type\x3d"hidden" name\x3d"' + t + '" value\x3d"' + n + '" /\x3e'
                }),
                a ? (v = e("\x3cform\x3e").appendTo("body"), v.hide().attr("method", i.httpMethod).attr("action", t).html(g)) : (o ? (p = window.open("about:blank"), p.document.title = i.popupWindowTitle, d = p.document, window.focus()) : (h = e("\x3ciframe style\x3d'display: none' src\x3d'about:blank'\x3e\x3c/iframe\x3e").appendTo("body"), d = b(h)), d.write("\x3chtml\x3e\x3chead\x3e\x3c/head\x3e\x3cbody\x3e\x3cform method\x3d'" + i.httpMethod + "' action\x3d'" + t + "'\x3e" + g + "\x3c/form\x3e" + i.popupWindowTitle + "\x3c/body\x3e\x3c/html\x3e"), v = e(d).find("form")),
                v.submit()
            }
            setTimeout(y, i.checkInterval)
        }
    })
} (jQuery),
function(e, t, n) {
    function f(e) {
        var t = {},
        r = /^jQuery\d+$/;
        return n.each(e.attributes,
        function(e, n) {
            n.specified && !r.test(n.name) && (t[n.name] = n.value)
        }),
        t
    }
    function l(e, r) {
        var i = this,
        s = n(i);
        if (i.value == s.attr("placeholder") && s.hasClass("placeholder")) if (s.data("placeholder-password")) {
            s = s.hide().next().show().attr("id", s.removeAttr("id").data("placeholder-id"));
            if (e === !0) return s[0].value = r;
            s.focus()
        } else i.value = "",
        s.removeClass("placeholder"),
        i == t.activeElement && i.select()
    }
    function c() {
        var e, t = this,
        r = n(t),
        i = r,
        s = this.id;
        if (t.value == "") {
            if (t.type == "password") {
                if (!r.data("placeholder-textinput")) {
                    try {
                        e = r.clone().attr({
                            type: "text"
                        })
                    } catch(o$37) {
                        e = n("\x3cinput\x3e").attr(n.extend(f(this), {
                            type: "text"
                        }))
                    }
                    e.removeAttr("name").data({
                        "placeholder-password": !0,
                        "placeholder-id": s
                    }).bind("focus.placeholder", l),
                    r.data({
                        "placeholder-textinput": e,
                        "placeholder-id": s
                    }).before(e)
                }
                r = r.removeAttr("id").hide().prev().attr("id", s).show()
            }
            r.addClass("placeholder"),
            r[0].value = r.attr("placeholder")
        } else r.removeClass("placeholder")
    }
    var r = "placeholder" in t.createElement("input"),
    i = "placeholder" in t.createElement("textarea"),
    s = n.fn,
    o = n.valHooks,
    u,
    a;
    r && i ? (a = s.placeholder = function() {
        return this
    },
    a.input = a.textarea = !0) : (a = s.placeholder = function() {
        var e = this;
        return e.filter((r ? "textarea": ":input") + "[placeholder]").not(".placeholder").bind({
            "focus.placeholder": l,
            "blur.placeholder": c
        }).data("placeholder-enabled", !0).trigger("blur.placeholder"),
        e
    },
    a.input = r, a.textarea = i, u = {
        get: function(e) {
            var t = n(e);
            return t.data("placeholder-enabled") && t.hasClass("placeholder") ? "": e.value
        },
        set: function(e, r) {
            var i = n(e);
            return i.data("placeholder-enabled") ? (r == "" ? (e.value = r, e != t.activeElement && c.call(e)) : i.hasClass("placeholder") ? l.call(e, !0, r) || (e.value = r) : e.value = r, i) : e.value = r
        }
    },
    r || (o.input = u), i || (o.textarea = u), n(function() {
        n(t).delegate("form", "submit.placeholder",
        function() {
            var e = n(".placeholder", this).each(l);
            setTimeout(function() {
                e.each(c)
            },
            10)
        })
    }), n(e).bind("beforeunload.placeholder",
    function() {
        n(".placeholder").each(function() {
            this.value = ""
        })
    }))
} (this, document, jQuery),
jQuery.fn.extend({
    insertAtCursor: function(e) {
        return this.each(function(t) {
            if (document.selection) this.focus(),
            sel = document.selection.createRange(),
            sel.text = e,
            this.focus();
            else if (this.selectionStart || this.selectionStart == "0") {
                var n = this.selectionStart,
                r = this.selectionEnd,
                i = this.scrollTop;
                this.value = this.value.substring(0, n) + e + this.value.substring(r, this.value.length),
                this.focus(),
                this.selectionStart = n + e.length,
                this.selectionEnd = n + e.length,
                this.scrollTop = i
            } else this.value += e,
            this.focus()
        })
    },
    insertAroundCursor: function(e, t) {
        return this.each(function(n) {
            if (document.selection) this.focus(),
            sel = document.selection.createRange(),
            sel.text = e + sel.text + t,
            this.focus();
            else if (this.selectionStart || this.selectionStart == "0") {
                var r = this.selectionStart,
                i = this.selectionEnd,
                s = this.scrollTop;
                this.value = this.value.substring(0, r) + e + this.value.substring(r, i) + t + this.value.substring(i, this.value.length),
                this.focus(),
                this.selectionStart = r + e.length,
                this.selectionEnd = i + e.length,
                this.scrollTop = s
            } else this.value += e + t,
            this.focus()
        })
    },
    selectRange: function(e, t) {
        return this.each(function(n) {
            if (this.setSelectionRange) this.focus(),
            this.setSelectionRange(e, t);
            else if (this.createTextRange) {
                var r = this.createTextRange();
                r.collapse(!0),
                r.moveEnd("character", t),
                r.moveStart("character", e),
                r.select()
            }
        })
    }
}),
function() { (function(e, t, n) {
        var r, i, s;
        return s = "slidesjs",
        i = {
            width: 940,
            height: 528,
            start: 1,
            navigation: {
                active: !0,
                effect: "slide"
            },
            pagination: {
                active: !0,
                effect: "slide"
            },
            play: {
                active: !1,
                effect: "slide",
                interval: 5E3,
                auto: !1,
                swap: !0,
                pauseOnHover: !1,
                restartDelay: 2500
            },
            effect: {
                slide: {
                    speed: 500
                },
                fade: {
                    speed: 300,
                    crossfade: !0
                }
            },
            callback: {
                loaded: function() {},
                start: function() {},
                complete: function() {}
            }
        },
        r = function() {
            function t(t, n) {
                this.element = t,
                this.options = e.extend(!0, {},
                i, n),
                this._defaults = i,
                this._name = s,
                this.init()
            }
            return t
        } (),
        r.prototype.init = function() {
            var n, r, i, s, o, u, a = this;
            return n = e(this.element),
            this.data = e.data(this),
            e.data(this, "animating", !1),
            e.data(this, "total", n.children().not(".slidesjs-navigation", n).length),
            e.data(this, "current", this.options.start - 1),
            e.data(this, "vendorPrefix", this._getVendorPrefix()),
            typeof TouchEvent != "undefined" && (e.data(this, "touch", !0), this.options.effect.slide.speed = this.options.effect.slide.speed / 2),
            n.css({
                overflow: "hidden"
            }),
            n.slidesContainer = n.children().not(".slidesjs-navigation", n).wrapAll("\x3cdiv class\x3d'slidesjs-container'\x3e", n).parent().css({
                overflow: "hidden",
                position: "relative"
            }),
            e(".slidesjs-container", n).wrapInner("\x3cdiv class\x3d'slidesjs-control'\x3e", n).children(),
            e(".slidesjs-control", n).css({
                position: "relative",
                left: 0
            }),
            e(".slidesjs-control", n).children().addClass("slidesjs-slide").css({
                position: "absolute",
                top: 0,
                left: 0,
                width: "100%",
                zIndex: 0,
                display: "none",
                webkitBackfaceVisibility: "hidden"
            }),
            e.each(e(".slidesjs-control", n).children(),
            function(t) {
                var n;
                return n = e(this),
                n.attr("slidesjs-index", t)
            }),
            this.data.touch && (e(".slidesjs-control", n).on("touchstart",
            function(e) {
                return a._touchstart(e)
            }), e(".slidesjs-control", n).on("touchmove",
            function(e) {
                return a._touchmove(e)
            }), e(".slidesjs-control", n).on("touchend",
            function(e) {
                return a._touchend(e)
            })),
            n.fadeIn(0),
            this.update(),
            this.data.touch && this._setuptouch(),
            e(".slidesjs-control", n).children(":eq(" + this.data.current + ")").eq(0).fadeIn(0,
            function() {
                return e(this).css({
                    zIndex: 10
                })
            }),
            this.options.navigation.active && (o = e("\x3ca\x3e", {
                "class": "slidesjs-previous slidesjs-navigation",
                href: "#",
                title: "Previous",
                text: "Previous"
            }).appendTo(n), r = e("\x3ca\x3e", {
                "class": "slidesjs-next slidesjs-navigation",
                href: "#",
                title: "Next",
                text: "Next"
            }).appendTo(n)),
            e(".slidesjs-next", n).click(function(e) {
                return e.preventDefault(),
                a.stop(!0),
                a.next(a.options.navigation.effect)
            }),
            e(".slidesjs-previous", n).click(function(e) {
                return e.preventDefault(),
                a.stop(!0),
                a.previous(a.options.navigation.effect)
            }),
            this.options.play.active && (s = e("\x3ca\x3e", {
                "class": "slidesjs-play slidesjs-navigation",
                href: "#",
                title: "Play",
                text: "Play"
            }).appendTo(n), u = e("\x3ca\x3e", {
                "class": "slidesjs-stop slidesjs-navigation",
                href: "#",
                title: "Stop",
                text: "Stop"
            }).appendTo(n), s.click(function(e) {
                return e.preventDefault(),
                a.play(!0)
            }), u.click(function(e) {
                return e.preventDefault(),
                a.stop(!0)
            }), this.options.play.swap && u.css({
                display: "none"
            })),
            this.options.pagination.active && (i = e("\x3cul\x3e", {
                "class": "slidesjs-pagination"
            }).appendTo(n), e.each(new Array(this.data.total),
            function(t) {
                var n, r;
                return n = e("\x3cli\x3e", {
                    "class": "slidesjs-pagination-item"
                }).appendTo(i),
                r = e("\x3ca\x3e", {
                    href: "#",
                    "data-slidesjs-item": t,
                    html: t + 1
                }).appendTo(n),
                r.click(function(t) {
                    return t.preventDefault(),
                    a.stop(!0),
                    a.goto(e(t.currentTarget).attr("data-slidesjs-item") * 1 + 1)
                })
            })),
            e(t).bind("resize",
            function() {
                return a.update()
            }),
            this._setActive(),
            this.options.play.auto && this.play(),
            this.options.callback.loaded(this.options.start)
        },
        r.prototype._setActive = function(t) {
            var n, r;
            return n = e(this.element),
            this.data = e.data(this),
            r = t > -1 ? t: this.data.current,
            e(".active", n).removeClass("active"),
            e(".slidesjs-pagination li:eq(" + r + ") a", n).addClass("active")
        },
        r.prototype.update = function() {
            var t, n, r;
            return t = e(this.element),
            this.data = e.data(this),
            e(".slidesjs-control", t).children(":not(:eq(" + this.data.current + "))").css({
                display: "none",
                left: 0,
                zIndex: 0
            }),
            r = t.width(),
            n = this.options.height / this.options.width * r,
            this.options.width = r,
            this.options.height = n,
            e(".slidesjs-control, .slidesjs-container", t).css({
                width: r,
                height: n
            })
        },
        r.prototype.next = function(t) {
            var n;
            return n = e(this.element),
            this.data = e.data(this),
            e.data(this, "direction", "next"),
            t === void 0 && (t = this.options.navigation.effect),
            t === "fade" ? this._fade() : this._slide()
        },
        r.prototype.previous = function(t) {
            var n;
            return n = e(this.element),
            this.data = e.data(this),
            e.data(this, "direction", "previous"),
            t === void 0 && (t = this.options.navigation.effect),
            t === "fade" ? this._fade() : this._slide()
        },
        r.prototype.goto = function(t) {
            var n, r;
            n = e(this.element),
            this.data = e.data(this),
            r === void 0 && (r = this.options.pagination.effect),
            t > this.data.total ? t = this.data.total: t < 1 && (t = 1);
            if (typeof t == "number") return r === "fade" ? this._fade(t) : this._slide(t);
            if (typeof t == "string") {
                if (t === "first") return r === "fade" ? this._fade(0) : this._slide(0);
                if (t === "last") return r === "fade" ? this._fade(this.data.total) : this._slide(this.data.total)
            }
        },
        r.prototype._setuptouch = function() {
            var t, n, r, i;
            return t = e(this.element),
            this.data = e.data(this),
            i = e(".slidesjs-control", t),
            n = this.data.current + 1,
            r = this.data.current - 1,
            r < 0 && (r = this.data.total - 1),
            n > this.data.total - 1 && (n = 0),
            i.children(":eq(" + n + ")").css({
                display: "block",
                left: this.options.width
            }),
            i.children(":eq(" + r + ")").css({
                display: "block",
                left: -this.options.width
            })
        },
        r.prototype._touchstart = function(t) {
            var n, r;
            return n = e(this.element),
            this.data = e.data(this),
            r = t.originalEvent.touches[0],
            this._setuptouch(),
            e.data(this, "touchtimer", Number(new Date)),
            e.data(this, "touchstartx", r.pageX),
            e.data(this, "touchstarty", r.pageY),
            t.stopPropagation()
        },
        r.prototype._touchend = function(t) {
            var n, r, i, s, o, u, a, f = this;
            return n = e(this.element),
            this.data = e.data(this),
            u = t.originalEvent.touches[0],
            s = e(".slidesjs-control", n),
            s.position().left > this.options.width * .5 || s.position().left > this.options.width * .1 && Number(new Date) - this.data.touchtimer < 250 ? (e.data(this, "direction", "previous"), this._slide()) : s.position().left < -(this.options.width * .5) || s.position().left < -(this.options.width * .1) && Number(new Date) - this.data.touchtimer < 250 ? (e.data(this, "direction", "next"), this._slide()) : (i = this.data.vendorPrefix, a = i + "Transform", r = i + "TransitionDuration", o = i + "TransitionTimingFunction", s[0].style[a] = "translateX(0px)", s[0].style[r] = this.options.effect.slide.speed * .85 + "ms"),
            s.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",
            function() {
                return i = f.data.vendorPrefix,
                a = i + "Transform",
                r = i + "TransitionDuration",
                o = i + "TransitionTimingFunction",
                s[0].style[a] = "",
                s[0].style[r] = "",
                s[0].style[o] = ""
            }),
            t.stopPropagation()
        },
        r.prototype._touchmove = function(t) {
            var n, r, i, s, o;
            return n = e(this.element),
            this.data = e.data(this),
            s = t.originalEvent.touches[0],
            r = this.data.vendorPrefix,
            i = e(".slidesjs-control", n),
            o = r + "Transform",
            e.data(this, "scrolling", Math.abs(s.pageX - this.data.touchstartx) < Math.abs(s.pageY - this.data.touchstarty)),
            !this.data.animating && !this.data.scrolling && (t.preventDefault(), this._setuptouch(), i[0].style[o] = "translateX(" + (s.pageX - this.data.touchstartx) + "px)"),
            t.stopPropagation()
        },
        r.prototype.play = function(t) {
            var n, r, i, s = this;
            n = e(this.element),
            this.data = e.data(this);
            if (!this.data.playInterval) {
                t && (r = this.data.current, this.data.direction = "next", this.options.play.effect === "fade" ? this._fade() : this._slide()),
                e.data(this, "playInterval", setInterval(function() {
                    return r = s.data.current,
                    s.data.direction = "next",
                    s.options.play.effect === "fade" ? s._fade() : s._slide()
                },
                this.options.play.interval)),
                i = e(".slidesjs-container", n),
                this.options.play.pauseOnHover && (i.unbind(), i.bind("mouseenter",
                function() {
                    return s.stop()
                }), i.bind("mouseleave",
                function() {
                    return s.options.play.restartDelay ? e.data(s, "restartDelay", setTimeout(function() {
                        return s.play(!0)
                    },
                    s.options.play.restartDelay)) : s.play()
                })),
                e.data(this, "playing", !0),
                e(".slidesjs-play", n).addClass("slidesjs-playing");
                if (this.options.play.swap) return e(".slidesjs-play", n).hide(),
                e(".slidesjs-stop", n).show()
            }
        },
        r.prototype.stop = function(t) {
            var n;
            n = e(this.element),
            this.data = e.data(this),
            clearInterval(this.data.playInterval),
            this.options.play.pauseOnHover && t && e(".slidesjs-container", n).unbind(),
            e.data(this, "playInterval", null),
            e.data(this, "playing", !1),
            e(".slidesjs-play", n).removeClass("slidesjs-playing");
            if (this.options.play.swap) return e(".slidesjs-stop", n).hide(),
            e(".slidesjs-play", n).show()
        },
        r.prototype._slide = function(t) {
            var n, r, i, s, o, u, a, f, l, c, h = this;
            n = e(this.element),
            this.data = e.data(this);
            if (!this.data.animating && t !== this.data.current + 1) return e.data(this, "animating", !0),
            r = this.data.current,
            t > -1 ? (t -= 1, c = t > r ? 1 : -1, i = t > r ? -this.options.width: this.options.width, o = t) : (c = this.data.direction === "next" ? 1 : -1, i = this.data.direction === "next" ? -this.options.width: this.options.width, o = r + c),
            o === -1 && (o = this.data.total - 1),
            o === this.data.total && (o = 0),
            this._setActive(o),
            a = e(".slidesjs-control", n),
            t > -1 && a.children(":not(:eq(" + r + "))").css({
                display: "none",
                left: 0,
                zIndex: 0
            }),
            a.children(":eq(" + o + ")").css({
                display: "block",
                left: c * this.options.width,
                zIndex: 10
            }),
            this.options.callback.start(r + 1),
            this.data.vendorPrefix ? (u = this.data.vendorPrefix, l = u + "Transform", s = u + "TransitionDuration", f = u + "TransitionTimingFunction", a[0].style[l] = "translateX(" + i + "px)", a[0].style[s] = this.options.effect.slide.speed + "ms", a.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",
            function() {
                return a[0].style[l] = "",
                a[0].style[s] = "",
                a.children(":eq(" + o + ")").css({
                    left: 0
                }),
                a.children(":eq(" + r + ")").css({
                    display: "none",
                    left: 0,
                    zIndex: 0
                }),
                e.data(h, "current", o),
                e.data(h, "animating", !1),
                a.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),
                a.children(":not(:eq(" + o + "))").css({
                    display: "none",
                    left: 0,
                    zIndex: 0
                }),
                h.data.touch && h._setuptouch(),
                h.options.callback.complete(o + 1)
            })) : a.stop().animate({
                left: i
            },
            this.options.effect.slide.speed,
            function() {
                return a.css({
                    left: 0
                }),
                a.children(":eq(" + o + ")").css({
                    left: 0
                }),
                a.children(":eq(" + r + ")").css({
                    display: "none",
                    left: 0,
                    zIndex: 0
                },
                e.data(h, "current", o), e.data(h, "animating", !1), h.options.callback.complete(o + 1))
            })
        },
        r.prototype._fade = function(t) {
            var n, r, i, s, o, u = this;
            n = e(this.element),
            this.data = e.data(this);
            if (!this.data.animating && t !== this.data.current + 1) return e.data(this, "animating", !0),
            r = this.data.current,
            t ? (t -= 1, o = t > r ? 1 : -1, i = t) : (o = this.data.direction === "next" ? 1 : -1, i = r + o),
            i === -1 && (i = this.data.total - 1),
            i === this.data.total && (i = 0),
            this._setActive(i),
            s = e(".slidesjs-control", n),
            s.children(":eq(" + i + ")").css({
                display: "none",
                left: 0,
                zIndex: 10
            }),
            this.options.callback.start(r + 1),
            this.options.effect.fade.crossfade ? (s.children(":eq(" + this.data.current + ")").stop().fadeOut(this.options.effect.fade.speed), s.children(":eq(" + i + ")").stop().fadeIn(this.options.effect.fade.speed,
            function() {
                return s.children(":eq(" + i + ")").css({
                    zIndex: 0
                }),
                e.data(u, "animating", !1),
                e.data(u, "current", i),
                u.options.callback.complete(i + 1)
            })) : s.children(":eq(" + r + ")").stop().fadeOut(this.options.effect.fade.speed,
            function() {
                return s.children(":eq(" + i + ")").stop().fadeIn(u.options.effect.fade.speed,
                function() {
                    return s.children(":eq(" + i + ")").css({
                        zIndex: 10
                    })
                }),
                e.data(u, "animating", !1),
                e.data(u, "current", i),
                u.options.callback.complete(i + 1)
            })
        },
        r.prototype._getVendorPrefix = function() {
            var e, t, r, i, s;
            e = n.body || n.documentElement,
            r = e.style,
            i = "transition",
            s = ["Moz", "Webkit", "Khtml", "O", "ms"],
            i = i.charAt(0).toUpperCase() + i.substr(1),
            t = 0;
            while (t < s.length) {
                if (typeof r[s[t] + i] == "string") return s[t];
                t++
            }
            return ! 1
        },
        e.fn[s] = function(t) {
            return this.each(function() {
                if (!e.data(this, "plugin_" + s)) return e.data(this, "plugin_" + s, new r(this, t))
            })
        }
    })(jQuery, window, document)
}.call(this),
window.url = function() {
    function e(e) {
        return ! isNaN(parseFloat(e)) && isFinite(e)
    }
    return function(t, n) {
        var r = n || window.location.toString();
        if (!t) return r;
        t = t.toString(),
        "//" === r.substring(0, 2) ? r = "http:" + r: 1 === r.split("://").length && (r = "http://" + r),
        n = r.split("/");
        var i = {
            auth: ""
        },
        s = n[2].split("@");
        1 === s.length ? s = s[0].split(":") : (i.auth = s[0], s = s[1].split(":")),
        i.protocol = n[0],
        i.hostname = s[0],
        i.port = s[1] || "80",
        i.pathname = "/" + n.slice(3, n.length).join("/").split("?")[0].split("#")[0];
        var o = i.pathname;
        1 === o.split(".").length && "/" !== o[o.length - 1] && (o += "/");
        var u = i.hostname,
        f = u.split("."),
        l = o.split("/");
        if ("hostname" === t) return u;
        if ("domain" === t) return f.slice( - 2).join(".");
        if ("sub" === t) return f.slice(0, f.length - 2).join(".");
        if ("port" === t) return i.port || "80";
        if ("protocol" === t) return i.protocol.split(":")[0];
        if ("auth" === t) return i.auth;
        if ("user" === t) return i.auth.split(":")[0];
        if ("pass" === t) return i.auth.split(":")[1] || "";
        if ("path" === t) return o;
        if ("." === t.charAt(0)) {
            if (t = t.substring(1), e(t)) return t = parseInt(t, 10),
            f[0 > t ? f.length + t: t - 1] || ""
        } else {
            if (e(t)) return t = parseInt(t, 10),
            l[0 > t ? l.length + t: t] || "";
            if ("file" === t) return l.slice( - 1)[0];
            if ("filename" === t) return l.slice( - 1)[0].split(".")[0];
            if ("fileext" === t) return l.slice( - 1)[0].split(".")[1] || "";
            if ("?" === t.charAt(0) || "#" === t.charAt(0)) {
                var c = r,
                h = null;
                if ("?" === t.charAt(0) ? c = (c.split("?")[1] || "").split("#")[0] : "#" === t.charAt(0) && (c = c.split("#")[1] || ""), !t.charAt(1)) return c;
                t = t.substring(1),
                c = c.split("\x26");
                for (var p = 0,
                d = c.length; d > p; p++) if (h = c[p].split("\x3d"), h[0] === t) return h[1];
                return null
            }
        }
        return ""
    }
} (),
jQuery && jQuery.extend({
    url: function(e, t) {
        return window.url(e, t)
    }
}),
window.tinymce = window.tinymce || {
    base: "/assets/tinymce",
    suffix: ""
},
function(e, t) {
    function r(e, t) {
        var r, i = [];
        for (var s = 0; s < e.length; ++s) {
            r = n[e[s]] || o(e[s]);
            if (!r) throw "module definition dependecy not found: " + e[s];
            i.push(r)
        }
        t.apply(null, i)
    }
    function i(e, i, s) {
        if (typeof e != "string") throw "invalid module definition, module id must be defined and be a string";
        if (i === t) throw "invalid module definition, dependencies must be specified";
        if (s === t) throw "invalid module definition, definition function must be specified";
        r(i,
        function() {
            n[e] = s.apply(null, arguments)
        })
    }
    function s(e) {
        return !! n[e]
    }
    function o(t) {
        var n = e,
        r = t.split(/[.\/]/);
        for (var i = 0; i < r.length; ++i) {
            if (!n[r[i]]) return;
            n = n[r[i]]
        }
        return n
    }
    function u(r) {
        for (var i = 0; i < r.length; i++) {
            var s = e,
            o = r[i],
            u = o.split(/[.\/]/);
            for (var a = 0; a < u.length - 1; ++a) s[u[a]] === t && (s[u[a]] = {}),
            s = s[u[a]];
            s[u[u.length - 1]] = n[o]
        }
    }
    var n = {};
    i("tinymce/dom/EventUtils", [],
    function() {
        function r(e, t, n, r) {
            e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n)
        }
        function i(e, t, n, r) {
            e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n)
        }
        function s(e, r) {
            function u() {
                return ! 1
            }
            function a() {
                return ! 0
            }
            var i, s = r || {},
            o;
            for (i in e) n[i] || (s[i] = e[i]);
            s.target || (s.target = s.srcElement || document);
            if (e && t.test(e.type) && e.pageX === o && e.clientX !== o) {
                var f = s.target.ownerDocument || document,
                l = f.documentElement,
                c = f.body;
                s.pageX = e.clientX + (l && l.scrollLeft || c && c.scrollLeft || 0) - (l && l.clientLeft || c && c.clientLeft || 0),
                s.pageY = e.clientY + (l && l.scrollTop || c && c.scrollTop || 0) - (l && l.clientTop || c && c.clientTop || 0)
            }
            return s.preventDefault = function() {
                s.isDefaultPrevented = a,
                e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
            },
            s.stopPropagation = function() {
                s.isPropagationStopped = a,
                e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0)
            },
            s.stopImmediatePropagation = function() {
                s.isImmediatePropagationStopped = a,
                s.stopPropagation()
            },
            s.isDefaultPrevented || (s.isDefaultPrevented = u, s.isPropagationStopped = u, s.isImmediatePropagationStopped = u),
            s
        }
        function o(e, t, n) {
            function u() {
                n.domLoaded || (n.domLoaded = !0, t(o))
            }
            function a() {
                if (s.readyState === "complete" || s.readyState === "interactive" && s.body) i(s, "readystatechange", a),
                u()
            }
            function f() {
                try {
                    s.documentElement.doScroll("left")
                } catch(e$38) {
                    setTimeout(f, 0);
                    return
                }
                u()
            }
            var s = e.document,
            o = {
                type: "ready"
            };
            if (n.domLoaded) {
                t(o);
                return
            }
            s.addEventListener ? s.readyState === "complete" ? u() : r(e, "DOMContentLoaded", u) : (r(s, "readystatechange", a), s.documentElement.doScroll && e.self === e.top && f()),
            r(e, "load", u)
        }
        function u() {
            function h(e, t) {
                var r, i, s, o, u = n[t];
                r = u && u[e.type];
                if (r) for (i = 0, s = r.length; i < s; i++) {
                    o = r[i],
                    o && o.func.call(o.scope, e) === !1 && e.preventDefault();
                    if (e.isImmediatePropagationStopped()) return
                }
            }
            var t = this,
            n = {},
            u, a, f, l, c;
            a = e + ( + new Date).toString(32),
            l = "onmouseenter" in document.documentElement,
            f = "onfocusin" in document.documentElement,
            c = {
                mouseenter: "mouseover",
                mouseleave: "mouseout"
            },
            u = 1,
            t.domLoaded = !1,
            t.events = n,
            t.bind = function(e, i, p, d) {
                function x(e) {
                    h(s(e || S.event), v)
                }
                var v, m, g, y, b, w, E, S = window;
                if (!e || e.nodeType === 3 || e.nodeType === 8) return;
                e[a] ? v = e[a] : (v = u++, e[a] = v, n[v] = {}),
                d = d || e,
                i = i.split(" "),
                g = i.length;
                while (g--) {
                    y = i[g],
                    w = x,
                    b = E = !1,
                    y === "DOMContentLoaded" && (y = "ready");
                    if (t.domLoaded && y === "ready" && e.readyState == "complete") {
                        p.call(d, s({
                            type: y
                        }));
                        continue
                    }
                    l || (b = c[y], b && (w = function(e) {
                        var t, n;
                        t = e.currentTarget,
                        n = e.relatedTarget;
                        if (n && t.contains) n = t.contains(n);
                        else while (n && n !== t) n = n.parentNode;
                        n || (e = s(e || S.event), e.type = e.type === "mouseout" ? "mouseleave": "mouseenter", e.target = t, h(e, v))
                    })),
                    !f && (y === "focusin" || y === "focusout") && (E = !0, b = y === "focusin" ? "focus": "blur", w = function(e) {
                        e = s(e || S.event),
                        e.type = e.type === "focus" ? "focusin": "focusout",
                        h(e, v)
                    }),
                    m = n[v][y],
                    m ? y === "ready" && t.domLoaded ? p({
                        type: y
                    }) : m.push({
                        func: p,
                        scope: d
                    }) : (n[v][y] = m = [{
                        func: p,
                        scope: d
                    }], m.fakeName = b, m.capture = E, m.nativeHandler = w, y === "ready" ? o(e, w, t) : r(e, b || y, w, E))
                }
                return e = m = 0,
                p
            },
            t.unbind = function(e, r, s) {
                var o, u, f, l, c, h;
                if (!e || e.nodeType === 3 || e.nodeType === 8) return t;
                o = e[a];
                if (o) {
                    h = n[o];
                    if (r) {
                        r = r.split(" "),
                        f = r.length;
                        while (f--) {
                            c = r[f],
                            u = h[c];
                            if (u) {
                                if (s) {
                                    l = u.length;
                                    while (l--) if (u[l].func === s) {
                                        var p = u.nativeHandler,
                                        d = u.fakeName,
                                        v = u.capture;
                                        u = u.slice(0, l).concat(u.slice(l + 1)),
                                        u.nativeHandler = p,
                                        u.fakeName = d,
                                        u.capture = v,
                                        h[c] = u
                                    }
                                }
                                if (!s || u.length === 0) delete h[c],
                                i(e, u.fakeName || c, u.nativeHandler, u.capture)
                            }
                        }
                    } else {
                        for (c in h) u = h[c],
                        i(e, u.fakeName || c, u.nativeHandler, u.capture);
                        h = {}
                    }
                    for (c in h) return t;
                    delete n[o];
                    try {
                        delete e[a]
                    } catch(m) {
                        e[a] = null
                    }
                }
                return t
            },
            t.fire = function(e, n, r) {
                var i;
                if (!e || e.nodeType === 3 || e.nodeType === 8) return t;
                r = s(null, r),
                r.type = n,
                r.target = e;
                do i = e[a],
                i && h(r, i),
                e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow;
                while (e && !r.isPropagationStopped());
                return t
            },
            t.clean = function(e) {
                var n, r, i = t.unbind;
                if (!e || e.nodeType === 3 || e.nodeType === 8) return t;
                e[a] && i(e),
                e.getElementsByTagName || (e = e.document);
                if (e && e.getElementsByTagName) {
                    i(e),
                    r = e.getElementsByTagName("*"),
                    n = r.length;
                    while (n--) e = r[n],
                    e[a] && i(e)
                }
                return t
            },
            t.destroy = function() {
                n = {}
            },
            t.cancel = function(e) {
                return e && (e.preventDefault(), e.stopImmediatePropagation()),
                !1
            }
        }
        var e = "mce-data-",
        t = /^(?:mouse|contextmenu)|click/,
        n = {
            keyLocation: 1,
            layerX: 1,
            layerY: 1,
            returnValue: 1
        };
        return u.Event = new u,
        u.Event.bind(window, "ready",
        function() {}),
        u
    }),
    i("tinymce/dom/Sizzle", [],
    function() {
        function it(e, t, r, i) {
            var s, u, f, l, c, d, g, y, S, x; (t ? t.ownerDocument || t: E) !== p && h(t),
            t = t || p,
            r = r || [];
            if (!e || typeof e != "string") return r;
            if ((l = t.nodeType) !== 1 && l !== 9) return [];
            if (v && !i) {
                if (s = Y.exec(e)) if (f = s[1]) if (l === 9) {
                    u = t.getElementById(f);
                    if (!u || !u.parentNode) return r;
                    if (u.id === f) return r.push(u),
                    r
                } else {
                    if (t.ownerDocument && (u = t.ownerDocument.getElementById(f)) && b(t, u) && u.id === f) return r.push(u),
                    r
                } else {
                    if (s[2]) return P.apply(r, t.getElementsByTagName(e)),
                    r;
                    if ((f = s[3]) && n.getElementsByClassName) return P.apply(r, t.getElementsByClassName(f)),
                    r
                }
                if (n.qsa && (!m || !m.test(e))) {
                    y = g = w,
                    S = t,
                    x = l === 9 && e;
                    if (l === 1 && t.nodeName.toLowerCase() !== "object") {
                        d = o(e),
                        (g = t.getAttribute("id")) ? y = g.replace(et, "\\$\x26") : t.setAttribute("id", y),
                        y = "[id\x3d'" + y + "'] ",
                        c = d.length;
                        while (c--) d[c] = y + vt(d[c]);
                        S = Z.test(e) && pt(t.parentNode) || t,
                        x = d.join(",")
                    }
                    if (x) try {
                        return P.apply(r, S.querySelectorAll(x)),
                        r
                    } catch(T$39) {} finally {
                        g || t.removeAttribute("id")
                    }
                }
            }
            return a(e.replace(U, "$1"), t, r, i)
        }
        function st() {
            function t(n, i) {
                return e.push(n + " ") > r.cacheLength && delete t[e.shift()],
                t[n + " "] = i
            }
            var e = [];
            return t
        }
        function ot(e) {
            return e[w] = !0,
            e
        }
        function ut(e) {
            var t = p.createElement("div");
            try {
                return !! e(t)
            } catch(n$40) {
                return ! 1
            } finally {
                t.parentNode && t.parentNode.removeChild(t),
                t = null
            }
        }
        function at(e, t) {
            var n = e.split("|"),
            i = e.length;
            while (i--) r.attrHandle[n[i]] = t
        }
        function ft(e, t) {
            var n = t && e,
            r = n && e.nodeType === 1 && t.nodeType === 1 && (~t.sourceIndex || A) - (~e.sourceIndex || A);
            if (r) return r;
            if (n) while (n = n.nextSibling) if (n === t) return - 1;
            return e ? 1 : -1
        }
        function lt(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return n === "input" && t.type === e
            }
        }
        function ct(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return (n === "input" || n === "button") && t.type === e
            }
        }
        function ht(e) {
            return ot(function(t) {
                return t = +t,
                ot(function(n, r) {
                    var i, s = e([], n.length, t),
                    o = s.length;
                    while (o--) n[i = s[o]] && (n[i] = !(r[i] = n[i]))
                })
            })
        }
        function pt(e) {
            return e && typeof e.getElementsByTagName !== L && e
        }
        function dt() {}
        function vt(e) {
            var t = 0,
            n = e.length,
            r = "";
            for (; t < n; t++) r += e[t].value;
            return r
        }
        function mt(e, t, n) {
            var r = t.dir,
            i = n && r === "parentNode",
            s = x++;
            return t.first ?
            function(t, n, s) {
                while (t = t[r]) if (t.nodeType === 1 || i) return e(t, n, s)
            }: function(t, n, o) {
                var u, a, f = [S, s];
                if (o) while (t = t[r]) {
                    if (t.nodeType === 1 || i) if (e(t, n, o)) return ! 0
                } else while (t = t[r]) if (t.nodeType === 1 || i) {
                    a = t[w] || (t[w] = {});
                    if ((u = a[r]) && u[0] === S && u[1] === s) return f[2] = u[2];
                    a[r] = f;
                    if (f[2] = e(t, n, o)) return ! 0
                }
            }
        }
        function gt(e) {
            return e.length > 1 ?
            function(t, n, r) {
                var i = e.length;
                while (i--) if (!e[i](t, n, r)) return ! 1;
                return ! 0
            }: e[0]
        }
        function yt(e, t, n) {
            var r = 0,
            i = t.length;
            for (; r < i; r++) it(e, t[r], n);
            return n
        }
        function bt(e, t, n, r, i) {
            var s, o = [],
            u = 0,
            a = e.length,
            f = t != null;
            for (; u < a; u++) if (s = e[u]) if (!n || n(s, r, i)) o.push(s),
            f && t.push(u);
            return o
        }
        function wt(e, t, n, r, i, s) {
            return r && !r[w] && (r = wt(r)),
            i && !i[w] && (i = wt(i, s)),
            ot(function(s, o, u, a) {
                var f, l, c, h = [],
                p = [],
                d = o.length,
                v = s || yt(t || "*", u.nodeType ? [u] : u, []),
                m = e && (s || !t) ? bt(v, h, e, u, a) : v,
                g = n ? i || (s ? e: d || r) ? [] : o: m;
                n && n(m, g, u, a);
                if (r) {
                    f = bt(g, p),
                    r(f, [], u, a),
                    l = f.length;
                    while (l--) if (c = f[l]) g[p[l]] = !(m[p[l]] = c)
                }
                if (s) {
                    if (i || e) {
                        if (i) {
                            f = [],
                            l = g.length;
                            while (l--)(c = g[l]) && f.push(m[l] = c);
                            i(null, g = [], f, a)
                        }
                        l = g.length;
                        while (l--)(c = g[l]) && (f = i ? B.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c))
                    }
                } else g = bt(g === o ? g.splice(d, g.length) : g),
                i ? i(null, o, g, a) : P.apply(o, g)
            })
        }
        function Et(e) {
            var t, n, i, s = e.length,
            o = r.relative[e[0].type],
            u = o || r.relative[" "],
            a = o ? 1 : 0,
            l = mt(function(e) {
                return e === t
            },
            u, !0),
            c = mt(function(e) {
                return B.call(t, e) > -1
            },
            u, !0),
            h = [function(e, n, r) {
                return ! o && (r || n !== f) || ((t = n).nodeType ? l(e, n, r) : c(e, n, r))
            }];
            for (; a < s; a++) if (n = r.relative[e[a].type]) h = [mt(gt(h), n)];
            else {
                n = r.filter[e[a].type].apply(null, e[a].matches);
                if (n[w]) {
                    i = ++a;
                    for (; i < s; i++) if (r.relative[e[i].type]) break;
                    return wt(a > 1 && gt(h), a > 1 && vt(e.slice(0, a - 1).concat({
                        value: e[a - 2].type === " " ? "*": ""
                    })).replace(U, "$1"), n, a < i && Et(e.slice(a, i)), i < s && Et(e = e.slice(i)), i < s && vt(e))
                }
                h.push(n)
            }
            return gt(h)
        }
        function St(e, t) {
            var n = t.length > 0,
            i = e.length > 0,
            s = function(s, o, u, a, l) {
                var c, h, d, v = 0,
                m = "0",
                g = s && [],
                y = [],
                b = f,
                w = s || i && r.find.TAG("*", l),
                E = S += b == null ? 1 : Math.random() || .1,
                x = w.length;
                l && (f = o !== p && o);
                for (; m !== x && (c = w[m]) != null; m++) {
                    if (i && c) {
                        h = 0;
                        while (d = e[h++]) if (d(c, o, u)) {
                            a.push(c);
                            break
                        }
                        l && (S = E)
                    }
                    n && ((c = !d && c) && v--, s && g.push(c))
                }
                v += m;
                if (n && m !== v) {
                    h = 0;
                    while (d = t[h++]) d(g, y, o, u);
                    if (s) {
                        if (v > 0) while (m--) ! g[m] && !y[m] && (y[m] = _.call(a));
                        y = bt(y)
                    }
                    P.apply(a, y),
                    l && !s && y.length > 0 && v + t.length > 1 && it.uniqueSort(a)
                }
                return l && (S = E, f = b),
                g
            };
            return n ? ot(s) : s
        }
        var e, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w = "sizzle" + -new Date,
        E = window.document,
        S = 0,
        x = 0,
        T = st(),
        N = st(),
        C = st(),
        k = function(e, t) {
            return e === t && (c = !0),
            0
        },
        L = typeof t,
        A = 1 << 31,
        O = {}.hasOwnProperty,
        M = [],
        _ = M.pop,
        D = M.push,
        P = M.push,
        H = M.slice,
        B = M.indexOf ||
        function(e) {
            var t = 0,
            n = this.length;
            for (; t < n; t++) if (this[t] === e) return t;
            return - 1
        },
        j = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
        F = "[\\x20\\t\\r\\n\\f]",
        I = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
        q = "\\[" + F + "*(" + I + ")(?:" + F + "*([*^$|!~]?\x3d)" + F + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + I + "))|)" + F + "*\\]",
        R = ":(" + I + ")(?:\\((" + "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" + "((?:\\\\.|[^\\\\()[\\]]|" + q + ")*)|" + ".*" + ")\\)|)",
        U = new RegExp("^" + F + "+|((?:^|[^\\\\])(?:\\\\.)*)" + F + "+$", "g"),
        z = new RegExp("^" + F + "*," + F + "*"),
        W = new RegExp("^" + F + "*([\x3e+~]|" + F + ")" + F + "*"),
        X = new RegExp("\x3d" + F + "*([^\\]'\"]*?)" + F + "*\\]", "g"),
        V = new RegExp(R),
        $ = new RegExp("^" + I + "$"),
        J = {
            ID: new RegExp("^#(" + I + ")"),
            CLASS: new RegExp("^\\.(" + I + ")"),
            TAG: new RegExp("^(" + I + "|[*])"),
            ATTR: new RegExp("^" + q),
            PSEUDO: new RegExp("^" + R),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + F + "*(even|odd|(([+-]|)(\\d*)n|)" + F + "*(?:([+-]|)" + F + "*(\\d+)|))" + F + "*\\)|)", "i"),
            bool: new RegExp("^(?:" + j + ")$", "i"),
            needsContext: new RegExp("^" + F + "*[\x3e+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + F + "*((?:-\\d)?\\d*)" + F + "*\\)|)(?\x3d[^-]|$)", "i")
        },
        K = /^(?:input|select|textarea|button)$/i,
        Q = /^h\d$/i,
        G = /^[^{]+\{\s*\[native \w/,
        Y = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        Z = /[+~]/,
        et = /'|\\/g,
        tt = new RegExp("\\\\([\\da-f]{1,6}" + F + "?|(" + F + ")|.)", "ig"),
        nt = function(e, t, n) {
            var r = "0x" + t - 65536;
            return r !== r || n ? t: r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, r & 1023 | 56320)
        };
        try {
            P.apply(M = H.call(E.childNodes), E.childNodes),
            M[E.childNodes.length].nodeType
        } catch(rt) {
            P = {
                apply: M.length ?
                function(e, t) {
                    D.apply(e, H.call(t))
                }: function(e, t) {
                    var n = e.length,
                    r = 0;
                    while (e[n++] = t[r++]);
                    e.length = n - 1
                }
            }
        }
        n = it.support = {},
        s = it.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return t ? t.nodeName !== "HTML": !1
        },
        h = it.setDocument = function(e) {
            var t, i = e ? e.ownerDocument || e: E,
            o = i.defaultView;
            if (i === p || i.nodeType !== 9 || !i.documentElement) return p;
            p = i,
            d = i.documentElement,
            v = !s(i),
            o && o !== o.top && (o.addEventListener ? o.addEventListener("unload",
            function() {
                h()
            },
            !1) : o.attachEvent && o.attachEvent("onunload",
            function() {
                h()
            })),
            n.attributes = ut(function(e) {
                return e.className = "i",
                !e.getAttribute("className")
            }),
            n.getElementsByTagName = ut(function(e) {
                return e.appendChild(i.createComment("")),
                !e.getElementsByTagName("*").length
            }),
            n.getElementsByClassName = G.test(i.getElementsByClassName),
            n.getById = ut(function(e) {
                return d.appendChild(e).id = w,
                !i.getElementsByName || !i.getElementsByName(w).length
            }),
            n.getById ? (r.find.ID = function(e, t) {
                if (typeof t.getElementById !== L && v) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : []
                }
            },
            r.filter.ID = function(e) {
                var t = e.replace(tt, nt);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }) : (delete r.find.ID, r.filter.ID = function(e) {
                var t = e.replace(tt, nt);
                return function(e) {
                    var n = typeof e.getAttributeNode !== L && e.getAttributeNode("id");
                    return n && n.value === t
                }
            }),
            r.find.TAG = n.getElementsByTagName ?
            function(e, t) {
                if (typeof t.getElementsByTagName !== L) return t.getElementsByTagName(e)
            }: function(e, t) {
                var n, r = [],
                i = 0,
                s = t.getElementsByTagName(e);
                if (e === "*") {
                    while (n = s[i++]) n.nodeType === 1 && r.push(n);
                    return r
                }
                return s
            },
            r.find.CLASS = n.getElementsByClassName &&
            function(e, t) {
                if (v) return t.getElementsByClassName(e)
            },
            g = [],
            m = [];
            if (n.qsa = G.test(i.querySelectorAll)) ut(function(e) {
                e.innerHTML = "\x3cselect msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e",
                e.querySelectorAll("[msallowcapture^\x3d'']").length && m.push("[*^$]\x3d" + F + "*(?:''|\"\")"),
                e.querySelectorAll("[selected]").length || m.push("\\[" + F + "*(?:value|" + j + ")"),
                e.querySelectorAll(":checked").length || m.push(":checked")
            }),
            ut(function(e) {
                var t = i.createElement("input");
                t.setAttribute("type", "hidden"),
                e.appendChild(t).setAttribute("name", "D"),
                e.querySelectorAll("[name\x3dd]").length && m.push("name" + F + "*[*^$|!~]?\x3d"),
                e.querySelectorAll(":enabled").length || m.push(":enabled", ":disabled"),
                e.querySelectorAll("*,:x"),
                m.push(",.*:")
            });
            return (n.matchesSelector = G.test(y = d.matches || d.webkitMatchesSelector || d.mozMatchesSelector || d.oMatchesSelector || d.msMatchesSelector)) && ut(function(e) {
                n.disconnectedMatch = y.call(e, "div"),
                y.call(e, "[s!\x3d'']:x"),
                g.push("!\x3d", R)
            }),
            m = m.length && new RegExp(m.join("|")),
            g = g.length && new RegExp(g.join("|")),
            t = G.test(d.compareDocumentPosition),
            b = t || G.test(d.contains) ?
            function(e, t) {
                var n = e.nodeType === 9 ? e.documentElement: e,
                r = t && t.parentNode;
                return e === r || !!r && r.nodeType === 1 && !!(n.contains ? n.contains(r) : e.compareDocumentPosition && e.compareDocumentPosition(r) & 16)
            }: function(e, t) {
                if (t) while (t = t.parentNode) if (t === e) return ! 0;
                return ! 1
            },
            k = t ?
            function(e, t) {
                if (e === t) return c = !0,
                0;
                var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return r ? r: (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, r & 1 || !n.sortDetached && t.compareDocumentPosition(e) === r ? e === i || e.ownerDocument === E && b(E, e) ? -1 : t === i || t.ownerDocument === E && b(E, t) ? 1 : l ? B.call(l, e) - B.call(l, t) : 0 : r & 4 ? -1 : 1)
            }: function(e, t) {
                if (e === t) return c = !0,
                0;
                var n, r = 0,
                s = e.parentNode,
                o = t.parentNode,
                u = [e],
                a = [t];
                if (!s || !o) return e === i ? -1 : t === i ? 1 : s ? -1 : o ? 1 : l ? B.call(l, e) - B.call(l, t) : 0;
                if (s === o) return ft(e, t);
                n = e;
                while (n = n.parentNode) u.unshift(n);
                n = t;
                while (n = n.parentNode) a.unshift(n);
                while (u[r] === a[r]) r++;
                return r ? ft(u[r], a[r]) : u[r] === E ? -1 : a[r] === E ? 1 : 0
            },
            i
        },
        it.matches = function(e, t) {
            return it(e, null, null, t)
        },
        it.matchesSelector = function(e, t) { (e.ownerDocument || e) !== p && h(e),
            t = t.replace(X, "\x3d'$1']");
            if (n.matchesSelector && v && (!g || !g.test(t)) && (!m || !m.test(t))) try {
                var r = y.call(e, t);
                if (r || n.disconnectedMatch || e.document && e.document.nodeType !== 11) return r
            } catch(i$41) {}
            return it(t, p, null, [e]).length > 0
        },
        it.contains = function(e, t) {
            return (e.ownerDocument || e) !== p && h(e),
            b(e, t)
        },
        it.attr = function(e, i) { (e.ownerDocument || e) !== p && h(e);
            var s = r.attrHandle[i.toLowerCase()],
            o = s && O.call(r.attrHandle, i.toLowerCase()) ? s(e, i, !v) : t;
            return o !== t ? o: n.attributes || !v ? e.getAttribute(i) : (o = e.getAttributeNode(i)) && o.specified ? o.value: null
        },
        it.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e);
        },
        it.uniqueSort = function(e) {
            var t, r = [],
            i = 0,
            s = 0;
            c = !n.detectDuplicates,
            l = !n.sortStable && e.slice(0),
            e.sort(k);
            if (c) {
                while (t = e[s++]) t === e[s] && (i = r.push(s));
                while (i--) e.splice(r[i], 1)
            }
            return l = null,
            e
        },
        i = it.getText = function(e) {
            var t, n = "",
            r = 0,
            s = e.nodeType;
            if (!s) while (t = e[r++]) n += i(t);
            else if (s === 1 || s === 9 || s === 11) {
                if (typeof e.textContent == "string") return e.textContent;
                for (e = e.firstChild; e; e = e.nextSibling) n += i(e)
            } else if (s === 3 || s === 4) return e.nodeValue;
            return n
        },
        r = it.selectors = {
            cacheLength: 50,
            createPseudo: ot,
            match: J,
            attrHandle: {},
            find: {},
            relative: {
                "\x3e": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(tt, nt),
                    e[3] = (e[3] || e[4] || e[5] || "").replace(tt, nt),
                    e[2] === "~\x3d" && (e[3] = " " + e[3] + " "),
                    e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(),
                    e[1].slice(0, 3) === "nth" ? (e[3] || it.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * (e[3] === "even" || e[3] === "odd")), e[5] = +(e[7] + e[8] || e[3] === "odd")) : e[3] && it.error(e[0]),
                    e
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    return J.CHILD.test(e[0]) ? null: (e[3] ? e[2] = e[4] || e[5] || "": n && V.test(n) && (t = o(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(tt, nt).toLowerCase();
                    return e === "*" ?
                    function() {
                        return ! 0
                    }: function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = T[e + " "];
                    return t || (t = new RegExp("(^|" + F + ")" + e + "(" + F + "|$)")) && T(e,
                    function(e) {
                        return t.test(typeof e.className == "string" && e.className || typeof e.getAttribute !== L && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(e, t, n) {
                    return function(r) {
                        var i = it.attr(r, e);
                        return i == null ? t === "!\x3d": t ? (i += "", t === "\x3d" ? i === n: t === "!\x3d" ? i !== n: t === "^\x3d" ? n && i.indexOf(n) === 0 : t === "*\x3d" ? n && i.indexOf(n) > -1 : t === "$\x3d" ? n && i.slice( - n.length) === n: t === "~\x3d" ? (" " + i + " ").indexOf(n) > -1 : t === "|\x3d" ? i === n || i.slice(0, n.length + 1) === n + "-": !1) : !0
                    }
                },
                CHILD: function(e, t, n, r, i) {
                    var s = e.slice(0, 3) !== "nth",
                    o = e.slice( - 4) !== "last",
                    u = t === "of-type";
                    return r === 1 && i === 0 ?
                    function(e) {
                        return !! e.parentNode
                    }: function(t, n, a) {
                        var f, l, c, h, p, d, v = s !== o ? "nextSibling": "previousSibling",
                        m = t.parentNode,
                        g = u && t.nodeName.toLowerCase(),
                        y = !a && !u;
                        if (m) {
                            if (s) {
                                while (v) {
                                    c = t;
                                    while (c = c[v]) if (u ? c.nodeName.toLowerCase() === g: c.nodeType === 1) return ! 1;
                                    d = v = e === "only" && !d && "nextSibling"
                                }
                                return ! 0
                            }
                            d = [o ? m.firstChild: m.lastChild];
                            if (o && y) {
                                l = m[w] || (m[w] = {}),
                                f = l[e] || [],
                                p = f[0] === S && f[1],
                                h = f[0] === S && f[2],
                                c = p && m.childNodes[p];
                                while (c = ++p && c && c[v] || (h = p = 0) || d.pop()) if (c.nodeType === 1 && ++h && c === t) {
                                    l[e] = [S, p, h];
                                    break
                                }
                            } else if (y && (f = (t[w] || (t[w] = {}))[e]) && f[0] === S) h = f[1];
                            else while (c = ++p && c && c[v] || (h = p = 0) || d.pop()) if ((u ? c.nodeName.toLowerCase() === g: c.nodeType === 1) && ++h) {
                                y && ((c[w] || (c[w] = {}))[e] = [S, h]);
                                if (c === t) break
                            }
                            return h -= i,
                            h === r || h % r === 0 && h / r >= 0
                        }
                    }
                },
                PSEUDO: function(e, t) {
                    var n, i = r.pseudos[e] || r.setFilters[e.toLowerCase()] || it.error("unsupported pseudo: " + e);
                    return i[w] ? i(t) : i.length > 1 ? (n = [e, e, "", t], r.setFilters.hasOwnProperty(e.toLowerCase()) ? ot(function(e, n) {
                        var r, s = i(e, t),
                        o = s.length;
                        while (o--) r = B.call(e, s[o]),
                        e[r] = !(n[r] = s[o])
                    }) : function(e) {
                        return i(e, 0, n)
                    }) : i
                }
            },
            pseudos: {
                not: ot(function(e) {
                    var t = [],
                    n = [],
                    r = u(e.replace(U, "$1"));
                    return r[w] ? ot(function(e, t, n, i) {
                        var s, o = r(e, null, i, []),
                        u = e.length;
                        while (u--) if (s = o[u]) e[u] = !(t[u] = s)
                    }) : function(e, i, s) {
                        return t[0] = e,
                        r(t, null, s, n),
                        !n.pop()
                    }
                }),
                has: ot(function(e) {
                    return function(t) {
                        return it(e, t).length > 0
                    }
                }),
                contains: ot(function(e) {
                    return e = e.replace(tt, nt),
                    function(t) {
                        return (t.textContent || t.innerText || i(t)).indexOf(e) > -1
                    }
                }),
                lang: ot(function(e) {
                    return $.test(e || "") || it.error("unsupported lang: " + e),
                    e = e.replace(tt, nt).toLowerCase(),
                    function(t) {
                        var n;
                        do
                        if (n = v ? t.lang: t.getAttribute("xml:lang") || t.getAttribute("lang")) return n = n.toLowerCase(),
                        n === e || n.indexOf(e + "-") === 0;
                        while ((t = t.parentNode) && t.nodeType === 1);
                        return ! 1
                    }
                }),
                target: function(e) {
                    var t = window.location && window.location.hash;
                    return t && t.slice(1) === e.id
                },
                root: function(e) {
                    return e === d
                },
                focus: function(e) {
                    return e === p.activeElement && (!p.hasFocus || p.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return e.disabled === !1
                },
                disabled: function(e) {
                    return e.disabled === !0
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return t === "input" && !!e.checked || t === "option" && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex,
                    e.selected === !0
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return ! 1;
                    return ! 0
                },
                parent: function(e) {
                    return ! r.pseudos.empty(e)
                },
                header: function(e) {
                    return Q.test(e.nodeName)
                },
                input: function(e) {
                    return K.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return t === "input" && e.type === "button" || t === "button"
                },
                text: function(e) {
                    var t;
                    return e.nodeName.toLowerCase() === "input" && e.type === "text" && ((t = e.getAttribute("type")) == null || t.toLowerCase() === "text")
                },
                first: ht(function() {
                    return [0]
                }),
                last: ht(function(e, t) {
                    return [t - 1]
                }),
                eq: ht(function(e, t, n) {
                    return [n < 0 ? n + t: n]
                }),
                even: ht(function(e, t) {
                    var n = 0;
                    for (; n < t; n += 2) e.push(n);
                    return e
                }),
                odd: ht(function(e, t) {
                    var n = 1;
                    for (; n < t; n += 2) e.push(n);
                    return e
                }),
                lt: ht(function(e, t, n) {
                    var r = n < 0 ? n + t: n;
                    for (; --r >= 0;) e.push(r);
                    return e
                }),
                gt: ht(function(e, t, n) {
                    var r = n < 0 ? n + t: n;
                    for (; ++r < t;) e.push(r);
                    return e
                })
            }
        },
        r.pseudos.nth = r.pseudos.eq;
        for (e in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        }) r.pseudos[e] = lt(e);
        for (e in {
            submit: !0,
            reset: !0
        }) r.pseudos[e] = ct(e);
        return dt.prototype = r.filters = r.pseudos,
        r.setFilters = new dt,
        o = it.tokenize = function(e, t) {
            var n, i, s, o, u, a, f, l = N[e + " "];
            if (l) return t ? 0 : l.slice(0);
            u = e,
            a = [],
            f = r.preFilter;
            while (u) {
                if (!n || (i = z.exec(u))) i && (u = u.slice(i[0].length) || u),
                a.push(s = []);
                n = !1;
                if (i = W.exec(u)) n = i.shift(),
                s.push({
                    value: n,
                    type: i[0].replace(U, " ")
                }),
                u = u.slice(n.length);
                for (o in r.filter)(i = J[o].exec(u)) && (!f[o] || (i = f[o](i))) && (n = i.shift(), s.push({
                    value: n,
                    type: o,
                    matches: i
                }), u = u.slice(n.length));
                if (!n) break
            }
            return t ? u.length: u ? it.error(e) : N(e, a).slice(0)
        },
        u = it.compile = function(e, t) {
            var n, r = [],
            i = [],
            s = C[e + " "];
            if (!s) {
                t || (t = o(e)),
                n = t.length;
                while (n--) s = Et(t[n]),
                s[w] ? r.push(s) : i.push(s);
                s = C(e, St(i, r)),
                s.selector = e
            }
            return s
        },
        a = it.select = function(e, t, i, s) {
            var a, f, l, c, h, p = typeof e == "function" && e,
            d = !s && o(e = p.selector || e);
            i = i || [];
            if (d.length === 1) {
                f = d[0] = d[0].slice(0);
                if (f.length > 2 && (l = f[0]).type === "ID" && n.getById && t.nodeType === 9 && v && r.relative[f[1].type]) {
                    t = (r.find.ID(l.matches[0].replace(tt, nt), t) || [])[0];
                    if (!t) return i;
                    p && (t = t.parentNode),
                    e = e.slice(f.shift().value.length)
                }
                a = J.needsContext.test(e) ? 0 : f.length;
                while (a--) {
                    l = f[a];
                    if (r.relative[c = l.type]) break;
                    if (h = r.find[c]) if (s = h(l.matches[0].replace(tt, nt), Z.test(f[0].type) && pt(t.parentNode) || t)) {
                        f.splice(a, 1),
                        e = s.length && vt(f);
                        if (!e) return P.apply(i, s),
                        i;
                        break
                    }
                }
            }
            return (p || u(e, d))(s, t, !v, i, Z.test(e) && pt(t.parentNode) || t),
            i
        },
        n.sortStable = w.split("").sort(k).join("") === w,
        n.detectDuplicates = !!c,
        h(),
        n.sortDetached = ut(function(e) {
            return e.compareDocumentPosition(p.createElement("div")) & 1
        }),
        ut(function(e) {
            return e.innerHTML = "\x3ca href\x3d'#'\x3e\x3c/a\x3e",
            e.firstChild.getAttribute("href") === "#"
        }) || at("type|href|height|width",
        function(e, t, n) {
            if (!n) return e.getAttribute(t, t.toLowerCase() === "type" ? 1 : 2)
        }),
        (!n.attributes || !ut(function(e) {
            return e.innerHTML = "\x3cinput/\x3e",
            e.firstChild.setAttribute("value", ""),
            e.firstChild.getAttribute("value") === ""
        })) && at("value",
        function(e, t, n) {
            if (!n && e.nodeName.toLowerCase() === "input") return e.defaultValue
        }),
        ut(function(e) {
            return e.getAttribute("disabled") == null
        }) || at(j,
        function(e, t, n) {
            var r;
            if (!n) return e[t] === !0 ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value: null
        }),
        it
    }),
    i("tinymce/util/Tools", [],
    function() {
        function n(n) {
            return n === null || n === t ? "": ("" + n).replace(e, "")
        }
        function i(e, n) {
            return n ? n == "array" && r(e) ? !0 : typeof e == n: e !== t
        }
        function s(e) {
            var t = e,
            n, i;
            if (!r(e)) {
                t = [];
                for (n = 0, i = e.length; n < i; n++) t[n] = e[n]
            }
            return t
        }
        function o(e, t, n) {
            var r;
            e = e || [],
            t = t || ",",
            typeof e == "string" && (e = e.split(t)),
            n = n || {},
            r = e.length;
            while (r--) n[e[r]] = {};
            return n
        }
        function u(e, n, r) {
            var i, s;
            if (!e) return 0;
            r = r || e;
            if (e.length !== t) for (i = 0, s = e.length; i < s; i++) {
                if (n.call(r, e[i], i, e) === !1) return 0
            } else for (i in e) if (e.hasOwnProperty(i) && n.call(r, e[i], i, e) === !1) return 0;
            return 1
        }
        function a(e, t) {
            var n = [];
            return u(e,
            function(e) {
                n.push(t(e))
            }),
            n
        }
        function f(e, t) {
            var n = [];
            return u(e,
            function(e) { (!t || t(e)) && n.push(e)
            }),
            n
        }
        function l(e, t, n) {
            var r = this,
            i, s, o, u, a, f = 0;
            e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),
            o = e[3].match(/(^|\.)(\w+)$/i)[2],
            s = r.createNS(e[3].replace(/\.\w+$/, ""), n);
            if (s[o]) return;
            if (e[2] == "static") {
                s[o] = t,
                this.onCreate && this.onCreate(e[2], e[3], s[o]);
                return
            }
            t[o] || (t[o] = function() {},
            f = 1),
            s[o] = t[o],
            r.extend(s[o].prototype, t),
            e[5] && (i = r.resolve(e[5]).prototype, u = e[5].match(/\.(\w+)$/i)[1], a = s[o], f ? s[o] = function() {
                return i[u].apply(this, arguments)
            }: s[o] = function() {
                return this.parent = i[u],
                a.apply(this, arguments)
            },
            s[o].prototype[o] = s[o], r.each(i,
            function(e, t) {
                s[o].prototype[t] = i[t]
            }), r.each(t,
            function(e, t) {
                i[t] ? s[o].prototype[t] = function() {
                    return this.parent = i[t],
                    e.apply(this, arguments)
                }: t != o && (s[o].prototype[t] = e)
            })),
            r.each(t["static"],
            function(e, t) {
                s[o][t] = e
            })
        }
        function c(e, t) {
            var n, r;
            if (e) for (n = 0, r = e.length; n < r; n++) if (e[n] === t) return n;
            return - 1
        }
        function h(e, n) {
            var r, i, s, o = arguments,
            u;
            for (r = 1, i = o.length; r < i; r++) {
                n = o[r];
                for (s in n) n.hasOwnProperty(s) && (u = n[s], u !== t && (e[s] = u))
            }
            return e
        }
        function p(e, t, n, r) {
            r = r || this,
            e && (n && (e = e[n]), u(e,
            function(e, i) {
                if (t.call(r, e, i, n) === !1) return ! 1;
                p(e, t, n, r)
            }))
        }
        function d(e, t) {
            var n, r;
            t = t || window,
            e = e.split(".");
            for (n = 0; n < e.length; n++) r = e[n],
            t[r] || (t[r] = {}),
            t = t[r];
            return t
        }
        function v(e, t) {
            var n, r;
            t = t || window,
            e = e.split(".");
            for (n = 0, r = e.length; n < r; n++) {
                t = t[e[n]];
                if (!t) break
            }
            return t
        }
        function m(e, t) {
            return ! e || i(e, "array") ? e: a(e.split(t || ","), n)
        }
        var e = /^\s*|\s*$/g,
        r = Array.isArray ||
        function(e) {
            return Object.prototype.toString.call(e) === "[object Array]"
        };
        return {
            trim: n,
            isArray: r,
            is: i,
            toArray: s,
            makeMap: o,
            each: u,
            map: a,
            grep: f,
            inArray: c,
            extend: h,
            create: l,
            walk: p,
            createNS: d,
            resolve: v,
            explode: m
        }
    }),
    i("tinymce/Env", [],
    function() {
        var e = navigator,
        t = e.userAgent,
        n, r, i, s, o, u, a;
        n = window.opera && window.opera.buildNumber,
        r = /WebKit/.test(t),
        i = !r && !n && /MSIE/gi.test(t) && /Explorer/gi.test(e.appName),
        i = i && /MSIE (\w+)\./.exec(t)[1],
        s = t.indexOf("Trident/") == -1 || t.indexOf("rv:") == -1 && e.appName.indexOf("Netscape") == -1 ? !1 : 11,
        i = i || s,
        o = !r && !s && /Gecko/.test(t),
        u = t.indexOf("Mac") != -1,
        a = /(iPad|iPhone)/.test(t);
        var f = !a || t.match(/AppleWebKit\/(\d*)/)[1] >= 534;
        return {
            opera: n,
            webkit: r,
            ie: i,
            gecko: o,
            mac: u,
            iOS: a,
            contentEditable: f,
            transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
            caretAfter: i != 8,
            range: window.getSelection && "Range" in window,
            documentMode: i ? document.documentMode || 7 : 10
        }
    }),
    i("tinymce/dom/DomQuery", ["tinymce/dom/EventUtils", "tinymce/dom/Sizzle", "tinymce/util/Tools", "tinymce/Env"],
    function(e, n, r, i) {
        function c(e) {
            return typeof e != "undefined"
        }
        function h(e) {
            return typeof e == "string"
        }
        function p(e, t) {
            var n, r, i;
            t = t || s,
            i = t.createElement("div"),
            n = t.createDocumentFragment(),
            i.innerHTML = e;
            while (r = i.firstChild) n.appendChild(r);
            return n
        }
        function d(e, t, n, r) {
            var i;
            if (h(t)) t = p(t, A(e[0]));
            else if (t.length && !t.nodeType) {
                t = x.makeArray(t);
                if (r) for (i = t.length - 1; i >= 0; i--) d(e, t[i], n, r);
                else for (i = 0; i < t.length; i++) d(e, t[i], n, r);
                return e
            }
            if (t.nodeType) {
                i = e.length;
                while (i--) n.call(e[i], t)
            }
            return e
        }
        function v(e, t) {
            return e && t && (" " + e.className + " ").indexOf(" " + t + " ") !== -1
        }
        function m(e, t, n) {
            var r, i;
            return t = x(t)[0],
            e.each(function() {
                var e = this; ! n || r != e.parentNode ? (r = e.parentNode, i = t.cloneNode(!1), e.parentNode.insertBefore(i, e), i.appendChild(e)) : i.appendChild(e)
            }),
            e
        }
        function x(e, t) {
            return new x.fn.init(e, t)
        }
        function T(e, t) {
            var n;
            if (t.indexOf) return t.indexOf(e);
            n = t.length;
            while (n--) if (t[n] === e) return n;
            return - 1
        }
        function C(e) {
            return e === null || e === l ? "": ("" + e).replace(N, "")
        }
        function k(e, t) {
            var n, r, i, s, o;
            if (e) {
                n = e.length;
                if (n === s) for (r in e) {
                    if (e.hasOwnProperty(r)) {
                        o = e[r];
                        if (t.call(o, r, o) === !1) break
                    }
                } else for (i = 0; i < n; i++) {
                    o = e[i];
                    if (t.call(o, i, o) === !1) break
                }
            }
            return e
        }
        function L(e, t) {
            var n = [];
            return k(e,
            function(e, r) {
                t(r, e) && n.push(r)
            }),
            n
        }
        function A(e) {
            return e ? e.nodeType == 9 ? e: e.ownerDocument: s
        }
        function O(e, n, r) {
            var i = [],
            s = e[n];
            typeof r != "string" && r instanceof x && (r = r[0]);
            while (s && s.nodeType !== 9) {
                if (r !== t) {
                    if (s === r) break;
                    if (typeof r == "string" && x(s).is(r)) break
                }
                s.nodeType === 1 && i.push(s),
                s = s[n]
            }
            return i
        }
        function M(e, n, r, i) {
            var s = [];
            i instanceof x && (i = i[0]);
            for (; e; e = e[n]) {
                if (r && e.nodeType !== r) continue;
                if (i !== t) {
                    if (e === i) break;
                    if (typeof i == "string" && x(e).is(i)) break
                }
                s.push(e)
            }
            return s
        }
        function _(e, t, n) {
            for (e = e[t]; e; e = e[t]) if (e.nodeType == n) return e;
            return null
        }
        function D(e, t, n) {
            k(n,
            function(n, r) {
                e[n] = e[n] || {},
                e[n][t] = r
            })
        }
        var s = document,
        o = Array.prototype.push,
        u = Array.prototype.slice,
        a = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
        f = e.Event,
        l, g = r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
        y = r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
        b = {
            "for": "htmlFor",
            "class": "className",
            readonly: "readOnly"
        },
        w = {
            "float": "cssFloat"
        },
        E = {},
        S = {},
        N = /^\s*|\s*$/g;
        return x.fn = x.prototype = {
            constructor: x,
            selector: "",
            context: null,
            length: 0,
            init: function(e, t) {
                var n = this,
                r, i;
                if (!e) return n;
                if (e.nodeType) return n.context = n[0] = e,
                n.length = 1,
                n;
                if (t && t.nodeType) n.context = t;
                else {
                    if (t) return x(e).attr(t);
                    n.context = t = document
                }
                if (h(e)) {
                    n.selector = e,
                    e.charAt(0) === "\x3c" && e.charAt(e.length - 1) === "\x3e" && e.length >= 3 ? r = [null, e, null] : r = a.exec(e);
                    if (!r) return x(t).find(e);
                    if (r[1]) {
                        i = p(e, A(t)).firstChild;
                        while (i) o.call(n, i),
                        i = i.nextSibling
                    } else {
                        i = A(t).getElementById(r[2]);
                        if (!i) return n;
                        if (i.id !== r[2]) return n.find(e);
                        n.length = 1,
                        n[0] = i
                    }
                } else this.add(e, !1);
                return n
            },
            toArray: function() {
                return r.toArray(this)
            },
            add: function(e, t) {
                var n = this,
                r, i;
                if (h(e)) return n.add(x(e));
                if (e.nodeType) return n.add([e]);
                if (t !== !1) {
                    r = x.unique(n.toArray().concat(x.makeArray(e))),
                    n.length = r.length;
                    for (i = 0; i < r.length; i++) n[i] = r[i]
                } else o.apply(n, x.makeArray(e));
                return n
            },
            attr: function(e, t) {
                var n = this,
                r;
                if (typeof e == "object") k(e,
                function(e, t) {
                    n.attr(e, t)
                });
                else {
                    if (!c(t)) {
                        if (n[0] && n[0].nodeType === 1) {
                            r = E[e];
                            if (r && r.get) return r.get(n[0], e);
                            if (y[e]) return n.prop(e) ? e: l;
                            t = n[0].getAttribute(e, 2),
                            t === null && (t = l)
                        }
                        return t
                    }
                    this.each(function() {
                        var n;
                        if (this.nodeType === 1) {
                            n = E[e];
                            if (n && n.set) {
                                n.set(this, t);
                                return
                            }
                            t === null ? this.removeAttribute(e, 2) : this.setAttribute(e, t, 2)
                        }
                    })
                }
                return n
            },
            removeAttr: function(e) {
                return this.attr(e, null)
            },
            prop: function(e, t) {
                var n = this;
                e = b[e] || e;
                if (typeof e == "object") k(e,
                function(e, t) {
                    n.prop(e, t)
                });
                else {
                    if (!c(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
                    this.each(function() {
                        this.nodeType == 1 && (this[e] = t)
                    })
                }
                return n
            },
            css: function(e, t) {
                function s(e) {
                    return e.replace(/-(\D)/g,
                    function(e, t) {
                        return t.toUpperCase()
                    })
                }
                function o(e) {
                    return e.replace(/[A-Z]/g,
                    function(e) {
                        return "-" + e
                    })
                }
                var n = this,
                r, i;
                if (typeof e == "object") k(e,
                function(e, t) {
                    n.css(e, t)
                });
                else if (c(t)) e = s(e),
                typeof t == "number" && !g[e] && (t += "px"),
                n.each(function() {
                    var n = this.style;
                    i = S[e];
                    if (i && i.set) {
                        i.set(this, t);
                        return
                    }
                    try {
                        this.style[w[e] || e] = t
                    } catch(r$42) {}
                    if (t === null || t === "") n.removeProperty ? n.removeProperty(o(e)) : n.removeAttribute(e)
                });
                else {
                    r = n[0],
                    i = S[e];
                    if (i && i.get) return i.get(r);
                    if (r.ownerDocument.defaultView) try {
                        return r.ownerDocument.defaultView.getComputedStyle(r, null).getPropertyValue(o(e))
                    } catch(u$43) {
                        return l
                    } else if (r.currentStyle) return r.currentStyle[s(e)]
                }
                return n
            },
            remove: function() {
                var e = this,
                t, n = this.length;
                while (n--) t = e[n],
                f.clean(t),
                t.parentNode && t.parentNode.removeChild(t);
                return this
            },
            empty: function() {
                var e = this,
                t, n = this.length;
                while (n--) {
                    t = e[n];
                    while (t.firstChild) t.removeChild(t.firstChild)
                }
                return this
            },
            html: function(e) {
                var t = this,
                n;
                if (c(e)) {
                    n = t.length;
                    try {
                        while (n--) t[n].innerHTML = e
                    } catch(r$44) {
                        x(t[n]).empty().append(e)
                    }
                    return t
                }
                return t[0] ? t[0].innerHTML: ""
            },
            text: function(e) {
                var t = this,
                n;
                if (c(e)) {
                    n = t.length;
                    while (n--)"innerText" in t[n] ? t[n].innerText = e: t[0].textContent = e;
                    return t
                }
                return t[0] ? t[0].innerText || t[0].textContent: ""
            },
            append: function() {
                return d(this, arguments,
                function(e) {
                    this.nodeType === 1 && this.appendChild(e)
                })
            },
            prepend: function() {
                return d(this, arguments,
                function(e) {
                    this.nodeType === 1 && this.insertBefore(e, this.firstChild)
                },
                !0)
            },
            before: function() {
                var e = this;
                return e[0] && e[0].parentNode ? d(e, arguments,
                function(e) {
                    this.parentNode.insertBefore(e, this)
                }) : e
            },
            after: function() {
                var e = this;
                return e[0] && e[0].parentNode ? d(e, arguments,
                function(e) {
                    this.parentNode.insertBefore(e, this.nextSibling)
                },
                !0) : e
            },
            appendTo: function(e) {
                return x(e).append(this),
                this
            },
            prependTo: function(e) {
                return x(e).prepend(this),
                this
            },
            replaceWith: function(e) {
                return this.before(e).remove()
            },
            wrap: function(e) {
                return m(this, e)
            },
            wrapAll: function(e) {
                return m(this, e, !0)
            },
            wrapInner: function(e) {
                return this.each(function() {
                    x(this).contents().wrapAll(e)
                }),
                this
            },
            unwrap: function() {
                return this.parent().each(function() {
                    x(this).replaceWith(this.childNodes)
                })
            },
            clone: function() {
                var e = [];
                return this.each(function() {
                    e.push(this.cloneNode(!0))
                }),
                x(e)
            },
            addClass: function(e) {
                return this.toggleClass(e, !0)
            },
            removeClass: function(e) {
                return this.toggleClass(e, !1)
            },
            toggleClass: function(e, t) {
                var n = this;
                return typeof e != "string" ? n: (e.indexOf(" ") !== -1 ? k(e.split(" "),
                function() {
                    n.toggleClass(this, t)
                }) : n.each(function(n, r) {
                    var i, s;
                    s = v(r, e),
                    s !== t && (i = r.className, s ? r.className = C((" " + i + " ").replace(" " + e + " ", " ")) : r.className += i ? " " + e: e)
                }), n)
            },
            hasClass: function(e) {
                return v(this[0], e)
            },
            each: function(e) {
                return k(this, e)
            },
            on: function(e, t) {
                return this.each(function() {
                    f.bind(this, e, t)
                })
            },
            off: function(e, t) {
                return this.each(function() {
                    f.unbind(this, e, t)
                })
            },
            trigger: function(e) {
                return this.each(function() {
                    typeof e == "object" ? f.fire(this, e.type, e) : f.fire(this, e)
                })
            },
            show: function() {
                return this.css("display", "")
            },
            hide: function() {
                return this.css("display", "none")
            },
            slice: function() {
                return new x(u.apply(this, arguments))
            },
            eq: function(e) {
                return e === -1 ? this.slice(e) : this.slice(e, +e + 1)
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq( - 1)
            },
            find: function(e) {
                var t, n, r = [];
                for (t = 0, n = this.length; t < n; t++) x.find(e, this[t], r);
                return x(r)
            },
            filter: function(e) {
                return typeof e == "function" ? x(L(this.toArray(),
                function(t, n) {
                    return e(n, t)
                })) : x(x.filter(e, this.toArray()))
            },
            closest: function(e) {
                var t = [];
                return e instanceof x && (e = e[0]),
                this.each(function(n, r) {
                    while (r) {
                        if (typeof e == "string" && x(r).is(e)) {
                            t.push(r);
                            break
                        }
                        if (r == e) {
                            t.push(r);
                            break
                        }
                        r = r.parentNode
                    }
                }),
                x(t)
            },
            offset: function(e) {
                var t, n, r, i = 0,
                s = 0,
                o;
                return e ? this.css(e) : (t = this[0], t && (n = t.ownerDocument, r = n.documentElement, t.getBoundingClientRect && (o = t.getBoundingClientRect(), i = o.left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, s = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
                    left: i,
                    top: s
                })
            },
            push: o,
            sort: [].sort,
            splice: [].splice
        },
        r.extend(x, {
            extend: r.extend,
            makeArray: r.toArray,
            inArray: T,
            isArray: r.isArray,
            each: k,
            trim: C,
            grep: L,
            find: n,
            expr: n.selectors,
            unique: n.uniqueSort,
            text: n.getText,
            contains: n.contains,
            filter: function(e, t, n) {
                return n && (e = ":not(" + e + ")"),
                t.length === 1 ? t = x.find.matchesSelector(t[0], e) ? [t[0]] : [] : t = x.find.matches(e, t),
                t
            }
        }),
        k({
            parent: function(e) {
                var t = e.parentNode;
                return t && t.nodeType !== 11 ? t: null
            },
            parents: function(e) {
                return O(e, "parentNode")
            },
            next: function(e) {
                return _(e, "nextSibling", 1)
            },
            prev: function(e) {
                return _(e, "previousSibling", 1)
            },
            children: function(e) {
                return M(e.firstChild, "nextSibling", 1)
            },
            contents: function(e) {
                return r.toArray((e.nodeName === "iframe" ? e.contentDocument || e.contentWindow.document: e).childNodes)
            }
        },
        function(e, t) {
            x.fn[e] = function(n) {
                var r = this,
                i = [];
                return r.each(function() {
                    var e = t.call(i, this, n, i);
                    e && (x.isArray(e) ? i.push.apply(i, e) : i.push(e))
                }),
                this.length > 1 && (i = x.unique(i), e.indexOf("parents") === 0 && (i = i.reverse())),
                i = x(i),
                n ? i.filter(n) : i
            }
        }),
        k({
            parentsUntil: function(e, t) {
                return O(e, "parentNode", t)
            },
            nextUntil: function(e, t) {
                return M(e, "nextSibling", 1, t).slice(1)
            },
            prevUntil: function(e, t) {
                return M(e, "previousSibling", 1, t).slice(1)
            }
        },
        function(e, t) {
            x.fn[e] = function(n, r) {
                var i = this,
                s = [];
                i.each(function() {
                    var e = t.call(s, this, n, s);
                    e && (x.isArray(e) ? s.push.apply(s, e) : s.push(e))
                });
                if (this.length > 1) {
                    s = x.unique(s);
                    if (e.indexOf("parents") === 0 || e === "prevUntil") s = s.reverse()
                }
                return s = x(s),
                r ? s.filter(r) : s
            }
        }),
        x.fn.is = function(e) {
            return !! e && this.filter(e).length > 0
        },
        x.fn.init.prototype = x.fn,
        x.overrideDefaults = function(e) {
            function n(r, i) {
                return t = t || e(),
                arguments.length === 0 && (r = t.element),
                i || (i = t.context),
                new n.fn.init(r, i)
            }
            var t;
            return x.extend(n, this),
            n
        },
        i.ie && i.ie < 8 && (D(E, "get", {
            maxlength: function(e) {
                var t = e.maxLength;
                return t === 2147483647 ? l: t
            },
            size: function(e) {
                var t = e.size;
                return t === 20 ? l: t
            },
            "class": function(e) {
                return e.className
            },
            style: function(e) {
                var t = e.style.cssText;
                return t.length === 0 ? l: t
            }
        }), D(E, "set", {
            "class": function(e, t) {
                e.className = t
            },
            style: function(e, t) {
                e.style.cssText = t
            }
        })),
        i.ie && i.ie < 9 && (w["float"] = "styleFloat", D(S, "set", {
            opacity: function(e, t) {
                var n = e.style;
                t === null || t === "" ? n.removeAttribute("filter") : (n.zoom = 1, n.filter = "alpha(opacity\x3d" + t * 100 + ")")
            }
        })),
        x.attrHooks = E,
        x.cssHooks = S,
        x
    }),
    i("tinymce/html/Styles", [],
    function() {
        return function(e, t) {
            function p(e, t, n, r) {
                function i(e) {
                    return e = parseInt(e, 10).toString(16),
                    e.length > 1 ? e: "0" + e
                }
                return "#" + i(t) + i(n) + i(r)
            }
            var n = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
            r = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
            i = /\s*([^:]+):\s*([^;]+);?/g,
            s = /\s+$/,
            o, u, a = {},
            f, l, c, h = "\ufeff";
            e = e || {},
            t && (l = t.getValidStyles(), c = t.getInvalidStyles()),
            f = ("\\\" \\' \\; \\: ; : " + h).split(" ");
            for (u = 0; u < f.length; u++) a[f[u]] = h + u,
            a[h + u] = f[u];
            return {
                toHex: function(e) {
                    return e.replace(n, p)
                },
                parse: function(t) {
                    function m(e, t, n) {
                        var r, i, s, a;
                        r = o[e + "-top" + t];
                        if (!r) return;
                        i = o[e + "-right" + t];
                        if (!i) return;
                        s = o[e + "-bottom" + t];
                        if (!s) return;
                        a = o[e + "-left" + t];
                        if (!a) return;
                        var f = [r, i, s, a];
                        u = f.length - 1;
                        while (u--) if (f[u] !== f[u + 1]) break;
                        if (u > -1 && n) return;
                        o[e + t] = u == -1 ? f[0] : f.join(" "),
                        delete o[e + "-top" + t],
                        delete o[e + "-right" + t],
                        delete o[e + "-bottom" + t],
                        delete o[e + "-left" + t]
                    }
                    function g(e) {
                        var t = o[e],
                        n;
                        if (!t) return;
                        t = t.split(" "),
                        n = t.length;
                        while (n--) if (t[n] !== t[0]) return ! 1;
                        return o[e] = t[0],
                        !0
                    }
                    function y(e, t, n, r) {
                        if (!g(t)) return;
                        if (!g(n)) return;
                        if (!g(r)) return;
                        o[e] = o[t] + " " + o[n] + " " + o[r],
                        delete o[t],
                        delete o[n],
                        delete o[r]
                    }
                    function b(e) {
                        return h = !0,
                        a[e]
                    }
                    function w(e, t) {
                        return h && (e = e.replace(/\uFEFF[0-9]/g,
                        function(e) {
                            return a[e]
                        })),
                        t || (e = e.replace(/\\([\'\";:])/g, "$1")),
                        e
                    }
                    function E(t, n, r, i, s, o) {
                        s = s || o;
                        if (s) return s = w(s),
                        "'" + s.replace(/\'/g, "\\'") + "'";
                        n = w(n || r || i);
                        if (!e.allow_script_urls) {
                            var u = n.replace(/[\s\r\n]+/, "");
                            if (/(java|vb)script:/i.test(u)) return "";
                            if (!e.allow_svg_data_urls && /^data:image\/svg/i.test(u)) return ""
                        }
                        return d && (n = d.call(v, n, "style")),
                        "url('" + n.replace(/\'/g, "\\'") + "')"
                    }
                    var o = {},
                    f, l, c, h, d = e.url_converter,
                    v = e.url_converter_scope || this;
                    if (t) {
                        t = t.replace(/[\u0000-\u001F]/g, ""),
                        t = t.replace(/\\[\"\';:\uFEFF]/g, b).replace(/\"[^\"]+\"|\'[^\']+\'/g,
                        function(e) {
                            return e.replace(/[;:]/g, b)
                        });
                        while (f = i.exec(t)) {
                            l = f[1].replace(s, "").toLowerCase(),
                            c = f[2].replace(s, ""),
                            c = c.replace(/\\[0-9a-f]+/g,
                            function(e) {
                                return String.fromCharCode(parseInt(e.substr(1), 16))
                            });
                            if (l && c.length > 0) {
                                if (!e.allow_script_urls && (l == "behavior" || /expression\s*\(|\/\*|\*\//.test(c))) continue;
                                if (l === "font-weight" && c === "700") c = "bold";
                                else if (l === "color" || l === "background-color") c = c.toLowerCase();
                                c = c.replace(n, p),
                                c = c.replace(r, E),
                                o[l] = h ? w(c, !0) : c
                            }
                            i.lastIndex = f.index + f[0].length
                        }
                        m("border", "", !0),
                        m("border", "-width"),
                        m("border", "-color"),
                        m("border", "-style"),
                        m("padding", ""),
                        m("margin", ""),
                        y("border", "border-width", "border-style", "border-color"),
                        o.border === "medium none" && delete o.border,
                        o["border-image"] === "none" && delete o["border-image"]
                    }
                    return o
                },
                serialize: function(e, t) {
                    function s(t) {
                        var r, i, s, u;
                        r = l[t];
                        if (r) for (i = 0, s = r.length; i < s; i++) t = r[i],
                        u = e[t],
                        u !== o && u.length > 0 && (n += (n.length > 0 ? " ": "") + t + ": " + u + ";")
                    }
                    function u(e, t) {
                        var n;
                        return n = c["*"],
                        n && n[e] ? !1 : (n = c[t], n && n[e] ? !1 : !0)
                    }
                    var n = "",
                    r, i;
                    if (t && l) s("*"),
                    s(t);
                    else for (r in e) i = e[r],
                    i !== o && i.length > 0 && (!c || u(r, t)) && (n += (n.length > 0 ? " ": "") + r + ": " + i + ";");
                    return n
                }
            }
        }
    }),
    i("tinymce/dom/TreeWalker", [],
    function() {
        return function(e, t) {
            function r(e, n, r, i) {
                var s, o;
                if (e) {
                    if (!i && e[n]) return e[n];
                    if (e != t) {
                        s = e[r];
                        if (s) return s;
                        for (o = e.parentNode; o && o != t; o = o.parentNode) {
                            s = o[r];
                            if (s) return s
                        }
                    }
                }
            }
            var n = e;
            this.current = function() {
                return n
            },
            this.next = function(e) {
                return n = r(n, "firstChild", "nextSibling", e),
                n
            },
            this.prev = function(e) {
                return n = r(n, "lastChild", "previousSibling", e),
                n
            }
        }
    }),
    i("tinymce/dom/Range", ["tinymce/util/Tools"],
    function(e) {
        function t(n) {
            function m() {
                return i.createDocumentFragment()
            }
            function g(e, t) {
                B(a, e, t)
            }
            function y(e, t) {
                B(f, e, t)
            }
            function b(e) {
                g(e.parentNode, v(e))
            }
            function w(e) {
                g(e.parentNode, v(e) + 1)
            }
            function E(e) {
                y(e.parentNode, v(e))
            }
            function S(e) {
                y(e.parentNode, v(e) + 1)
            }
            function x(e) {
                e ? (r[h] = r[c], r[p] = r[l]) : (r[c] = r[h], r[l] = r[p]),
                r.collapsed = a
            }
            function T(e) {
                b(e),
                S(e)
            }
            function N(e) {
                g(e, 0),
                y(e, e.nodeType === 1 ? e.childNodes.length: e.nodeValue.length)
            }
            function C(e, t) {
                var n = r[c],
                i = r[l],
                s = r[h],
                o = r[p],
                u = t.startContainer,
                a = t.startOffset,
                f = t.endContainer,
                d = t.endOffset;
                if (e === 0) return H(n, i, u, a);
                if (e === 1) return H(s, o, u, a);
                if (e === 2) return H(s, o, f, d);
                if (e === 3) return H(n, i, f, d)
            }
            function k() {
                j(u)
            }
            function L() {
                return j(s)
            }
            function A() {
                return j(o)
            }
            function O(e) {
                var t = this[c],
                r = this[l],
                i,
                s;
                t.nodeType !== 3 && t.nodeType !== 4 || !t.nodeValue ? (t.childNodes.length > 0 && (s = t.childNodes[r]), s ? t.insertBefore(e, s) : t.nodeType == 3 ? n.insertAfter(e, t) : t.appendChild(e)) : r ? r >= t.nodeValue.length ? n.insertAfter(e, t) : (i = t.splitText(r), t.parentNode.insertBefore(e, i)) : t.parentNode.insertBefore(e, t)
            }
            function M(e) {
                var t = r.extractContents();
                r.insertNode(e),
                e.appendChild(t),
                r.selectNode(e)
            }
            function _() {
                return d(new t(n), {
                    startContainer: r[c],
                    startOffset: r[l],
                    endContainer: r[h],
                    endOffset: r[p],
                    collapsed: r.collapsed,
                    commonAncestorContainer: r.commonAncestorContainer
                })
            }
            function D(e, t) {
                var n;
                if (e.nodeType == 3) return e;
                if (t < 0) return e;
                n = e.firstChild;
                while (n && t > 0)--t,
                n = n.nextSibling;
                return n ? n: e
            }
            function P() {
                return r[c] == r[h] && r[l] == r[p]
            }
            function H(e, t, r, i) {
                var s, o, u, a, f, l;
                if (e == r) return t == i ? 0 : t < i ? -1 : 1;
                s = r;
                while (s && s.parentNode != e) s = s.parentNode;
                if (s) {
                    o = 0,
                    u = e.firstChild;
                    while (u != s && o < t) o++,
                    u = u.nextSibling;
                    return t <= o ? -1 : 1
                }
                s = e;
                while (s && s.parentNode != r) s = s.parentNode;
                if (s) {
                    o = 0,
                    u = r.firstChild;
                    while (u != s && o < i) o++,
                    u = u.nextSibling;
                    return o < i ? -1 : 1
                }
                a = n.findCommonAncestor(e, r),
                f = e;
                while (f && f.parentNode != a) f = f.parentNode;
                f || (f = a),
                l = r;
                while (l && l.parentNode != a) l = l.parentNode;
                l || (l = a);
                if (f == l) return 0;
                u = a.firstChild;
                while (u) {
                    if (u == f) return - 1;
                    if (u == l) return 1;
                    u = u.nextSibling
                }
            }
            function B(e, t, i) {
                var s, o;
                e ? (r[c] = t, r[l] = i) : (r[h] = t, r[p] = i),
                s = r[h];
                while (s.parentNode) s = s.parentNode;
                o = r[c];
                while (o.parentNode) o = o.parentNode;
                o == s ? H(r[c], r[l], r[h], r[p]) > 0 && r.collapse(e) : r.collapse(e),
                r.collapsed = P(),
                r.commonAncestorContainer = n.findCommonAncestor(r[c], r[h])
            }
            function j(e) {
                var t, n = 0,
                i = 0,
                s, o, u, a, f, l;
                if (r[c] == r[h]) return F(e);
                for (t = r[h], s = t.parentNode; s; t = s, s = s.parentNode) {
                    if (s == r[c]) return I(t, e); ++n
                }
                for (t = r[c], s = t.parentNode; s; t = s, s = s.parentNode) {
                    if (s == r[h]) return q(t, e); ++i
                }
                o = i - n,
                u = r[c];
                while (o > 0) u = u.parentNode,
                o--;
                a = r[h];
                while (o < 0) a = a.parentNode,
                o++;
                for (f = u.parentNode, l = a.parentNode; f != l; f = f.parentNode, l = l.parentNode) u = f,
                a = l;
                return R(u, a, e)
            }
            function F(e) {
                var t, n, s, f, h, d, v, g, y;
                e != u && (t = m());
                if (r[l] == r[p]) return t;
                if (r[c].nodeType == 3) {
                    n = r[c].nodeValue,
                    s = n.substring(r[l], r[p]),
                    e != o && (f = r[c], g = r[l], y = r[p] - r[l], g === 0 && y >= f.nodeValue.length - 1 ? f.parentNode.removeChild(f) : f.deleteData(g, y), r.collapse(a));
                    if (e == u) return;
                    return s.length > 0 && t.appendChild(i.createTextNode(s)),
                    t
                }
                f = D(r[c], r[l]),
                h = r[p] - r[l];
                while (f && h > 0) d = f.nextSibling,
                v = X(f, e),
                t && t.appendChild(v),
                --h,
                f = d;
                return e != o && r.collapse(a),
                t
            }
            function I(e, t) {
                var n, i, s, a, c, h;
                t != u && (n = m()),
                i = U(e, t),
                n && n.appendChild(i),
                s = v(e),
                a = s - r[l];
                if (a <= 0) return t != o && (r.setEndBefore(e), r.collapse(f)),
                n;
                i = e.previousSibling;
                while (a > 0) c = i.previousSibling,
                h = X(i, t),
                n && n.insertBefore(h, n.firstChild),
                --a,
                i = c;
                return t != o && (r.setEndBefore(e), r.collapse(f)),
                n
            }
            function q(e, t) {
                var n, i, s, f, l, c;
                t != u && (n = m()),
                s = z(e, t),
                n && n.appendChild(s),
                i = v(e),
                ++i,
                f = r[p] - i,
                s = e.nextSibling;
                while (s && f > 0) l = s.nextSibling,
                c = X(s, t),
                n && n.appendChild(c),
                --f,
                s = l;
                return t != o && (r.setStartAfter(e), r.collapse(a)),
                n
            }
            function R(e, t, n) {
                var i, s, f, l, c, h, p;
                n != u && (s = m()),
                i = z(e, n),
                s && s.appendChild(i),
                f = v(e),
                l = v(t),
                ++f,
                c = l - f,
                h = e.nextSibling;
                while (c > 0) p = h.nextSibling,
                i = X(h, n),
                s && s.appendChild(i),
                h = p,
                --c;
                return i = U(t, n),
                s && s.appendChild(i),
                n != o && (r.setStartAfter(e), r.collapse(a)),
                s
            }
            function U(e, t) {
                var n = D(r[h], r[p] - 1),
                i,
                s,
                o,
                l,
                c,
                d = n != r[h];
                if (n == e) return W(n, d, f, t);
                i = n.parentNode,
                s = W(i, f, f, t);
                while (i) {
                    while (n) o = n.previousSibling,
                    l = W(n, d, f, t),
                    t != u && s.insertBefore(l, s.firstChild),
                    d = a,
                    n = o;
                    if (i == e) return s;
                    n = i.previousSibling,
                    i = i.parentNode,
                    c = W(i, f, f, t),
                    t != u && c.appendChild(s),
                    s = c
                }
            }
            function z(e, t) {
                var n = D(r[c], r[l]),
                i = n != r[c],
                s,
                o,
                h,
                p,
                d;
                if (n == e) return W(n, i, a, t);
                s = n.parentNode,
                o = W(s, f, a, t);
                while (s) {
                    while (n) h = n.nextSibling,
                    p = W(n, i, a, t),
                    t != u && o.appendChild(p),
                    i = a,
                    n = h;
                    if (s == e) return o;
                    n = s.nextSibling,
                    s = s.parentNode,
                    d = W(s, f, a, t),
                    t != u && d.appendChild(o),
                    o = d
                }
            }
            function W(e, t, i, s) {
                var a, c, h, d, v;
                if (t) return X(e, s);
                if (e.nodeType == 3) {
                    a = e.nodeValue,
                    i ? (d = r[l], c = a.substring(d), h = a.substring(0, d)) : (d = r[p], c = a.substring(0, d), h = a.substring(d)),
                    s != o && (e.nodeValue = h);
                    if (s == u) return;
                    return v = n.clone(e, f),
                    v.nodeValue = c,
                    v
                }
                if (s == u) return;
                return n.clone(e, f)
            }
            function X(e, t) {
                if (t != u) return t == o ? n.clone(e, a) : e;
                e.parentNode.removeChild(e)
            }
            function V() {
                return n.create("body", null, A()).outerText
            }
            var r = this,
            i = n.doc,
            s = 0,
            o = 1,
            u = 2,
            a = !0,
            f = !1,
            l = "startOffset",
            c = "startContainer",
            h = "endContainer",
            p = "endOffset",
            d = e.extend,
            v = n.nodeIndex;
            return d(r, {
                startContainer: i,
                startOffset: 0,
                endContainer: i,
                endOffset: 0,
                collapsed: a,
                commonAncestorContainer: i,
                START_TO_START: 0,
                START_TO_END: 1,
                END_TO_END: 2,
                END_TO_START: 3,
                setStart: g,
                setEnd: y,
                setStartBefore: b,
                setStartAfter: w,
                setEndBefore: E,
                setEndAfter: S,
                collapse: x,
                selectNode: T,
                selectNodeContents: N,
                compareBoundaryPoints: C,
                deleteContents: k,
                extractContents: L,
                cloneContents: A,
                insertNode: O,
                surroundContents: M,
                cloneRange: _,
                toStringIE: V
            }),
            r
        }
        return t.prototype.toString = function() {
            return this.toStringIE()
        },
        t
    }),
    i("tinymce/html/Entities", ["tinymce/util/Tools"],
    function(e) {
        function l(e) {
            var t;
            return t = document.createElement("div"),
            t.innerHTML = e,
            t.textContent || t.innerText || e
        }
        function c(e, t) {
            var n, i, s, o = {};
            if (e) {
                e = e.split(","),
                t = t || 10;
                for (n = 0; n < e.length; n += 2) i = String.fromCharCode(parseInt(e[n], t)),
                r[i] || (s = "\x26" + e[n + 1] + ";", o[i] = s, o[s] = i);
                return o
            }
        }
        var t = e.makeMap,
        n, r, i, s = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
        o = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
        u = /[<>&\"\']/g,
        a = /&(#x|#)?([\w]+);/g,
        f = {
            128 : "\u20ac",
            130 : "\u201a",
            131 : "\u0192",
            132 : "\u201e",
            133 : "\u2026",
            134 : "\u2020",
            135 : "\u2021",
            136 : "\u02c6",
            137 : "\u2030",
            138 : "\u0160",
            139 : "\u2039",
            140 : "\u0152",
            142 : "\u017d",
            145 : "\u2018",
            146 : "\u2019",
            147 : "\u201c",
            148 : "\u201d",
            149 : "\u2022",
            150 : "\u2013",
            151 : "\u2014",
            152 : "\u02dc",
            153 : "\u2122",
            154 : "\u0161",
            155 : "\u203a",
            156 : "\u0153",
            158 : "\u017e",
            159 : "\u0178"
        };
        r = {
            '"': "\x26quot;",
            "'": "\x26#39;",
            "\x3c": "\x26lt;",
            "\x3e": "\x26gt;",
            "\x26": "\x26amp;",
            "`": "\x26#96;"
        },
        i = {
            "\x26lt;": "\x3c",
            "\x26gt;": "\x3e",
            "\x26amp;": "\x26",
            "\x26quot;": '"',
            "\x26apos;": "'"
        },
        n = c("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);
        var h = {
            encodeRaw: function(e, t) {
                return e.replace(t ? s: o,
                function(e) {
                    return r[e] || e
                })
            },
            encodeAllRaw: function(e) {
                return ("" + e).replace(u,
                function(e) {
                    return r[e] || e
                })
            },
            encodeNumeric: function(e, t) {
                return e.replace(t ? s: o,
                function(e) {
                    return e.length > 1 ? "\x26#" + ((e.charCodeAt(0) - 55296) * 1024 + (e.charCodeAt(1) - 56320) + 65536) + ";": r[e] || "\x26#" + e.charCodeAt(0) + ";"
                })
            },
            encodeNamed: function(e, t, i) {
                return i = i || n,
                e.replace(t ? s: o,
                function(e) {
                    return r[e] || i[e] || e
                })
            },
            getEncodeFunc: function(e, i) {
                function u(e, t) {
                    return e.replace(t ? s: o,
                    function(e) {
                        return r[e] || i[e] || "\x26#" + e.charCodeAt(0) + ";" || e
                    })
                }
                function a(e, t) {
                    return h.encodeNamed(e, t, i)
                }
                return i = c(i) || n,
                e = t(e.replace(/\+/g, ",")),
                e.named && e.numeric ? u: e.named ? i ? a: h.encodeNamed: e.numeric ? h.encodeNumeric: h.encodeRaw
            },
            decode: function(e) {
                return e.replace(a,
                function(e, t, r) {
                    return t ? (r = parseInt(r, t.length === 2 ? 16 : 10), r > 65535 ? (r -= 65536, String.fromCharCode(55296 + (r >> 10), 56320 + (r & 1023))) : f[r] || String.fromCharCode(r)) : i[e] || n[e] || l(e)
                })
            }
        };
        return h
    }),
    i("tinymce/dom/StyleSheetLoader", [],
    function() {
        return function(e, t) {
            function s(t) {
                e.getElementsByTagName("head")[0].appendChild(t)
            }
            function o(t, o, u) {
                function h() {
                    var e = c.passed,
                    t = e.length;
                    while (t--) e[t]();
                    c.status = 2,
                    c.passed = [],
                    c.failed = []
                }
                function p() {
                    var e = c.failed,
                    t = e.length;
                    while (t--) e[t]();
                    c.status = 3,
                    c.passed = [],
                    c.failed = []
                }
                function d() {
                    var e = navigator.userAgent.match(/WebKit\/(\d*)/);
                    return !! (e && e[1] < 536)
                }
                function v(e, t) {
                    e() || ((new Date).getTime() - l < i ? window.setTimeout(t, 0) : p())
                }
                function m() {
                    v(function() {
                        var t = e.styleSheets,
                        n, r = t.length,
                        i;
                        while (r--) {
                            n = t[r],
                            i = n.ownerNode ? n.ownerNode: n.owningElement;
                            if (i && i.id === a.id) return h(),
                            !0
                        }
                    },
                    m)
                }
                function g() {
                    v(function() {
                        try {
                            var e = f.sheet.cssRules;
                            return h(),
                            !!e
                        } catch(t$45) {}
                    },
                    g)
                }
                var a, f, l, c;
                r[t] ? c = r[t] : (c = {
                    passed: [],
                    failed: []
                },
                r[t] = c),
                o && c.passed.push(o),
                u && c.failed.push(u);
                if (c.status == 1) return;
                if (c.status == 2) {
                    h();
                    return
                }
                if (c.status == 3) {
                    p();
                    return
                }
                c.status = 1,
                a = e.createElement("link"),
                a.rel = "stylesheet",
                a.type = "text/css",
                a.id = "u" + n++,
                a.async = !1,
                a.defer = !1,
                l = (new Date).getTime();
                if ("onload" in a && !d()) a.onload = m,
                a.onerror = p;
                else {
                    if (navigator.userAgent.indexOf("Firefox") > 0) {
                        f = e.createElement("style"),
                        f.textContent = '@import "' + t + '"',
                        g(),
                        s(f);
                        return
                    }
                    m()
                }
                s(a),
                a.href = t
            }
            var n = 0,
            r = {},
            i;
            t = t || {},
            i = t.maxLoadTime || 5E3,
            this.load = o
        }
    }),
    i("tinymce/dom/DOMUtils", ["tinymce/dom/Sizzle", "tinymce/dom/DomQuery", "tinymce/html/Styles", "tinymce/dom/EventUtils", "tinymce/dom/TreeWalker", "tinymce/dom/Range", "tinymce/html/Entities", "tinymce/Env", "tinymce/util/Tools", "tinymce/dom/StyleSheetLoader"],
    function(e, n, r, i, s, o, u, a, f, l) {
        function y(e, t) {
            var n = {},
            r = t.keep_values,
            i;
            return i = {
                set: function(n, r, i) {
                    t.url_converter && (r = t.url_converter.call(t.url_converter_scope || e, r, i, n[0])),
                    n.attr("data-mce-" + i, r).attr(i, r)
                },
                get: function(e, t) {
                    return e.attr("data-mce-" + t) || e.attr(t)
                }
            },
            n = {
                style: {
                    set: function(e, t) {
                        if (t !== null && typeof t == "object") {
                            e.css(t);
                            return
                        }
                        r && e.attr("data-mce-style", t),
                        e.attr("style", t)
                    },
                    get: function(t) {
                        var n = t.attr("data-mce-style") || t.attr("style");
                        return n = e.serializeStyle(e.parseStyle(n), t[0].nodeName),
                        n
                    }
                }
            },
            r && (n.href = n.src = i),
            n
        }
        function b(e, t) {
            var s = this,
            o;
            s.doc = e,
            s.win = window,
            s.files = {},
            s.counter = 0,
            s.stdMode = !v || e.documentMode >= 8,
            s.boxModel = !v || e.compatMode == "CSS1Compat" || s.stdMode,
            s.styleSheetLoader = new l(e),
            s.boundEvents = [],
            s.settings = t = t || {},
            s.schema = t.schema,
            s.styles = new r({
                url_converter: t.url_converter,
                url_converter_scope: t.url_converter_scope
            },
            t.schema),
            s.fixDoc(e),
            s.events = t.ownEvents ? new i(t.proxy) : i.Event,
            s.attrHooks = y(s, t),
            o = t.schema ? t.schema.getBlockElements() : {},
            s.$ = n.overrideDefaults(function() {
                return {
                    context: e,
                    element: s.getRoot()
                }
            }),
            s.isBlock = function(e) {
                if (!e) return ! 1;
                var t = e.nodeType;
                return t ? t === 1 && !!o[e.nodeName] : !!o[e]
            }
        }
        var c = f.each,
        h = f.is,
        p = f.grep,
        d = f.trim,
        v = a.ie,
        m = /^([a-z0-9],?)+$/i,
        g = /^[ \t\r\n]*$/;
        return b.prototype = {
            $$: function(e) {
                return typeof e == "string" && (e = this.get(e)),
                this.$(e)
            },
            root: null,
            fixDoc: function(e) {
                var t = this.settings,
                n;
                if (v && t.schema) {
                    "abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,
                    function(t) {
                        e.createElement(t)
                    });
                    for (n in t.schema.getCustomElements()) e.createElement(n)
                }
            },
            clone: function(e, t) {
                var n = this,
                r, i;
                return ! v || e.nodeType !== 1 || t ? e.cloneNode(t) : (i = n.doc, t ? r.firstChild: (r = i.createElement(e.nodeName), c(n.getAttribs(e),
                function(t) {
                    n.setAttrib(r, t.nodeName, n.getAttrib(e, t.nodeName))
                }), r))
            },
            getRoot: function() {
                var e = this;
                return e.settings.root_element || e.doc.body
            },
            getViewPort: function(e) {
                var t, n;
                return e = e ? e: this.win,
                t = e.document,
                n = this.boxModel ? t.documentElement: t.body,
                {
                    x: e.pageXOffset || n.scrollLeft,
                    y: e.pageYOffset || n.scrollTop,
                    w: e.innerWidth || n.clientWidth,
                    h: e.innerHeight || n.clientHeight
                }
            },
            getRect: function(e) {
                var t = this,
                n, r;
                return e = t.get(e),
                n = t.getPos(e),
                r = t.getSize(e),
                {
                    x: n.x,
                    y: n.y,
                    w: r.w,
                    h: r.h
                }
            },
            getSize: function(e) {
                var t = this,
                n, r;
                return e = t.get(e),
                n = t.getStyle(e, "width"),
                r = t.getStyle(e, "height"),
                n.indexOf("px") === -1 && (n = 0),
                r.indexOf("px") === -1 && (r = 0),
                {
                    w: parseInt(n, 10) || e.offsetWidth || e.clientWidth,
                    h: parseInt(r, 10) || e.offsetHeight || e.clientHeight
                }
            },
            getParent: function(e, t, n) {
                return this.getParents(e, t, n, !1)
            },
            getParents: function(e, n, r, i) {
                var s = this,
                o, u = [];
                e = s.get(e),
                i = i === t,
                r = r || (s.getRoot().nodeName != "BODY" ? s.getRoot().parentNode: null),
                h(n, "string") && (o = n, n === "*" ? n = function(e) {
                    return e.nodeType == 1
                }: n = function(e) {
                    return s.is(e, o)
                });
                while (e) {
                    if (e == r || !e.nodeType || e.nodeType === 9) break;
                    if (!n || n(e)) {
                        if (!i) return e;
                        u.push(e)
                    }
                    e = e.parentNode
                }
                return i ? u: null
            },
            get: function(e) {
                var t;
                if (e && this.doc && typeof e == "string") {
                    t = e,
                    e = this.doc.getElementById(e);
                    if (e && e.id !== t) return this.doc.getElementsByName(t)[1]
                }
                return e
            },
            getNext: function(e, t) {
                return this._findSib(e, t, "nextSibling")
            },
            getPrev: function(e, t) {
                return this._findSib(e, t, "previousSibling")
            },
            select: function(t, n) {
                var r = this;
                return e(t, r.get(n) || r.settings.root_element || r.doc, [])
            },
            is: function(n, r) {
                var i;
                if (n.length === t) {
                    if (r === "*") return n.nodeType == 1;
                    if (m.test(r)) {
                        r = r.toLowerCase().split(/,/),
                        n = n.nodeName.toLowerCase();
                        for (i = r.length - 1; i >= 0; i--) if (r[i] == n) return ! 0;
                        return ! 1
                    }
                }
                if (n.nodeType && n.nodeType != 1) return ! 1;
                var s = n.nodeType ? [n] : n;
                return e(r, s[0].ownerDocument || s[0], null, s).length > 0
            },
            add: function(e, t, n, r, i) {
                var s = this;
                return this.run(e,
                function(e) {
                    var o;
                    return o = h(t, "string") ? s.doc.createElement(t) : t,
                    s.setAttribs(o, n),
                    r && (r.nodeType ? o.appendChild(r) : s.setHTML(o, r)),
                    i ? o: e.appendChild(o)
                })
            },
            create: function(e, t, n) {
                return this.add(this.doc.createElement(e), e, t, n, 1)
            },
            createHTML: function(e, t, n) {
                var r = "",
                i;
                r += "\x3c" + e;
                for (i in t) t.hasOwnProperty(i) && t[i] !== null && typeof t[i] != "undefined" && (r += " " + i + '\x3d"' + this.encode(t[i]) + '"');
                return typeof n != "undefined" ? r + "\x3e" + n + "\x3c/" + e + "\x3e": r + " /\x3e"
            },
            createFragment: function(e) {
                var t, n, r = this.doc,
                i;
                i = r.createElement("div"),
                t = r.createDocumentFragment(),
                e && (i.innerHTML = e);
                while (n = i.firstChild) t.appendChild(n);
                return t
            },
            remove: function(e, t) {
                return e = this.$$(e),
                t ? e.each(function() {
                    var e;
                    while (e = this.firstChild) e.nodeType == 3 && e.data.length === 0 ? this.removeChild(e) : this.parentNode.insertBefore(e, this)
                }).remove() : e.remove(),
                e.length > 1 ? e.toArray() : e[0]
            },
            setStyle: function(e, t, n) {
                e = this.$$(e).css(t, n),
                this.settings.update_styles && e.attr("data-mce-style", null)
            },
            getStyle: function(e, n, r) {
                return e = this.$$(e),
                r ? e.css(n) : (n = n.replace(/-(\D)/g,
                function(e, t) {
                    return t.toUpperCase()
                }), n == "float" && (n = v ? "styleFloat": "cssFloat"), e[0] && e[0].style ? e[0].style[n] : t)
            },
            setStyles: function(e, t) {
                this.$$(e).css(t)
            },
            removeAllAttribs: function(e) {
                return this.run(e,
                function(e) {
                    var t, n = e.attributes;
                    for (t = n.length - 1; t >= 0; t--) e.removeAttributeNode(n.item(t))
                })
            },
            setAttrib: function(e, t, n) {
                var r = this,
                i, s, o = r.settings;
                n === "" && (n = null),
                e = r.$$(e),
                i = e.attr(t);
                if (!e.length) return;
                s = r.attrHooks[t],
                s && s.set ? s.set(e, n, t) : e.attr(t, n),
                i != n && o.onSetAttrib && o.onSetAttrib({
                    attrElm: e,
                    attrName: t,
                    attrValue: n
                })
            },
            setAttribs: function(e, t) {
                var n = this;
                n.$$(e).each(function(e, r) {
                    c(t,
                    function(e, t) {
                        n.setAttrib(r, t, e)
                    })
                })
            },
            getAttrib: function(e, t, n) {
                var r = this,
                i, s;
                return e = r.$$(e),
                e.length && (i = r.attrHooks[t], i && i.get ? s = i.get(e, t) : s = e.attr(t)),
                typeof s == "undefined" && (s = n || ""),
                s
            },
            getPos: function(e, t) {
                var r = this,
                i = 0,
                s = 0,
                o, u = r.doc,
                a = u.body,
                f;
                e = r.get(e),
                t = t || a;
                if (e) {
                    if (t === a && e.getBoundingClientRect && n(a).css("position") === "static") return f = e.getBoundingClientRect(),
                    t = r.boxModel ? u.documentElement: a,
                    i = f.left + (u.documentElement.scrollLeft || a.scrollLeft) - t.clientLeft,
                    s = f.top + (u.documentElement.scrollTop || a.scrollTop) - t.clientTop,
                    {
                        x: i,
                        y: s
                    };
                    o = e;
                    while (o && o != t && o.nodeType) i += o.offsetLeft || 0,
                    s += o.offsetTop || 0,
                    o = o.offsetParent;
                    o = e.parentNode;
                    while (o && o != t && o.nodeType) i -= o.scrollLeft || 0,
                    s -= o.scrollTop || 0,
                    o = o.parentNode
                }
                return {
                    x: i,
                    y: s
                }
            },
            parseStyle: function(e) {
                return this.styles.parse(e)
            },
            serializeStyle: function(e, t) {
                return this.styles.serialize(e, t)
            },
            addStyle: function(e) {
                var t = this,
                n = t.doc,
                r, i;
                if (t !== b.DOM && n === document) {
                    var s = b.DOM.addedStyles;
                    s = s || [];
                    if (s[e]) return;
                    s[e] = !0,
                    b.DOM.addedStyles = s
                }
                i = n.getElementById("mceDefaultStyles"),
                i || (i = n.createElement("style"), i.id = "mceDefaultStyles", i.type = "text/css", r = n.getElementsByTagName("head")[0], r.firstChild ? r.insertBefore(i, r.firstChild) : r.appendChild(i)),
                i.styleSheet ? i.styleSheet.cssText += e: i.appendChild(n.createTextNode(e))
            },
            loadCSS: function(e) {
                var t = this,
                n = t.doc,
                r;
                if (t !== b.DOM && n === document) {
                    b.DOM.loadCSS(e);
                    return
                }
                e || (e = ""),
                r = n.getElementsByTagName("head")[0],
                c(e.split(","),
                function(e) {
                    var i;
                    if (t.files[e]) return;
                    t.files[e] = !0,
                    i = t.create("link", {
                        rel: "stylesheet",
                        href: e
                    }),
                    v && n.documentMode && n.recalc && (i.onload = function() {
                        n.recalc && n.recalc(),
                        i.onload = null
                    }),
                    r.appendChild(i)
                })
            },
            addClass: function(e, t) {
                this.$$(e).addClass(t)
            },
            removeClass: function(e, t) {
                this.toggleClass(e, t, !1)
            },
            hasClass: function(e, t) {
                return this.$$(e).hasClass(t)
            },
            toggleClass: function(e, t, r) {
                this.$$(e).toggleClass(t, r).each(function() {
                    this.className === "" && n(this).attr("class", null)
                })
            },
            show: function(e) {
                this.$$(e).show()
            },
            hide: function(e) {
                this.$$(e).hide()
            },
            isHidden: function(e) {
                return this.$$(e).css("display") == "none"
            },
            uniqueId: function(e) {
                return (e ? e: "mce_") + this.counter++
            },
            setHTML: function(e, t) {
                e = this.$$(e),
                v ? e.each(function(e, r) {
                    if (r.canHaveHTML === !1) return;
                    while (r.firstChild) r.removeChild(r.firstChild);
                    try {
                        r.innerHTML = "\x3cbr\x3e" + t,
                        r.removeChild(r.firstChild)
                    } catch(i$46) {
                        n("\x3cdiv\x3e").html("\x3cbr\x3e" + t).contents().slice(1).appendTo(r)
                    }
                    return t
                }) : e.html(t)
            },
            getOuterHTML: function(e) {
                return e = this.get(e),
                e.nodeType == 1 ? e.outerHTML: n("\x3cdiv\x3e").append(n(e).clone()).html()
            },
            setOuterHTML: function(e, t) {
                var r = this;
                r.$$(e).each(function() {
                    try {
                        this.outerHTML = t
                    } catch(e$47) {
                        r.remove(n(this).html(t), !0)
                    }
                })
            },
            decode: u.decode,
            encode: u.encodeAllRaw,
            insertAfter: function(e, t) {
                return t = this.get(t),
                this.run(e,
                function(e) {
                    var n, r;
                    return n = t.parentNode,
                    r = t.nextSibling,
                    r ? n.insertBefore(e, r) : n.appendChild(e),
                    e
                })
            },
            replace: function(e, t, n) {
                var r = this;
                return r.run(t,
                function(t) {
                    return h(t, "array") && (e = e.cloneNode(!0)),
                    n && c(p(t.childNodes),
                    function(t) {
                        e.appendChild(t)
                    }),
                    t.parentNode.replaceChild(e, t)
                })
            },
            rename: function(e, t) {
                var n = this,
                r;
                return e.nodeName != t.toUpperCase() && (r = n.create(t), c(n.getAttribs(e),
                function(t) {
                    n.setAttrib(r, t.nodeName, n.getAttrib(e, t.nodeName))
                }), n.replace(r, e, 1)),
                r || e
            },
            findCommonAncestor: function(e, t) {
                var n = e,
                r;
                while (n) {
                    r = t;
                    while (r && n != r) r = r.parentNode;
                    if (n == r) break;
                    n = n.parentNode
                }
                return ! n && e.ownerDocument ? e.ownerDocument.documentElement: n
            },
            toHex: function(e) {
                return this.styles.toHex(f.trim(e))
            },
            run: function(e, t, n) {
                var r = this,
                i;
                return typeof e == "string" && (e = r.get(e)),
                e ? (n = n || this, !e.nodeType && (e.length || e.length === 0) ? (i = [], c(e,
                function(e, s) {
                    e && (typeof e == "string" && (e = r.get(e)), i.push(t.call(n, e, s)))
                }), i) : t.call(n, e)) : !1
            },
            getAttribs: function(e) {
                var t;
                e = this.get(e);
                if (!e) return [];
                if (v) {
                    t = [];
                    if (e.nodeName == "OBJECT") return e.attributes;
                    e.nodeName === "OPTION" && this.getAttrib(e, "selected") && t.push({
                        specified: 1,
                        nodeName: "selected"
                    });
                    var n = /<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;
                    return e.cloneNode(!1).outerHTML.replace(n, "").replace(/[\w:\-]+/gi,
                    function(e) {
                        t.push({
                            specified: 1,
                            nodeName: e
                        })
                    }),
                    t
                }
                return e.attributes
            },
            isEmpty: function(e, t) {
                var n = this,
                r, i, o, u, a, f = 0;
                e = e.firstChild;
                if (e) {
                    u = new s(e, e.parentNode),
                    t = t || n.schema ? n.schema.getNonEmptyElements() : null;
                    do {
                        o = e.nodeType;
                        if (o === 1) {
                            if (e.getAttribute("data-mce-bogus")) continue;
                            a = e.nodeName.toLowerCase();
                            if (t && t[a]) {
                                if (a === "br") {
                                    f++;
                                    continue
                                }
                                return ! 1
                            }
                            i = n.getAttribs(e),
                            r = i.length;
                            while (r--) {
                                a = i[r].nodeName;
                                if (a === "name" || a === "data-mce-bookmark") return ! 1
                            }
                        }
                        if (o == 8) return ! 1;
                        if (o === 3 && !g.test(e.nodeValue)) return ! 1
                    } while ( e = u . next ())
                }
                return f <= 1
            },
            createRng: function() {
                var e = this.doc;
                return e.createRange ? e.createRange() : new o(this)
            },
            nodeIndex: function(e, t) {
                var n = 0,
                r, i;
                if (e) for (r = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) {
                    i = e.nodeType;
                    if (t && i == 3) if (i == r || !e.nodeValue.length) continue;
                    n++,
                    r = i
                }
                return n
            },
            split: function(e, t, n) {
                function a(e) {
                    function s(e) {
                        var t = e.previousSibling && e.previousSibling.nodeName == "SPAN",
                        n = e.nextSibling && e.nextSibling.nodeName == "SPAN";
                        return t && n
                    }
                    var t, n = e.childNodes,
                    i = e.nodeType;
                    if (i == 1 && e.getAttribute("data-mce-type") == "bookmark") return;
                    for (t = n.length - 1; t >= 0; t--) a(n[t]);
                    if (i != 9) {
                        if (i == 3 && e.nodeValue.length > 0) {
                            var o = d(e.nodeValue).length;
                            if (!r.isBlock(e.parentNode) || o > 0 || o === 0 && s(e)) return
                        } else if (i == 1) {
                            n = e.childNodes,
                            n.length == 1 && n[0] && n[0].nodeType == 1 && n[0].getAttribute("data-mce-type") == "bookmark" && e.parentNode.insertBefore(n[0], e);
                            if (n.length || /^(br|hr|input|img)$/i.test(e.nodeName)) return
                        }
                        r.remove(e)
                    }
                    return e
                }
                var r = this,
                i = r.createRng(),
                s,
                o,
                u;
                if (e && t) return i.setStart(e.parentNode, r.nodeIndex(e)),
                i.setEnd(t.parentNode, r.nodeIndex(t)),
                s = i.extractContents(),
                i = r.createRng(),
                i.setStart(t.parentNode, r.nodeIndex(t) + 1),
                i.setEnd(e.parentNode, r.nodeIndex(e) + 1),
                o = i.extractContents(),
                u = e.parentNode,
                u.insertBefore(a(s), e),
                n ? u.replaceChild(n, t) : u.insertBefore(t, e),
                u.insertBefore(a(o), e),
                r.remove(e),
                n || t
            },
            bind: function(e, t, n, r) {
                var i = this;
                if (f.isArray(e)) {
                    var s = e.length;
                    while (s--) e[s] = i.bind(e[s], t, n, r);
                    return e
                }
                return i.settings.collect && (e === i.doc || e === i.win) && i.boundEvents.push([e, t, n, r]),
                i.events.bind(e, t, n, r || i)
            },
            unbind: function(e, t, n) {
                var r = this,
                i;
                if (f.isArray(e)) {
                    i = e.length;
                    while (i--) e[i] = r.unbind(e[i], t, n);
                    return e
                }
                if (r.boundEvents && (e === r.doc || e === r.win)) {
                    i = r.boundEvents.length;
                    while (i--) {
                        var s = r.boundEvents[i];
                        e == s[0] && (!t || t == s[1]) && (!n || n == s[2]) && this.events.unbind(s[0], s[1], s[2])
                    }
                }
                return this.events.unbind(e, t, n)
            },
            fire: function(e, t, n) {
                return this.events.fire(e, t, n)
            },
            getContentEditable: function(e) {
                var t;
                return ! e || e.nodeType != 1 ? null: (t = e.getAttribute("data-mce-contenteditable"), t && t !== "inherit" ? t: e.contentEditable !== "inherit" ? e.contentEditable: null)
            },
            getContentEditableParent: function(e) {
                var t = this.getRoot(),
                n = null;
                for (; e && e !== t; e = e.parentNode) {
                    n = this.getContentEditable(e);
                    if (n !== null) break
                }
                return n
            },
            destroy: function() {
                var t = this;
                if (t.boundEvents) {
                    var n = t.boundEvents.length;
                    while (n--) {
                        var r = t.boundEvents[n];
                        this.events.unbind(r[0], r[1], r[2])
                    }
                    t.boundEvents = null
                }
                e.setDocument && e.setDocument(),
                t.win = t.doc = t.root = t.events = t.frag = null
            },
            isChildOf: function(e, t) {
                while (e) {
                    if (t === e) return ! 0;
                    e = e.parentNode
                }
                return ! 1
            },
            dumpRng: function(e) {
                return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset
            },
            _findSib: function(e, t, n) {
                var r = this,
                i = t;
                if (e) {
                    typeof i == "string" && (i = function(e) {
                        return r.is(e, t)
                    });
                    for (e = e[n]; e; e = e[n]) if (i(e)) return e
                }
                return null
            }
        },
        b.DOM = new b(document),
        b
    }),
    i("tinymce/dom/ScriptLoader", ["tinymce/dom/DOMUtils", "tinymce/util/Tools"],
    function(e, t) {
        function s() {
            function h(e, t) {
                function o() {
                    r.remove(s),
                    i && (i.onreadystatechange = i.onload = i = null),
                    t()
                }
                function u() {
                    typeof console != "undefined" && console.log && console.log("Failed to load: " + e)
                }
                var r = n,
                i, s;
                s = r.uniqueId(),
                i = document.createElement("script"),
                i.id = s,
                i.type = "text/javascript",
                i.src = e,
                "onreadystatechange" in i ? i.onreadystatechange = function() { / loaded | complete / .test(i.readyState) && o()
                }: i.onload = o,
                i.onerror = u,
                (document.getElementsByTagName("head")[0] || document.body).appendChild(i)
            }
            var e = 0,
            t = 1,
            s = 2,
            o = {},
            u = [],
            a = {},
            f = [],
            l = 0,
            c;
            this.isDone = function(e) {
                return o[e] == s
            },
            this.markDone = function(e) {
                o[e] = s
            },
            this.add = this.load = function(t, n, r) {
                var i = o[t];
                i == c && (u.push(t), o[t] = e),
                n && (a[t] || (a[t] = []), a[t].push({
                    func: n,
                    scope: r || this
                }))
            },
            this.loadQueue = function(e, t) {
                this.loadScripts(u, e, t)
            },
            this.loadScripts = function(e, n, u) {
                function d(e) {
                    r(a[e],
                    function(e) {
                        e.func.call(e.scope)
                    }),
                    a[e] = c
                }
                var p;
                f.push({
                    func: n,
                    scope: u || this
                }),
                p = function() {
                    var n = i(e);
                    e.length = 0,
                    r(n,
                    function(e) {
                        if (o[e] == s) {
                            d(e);
                            return
                        }
                        o[e] != t && (o[e] = t, l++, h(e,
                        function() {
                            o[e] = s,
                            l--,
                            d(e),
                            p()
                        }))
                    }),
                    l || (r(f,
                    function(e) {
                        e.func.call(e.scope)
                    }), f.length = 0)
                },
                p()
            }
        }
        var n = e.DOM,
        r = t.each,
        i = t.grep;
        return s.ScriptLoader = new s,
        s
    }),
    i("tinymce/AddOnManager", ["tinymce/dom/ScriptLoader", "tinymce/util/Tools"],
    function(e, n) {
        function i() {
            var e = this;
            e.items = [],
            e.urls = {},
            e.lookup = {}
        }
        var r = n.each;
        return i.prototype = {
            get: function(e) {
                return this.lookup[e] ? this.lookup[e].instance: t
            },
            dependencies: function(e) {
                var t;
                return this.lookup[e] && (t = this.lookup[e].dependencies),
                t || []
            },
            requireLangPack: function(t, n) {
                var r = i.language;
                if (r && i.languageLoad !== !1) {
                    if (n) {
                        n = "," + n + ",";
                        if (n.indexOf("," + r.substr(0, 2) + ",") != -1) r = r.substr(0, 2);
                        else if (n.indexOf("," + r + ",") == -1) return
                    }
                    e.ScriptLoader.add(this.urls[t] + "/langs/" + r + ".js")
                }
            },
            add: function(e, t, n) {
                return this.items.push(t),
                this.lookup[e] = {
                    instance: t,
                    dependencies: n
                },
                t
            },
            createUrl: function(e, t) {
                return typeof t == "object" ? t: {
                    prefix: e.prefix,
                    resource: t,
                    suffix: e.suffix
                }
            },
            addComponents: function(t, n) {
                var i = this.urls[t];
                r(n,
                function(t) {
                    e.ScriptLoader.add(i + "/" + t)
                })
            },
            load: function(n, s, o, u) {
                function l() {
                    var i = a.dependencies(n);
                    r(i,
                    function(e) {
                        var n = a.createUrl(s, e);
                        a.load(n.resource, n, t, t)
                    }),
                    o && (u ? o.call(u) : o.call(e))
                }
                var a = this,
                f = s;
                if (a.urls[n]) return;
                typeof s == "object" && (f = s.prefix + s.resource + s.suffix),
                f.indexOf("/") !== 0 && f.indexOf("://") == -1 && (f = i.baseURL + "/" + f),
                a.urls[n] = f.substring(0, f.lastIndexOf("/")),
                a.lookup[n] ? l() : e.ScriptLoader.add(f, l, u)
            }
        },
        i.PluginManager = new i,
        i.ThemeManager = new i,
        i
    }),
    i("tinymce/dom/RangeUtils", ["tinymce/util/Tools", "tinymce/dom/TreeWalker"],
    function(e, t) {
        function r(e, t) {
            var n = e.childNodes;
            return t--,
            t > n.length - 1 ? t = n.length - 1 : t < 0 && (t = 0),
            n[t] || e
        }
        function i(e) {
            this.walk = function(t, i) {
                function m(e) {
                    var t;
                    return t = e[0],
                    t.nodeType === 3 && t === s && o >= t.nodeValue.length && e.splice(0, 1),
                    t = e[e.length - 1],
                    a === 0 && e.length > 0 && t === u && t.nodeType === 3 && e.splice(e.length - 1, 1),
                    e
                }
                function g(e, t, n) {
                    var r = [];
                    for (; e && e != n; e = e[t]) r.push(e);
                    return r
                }
                function y(e, t) {
                    do {
                        if (e.parentNode == t) return e;
                        e = e.parentNode
                    } while ( e )
                }
                function b(e, t, n) {
                    var r = n ? "nextSibling": "previousSibling";
                    for (h = e, p = h.parentNode; h && h != t; h = p) p = h.parentNode,
                    d = g(h == e ? h: h[r], r),
                    d.length && (n || d.reverse(), i(m(d)))
                }
                var s = t.startContainer,
                o = t.startOffset,
                u = t.endContainer,
                a = t.endOffset,
                f, l, c, h, p, d, v;
                v = e.select("td.mce-item-selected,th.mce-item-selected");
                if (v.length > 0) {
                    n(v,
                    function(e) {
                        i([e])
                    });
                    return
                }
                s.nodeType == 1 && s.hasChildNodes() && (s = s.childNodes[o]),
                u.nodeType == 1 && u.hasChildNodes() && (u = r(u, a));
                if (s == u) return i(m([s]));
                f = e.findCommonAncestor(s, u);
                for (h = s; h; h = h.parentNode) {
                    if (h === u) return b(s, f, !0);
                    if (h === f) break
                }
                for (h = u; h; h = h.parentNode) {
                    if (h === s) return b(u, f);
                    if (h === f) break
                }
                l = y(s, f) || s,
                c = y(u, f) || u,
                b(s, l, !0),
                d = g(l == s ? l: l.nextSibling, "nextSibling", c == u ? c.nextSibling: c),
                d.length && i(m(d)),
                b(u, c)
            },
            this.split = function(e) {
                function s(e, t) {
                    return e.splitText(t)
                }
                var t = e.startContainer,
                n = e.startOffset,
                r = e.endContainer,
                i = e.endOffset;
                return t == r && t.nodeType == 3 ? n > 0 && n < t.nodeValue.length && (r = s(t, n), t = r.previousSibling, i > n ? (i -= n, t = r = s(r, i).previousSibling, i = r.nodeValue.length, n = 0) : i = 0) : (t.nodeType == 3 && n > 0 && n < t.nodeValue.length && (t = s(t, n), n = 0), r.nodeType == 3 && i > 0 && i < r.nodeValue.length && (r = s(r, i).previousSibling, i = r.nodeValue.length)),
                {
                    startContainer: t,
                    startOffset: n,
                    endContainer: r,
                    endOffset: i
                }
            },
            this.normalize = function(n) {
                function s(s) {
                    function d(n, r) {
                        var i = new t(n, e.getParent(n.parentNode, e.isBlock) || f);
                        while (n = i[r ? "prev": "next"]()) if (n.nodeName === "BR") return ! 0
                    }
                    function v(e, t) {
                        return e.previousSibling && e.previousSibling.nodeName == t
                    }
                    function m(n, s) {
                        var a, h, d;
                        s = s || o,
                        d = e.getParent(s.parentNode, e.isBlock) || f;
                        if (n && s.nodeName == "BR" && p && e.isEmpty(d)) {
                            o = s.parentNode,
                            u = e.nodeIndex(s),
                            r = !0;
                            return
                        }
                        a = new t(s, d);
                        while (l = a[n ? "prev": "next"]()) {
                            if (e.getContentEditableParent(l) === "false") return;
                            if (l.nodeType === 3 && l.nodeValue.length > 0) {
                                o = l,
                                u = n ? l.nodeValue.length: 0,
                                r = !0;
                                return
                            }
                            if (e.isBlock(l) || c[l.nodeName.toLowerCase()]) return;
                            h = l
                        }
                        i && h && (o = h, r = !0, u = 0)
                    }
                    var o, u, a, f = e.getRoot(),
                    l,
                    c,
                    h,
                    p;
                    o = n[(s ? "start": "end") + "Container"],
                    u = n[(s ? "start": "end") + "Offset"],
                    p = o.nodeType == 1 && u === o.childNodes.length,
                    c = e.schema.getNonEmptyElements(),
                    h = s,
                    o.nodeType == 1 && u > o.childNodes.length - 1 && (h = !1),
                    o.nodeType === 9 && (o = e.getRoot(), u = 0);
                    if (o === f) {
                        if (h) {
                            l = o.childNodes[u > 0 ? u - 1 : 0];
                            if (l) if (c[l.nodeName] || l.nodeName == "TABLE") return
                        }
                        if (o.hasChildNodes()) {
                            u = Math.min(!h && u > 0 ? u - 1 : u, o.childNodes.length - 1),
                            o = o.childNodes[u],
                            u = 0;
                            if (o.hasChildNodes() && !/TABLE/.test(o.nodeName)) {
                                l = o,
                                a = new t(o, f);
                                do {
                                    if (l.nodeType === 3 && l.nodeValue.length > 0) {
                                        u = h ? 0 : l.nodeValue.length,
                                        o = l,
                                        r = !0;
                                        break
                                    }
                                    if (c[l.nodeName.toLowerCase()]) {
                                        u = e.nodeIndex(l),
                                        o = l.parentNode,
                                        l.nodeName == "IMG" && !h && u++,
                                        r = !0;
                                        break
                                    }
                                } while ( l = h ? a . next () : a.prev())
                            }
                        }
                    }
                    i && (o.nodeType === 3 && u === 0 && m(!0), o.nodeType === 1 && (l = o.childNodes[u], l || (l = o.childNodes[u - 1]), l && l.nodeName === "BR" && !v(l, "A") && !d(l) && !d(l, !0) && m(!0, l))),
                    h && !i && o.nodeType === 3 && u === o.nodeValue.length && m(!1),
                    r && n["set" + (s ? "Start": "End")](o, u)
                }
                var r, i;
                return i = n.collapsed,
                s(!0),
                i || s(),
                r && i && n.collapse(!0),
                r
            }
        }
        var n = e.each;
        return i.compareRanges = function(e, t) {
            if (e && t) {
                if (!e.item && !e.duplicate) return e.startContainer == t.startContainer && e.startOffset == t.startOffset;
                if (e.item && t.item && e.item(0) === t.item(0)) return ! 0;
                if (e.isEqual && t.isEqual && t.isEqual(e)) return ! 0
            }
            return ! 1
        },
        i
    }),
    i("tinymce/NodeChange", ["tinymce/dom/RangeUtils"],
    function(e) {
        return function(t) {
            function i(e) {
                var n, i;
                i = t.$(e).parentsUntil(t.getBody()).add(e);
                if (i.length === r.length) {
                    for (n = i.length; n >= 0; n--) if (i[n] !== r[n]) break;
                    if (n === -1) return r = i,
                    !0
                }
                return r = i,
                !1
            }
            var n, r = [];
            "onselectionchange" in t.getDoc() || t.on("NodeChange Click MouseUp KeyUp Focus",
            function(r) {
                var i, s;
                i = t.selection.getRng(),
                s = {
                    startContainer: i.startContainer,
                    startOffset: i.startOffset,
                    endContainer: i.endContainer,
                    endOffset: i.endOffset
                },
                (r.type == "nodechange" || !e.compareRanges(s, n)) && t.fire("SelectionChange"),
                n = s
            }),
            t.on("contextmenu",
            function() {
                t.fire("SelectionChange")
            }),
            t.on("SelectionChange",
            function() {
                var e = t.selection.getStart(!0); ! i(e) && t.dom.isChildOf(e, t.getBody()) && t.nodeChanged({
                    selectionChange: !0
                })
            }),
            t.on("MouseUp",
            function(e) {
                e.isDefaultPrevented() || t.nodeChanged()
            }),
            this.nodeChanged = function(e) {
                var n = t.selection,
                r, i, s;
                t.initialized && !t.settings.disable_nodechange && !t.settings.readonly && (s = t.getBody(), r = n.getStart() || s, r = r.ownerDocument != t.getDoc() ? t.getBody() : r, r.nodeName == "IMG" && n.isCollapsed() && (r = r.parentNode), i = [], t.dom.getParent(r,
                function(e) {
                    if (e === s) return ! 0;
                    i.push(e)
                }), e = e || {},
                e.element = r, e.parents = i, t.fire("NodeChange", e))
            }
        }
    }),
    i("tinymce/html/Node", [],
    function() {
        function n(e, t, n) {
            var r, i, s = n ? "lastChild": "firstChild",
            o = n ? "prev": "next";
            if (e[s]) return e[s];
            if (e !== t) {
                r = e[o];
                if (r) return r;
                for (i = e.parent; i && i !== t; i = i.parent) {
                    r = i[o];
                    if (r) return r
                }
            }
        }
        function r(e, t) {
            this.name = e,
            this.type = t,
            t === 1 && (this.attributes = [], this.attributes.map = {})
        }
        var e = /^[ \t\r\n]*$/,
        t = {
            "#text": 3,
            "#comment": 8,
            "#cdata": 4,
            "#pi": 7,
            "#doctype": 10,
            "#document-fragment": 11
        };
        return r.prototype = {
            replace: function(e) {
                var t = this;
                return e.parent && e.remove(),
                t.insert(e, t),
                t.remove(),
                t
            },
            attr: function(e, t) {
                var n = this,
                r, i, s;
                if (typeof e != "string") {
                    for (i in e) n.attr(i, e[i]);
                    return n
                }
                if (r = n.attributes) {
                    if (t !== s) {
                        if (t === null) {
                            if (e in r.map) {
                                delete r.map[e],
                                i = r.length;
                                while (i--) if (r[i].name === e) return r = r.splice(i, 1),
                                n
                            }
                            return n
                        }
                        if (e in r.map) {
                            i = r.length;
                            while (i--) if (r[i].name === e) {
                                r[i].value = t;
                                break
                            }
                        } else r.push({
                            name: e,
                            value: t
                        });
                        return r.map[e] = t,
                        n
                    }
                    return r.map[e]
                }
            },
            clone: function() {
                var e = this,
                t = new r(e.name, e.type),
                n,
                i,
                s,
                o,
                u;
                if (s = e.attributes) {
                    u = [],
                    u.map = {};
                    for (n = 0, i = s.length; n < i; n++) o = s[n],
                    o.name !== "id" && (u[u.length] = {
                        name: o.name,
                        value: o.value
                    },
                    u.map[o.name] = o.value);
                    t.attributes = u
                }
                return t.value = e.value,
                t.shortEnded = e.shortEnded,
                t
            },
            wrap: function(e) {
                var t = this;
                return t.parent.insert(e, t),
                e.append(t),
                t
            },
            unwrap: function() {
                var e = this,
                t, n;
                for (t = e.firstChild; t;) n = t.next,
                e.insert(t, e, !0),
                t = n;
                e.remove()
            },
            remove: function() {
                var e = this,
                t = e.parent,
                n = e.next,
                r = e.prev;
                return t && (t.firstChild === e ? (t.firstChild = n, n && (n.prev = null)) : r.next = n, t.lastChild === e ? (t.lastChild = r, r && (r.next = null)) : n.prev = r, e.parent = e.next = e.prev = null),
                e
            },
            append: function(e) {
                var t = this,
                n;
                return e.parent && e.remove(),
                n = t.lastChild,
                n ? (n.next = e, e.prev = n, t.lastChild = e) : t.lastChild = t.firstChild = e,
                e.parent = t,
                e
            },
            insert: function(e, t, n) {
                var r;
                return e.parent && e.remove(),
                r = t.parent || this,
                n ? (t === r.firstChild ? r.firstChild = e: t.prev.next = e, e.prev = t.prev, e.next = t, t.prev = e) : (t === r.lastChild ? r.lastChild = e: t.next.prev = e, e.next = t.next, e.prev = t, t.next = e),
                e.parent = r,
                e
            },
            getAll: function(e) {
                var t = this,
                r, i = [];
                for (r = t.firstChild; r; r = n(r, t)) r.name === e && i.push(r);
                return i
            },
            empty: function() {
                var e = this,
                t, r, i;
                if (e.firstChild) {
                    t = [];
                    for (i = e.firstChild; i; i = n(i, e)) t.push(i);
                    r = t.length;
                    while (r--) i = t[r],
                    i.parent = i.firstChild = i.lastChild = i.next = i.prev = null
                }
                return e.firstChild = e.lastChild = null,
                e
            },
            isEmpty: function(t) {
                var r = this,
                i = r.firstChild,
                s, o;
                if (i) {
                    do {
                        if (i.type === 1) {
                            if (i.attributes.map["data-mce-bogus"]) continue;
                            if (t[i.name]) return ! 1;
                            s = i.attributes.length;
                            while (s--) {
                                o = i.attributes[s].name;
                                if (o === "name" || o.indexOf("data-mce-") === 0) return ! 1
                            }
                        }
                        if (i.type === 8) return ! 1;
                        if (i.type === 3 && !e.test(i.value)) return ! 1
                    } while ( i = n ( i , r ))
                }
                return ! 0
            },
            walk: function(e) {
                return n(this, null, e)
            }
        },
        r.create = function(e, n) {
            var i, s;
            i = new r(e, t[e] || 1);
            if (n) for (s in n) i.attr(s, n[s]);
            return i
        },
        r
    }),
    i("tinymce/html/Schema", ["tinymce/util/Tools"],
    function(e) {
        function a(e, t) {
            return e ? e.split(t || " ") : []
        }
        function f(e) {
            function h(e, t, i) {
                function c(e, t) {
                    var n = {},
                    r, i;
                    for (r = 0, i = e.length; r < i; r++) n[e[r]] = t || {};
                    return n
                }
                var o, u, f, l = arguments;
                i = i || [],
                t = t || "",
                typeof i == "string" && (i = a(i));
                for (u = 3; u < l.length; u++) typeof l[u] == "string" && (l[u] = a(l[u])),
                i.push.apply(i, l[u]);
                e = a(e),
                o = e.length;
                while (o--) f = [].concat(s, a(t)),
                r[e[o]] = {
                    attributes: c(f),
                    attributesOrder: f,
                    children: c(i, n)
                }
            }
            function p(e, t) {
                var n, i, s, o;
                e = a(e),
                n = e.length,
                t = a(t);
                while (n--) {
                    i = r[e[n]];
                    for (s = 0, o = t.length; s < o; s++) i.attributes[t[s]] = {},
                    i.attributesOrder.push(t[s])
                }
            }
            var r = {},
            s, o, u, f, l, c;
            return t[e] ? t[e] : (s = a("id accesskey class dir lang style tabindex title"), o = a("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"), u = a("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"), e != "html4" && (s.push.apply(s, a("contenteditable contextmenu draggable dropzone hidden spellcheck translate")), o.push.apply(o, a("article aside details dialog figure header footer hgroup section nav")), u.push.apply(u, a("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))), e != "html5-strict" && (s.push("xml:lang"), c = a("acronym applet basefont big font strike tt"), u.push.apply(u, c), i(c,
            function(e) {
                h(e, "", u)
            }), l = a("center dir isindex noframes"), o.push.apply(o, l), f = [].concat(o, u), i(l,
            function(e) {
                h(e, "", f)
            })), f = f || [].concat(o, u), h("html", "manifest", "head body"), h("head", "", "base command link meta noscript script style title"), h("title hr noscript br"), h("base", "href target"), h("link", "href rel media hreflang type sizes hreflang"), h("meta", "name http-equiv content charset"), h("style", "media type scoped"), h("script", "src async defer type charset"), h("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", f), h("address dt dd div caption", "", f), h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", u), h("blockquote", "cite", f), h("ol", "reversed start type", "li"), h("ul", "", "li"), h("li", "value", f), h("dl", "", "dt dd"), h("a", "href target rel media hreflang type", u), h("q", "cite", u), h("ins del", "cite datetime", f), h("img", "src alt usemap ismap width height"), h("iframe", "src name width height", f), h("embed", "src type width height"), h("object", "data type typemustmatch name usemap form width height", f, "param"), h("param", "name value"), h("map", "name", f, "area"), h("area", "alt coords shape href target rel media hreflang type"), h("table", "border", "caption colgroup thead tfoot tbody tr" + (e == "html4" ? " col": "")), h("colgroup", "span", "col"), h("col", "span"), h("tbody thead tfoot", "", "tr"), h("tr", "", "td th"), h("td", "colspan rowspan headers", f), h("th", "colspan rowspan headers scope abbr", f), h("form", "accept-charset action autocomplete enctype method name novalidate target", f), h("fieldset", "disabled form name", f, "legend"), h("label", "form for", u), h("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), h("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", e == "html4" ? f: u), h("select", "disabled form multiple name required size", "option optgroup"), h("optgroup", "disabled label", "option"), h("option", "disabled label selected value"), h("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), h("menu", "type label", f, "li"), h("noscript", "", f), e != "html4" && (h("wbr"), h("ruby", "", u, "rt rp"), h("figcaption", "", f), h("mark rt rp summary bdi", "", u), h("canvas", "width height", f), h("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", f, "track source"), h("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", f, "track source"), h("source", "src type media"), h("track", "kind src srclang label default"), h("datalist", "", u, "option"), h("article section nav aside header footer", "", f), h("hgroup", "", "h1 h2 h3 h4 h5 h6"), h("figure", "", f, "figcaption"), h("time", "datetime", u), h("dialog", "open", f), h("command", "type label icon disabled checked radiogroup command"), h("output", "for form name", u), h("progress", "value max", u), h("meter", "value min max low high optimum", u), h("details", "open", f, "summary"), h("keygen", "autofocus challenge disabled form keytype name")), e != "html5-strict" && (p("script", "language xml:space"), p("style", "xml:space"), p("object", "declare classid code codebase codetype archive standby align border hspace vspace"), p("embed", "align name hspace vspace"), p("param", "valuetype type"), p("a", "charset name rev shape coords"), p("br", "clear"), p("applet", "codebase archive code object alt name width height align hspace vspace"), p("img", "name longdesc align border hspace vspace"), p("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), p("font basefont", "size color face"), p("input", "usemap align"), p("select", "onchange"), p("textarea"), p("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), p("ul", "type compact"), p("li", "type"), p("ol dl menu dir", "compact"), p("pre", "width xml:space"), p("hr", "align noshade size width"), p("isindex", "prompt"), p("table", "summary width frame rules cellspacing cellpadding align bgcolor"), p("col", "width align char charoff valign"), p("colgroup", "width align char charoff valign"), p("thead", "align char charoff valign"), p("tr", "align char charoff valign bgcolor"), p("th", "axis align char charoff valign nowrap bgcolor width height"), p("form", "accept"), p("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), p("tfoot", "align char charoff valign"), p("tbody", "align char charoff valign"), p("area", "nohref"), p("body", "background bgcolor text link vlink alink")), e != "html4" && (p("input button select textarea", "autofocus"), p("input textarea", "placeholder"), p("a", "download"), p("link script img", "crossorigin"), p("iframe", "sandbox seamless allowfullscreen")), i(a("a form meter progress dfn"),
            function(e) {
                r[e] && delete r[e].children[e]
            }), delete r.caption.children.table, t[e] = r, r)
        }
        function l(e, t) {
            var n;
            return e && (n = {},
            typeof e == "string" && (e = {
                "*": e
            }), i(e,
            function(e, i) {
                n[i] = t == "map" ? r(e, /[, ]/) : o(e, /[, ]/)
            })),
            n
        }
        var t = {},
        n = {},
        r = e.makeMap,
        i = e.each,
        s = e.extend,
        o = e.explode,
        u = e.inArray;
        return function(e) {
            function L(n, i, o) {
                var u = e[n];
                return u ? u = r(u, /[, ]/, r(u.toUpperCase(), /[, ]/)) : (u = t[n], u || (u = r(i, " ", r(i.toUpperCase(), " ")), u = s(u, o), t[n] = u)),
                u
            }
            function A(e) {
                return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$")
            }
            function O(e) {
                var t, n, i, s, o, f, l, h, d, v, m, g, y, b, w, E, S, x, T, N = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
                C = /^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
                k = /[*?+]/;
                if (e) {
                    e = a(e, ","),
                    c["@"] && (E = c["@"].attributes, S = c["@"].attributesOrder);
                    for (t = 0, n = e.length; t < n; t++) {
                        o = N.exec(e[t]);
                        if (o) {
                            b = o[1],
                            d = o[2],
                            w = o[3],
                            h = o[5],
                            g = {},
                            y = [],
                            f = {
                                attributes: g,
                                attributesOrder: y
                            },
                            b === "#" && (f.paddEmpty = !0),
                            b === "-" && (f.removeEmpty = !0),
                            o[4] === "!" && (f.removeEmptyAttrs = !0);
                            if (E) {
                                for (x in E) g[x] = E[x];
                                y.push.apply(y, S)
                            }
                            if (h) {
                                h = a(h, "|");
                                for (i = 0, s = h.length; i < s; i++) {
                                    o = C.exec(h[i]);
                                    if (o) {
                                        l = {},
                                        m = o[1],
                                        v = o[2].replace(/::/g, ":"),
                                        b = o[3],
                                        T = o[4],
                                        m === "!" && (f.attributesRequired = f.attributesRequired || [], f.attributesRequired.push(v), l.required = !0);
                                        if (m === "-") {
                                            delete g[v],
                                            y.splice(u(y, v), 1);
                                            continue
                                        }
                                        b && (b === "\x3d" && (f.attributesDefault = f.attributesDefault || [], f.attributesDefault.push({
                                            name: v,
                                            value: T
                                        }), l.defaultValue = T), b === ":" && (f.attributesForced = f.attributesForced || [], f.attributesForced.push({
                                            name: v,
                                            value: T
                                        }), l.forcedValue = T), b === "\x3c" && (l.validValues = r(T, "?"))),
                                        k.test(v) ? (f.attributePatterns = f.attributePatterns || [], l.pattern = A(v), f.attributePatterns.push(l)) : (g[v] || y.push(v), g[v] = l)
                                    }
                                }
                            } ! E && d == "@" && (E = g, S = y),
                            w && (f.outputName = d, c[w] = f),
                            k.test(d) ? (f.pattern = A(d), p.push(f)) : c[d] = f
                        }
                    }
                }
            }
            function M(e) {
                c = {},
                p = [],
                O(e),
                i(m,
                function(e, t) {
                    h[t] = e.children
                })
            }
            function _(e) {
                var n = /^(~)?(.+)$/;
                e && (t.text_block_elements = t.block_elements = null, i(a(e, ","),
                function(e) {
                    var t = n.exec(e),
                    r = t[1] === "~",
                    o = r ? "span": "div",
                    u = t[2];
                    h[u] = h[o],
                    C[u] = o,
                    r || (S[u.toUpperCase()] = {},
                    S[u] = {});
                    if (!c[u]) {
                        var a = c[o];
                        a = s({},
                        a),
                        delete a.removeEmptyAttrs,
                        delete a.removeEmpty,
                        c[u] = a
                    }
                    i(h,
                    function(e, t) {
                        e[o] && (h[t] = e = s({},
                        h[t]), e[u] = e[o])
                    })
                }))
            }
            function D(e) {
                var t = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
                e && i(a(e, ","),
                function(e) {
                    var n = t.exec(e),
                    r,
                    o;
                    n && (o = n[1], o ? r = h[n[2]] : r = h[n[2]] = {
                        "#comment": {}
                    },
                    r = h[n[2]], i(a(n[3], "|"),
                    function(e) {
                        o === "-" ? (h[n[2]] = r = s({},
                        h[n[2]]), delete r[e]) : r[e] = {}
                    }))
                })
            }
            function P(e) {
                var t = c[e],
                n;
                if (t) return t;
                n = p.length;
                while (n--) {
                    t = p[n];
                    if (t.pattern.test(e)) return t
                }
            }
            var n = this,
            c = {},
            h = {},
            p = [],
            d,
            v,
            m,
            g,
            y,
            b,
            w,
            E,
            S,
            x,
            T,
            N,
            C = {},
            k = {};
            e = e || {},
            m = f(e.schema),
            e.verify_html === !1 && (e.valid_elements = "*[*]"),
            d = l(e.valid_styles),
            v = l(e.invalid_styles, "map"),
            E = l(e.valid_classes, "map"),
            g = L("whitespace_elements", "pre script noscript style textarea video audio iframe object"),
            y = L("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"),
            b = L("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"),
            w = L("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),
            x = L("non_empty_elements", "td th iframe video audio object script", b),
            T = L("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),
            S = L("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup", T),
            N = L("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"),
            i((e.special || "script noscript style textarea").split(" "),
            function(e) {
                k[e] = new RegExp("\x3c/" + e + "[^\x3e]*\x3e", "gi")
            }),
            e.valid_elements ? M(e.valid_elements) : (i(m,
            function(e, t) {
                c[t] = {
                    attributes: e.attributes,
                    attributesOrder: e.attributesOrder
                },
                h[t] = e.children
            }), e.schema != "html5" && i(a("strong/b em/i"),
            function(e) {
                e = a(e, "/"),
                c[e[1]].outputName = e[0]
            }), c.img.attributesDefault = [{
                name: "alt",
                value: ""
            }], i(a("ol ul sub sup blockquote span font a table tbody tr strong em b i"),
            function(e) {
                c[e] && (c[e].removeEmpty = !0)
            }), i(a("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),
            function(e) {
                c[e].paddEmpty = !0
            }), i(a("span"),
            function(e) {
                c[e].removeEmptyAttrs = !0
            })),
            _(e.custom_elements),
            D(e.valid_children),
            O(e.extended_valid_elements),
            D("+ol[ul|ol],+ul[ul|ol]"),
            e.invalid_elements && i(o(e.invalid_elements),
            function(e) {
                c[e] && delete c[e]
            }),
            P("span") || O("span[!data-mce-type|*]"),
            n.children = h,
            n.getValidStyles = function() {
                return d
            },
            n.getInvalidStyles = function() {
                return v
            },
            n.getValidClasses = function() {
                return E
            },
            n.getBoolAttrs = function() {
                return w
            },
            n.getBlockElements = function() {
                return S
            },
            n.getTextBlockElements = function() {
                return T
            },
            n.getTextInlineElements = function() {
                return N
            },
            n.getShortEndedElements = function() {
                return b
            },
            n.getSelfClosingElements = function() {
                return y
            },
            n.getNonEmptyElements = function() {
                return x
            },
            n.getWhiteSpaceElements = function() {
                return g
            },
            n.getSpecialElements = function() {
                return k
            },
            n.isValidChild = function(e, t) {
                var n = h[e];
                return !! n && !!n[t]
            },
            n.isValid = function(e, t) {
                var n, r, i = P(e);
                if (i) {
                    if (!t) return ! 0;
                    if (i.attributes[t]) return ! 0;
                    n = i.attributePatterns;
                    if (n) {
                        r = n.length;
                        while (r--) if (n[r].pattern.test(e)) return ! 0
                    }
                }
                return ! 1
            },
            n.getElementRule = P,
            n.getCustomElements = function() {
                return C
            },
            n.addValidElements = O,
            n.setValidElements = M,
            n.addCustomElements = _,
            n.addValidChildren = D,
            n.elements = c
        }
    }),
    i("tinymce/html/SaxParser", ["tinymce/html/Schema", "tinymce/html/Entities", "tinymce/util/Tools"],
    function(e, t, n) {
        function i(e, t, n) {
            var r = 1,
            i, s, o, u;
            u = e.getShortEndedElements(),
            o = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,
            o.lastIndex = i = n;
            while (s = o.exec(t)) {
                i = o.lastIndex;
                if (s[1] === "/") r--;
                else if (!s[1]) {
                    if (s[2] in u) continue;
                    r++
                }
                if (r === 0) break
            }
            return i
        }
        function s(s, o) {
            function a() {}
            var u = this;
            s = s || {},
            u.schema = o = o || new e,
            s.fix_self_closing !== !1 && (s.fix_self_closing = !0),
            r("comment cdata text start end pi doctype".split(" "),
            function(e) {
                e && (u[e] = s[e] || a)
            }),
            u.parse = function(e) {
                function z(e) {
                    var t, n;
                    t = c.length;
                    while (t--) if (c[t].name === e) break;
                    if (t >= 0) {
                        for (n = c.length - 1; n >= t; n--) e = c[n],
                        e.valid && r.end(e.name);
                        c.length = t
                    }
                }
                function W(e, t, n, r, i) {
                    var o, u, a = /[\s\u0000-\u001F]+/g;
                    t = t.toLowerCase(),
                    n = t in b ? t: F(n || r || i || "");
                    if (E && !m && t.indexOf("data-") !== 0) {
                        o = C[t];
                        if (!o && k) {
                            u = k.length;
                            while (u--) {
                                o = k[u];
                                if (o.pattern.test(t)) break
                            }
                            u === -1 && (o = null)
                        }
                        if (!o) return;
                        if (o.validValues && !(n in o.validValues)) return
                    }
                    if (q[t] && !s.allow_script_urls) {
                        var f = n.replace(a, "");
                        try {
                            f = decodeURIComponent(f)
                        } catch(l$48) {
                            f = unescape(f)
                        }
                        if (R.test(f)) return;
                        if (!s.allow_html_data_urls && U.test(f) && !/^data:image\//i.test(f)) return
                    }
                    h.map[t] = n,
                    h.push({
                        name: t,
                        value: n
                    })
                }
                var r = this,
                u, a = 0,
                f, l, c = [],
                h,
                p,
                d,
                v,
                m,
                g,
                y,
                b,
                w,
                E,
                S,
                x,
                T,
                N,
                C,
                k,
                L,
                A,
                O,
                M,
                _,
                D,
                P,
                H,
                B,
                j = 0,
                F = t.decode,
                I,
                q = n.makeMap("src,href,data,background,formaction,poster"),
                R = /((java|vb)script|mhtml):/i,
                U = /^data:/i;
                D = new RegExp("\x3c(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]\x3e)|(?:!DOCTYPE([\\w\\W]*?)\x3e)|(?:\\?([^\\s\\/\x3c\x3e]+) ?([\\w\\W]*?)[?/]\x3e)|(?:\\/([^\x3e]+)\x3e)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'\x3e]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\x3e]*))*|\\/|\\s+)\x3e))", "g"),
                P = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,
                y = o.getShortEndedElements(),
                _ = s.self_closing_elements || o.getSelfClosingElements(),
                b = o.getBoolAttrs(),
                E = s.validate,
                g = s.remove_internals,
                I = s.fix_self_closing,
                H = o.getSpecialElements();
                while (u = D.exec(e)) {
                    a < u.index && r.text(F(e.substr(a, u.index - a)));
                    if (f = u[6]) f = f.toLowerCase(),
                    f.charAt(0) === ":" && (f = f.substr(1)),
                    z(f);
                    else if (f = u[7]) {
                        f = f.toLowerCase(),
                        f.charAt(0) === ":" && (f = f.substr(1)),
                        w = f in y,
                        I && _[f] && c.length > 0 && c[c.length - 1].name === f && z(f);
                        if (!E || (S = o.getElementRule(f))) {
                            x = !0,
                            E && (C = S.attributes, k = S.attributePatterns),
                            (N = u[8]) ? (m = N.indexOf("data-mce-type") !== -1, m && g && (x = !1), h = [], h.map = {},
                            N.replace(P, W)) : (h = [], h.map = {});
                            if (E && !m) {
                                L = S.attributesRequired,
                                A = S.attributesDefault,
                                O = S.attributesForced,
                                M = S.removeEmptyAttrs,
                                M && !h.length && (x = !1);
                                if (O) {
                                    p = O.length;
                                    while (p--) T = O[p],
                                    v = T.name,
                                    B = T.value,
                                    B === "{$uid}" && (B = "mce_" + j++),
                                    h.map[v] = B,
                                    h.push({
                                        name: v,
                                        value: B
                                    })
                                }
                                if (A) {
                                    p = A.length;
                                    while (p--) T = A[p],
                                    v = T.name,
                                    v in h.map || (B = T.value, B === "{$uid}" && (B = "mce_" + j++), h.map[v] = B, h.push({
                                        name: v,
                                        value: B
                                    }))
                                }
                                if (L) {
                                    p = L.length;
                                    while (p--) if (L[p] in h.map) break;
                                    p === -1 && (x = !1)
                                }
                                if (T = h.map["data-mce-bogus"]) {
                                    if (T === "all") {
                                        a = i(o, e, D.lastIndex),
                                        D.lastIndex = a;
                                        continue
                                    }
                                    x = !1
                                }
                            }
                            x && r.start(f, h, w)
                        } else x = !1;
                        if (l = H[f]) {
                            l.lastIndex = a = u.index + u[0].length,
                            (u = l.exec(e)) ? (x && (d = e.substr(a, u.index - a)), a = u.index + u[0].length) : (d = e.substr(a), a = e.length),
                            x && (d.length > 0 && r.text(d, !0), r.end(f)),
                            D.lastIndex = a;
                            continue
                        }
                        w || (!N || N.indexOf("/") != N.length - 1 ? c.push({
                            name: f,
                            valid: x
                        }) : x && r.end(f))
                    } else(f = u[1]) ? (f.charAt(0) === "\x3e" && (f = " " + f), !s.allow_conditional_comments && f.substr(0, 3) === "[if" && (f = " " + f), r.comment(f)) : (f = u[2]) ? r.cdata(f) : (f = u[3]) ? r.doctype(f) : (f = u[4]) && r.pi(f, u[5]);
                    a = u.index + u[0].length
                }
                a < e.length && r.text(F(e.substr(a)));
                for (p = c.length - 1; p >= 0; p--) f = c[p],
                f.valid && r.end(f.name)
            }
        }
        var r = n.each;
        return s.findEndTag = i,
        s
    }),
    i("tinymce/html/DomParser", ["tinymce/html/Node", "tinymce/html/Schema", "tinymce/html/SaxParser", "tinymce/util/Tools"],
    function(e, t, n, r) {
        var i = r.makeMap,
        s = r.each,
        o = r.explode,
        u = r.extend;
        return function(r, a) {
            function d(t) {
                var n, r, s, o, u, l, c, h, p, d, v, m, g, y;
                v = i("tr,td,th,tbody,thead,tfoot,table"),
                d = a.getNonEmptyElements(),
                m = a.getTextBlockElements();
                for (n = 0; n < t.length; n++) {
                    r = t[n];
                    if (!r.parent || r.fixed) continue;
                    if (m[r.name] && r.parent.name == "li") {
                        g = r.next;
                        while (g) {
                            if (!m[g.name]) break;
                            g.name = "li",
                            g.fixed = !0,
                            r.parent.insert(g, r.parent),
                            g = g.next
                        }
                        r.unwrap(r);
                        continue
                    }
                    o = [r];
                    for (s = r.parent; s && !a.isValidChild(s.name, r.name) && !v[s.name]; s = s.parent) o.push(s);
                    if (s && o.length > 1) {
                        o.reverse(),
                        u = l = f.filterNode(o[0].clone());
                        for (p = 0; p < o.length - 1; p++) {
                            a.isValidChild(l.name, o[p].name) ? (c = f.filterNode(o[p].clone()), l.append(c)) : c = l;
                            for (h = o[p].firstChild; h && h != o[p + 1];) y = h.next,
                            c.append(h),
                            h = y;
                            l = c
                        }
                        u.isEmpty(d) ? s.insert(r, o[0], !0) : (s.insert(u, o[0], !0), s.insert(r, u)),
                        s = o[0],
                        (s.isEmpty(d) || s.firstChild === s.lastChild && s.firstChild.name === "br") && s.empty().remove()
                    } else if (r.parent) {
                        if (r.name === "li") {
                            g = r.prev;
                            if (!g || g.name !== "ul" && g.name !== "ul") {
                                g = r.next;
                                if (!g || g.name !== "ul" && g.name !== "ul") {
                                    r.wrap(f.filterNode(new e("ul", 1)));
                                    continue
                                }
                                g.insert(r, g.firstChild, !0);
                                continue
                            }
                            g.append(r);
                            continue
                        }
                        a.isValidChild(r.parent.name, "div") && a.isValidChild("div", r.name) ? r.wrap(f.filterNode(new e("div", 1))) : r.name === "style" || r.name === "script" ? r.empty().remove() : r.unwrap()
                    }
                }
            }
            var f = this,
            l = {},
            c = [],
            h = {},
            p = {};
            r = r || {},
            r.validate = "validate" in r ? r.validate: !0,
            r.root_name = r.root_name || "body",
            f.schema = a = a || new t,
            f.filterNode = function(e) {
                var t, n, r;
                n in l && (r = h[n], r ? r.push(e) : h[n] = [e]),
                t = c.length;
                while (t--) n = c[t].name,
                n in e.attributes.map && (r = p[n], r ? r.push(e) : p[n] = [e]);
                return e
            },
            f.addNodeFilter = function(e, t) {
                s(o(e),
                function(e) {
                    var n = l[e];
                    n || (l[e] = n = []),
                    n.push(t)
                })
            },
            f.addAttributeFilter = function(e, t) {
                s(o(e),
                function(e) {
                    var n;
                    for (n = 0; n < c.length; n++) if (c[n].name === e) {
                        c[n].callbacks.push(t);
                        return
                    }
                    c.push({
                        name: e,
                        callbacks: [t]
                    })
                })
            },
            f.parse = function(t, s) {
                function H() {
                    function i(t) {
                        t && (e = t.firstChild, e && e.type == 3 && (e.value = e.value.replace(N, "")), e = t.lastChild, e && e.type == 3 && (e.value = e.value.replace(L, "")))
                    }
                    var e = f.firstChild,
                    t, n;
                    if (!a.isValidChild(f.name, P.toLowerCase())) return;
                    while (e) t = e.next,
                    e.type == 3 || e.type == 1 && e.name !== "p" && !T[e.name] && !e.attr("data-mce-type") ? n ? n.append(e) : (n = B(P, 1), n.attr(r.forced_root_block_attrs), f.insert(n, e), n.append(e)) : (i(n), n = null),
                    e = t;
                    i(n)
                }
                function B(t, n) {
                    var r = new e(t, n),
                    i;
                    return t in l && (i = h[t], i ? i.push(r) : h[t] = [r]),
                    r
                }
                function j(e) {
                    var t, n, r;
                    for (t = e.prev; t && t.type === 3;) n = t.value.replace(L, ""),
                    n.length > 0 ? (t.value = n, t = t.prev) : (r = t.prev, t.remove(), t = r)
                }
                function F(e) {
                    var t, n = {};
                    for (t in e) t !== "li" && t != "p" && (n[t] = e[t]);
                    return n
                }
                var o, f, v, m, g, y, b, w, E, S, x, T, N, C = [],
                k,
                L,
                A,
                O,
                M,
                _,
                D,
                P;
                s = s || {},
                h = {},
                p = {},
                T = u(i("script,style,head,html,body,title,meta,param"), a.getBlockElements()),
                D = a.getNonEmptyElements(),
                _ = a.children,
                x = r.validate,
                P = "forced_root_block" in s ? s.forced_root_block: r.forced_root_block,
                M = a.getWhiteSpaceElements(),
                N = /^[ \t\r\n]+/,
                L = /[ \t\r\n]+$/,
                A = /[ \t\r\n]+/g,
                O = /^[ \t\r\n]+$/,
                o = new n({
                    validate: x,
                    allow_script_urls: r.allow_script_urls,
                    allow_conditional_comments: r.allow_conditional_comments,
                    self_closing_elements: F(a.getSelfClosingElements()),
                    cdata: function(e) {
                        v.append(B("#cdata", 4)).value = e
                    },
                    text: function(e, t) {
                        var n;
                        k || (e = e.replace(A, " "), v.lastChild && T[v.lastChild.name] && (e = e.replace(N, ""))),
                        e.length !== 0 && (n = B("#text", 3), n.raw = !!t, v.append(n).value = e)
                    },
                    comment: function(e) {
                        v.append(B("#comment", 8)).value = e
                    },
                    pi: function(e, t) {
                        v.append(B(e, 7)).value = t,
                        j(v)
                    },
                    doctype: function(e) {
                        var t;
                        t = v.append(B("#doctype", 10)),
                        t.value = e,
                        j(v)
                    },
                    start: function(e, t, n) {
                        var r, i, s, o, u;
                        s = x ? a.getElementRule(e) : {};
                        if (s) {
                            r = B(s.outputName || e, 1),
                            r.attributes = t,
                            r.shortEnded = n,
                            v.append(r),
                            u = _[v.name],
                            u && _[r.name] && !u[r.name] && C.push(r),
                            i = c.length;
                            while (i--) o = c[i].name,
                            o in t.map && (E = p[o], E ? E.push(r) : p[o] = [r]);
                            T[e] && j(r),
                            n || (v = r),
                            !k && M[e] && (k = !0)
                        }
                    },
                    end: function(t) {
                        var n, r, i, s, o;
                        r = x ? a.getElementRule(t) : {};
                        if (r) {
                            if (T[t] && !k) {
                                n = v.firstChild;
                                if (n && n.type === 3) {
                                    i = n.value.replace(N, "");
                                    if (i.length > 0) n.value = i,
                                    n = n.next;
                                    else {
                                        s = n.next,
                                        n.remove(),
                                        n = s;
                                        while (n && n.type === 3) {
                                            i = n.value,
                                            s = n.next;
                                            if (i.length === 0 || O.test(i)) n.remove(),
                                            n = s;
                                            n = s
                                        }
                                    }
                                }
                                n = v.lastChild;
                                if (n && n.type === 3) {
                                    i = n.value.replace(L, "");
                                    if (i.length > 0) n.value = i,
                                    n = n.prev;
                                    else {
                                        s = n.prev,
                                        n.remove(),
                                        n = s;
                                        while (n && n.type === 3) {
                                            i = n.value,
                                            s = n.prev;
                                            if (i.length === 0 || O.test(i)) n.remove(),
                                            n = s;
                                            n = s
                                        }
                                    }
                                }
                            }
                            k && M[t] && (k = !1);
                            if (r.removeEmpty || r.paddEmpty) if (v.isEmpty(D)) if (r.paddEmpty) v.empty().append(new e("#text", "3")).value = "\u00a0";
                            else if (!v.attributes.map.name && !v.attributes.map.id) {
                                o = v.parent,
                                v.unwrap(),
                                v = o;
                                return
                            }
                            v = v.parent
                        }
                    }
                },
                a),
                f = v = new e(s.context || r.root_name, 11),
                o.parse(t),
                x && C.length && (s.context ? s.invalid = !0 : d(C)),
                P && (f.name == "body" || s.isRootContent) && H();
                if (!s.invalid) {
                    for (S in h) {
                        E = l[S],
                        m = h[S],
                        b = m.length;
                        while (b--) m[b].parent || m.splice(b, 1);
                        for (g = 0, y = E.length; g < y; g++) E[g](m, S, s)
                    }
                    for (g = 0, y = c.length; g < y; g++) {
                        E = c[g];
                        if (E.name in p) {
                            m = p[E.name],
                            b = m.length;
                            while (b--) m[b].parent || m.splice(b, 1);
                            for (b = 0, w = E.callbacks.length; b < w; b++) E.callbacks[b](m, E.name, s)
                        }
                    }
                }
                return f
            },
            r.remove_trailing_brs && f.addNodeFilter("br",
            function(t) {
                var n, r = t.length,
                i, s = u({},
                a.getBlockElements()),
                o = a.getNonEmptyElements(),
                f,
                l,
                c,
                h,
                p,
                d;
                s.body = 1;
                for (n = 0; n < r; n++) {
                    i = t[n],
                    f = i.parent;
                    if (s[i.parent.name] && i === f.lastChild) {
                        c = i.prev;
                        while (c) {
                            h = c.name;
                            if (h !== "span" || c.attr("data-mce-type") !== "bookmark") {
                                if (h !== "br") break;
                                if (h === "br") {
                                    i = null;
                                    break
                                }
                            }
                            c = c.prev
                        }
                        i && (i.remove(), f.isEmpty(o) && (p = a.getElementRule(f.name), p && (p.removeEmpty ? f.remove() : p.paddEmpty && (f.empty().append(new e("#text", 3)).value = "\u00a0"))))
                    } else {
                        l = i;
                        while (f && f.firstChild === l && f.lastChild === l) {
                            l = f;
                            if (s[f.name]) break;
                            f = f.parent
                        }
                        l === f && (d = new e("#text", 3), d.value = "\u00a0", i.replace(d))
                    }
                }
            }),
            r.allow_html_in_named_anchor || f.addAttributeFilter("id,name",
            function(e) {
                var t = e.length,
                n, r, i, s;
                while (t--) {
                    s = e[t];
                    if (s.name === "a" && s.firstChild && !s.attr("href")) {
                        i = s.parent,
                        n = s.lastChild;
                        do r = n.prev,
                        i.insert(n, s),
                        n = r;
                        while (n)
                    }
                }
            }),
            r.validate && a.getValidClasses() && f.addAttributeFilter("class",
            function(e) {
                var t = e.length,
                n, r, i, s, o, u = a.getValidClasses(),
                f,
                l;
                while (t--) {
                    n = e[t],
                    r = n.attr("class").split(" "),
                    o = "";
                    for (i = 0; i < r.length; i++) s = r[i],
                    l = !1,
                    f = u["*"],
                    f && f[s] && (l = !0),
                    f = u[n.name],
                    !l && f && !f[s] && (l = !0),
                    l && (o && (o += " "), o += s);
                    o.length || (o = null),
                    n.attr("class", o)
                }
            })
        }
    }),
    i("tinymce/html/Writer", ["tinymce/html/Entities", "tinymce/util/Tools"],
    function(e, t) {
        var n = t.makeMap;
        return function(t) {
            var r = [],
            i,
            s,
            o,
            u,
            a;
            return t = t || {},
            i = t.indent,
            s = n(t.indent_before || ""),
            o = n(t.indent_after || ""),
            u = e.getEncodeFunc(t.entity_encoding || "raw", t.entities),
            a = t.element_format == "html",
            {
                start: function(e, t, n) {
                    var f, l, c, h;
                    i && s[e] && r.length > 0 && (h = r[r.length - 1], h.length > 0 && h !== "\n" && r.push("\n")),
                    r.push("\x3c", e);
                    if (t) for (f = 0, l = t.length; f < l; f++) c = t[f],
                    r.push(" ", c.name, '\x3d"', u(c.value, !0), '"'); ! n || a ? r[r.length] = "\x3e": r[r.length] = " /\x3e",
                    n && i && o[e] && r.length > 0 && (h = r[r.length - 1], h.length > 0 && h !== "\n" && r.push("\n"))
                },
                end: function(e) {
                    var t;
                    r.push("\x3c/", e, "\x3e"),
                    i && o[e] && r.length > 0 && (t = r[r.length - 1], t.length > 0 && t !== "\n" && r.push("\n"))
                },
                text: function(e, t) {
                    e.length > 0 && (r[r.length] = t ? e: u(e))
                },
                cdata: function(e) {
                    r.push("\x3c![CDATA[", e, "]]\x3e")
                },
                comment: function(e) {
                    r.push("\x3c!--", e, "--\x3e")
                },
                pi: function(e, t) {
                    t ? r.push("\x3c?", e, " ", t, "?\x3e") : r.push("\x3c?", e, "?\x3e"),
                    i && r.push("\n")
                },
                doctype: function(e) {
                    r.push("\x3c!DOCTYPE", e, "\x3e", i ? "\n": "")
                },
                reset: function() {
                    r.length = 0
                },
                getContent: function() {
                    return r.join("").replace(/\n$/, "")
                }
            }
        }
    }),
    i("tinymce/html/Serializer", ["tinymce/html/Writer", "tinymce/html/Schema"],
    function(e, t) {
        return function(n, r) {
            var i = this,
            s = new e(n);
            n = n || {},
            n.validate = "validate" in n ? n.validate: !0,
            i.schema = r = r || new t,
            i.writer = s,
            i.serialize = function(e) {
                function o(e) {
                    var n = t[e.type],
                    u,
                    a,
                    f,
                    l,
                    c,
                    h,
                    p,
                    d,
                    v;
                    if (!n) {
                        u = e.name,
                        a = e.shortEnded,
                        f = e.attributes;
                        if (i && f && f.length > 1) {
                            h = [],
                            h.map = {},
                            v = r.getElementRule(e.name);
                            for (p = 0, d = v.attributesOrder.length; p < d; p++) l = v.attributesOrder[p],
                            l in f.map && (c = f.map[l], h.map[l] = c, h.push({
                                name: l,
                                value: c
                            }));
                            for (p = 0, d = f.length; p < d; p++) l = f[p].name,
                            l in h.map || (c = f.map[l], h.map[l] = c, h.push({
                                name: l,
                                value: c
                            }));
                            f = h
                        }
                        s.start(e.name, f, a);
                        if (!a) {
                            if (e = e.firstChild) {
                                do o(e);
                                while (e = e.next)
                            }
                            s.end(u)
                        }
                    } else n(e)
                }
                var t, i;
                return i = n.validate,
                t = {
                    3 : function(e) {
                        s.text(e.value, e.raw)
                    },
                    8 : function(e) {
                        s.comment(e.value)
                    },
                    7 : function(e) {
                        s.pi(e.name, e.value)
                    },
                    10 : function(e) {
                        s.doctype(e.value)
                    },
                    4 : function(e) {
                        s.cdata(e.value)
                    },
                    11 : function(e) {
                        if (e = e.firstChild) {
                            do o(e);
                            while (e = e.next)
                        }
                    }
                },
                s.reset(),
                e.type == 1 && !n.inner ? o(e) : t[11](e),
                s.getContent()
            }
        }
    }),
    i("tinymce/dom/Serializer", ["tinymce/dom/DOMUtils", "tinymce/html/DomParser", "tinymce/html/Entities", "tinymce/html/Serializer", "tinymce/html/Node", "tinymce/html/Schema", "tinymce/Env", "tinymce/util/Tools"],
    function(e, t, n, r, i, s, o, u) {
        var a = u.each,
        f = u.trim,
        l = e.DOM;
        return function(e, i) {
            var u, c, h;
            return i && (u = i.dom, c = i.schema),
            u = u || l,
            c = c || new s(e),
            e.entity_encoding = e.entity_encoding || "named",
            e.remove_trailing_brs = "remove_trailing_brs" in e ? e.remove_trailing_brs: !0,
            h = new t(e, c),
            h.addAttributeFilter("data-mce-tabindex",
            function(e, t) {
                var n = e.length,
                r;
                while (n--) r = e[n],
                r.attr("tabindex", r.attributes.map["data-mce-tabindex"]),
                r.attr(t, null)
            }),
            h.addAttributeFilter("src,href,style",
            function(t, n) {
                var r = t.length,
                i, s, o = "data-mce-" + n,
                a = e.url_converter,
                f = e.url_converter_scope,
                l;
                while (r--) i = t[r],
                s = i.attributes.map[o],
                s !== l ? (i.attr(n, s.length > 0 ? s: null), i.attr(o, null)) : (s = i.attributes.map[n], n === "style" ? s = u.serializeStyle(u.parseStyle(s), i.name) : a && (s = a.call(f, s, n, i.name)), i.attr(n, s.length > 0 ? s: null))
            }),
            h.addAttributeFilter("class",
            function(e) {
                var t = e.length,
                n, r;
                while (t--) n = e[t],
                r = n.attr("class"),
                r && (r = n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), n.attr("class", r.length > 0 ? r: null))
            }),
            h.addAttributeFilter("data-mce-type",
            function(e, t, n) {
                var r = e.length,
                i;
                while (r--) i = e[r],
                i.attributes.map["data-mce-type"] === "bookmark" && !n.cleanup && i.remove()
            }),
            h.addNodeFilter("noscript",
            function(e) {
                var t = e.length,
                r;
                while (t--) r = e[t].firstChild,
                r && (r.value = n.decode(r.value))
            }),
            h.addNodeFilter("script,style",
            function(e, t) {
                function o(e) {
                    return e.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g, "")
                }
                var n = e.length,
                r, i, s;
                while (n--) r = e[n],
                i = r.firstChild ? r.firstChild.value: "",
                t === "script" ? (s = r.attr("type"), s && r.attr("type", s == "mce-no/type" ? null: s.replace(/^mce\-/, "")), i.length > 0 && (r.firstChild.value = "// \x3c![CDATA[\n" + o(i) + "\n// ]]\x3e")) : i.length > 0 && (r.firstChild.value = "\x3c!--\n" + o(i) + "\n--\x3e")
            }),
            h.addNodeFilter("#comment",
            function(e) {
                var t = e.length,
                n;
                while (t--) n = e[t],
                n.value.indexOf("[CDATA[") === 0 ? (n.name = "#cdata", n.type = 4, n.value = n.value.replace(/^\[CDATA\[|\]\]$/g, "")) : n.value.indexOf("mce:protected ") === 0 && (n.name = "#text", n.type = 3, n.raw = !0, n.value = unescape(n.value).substr(14))
            }),
            h.addNodeFilter("xml:namespace,input",
            function(e, t) {
                var n = e.length,
                r;
                while (n--) r = e[n],
                r.type === 7 ? r.remove() : r.type === 1 && t === "input" && !("type" in r.attributes.map) && r.attr("type", "text")
            }),
            e.fix_list_elements && h.addNodeFilter("ul,ol",
            function(e) {
                var t = e.length,
                n, r;
                while (t--) n = e[t],
                r = n.parent,
                (r.name === "ul" || r.name === "ol") && n.prev && n.prev.name === "li" && n.prev.append(n)
            }),
            h.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",
            function(e, t) {
                var n = e.length;
                while (n--) e[n].attr(t, null)
            }),
            {
                schema: c,
                addNodeFilter: h.addNodeFilter,
                addAttributeFilter: h.addAttributeFilter,
                serialize: function(t, n) {
                    var i = this,
                    s, l, p, d, v;
                    return o.ie && u.select("script,style,select,map").length > 0 ? (v = t.innerHTML, t = t.cloneNode(!1), u.setHTML(t, v)) : t = t.cloneNode(!0),
                    s = t.ownerDocument.implementation,
                    s.createHTMLDocument && (l = s.createHTMLDocument(""), a(t.nodeName == "BODY" ? t.childNodes: [t],
                    function(e) {
                        l.body.appendChild(l.importNode(e, !0))
                    }), t.nodeName != "BODY" ? t = l.body.firstChild: t = l.body, p = u.doc, u.doc = l),
                    n = n || {},
                    n.format = n.format || "html",
                    n.selection && (n.forced_root_block = ""),
                    n.no_events || (n.node = t, i.onPreProcess(n)),
                    d = new r(e, c),
                    n.content = d.serialize(h.parse(f(n.getInner ? t.innerHTML: u.getOuterHTML(t)), n)),
                    n.cleanup || (n.content = n.content.replace(/\uFEFF/g, "")),
                    n.no_events || i.onPostProcess(n),
                    p && (u.doc = p),
                    n.node = null,
                    n.content
                },
                addRules: function(e) {
                    c.addValidElements(e)
                },
                setRules: function(e) {
                    c.setValidElements(e)
                },
                onPreProcess: function(e) {
                    i && i.fire("PreProcess", e)
                },
                onPostProcess: function(e) {
                    i && i.fire("PostProcess", e)
                }
            }
        }
    }),
    i("tinymce/dom/TridentSelection", [],
    function() {
        function e(e) {
            function i(t, n) {
                var r, i = 0,
                s, o, u, a, f, l, c = -1,
                h;
                r = t.duplicate(),
                r.collapse(n),
                h = r.parentElement();
                if (h.ownerDocument !== e.dom.doc) return;
                while (h.contentEditable === "false") h = h.parentNode;
                if (!h.hasChildNodes()) return {
                    node: h,
                    inside: 1
                };
                u = h.children,
                s = u.length - 1;
                while (i <= s) {
                    l = Math.floor((i + s) / 2),
                    a = u[l],
                    r.moveToElementText(a),
                    c = r.compareEndPoints(n ? "StartToStart": "EndToEnd", t);
                    if (c > 0) s = l - 1;
                    else {
                        if (! (c < 0)) return {
                            node: a
                        };
                        i = l + 1
                    }
                }
                if (c < 0) {
                    a ? r.collapse(!1) : (r.moveToElementText(h), r.collapse(!0), a = h, o = !0),
                    f = 0;
                    while (r.compareEndPoints(n ? "StartToStart": "StartToEnd", t) !== 0) {
                        if (r.move("character", 1) === 0 || h != r.parentElement()) break;
                        f++
                    }
                } else {
                    r.collapse(!0),
                    f = 0;
                    while (r.compareEndPoints(n ? "StartToStart": "StartToEnd", t) !== 0) {
                        if (r.move("character", -1) === 0 || h != r.parentElement()) break;
                        f++
                    }
                }
                return {
                    node: a,
                    position: c,
                    offset: f,
                    inside: o
                }
            }
            function s() {
                function c(e) {
                    var t = i(r, e),
                    n,
                    o,
                    u = 0,
                    a,
                    f,
                    l;
                    n = t.node,
                    o = t.offset;
                    if (t.inside && !n.hasChildNodes()) {
                        s[e ? "setStart": "setEnd"](n, 0);
                        return
                    }
                    if (o === f) {
                        s[e ? "setStartBefore": "setEndAfter"](n);
                        return
                    }
                    if (t.position < 0) {
                        a = t.inside ? n.firstChild: n.nextSibling;
                        if (!a) {
                            s[e ? "setStartAfter": "setEndAfter"](n);
                            return
                        }
                        if (!o) {
                            a.nodeType == 3 ? s[e ? "setStart": "setEnd"](a, 0) : s[e ? "setStartBefore": "setEndBefore"](a);
                            return
                        }
                        while (a) {
                            if (a.nodeType == 3) {
                                l = a.nodeValue,
                                u += l.length;
                                if (u >= o) {
                                    n = a,
                                    u -= o,
                                    u = l.length - u;
                                    break
                                }
                            }
                            a = a.nextSibling
                        }
                    } else {
                        a = n.previousSibling;
                        if (!a) return s[e ? "setStartBefore": "setEndBefore"](n);
                        if (!o) {
                            n.nodeType == 3 ? s[e ? "setStart": "setEnd"](a, n.nodeValue.length) : s[e ? "setStartAfter": "setEndAfter"](a);
                            return
                        }
                        while (a) {
                            if (a.nodeType == 3) {
                                u += a.nodeValue.length;
                                if (u >= o) {
                                    n = a,
                                    u -= o;
                                    break
                                }
                            }
                            a = a.previousSibling
                        }
                    }
                    s[e ? "setStart": "setEnd"](n, u)
                }
                var r = e.getRng(),
                s = n.createRng(),
                o,
                u,
                a,
                f,
                l;
                o = r.item ? r.item(0) : r.parentElement();
                if (o.ownerDocument != n.doc) return s;
                u = e.isCollapsed();
                if (r.item) return s.setStart(o.parentNode, n.nodeIndex(o)),
                s.setEnd(s.startContainer, s.startOffset + 1),
                s;
                try {
                    c(!0),
                    u || c()
                } catch(h) {
                    if (h.number != -2147024809) throw h;
                    l = t.getBookmark(2),
                    a = r.duplicate(),
                    a.collapse(!0),
                    o = a.parentElement(),
                    u || (a = r.duplicate(), a.collapse(!1), f = a.parentElement(), f.innerHTML = f.innerHTML),
                    o.innerHTML = o.innerHTML,
                    t.moveToBookmark(l),
                    r = e.getRng(),
                    c(!0),
                    u || c()
                }
                return s
            }
            var t = this,
            n = e.dom,
            r = !1;
            this.getBookmark = function(t) {
                function o(e) {
                    var t, r, i, s, o = [];
                    t = e.parentNode,
                    r = n.getRoot().parentNode;
                    while (t != r && t.nodeType !== 9) {
                        i = t.children,
                        s = i.length;
                        while (s--) if (e === i[s]) {
                            o.push(s);
                            break
                        }
                        e = t,
                        t = t.parentNode
                    }
                    return o
                }
                function u(e) {
                    var t;
                    t = i(r, e);
                    if (t) return {
                        position: t.position,
                        offset: t.offset,
                        indexes: o(t.node),
                        inside: t.inside
                    }
                }
                var r = e.getRng(),
                s = {};
                return t === 2 && (r.item ? s.start = {
                    ctrl: !0,
                    indexes: o(r.item(0))
                }: (s.start = u(!0), e.isCollapsed() || (s.end = u()))),
                s
            },
            this.moveToBookmark = function(e) {
                function i(e) {
                    var t, r, i, s;
                    t = n.getRoot();
                    for (r = e.length - 1; r >= 0; r--) s = t.children,
                    i = e[r],
                    i <= s.length - 1 && (t = s[i]);
                    return t
                }
                function s(n) {
                    var s = e[n ? "start": "end"],
                    o,
                    u,
                    a,
                    f;
                    s && (o = s.position > 0, u = r.createTextRange(), u.moveToElementText(i(s.indexes)), f = s.offset, f !== a ? (u.collapse(s.inside || o), u.moveStart("character", o ? -f: f)) : u.collapse(n), t.setEndPoint(n ? "StartToStart": "EndToStart", u), n && t.collapse(!0))
                }
                var t, r = n.doc.body;
                e.start && (e.start.ctrl ? (t = r.createControlRange(), t.addElement(i(e.start.indexes)), t.select()) : (t = r.createTextRange(), s(!0), s(), t.select()))
            },
            this.addRange = function(t) {
                function v(e) {
                    var t, s, l, p, d;
                    l = n.create("a"),
                    t = e ? o: a,
                    s = e ? u: f,
                    p = i.duplicate();
                    if (t == c || t == c.documentElement) t = h,
                    s = 0;
                    t.nodeType == 3 ? (t.parentNode.insertBefore(l, t), p.moveToElementText(l), p.moveStart("character", s), n.remove(l), i.setEndPoint(e ? "StartToStart": "EndToEnd", p)) : (d = t.childNodes, d.length ? (s >= d.length ? n.insertAfter(l, d[d.length - 1]) : t.insertBefore(l, d[s]), p.moveToElementText(l)) : t.canHaveHTML && (t.innerHTML = "\x3cspan\x3e\x26#xFEFF;\x3c/span\x3e", l = t.firstChild, p.moveToElementText(l), p.collapse(r)), i.setEndPoint(e ? "StartToStart": "EndToEnd", p), n.remove(l))
                }
                var i, s, o, u, a, f, l, c = e.dom.doc,
                h = c.body,
                p, d;
                o = t.startContainer,
                u = t.startOffset,
                a = t.endContainer,
                f = t.endOffset,
                i = h.createTextRange();
                if (o == a && o.nodeType == 1) {
                    if (u == f && !o.hasChildNodes()) {
                        if (o.canHaveHTML) {
                            l = o.previousSibling,
                            l && !l.hasChildNodes() && n.isBlock(l) ? l.innerHTML = "\x26#xFEFF;": l = null,
                            o.innerHTML = "\x3cspan\x3e\x26#xFEFF;\x3c/span\x3e\x3cspan\x3e\x26#xFEFF;\x3c/span\x3e",
                            i.moveToElementText(o.lastChild),
                            i.select(),
                            n.doc.selection.clear(),
                            o.innerHTML = "",
                            l && (l.innerHTML = "");
                            return
                        }
                        u = n.nodeIndex(o),
                        o = o.parentNode
                    }
                    if (u == f - 1) try {
                        d = o.childNodes[u],
                        s = h.createControlRange(),
                        s.addElement(d),
                        s.select(),
                        p = e.getRng();
                        if (p.item && d === p.item(0)) return
                    } catch(m) {}
                }
                v(!0),
                v(),
                i.select()
            },
            this.getRangeAt = s
        }
        return e
    }),
    i("tinymce/util/VK", ["tinymce/Env"],
    function(e) {
        return {
            BACKSPACE: 8,
            DELETE: 46,
            DOWN: 40,
            ENTER: 13,
            LEFT: 37,
            RIGHT: 39,
            SPACEBAR: 32,
            TAB: 9,
            UP: 38,
            modifierPressed: function(e) {
                return e.shiftKey || e.ctrlKey || e.altKey
            },
            metaKeyPressed: function(t) {
                return e.mac ? t.metaKey: t.ctrlKey && !t.altKey
            }
        }
    }),
    i("tinymce/dom/ControlSelection", ["tinymce/util/VK", "tinymce/util/Tools", "tinymce/Env"],
    function(e, t, n) {
        return function(r, i) {
            function _(e) {
                var t = i.settings.object_resizing;
                return t === !1 || n.iOS ? !1 : (typeof t != "string" && (t = "table,img,div"), e.getAttribute("data-mce-resize") === "false" ? !1 : i.dom.is(e, t))
            }
            function D(t) {
                var n, r, o, l, h;
                n = t.screenX - p,
                r = t.screenY - d,
                E = n * c[2] + g,
                S = r * c[3] + y,
                E = E < 5 ? 5 : E,
                S = S < 5 ? 5 : S,
                u.nodeName == "IMG" && i.settings.resize_img_proportional !== !1 ? o = !e.modifierPressed(t) : o = e.modifierPressed(t) || u.nodeName == "IMG" && c[2] * c[3] !== 0,
                o && (C(n) > C(r) ? (S = k(E * b), E = k(S / b)) : (E = k(S / b), S = k(E * b))),
                s.setStyles(a, {
                    width: E,
                    height: S
                }),
                l = c.startPos.x + n,
                h = c.startPos.y + r,
                l = l > 0 ? l: 0,
                h = h > 0 ? h: 0,
                s.setStyles(f, {
                    left: l,
                    top: h,
                    display: "block"
                }),
                f.innerHTML = E + " \x26times; " + S,
                c[2] < 0 && a.clientWidth <= E && s.setStyle(a, "left", v + (g - E)),
                c[3] < 0 && a.clientHeight <= S && s.setStyle(a, "top", m + (y - S)),
                n = L.scrollWidth - A,
                r = L.scrollHeight - O,
                n + r !== 0 && s.setStyles(f, {
                    left: l - n,
                    top: h - r
                }),
                w || (i.fire("ObjectResizeStart", {
                    target: u,
                    width: g,
                    height: y
                }), w = !0)
            }
            function P() {
                function e(e, t) {
                    t && (u.style[e] || !i.schema.isValid(u.nodeName.toLowerCase(), e) ? s.setStyle(u, e, t) : s.setAttrib(u, e, t))
                }
                w = !1,
                e("width", E),
                e("height", S),
                s.unbind(x, "mousemove", D),
                s.unbind(x, "mouseup", P),
                T != x && (s.unbind(T, "mousemove", D), s.unbind(T, "mouseup", P)),
                s.remove(a),
                s.remove(f),
                (!N || u.nodeName == "TABLE") && H(u),
                i.fire("ObjectResized", {
                    target: u,
                    width: E,
                    height: S
                }),
                s.setAttrib(u, "style", s.getAttrib(u, "style")),
                i.nodeChanged()
            }
            function H(e, t, r) {
                var h, w, N, C, k;
                z(),
                h = s.getPos(e, L),
                v = h.x,
                m = h.y,
                k = e.getBoundingClientRect(),
                w = k.width || k.right - k.left,
                N = k.height || k.bottom - k.top,
                u != e && (U(), u = e, E = S = 0),
                C = i.fire("ObjectSelected", {
                    target: e
                }),
                _(e) && !C.isDefaultPrevented() ? o(l,
                function(e, i) {
                    function h(t) {
                        p = t.screenX,
                        d = t.screenY,
                        g = u.clientWidth,
                        y = u.clientHeight,
                        b = y / g,
                        c = e,
                        e.startPos = {
                            x: w * e[0] + v,
                            y: N * e[1] + m
                        },
                        A = L.scrollWidth,
                        O = L.scrollHeight,
                        a = u.cloneNode(!0),
                        s.addClass(a, "mce-clonedresizable"),
                        s.setAttrib(a, "data-mce-bogus", "all"),
                        a.contentEditable = !1,
                        a.unSelectabe = !0,
                        s.setStyles(a, {
                            left: v,
                            top: m,
                            margin: 0
                        }),
                        a.removeAttribute("data-mce-selected"),
                        L.appendChild(a),
                        s.bind(x, "mousemove", D),
                        s.bind(x, "mouseup", P),
                        T != x && (s.bind(T, "mousemove", D), s.bind(T, "mouseup", P)),
                        f = s.add(L, "div", {
                            "class": "mce-resize-helper",
                            "data-mce-bogus": "all"
                        },
                        g + " \x26times; " + y)
                    }
                    var o, l;
                    if (t) {
                        i == t && h(r);
                        return
                    }
                    o = s.get("mceResizeHandle" + i),
                    o ? s.show(o) : (l = L, o = s.add(l, "div", {
                        id: "mceResizeHandle" + i,
                        "data-mce-bogus": "all",
                        "class": "mce-resizehandle",
                        unselectable: !0,
                        style: "cursor:" + i + "-resize; margin:0; padding:0"
                    }), n.ie && (o.contentEditable = !1)),
                    e.elm || (s.bind(o, "mousedown",
                    function(e) {
                        e.stopImmediatePropagation(),
                        e.preventDefault(),
                        h(e)
                    }), e.elm = o),
                    s.setStyles(o, {
                        left: w * e[0] + v - o.offsetWidth / 2,
                        top: N * e[1] + m - o.offsetHeight / 2
                    })
                }) : B(),
                u.setAttribute("data-mce-selected", "1")
            }
            function B() {
                var e, t;
                z(),
                u && u.removeAttribute("data-mce-selected");
                for (e in l) t = s.get("mceResizeHandle" + e),
                t && (s.unbind(t), s.remove(t))
            }
            function j(e) {
                function i(e, t) {
                    if (e) {
                        do
                        if (e === t) return ! 0;
                        while (e = e.parentNode)
                    }
                }
                var t, n;
                o(s.select("img[data-mce-selected],hr[data-mce-selected]"),
                function(e) {
                    e.removeAttribute("data-mce-selected")
                }),
                n = e.type == "mousedown" ? e.target: r.getNode(),
                n = s.$(n).closest(N ? "table": "table,img,hr")[0];
                if (i(n, L)) {
                    W(),
                    t = r.getStart(!0);
                    if (i(t, n) && i(r.getEnd(!0), n)) if (!N || n != t && t.nodeName !== "IMG") {
                        H(n);
                        return
                    }
                }
                B()
            }
            function F(e, t, n) {
                e && e.attachEvent && e.attachEvent("on" + t, n)
            }
            function I(e, t, n) {
                e && e.detachEvent && e.detachEvent("on" + t, n)
            }
            function q(e) {
                var t = e.srcElement,
                n, r, s, o, a, f, p;
                n = t.getBoundingClientRect(),
                f = h.clientX - n.left,
                p = h.clientY - n.top;
                for (r in l) {
                    s = l[r],
                    o = t.offsetWidth * s[0],
                    a = t.offsetHeight * s[1];
                    if (C(o - f) < 8 && C(a - p) < 8) {
                        c = s;
                        break
                    }
                }
                w = !0,
                i.fire("ObjectResizeStart", {
                    target: u,
                    width: u.clientWidth,
                    height: u.clientHeight
                }),
                i.getDoc().selection.empty(),
                H(t, r, h)
            }
            function R(e) {
                var t = e.srcElement;
                if (t != u) {
                    i.fire("ObjectSelected", {
                        target: t
                    }),
                    U();
                    if (t.id.indexOf("mceResizeHandle") === 0) {
                        e.returnValue = !1;
                        return
                    }
                    if (t.nodeName == "IMG" || t.nodeName == "TABLE") B(),
                    u = t,
                    F(t, "resizestart", q)
                }
            }
            function U() {
                I(u, "resizestart", q)
            }
            function z() {
                for (var e in l) {
                    var t = l[e];
                    t.elm && (s.unbind(t.elm), delete t.elm)
                }
            }
            function W() {
                try {
                    i.getDoc().execCommand("enableObjectResizing", !1, !1)
                } catch(e$49) {}
            }
            function X(e) {
                var t;
                if (!N) return;
                t = x.body.createControlRange();
                try {
                    return t.addElement(e),
                    t.select(),
                    !0
                } catch(n$50) {}
            }
            function V() {
                u = a = null,
                N && (U(), I(L, "controlselect", R))
            }
            var s = i.dom,
            o = t.each,
            u, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, x = i.getDoc(),
            T = document,
            N = n.ie && n.ie < 11,
            C = Math.abs,
            k = Math.round,
            L = i.getBody(),
            A,
            O;
            l = {
                n: [.5, 0, 0, -1],
                e: [1, .5, 1, 0],
                s: [.5, 1, 0, 1],
                w: [0, .5, -1, 0],
                nw: [0, 0, -1, -1],
                ne: [1, 0, 1, -1],
                se: [1, 1, 1, 1],
                sw: [0, 1, -1, 1]
            };
            var M = ".mce-content-body";
            return i.contentStyles.push(M + " div.mce-resizehandle {" + "position: absolute;" + "border: 1px solid black;" + "background: #FFF;" + "width: 5px;" + "height: 5px;" + "z-index: 10000" + "}" + M + " .mce-resizehandle:hover {" + "background: #000" + "}" + M + " img[data-mce-selected], hr[data-mce-selected] {" + "outline: 1px solid black;" + "resize: none" + "}" + M + " .mce-clonedresizable {" + "position: absolute;" + (n.gecko ? "": "outline: 1px dashed black;") + "opacity: .5;" + "filter: alpha(opacity\x3d50);" + "z-index: 10000" + "}" + M + " .mce-resize-helper {" + "background-color: #555;" + "background-color: rgba(0,0,0,0.75);" + "border-radius: 3px;" + "border: 1px;" + "color: white;" + "display: none;" + "font-family: sans-serif;" + "font-size: 12px;" + "white-space: nowrap;" + "line-height: 14px;" + "margin: 5px 10px;" + "padding: 5px;" + "position: absolute;" + "z-index: 10001" + "}"),
            i.on("init",
            function() {
                N ? (i.on("ObjectResized",
                function(e) {
                    e.target.nodeName != "TABLE" && (B(), X(e.target))
                }), F(L, "controlselect", R), i.on("mousedown",
                function(e) {
                    h = e
                })) : (W(), n.ie >= 11 && (i.on("mouseup",
                function(e) {
                    var t = e.target.nodeName; ! w && /^(TABLE|IMG|HR)$/.test(t) && (i.selection.select(e.target, t == "TABLE"), i.nodeChanged())
                }), i.dom.bind(L, "mscontrolselect",
                function(e) { / ^(TABLE | IMG | HR) $ / .test(e.target.nodeName) && (e.preventDefault(), e.target.tagName == "IMG" && window.setTimeout(function() {
                        i.selection.select(e.target)
                    },
                    0))
                }))),
                i.on("nodechange ResizeEditor", j),
                i.on("keydown keyup",
                function(e) {
                    u && u.nodeName == "TABLE" && j(e)
                }),
                i.on("hide", B)
            }),
            i.on("remove", z),
            {
                isResizable: _,
                showResizeRect: H,
                hideResizeRect: B,
                updateResizeRect: j,
                controlSelect: X,
                destroy: V
            }
        }
    }),
    i("tinymce/dom/BookmarkManager", ["tinymce/Env", "tinymce/util/Tools"],
    function(e, t) {
        function n(n) {
            var r = n.dom;
            this.getBookmark = function(e, i) {
                function p(e, n) {
                    var i = 0;
                    return t.each(r.select(e),
                    function(e, t) {
                        e == n && (i = t)
                    }),
                    i
                }
                function d(e) {
                    function t(t) {
                        var n, r, i, s = t ? "start": "end";
                        n = e[s + "Container"],
                        r = e[s + "Offset"],
                        n.nodeType == 1 && n.nodeName == "TR" && (i = n.childNodes, n = i[Math.min(t ? r: r - 1, i.length - 1)], n && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start": "End")](n, r)))
                    }
                    return t(!0),
                    t(),
                    e
                }
                function v() {
                    function o(e, n) {
                        var s = e[n ? "startContainer": "endContainer"],
                        o = e[n ? "startOffset": "endOffset"],
                        u = [],
                        a,
                        f,
                        l = 0;
                        if (s.nodeType == 3) {
                            if (i) for (a = s.previousSibling; a && a.nodeType == 3; a = a.previousSibling) o += a.nodeValue.length;
                            u.push(o)
                        } else f = s.childNodes,
                        o >= f.length && f.length && (l = 1, o = Math.max(0, f.length - 1)),
                        u.push(r.nodeIndex(f[o], i) + l);
                        for (; s && s != t; s = s.parentNode) u.push(r.nodeIndex(s, i));
                        return u
                    }
                    var e = n.getRng(!0),
                    t = r.getRoot(),
                    s = {};
                    return s.start = o(e, !0),
                    n.isCollapsed() || (s.end = o(e)),
                    s
                }
                var s, o, u, a, f, l, c = "\x26#xFEFF;",
                h;
                if (e == 2) return l = n.getNode(),
                f = l ? l.nodeName: null,
                f == "IMG" ? {
                    name: f,
                    index: p(f, l)
                }: n.tridentSel ? n.tridentSel.getBookmark(e) : v();
                if (e) return {
                    rng: n.getRng()
                };
                s = n.getRng(),
                u = r.uniqueId(),
                a = n.isCollapsed(),
                h = "overflow:hidden;line-height:0px";
                if (s.duplicate || s.item) {
                    if ( !! s.item) return l = s.item(0),
                    f = l.nodeName,
                    {
                        name: f,
                        index: p(f, l)
                    };
                    o = s.duplicate();
                    try {
                        s.collapse(),
                        s.pasteHTML('\x3cspan data-mce-type\x3d"bookmark" id\x3d"' + u + '_start" style\x3d"' + h + '"\x3e' + c + "\x3c/span\x3e"),
                        a || (o.collapse(!1), s.moveToElementText(o.parentElement()), s.compareEndPoints("StartToEnd", o) === 0 && o.move("character", -1), o.pasteHTML('\x3cspan data-mce-type\x3d"bookmark" id\x3d"' + u + '_end" style\x3d"' + h + '"\x3e' + c + "\x3c/span\x3e"))
                    } catch(m) {
                        return null
                    }
                } else {
                    l = n.getNode(),
                    f = l.nodeName;
                    if (f == "IMG") return {
                        name: f,
                        index: p(f, l)
                    };
                    o = d(s.cloneRange()),
                    a || (o.collapse(!1), o.insertNode(r.create("span", {
                        "data-mce-type": "bookmark",
                        id: u + "_end",
                        style: h
                    },
                    c))),
                    s = d(s),
                    s.collapse(!0),
                    s.insertNode(r.create("span", {
                        "data-mce-type": "bookmark",
                        id: u + "_start",
                        style: h
                    },
                    c))
                }
                return n.moveToBookmark({
                    id: u,
                    keep: 1
                }),
                {
                    id: u
                }
            },
            this.moveToBookmark = function(i) {
                function c(e) {
                    var t = i[e ? "start": "end"],
                    n,
                    r,
                    u,
                    a;
                    if (t) {
                        u = t[0];
                        for (r = o, n = t.length - 1; n >= 1; n--) {
                            a = r.childNodes;
                            if (t[n] > a.length - 1) return;
                            r = a[t[n]]
                        }
                        r.nodeType === 3 && (u = Math.min(t[0], r.nodeValue.length)),
                        r.nodeType === 1 && (u = Math.min(t[0], r.childNodes.length)),
                        e ? s.setStart(r, u) : s.setEnd(r, u)
                    }
                    return ! 0
                }
                function h(n) {
                    var s = r.get(i.id + "_" + n),
                    o,
                    c,
                    h,
                    p,
                    d = i.keep;
                    if (s) {
                        o = s.parentNode,
                        n == "start" ? (d ? (o = s.firstChild, c = 1) : c = r.nodeIndex(s), u = a = o, f = l = c) : (d ? (o = s.firstChild, c = 1) : c = r.nodeIndex(s), a = o, l = c);
                        if (!d) {
                            p = s.previousSibling,
                            h = s.nextSibling,
                            t.each(t.grep(s.childNodes),
                            function(e) {
                                e.nodeType == 3 && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""))
                            });
                            while (s = r.get(i.id + "_" + n)) r.remove(s, 1);
                            p && h && p.nodeType == h.nodeType && p.nodeType == 3 && !e.opera && (c = p.nodeValue.length, p.appendData(h.nodeValue), r.remove(h), n == "start" ? (u = a = p, f = l = c) : (a = p, l = c))
                        }
                    }
                }
                function p(t) {
                    return r.isBlock(t) && !t.innerHTML && !e.ie && (t.innerHTML = '\x3cbr data-mce-bogus\x3d"1" /\x3e'),
                    t
                }
                var s, o, u, a, f, l;
                if (i) if (i.start) {
                    s = r.createRng(),
                    o = r.getRoot();
                    if (n.tridentSel) return n.tridentSel.moveToBookmark(i);
                    c(!0) && c() && n.setRng(s)
                } else i.id ? (h("start"), h("end"), u && (s = r.createRng(), s.setStart(p(u), f), s.setEnd(p(a), l), n.setRng(s))) : i.name ? n.select(r.select(i.name)[i.index]) : i.rng && n.setRng(i.rng)
            }
        }
        return n.isBookmarkNode = function(e) {
            return e && e.tagName === "SPAN" && e.getAttribute("data-mce-type") === "bookmark"
        },
        n
    }),
    i("tinymce/dom/Selection", ["tinymce/dom/TreeWalker", "tinymce/dom/TridentSelection", "tinymce/dom/ControlSelection", "tinymce/dom/RangeUtils", "tinymce/dom/BookmarkManager", "tinymce/Env", "tinymce/util/Tools"],
    function(e, n, r, i, s, o, u) {
        function c(e, t, i, o) {
            var u = this;
            u.dom = e,
            u.win = t,
            u.serializer = i,
            u.editor = o,
            u.bookmarkManager = new s(u),
            u.controlSelection = new r(u, o),
            u.win.getSelection || (u.tridentSel = new n(u))
        }
        var a = u.each,
        f = u.trim,
        l = o.ie;
        return c.prototype = {
            setCursorLocation: function(e, t) {
                var n = this,
                r = n.dom.createRng();
                e ? (r.setStart(e, t), r.setEnd(e, t), n.setRng(r), n.collapse(!1)) : (n._moveEndPoint(r, n.editor.getBody(), !0), n.setRng(r))
            },
            getContent: function(e) {
                var n = this,
                r = n.getRng(),
                i = n.dom.create("body"),
                s = n.getSel(),
                o,
                u,
                a;
                return e = e || {},
                o = u = "",
                e.get = !0,
                e.format = e.format || "html",
                e.selection = !0,
                n.editor.fire("BeforeGetContent", e),
                e.format == "text" ? n.isCollapsed() ? "": r.text || (s.toString ? s.toString() : "") : (r.cloneContents ? (a = r.cloneContents(), a && i.appendChild(a)) : r.item !== t || r.htmlText !== t ? (i.innerHTML = "\x3cbr\x3e" + (r.item ? r.item(0).outerHTML: r.htmlText), i.removeChild(i.firstChild)) : i.innerHTML = r.toString(), /^\s/.test(i.innerHTML) && (o = " "), /\s+$/.test(i.innerHTML) && (u = " "), e.getInner = !0, e.content = n.isCollapsed() ? "": o + n.serializer.serialize(i, e) + u, n.editor.fire("GetContent", e), e.content)
            },
            setContent: function(e, t) {
                var n = this,
                r = n.getRng(),
                i,
                s = n.win.document,
                o,
                u;
                t = t || {
                    format: "html"
                },
                t.set = !0,
                t.selection = !0,
                e = t.content = e,
                t.no_events || n.editor.fire("BeforeSetContent", t),
                e = t.content;
                if (r.insertNode) {
                    e += '\x3cspan id\x3d"__caret"\x3e_\x3c/span\x3e',
                    r.startContainer == s && r.endContainer == s ? s.body.innerHTML = e: (r.deleteContents(), s.body.childNodes.length === 0 ? s.body.innerHTML = e: r.createContextualFragment ? r.insertNode(r.createContextualFragment(e)) : (o = s.createDocumentFragment(), u = s.createElement("div"), o.appendChild(u), u.outerHTML = e, r.insertNode(o))),
                    i = n.dom.get("__caret"),
                    r = s.createRange(),
                    r.setStartBefore(i),
                    r.setEndBefore(i),
                    n.setRng(r),
                    n.dom.remove("__caret");
                    try {
                        n.setRng(r)
                    } catch(a$51) {}
                } else r.item && (s.execCommand("Delete", !1, null), r = n.getRng()),
                /^\s+/.test(e) ? (r.pasteHTML('\x3cspan id\x3d"__mce_tmp"\x3e_\x3c/span\x3e' + e), n.dom.remove("__mce_tmp")) : r.pasteHTML(e);
                t.no_events || n.editor.fire("SetContent", t)
            },
            getStart: function(e) {
                var t = this,
                n = t.getRng(),
                r,
                i,
                s,
                o;
                if (n.duplicate || n.item) {
                    if (n.item) return n.item(0);
                    s = n.duplicate(),
                    s.collapse(1),
                    r = s.parentElement(),
                    r.ownerDocument !== t.dom.doc && (r = t.dom.getRoot()),
                    i = o = n.parentElement();
                    while (o = o.parentNode) if (o == r) {
                        r = i;
                        break
                    }
                    return r
                }
                return r = n.startContainer,
                r.nodeType == 1 && r.hasChildNodes() && (!e || !n.collapsed) && (r = r.childNodes[Math.min(r.childNodes.length - 1, n.startOffset)]),
                r && r.nodeType == 3 ? r.parentNode: r
            },
            getEnd: function(e) {
                var t = this,
                n = t.getRng(),
                r,
                i;
                return n.duplicate || n.item ? n.item ? n.item(0) : (n = n.duplicate(), n.collapse(0), r = n.parentElement(), r.ownerDocument !== t.dom.doc && (r = t.dom.getRoot()), r && r.nodeName == "BODY" ? r.lastChild || r: r) : (r = n.endContainer, i = n.endOffset, r.nodeType == 1 && r.hasChildNodes() && (!e || !n.collapsed) && (r = r.childNodes[i > 0 ? i - 1 : i]), r && r.nodeType == 3 ? r.parentNode: r)
            },
            getBookmark: function(e, t) {
                return this.bookmarkManager.getBookmark(e, t)
            },
            moveToBookmark: function(e) {
                return this.bookmarkManager.moveToBookmark(e)
            },
            select: function(e, t) {
                var n = this,
                r = n.dom,
                i = r.createRng(),
                s;
                n.lastFocusBookmark = null;
                if (e) {
                    if (!t && n.controlSelection.controlSelect(e)) return;
                    s = r.nodeIndex(e),
                    i.setStart(e.parentNode, s),
                    i.setEnd(e.parentNode, s + 1),
                    t && (n._moveEndPoint(i, e, !0), n._moveEndPoint(i, e)),
                    n.setRng(i)
                }
                return e
            },
            isCollapsed: function() {
                var e = this,
                t = e.getRng(),
                n = e.getSel();
                return ! t || t.item ? !1 : t.compareEndPoints ? t.compareEndPoints("StartToEnd", t) === 0 : !n || t.collapsed
            },
            collapse: function(e) {
                var t = this,
                n = t.getRng(),
                r;
                n.item && (r = n.item(0), n = t.win.document.body.createTextRange(), n.moveToElementText(r)),
                n.collapse( !! e),
                t.setRng(n)
            },
            getSel: function() {
                var e = this.win;
                return e.getSelection ? e.getSelection() : e.document.selection
            },
            getRng: function(e) {
                function u(e, t, n) {
                    try {
                        return t.compareBoundaryPoints(e, n)
                    } catch(r$52) {
                        return - 1
                    }
                }
                var t = this,
                n, r, i, s = t.win.document,
                o;
                if (!e && t.lastFocusBookmark) {
                    var a = t.lastFocusBookmark;
                    return a.startContainer ? (r = s.createRange(), r.setStart(a.startContainer, a.startOffset), r.setEnd(a.endContainer, a.endOffset)) : r = a,
                    r
                }
                if (e && t.tridentSel) return t.tridentSel.getRangeAt(0);
                try {
                    if (n = t.getSel()) n.rangeCount > 0 ? r = n.getRangeAt(0) : r = n.createRange ? n.createRange() : s.createRange()
                } catch(f$53) {}
                if (l && r && r.setStart && s.selection) {
                    try {
                        o = s.selection.createRange()
                    } catch(f$54) {}
                    o && o.item && (i = o.item(0), r = s.createRange(), r.setStartBefore(i), r.setEndAfter(i))
                }
                return r || (r = s.createRange ? s.createRange() : s.body.createTextRange()),
                r.setStart && r.startContainer.nodeType === 9 && r.collapsed && (i = t.dom.getRoot(), r.setStart(i, 0), r.setEnd(i, 0)),
                t.selectedRange && t.explicitRange && (u(r.START_TO_START, r, t.selectedRange) === 0 && u(r.END_TO_END, r, t.selectedRange) === 0 ? r = t.explicitRange: (t.selectedRange = null, t.explicitRange = null)),
                r
            },
            setRng: function(e, t) {
                var n = this,
                r;
                if (e.select) {
                    try {
                        e.select()
                    } catch(i$55) {}
                    return
                }
                if (!n.tridentSel) {
                    r = n.getSel();
                    if (r) {
                        n.explicitRange = e;
                        try {
                            r.removeAllRanges(),
                            r.addRange(e)
                        } catch(i$56) {}
                        t === !1 && r.extend && (r.collapse(e.endContainer, e.endOffset), r.extend(e.startContainer, e.startOffset)),
                        n.selectedRange = r.rangeCount > 0 ? r.getRangeAt(0) : null
                    }
                } else if (e.cloneRange) try {
                    n.tridentSel.addRange(e);
                    return
                } catch(i$57) {}
            },
            setNode: function(e) {
                var t = this;
                return t.setContent(t.dom.getOuterHTML(e)),
                e
            },
            getNode: function() {
                function a(e, t) {
                    var n = e;
                    while (e && e.nodeType === 3 && e.length === 0) e = t ? e.nextSibling: e.previousSibling;
                    return e || n
                }
                var e = this,
                t = e.getRng(),
                n,
                r = t.startContainer,
                i = t.endContainer,
                s = t.startOffset,
                o = t.endOffset,
                u = e.dom.getRoot();
                if (!t) return u;
                if (t.setStart) {
                    n = t.commonAncestorContainer;
                    if (!t.collapsed) {
                        r == i && o - s < 2 && r.hasChildNodes() && (n = r.childNodes[s]);
                        if (r.nodeType === 3 && i.nodeType === 3) {
                            r.length === s ? r = a(r.nextSibling, !0) : r = r.parentNode,
                            o === 0 ? i = a(i.previousSibling, !1) : i = i.parentNode;
                            if (r && r === i) return r
                        }
                    }
                    return n && n.nodeType == 3 ? n.parentNode: n
                }
                return n = t.item ? t.item(0) : t.parentElement(),
                n.ownerDocument !== e.win.document && (n = u),
                n
            },
            getSelectedBlocks: function(t, n) {
                var r = this,
                i = r.dom,
                s, o, u = [];
                o = i.getRoot(),
                t = i.getParent(t || r.getStart(), i.isBlock),
                n = i.getParent(n || r.getEnd(), i.isBlock),
                t && t != o && u.push(t);
                if (t && n && t != n) {
                    s = t;
                    var a = new e(t, o);
                    while ((s = a.next()) && s != n) i.isBlock(s) && u.push(s)
                }
                return n && t != n && n != o && u.push(n),
                u
            },
            isForward: function() {
                var e = this.dom,
                t = this.getSel(),
                n,
                r;
                return ! t || !t.anchorNode || !t.focusNode ? !0 : (n = e.createRng(), n.setStart(t.anchorNode, t.anchorOffset), n.collapse(!0), r = e.createRng(), r.setStart(t.focusNode, t.focusOffset), r.collapse(!0), n.compareBoundaryPoints(n.START_TO_START, r) <= 0)
            },
            normalize: function() {
                var e = this,
                t = e.getRng();
                return ! l && (new i(e.dom)).normalize(t) && e.setRng(t, e.isForward()),
                t
            },
            selectorChanged: function(e, t) {
                var n = this,
                r;
                return n.selectorChangedData || (n.selectorChangedData = {},
                r = {},
                n.editor.on("NodeChange",
                function(e) {
                    var t = e.element,
                    i = n.dom,
                    s = i.getParents(t, null, i.getRoot()),
                    o = {};
                    a(n.selectorChangedData,
                    function(e, t) {
                        a(s,
                        function(n) {
                            if (i.is(n, t)) return r[t] || (a(e,
                            function(e) {
                                e(!0, {
                                    node: n,
                                    selector: t,
                                    parents: s
                                })
                            }), r[t] = e),
                            o[t] = e,
                            !1
                        })
                    }),
                    a(r,
                    function(e, n) {
                        o[n] || (delete r[n], a(e,
                        function(e) {
                            e(!1, {
                                node: t,
                                selector: n,
                                parents: s
                            })
                        }))
                    })
                })),
                n.selectorChangedData[e] || (n.selectorChangedData[e] = []),
                n.selectorChangedData[e].push(t),
                n
            },
            getScrollContainer: function() {
                var e, t = this.dom.getRoot();
                while (t && t.nodeName != "BODY") {
                    if (t.scrollHeight > t.clientHeight) {
                        e = t;
                        break
                    }
                    t = t.parentNode
                }
                return e
            },
            scrollIntoView: function(e) {
                function a(e) {
                    var t = 0,
                    n = 0,
                    r = e;
                    while (r && r.nodeType) t += r.offsetLeft || 0,
                    n += r.offsetTop || 0,
                    r = r.offsetParent;
                    return {
                        x: t,
                        y: n
                    }
                }
                var t, n, r = this,
                i = r.dom,
                s = i.getRoot(),
                o,
                u;
                if (s.nodeName != "BODY") {
                    var f = r.getScrollContainer();
                    if (f) {
                        t = a(e).y - a(f).y,
                        u = f.clientHeight,
                        o = f.scrollTop;
                        if (t < o || t + 25 > o + u) f.scrollTop = t < o ? t: t - u + 25;
                        return
                    }
                }
                n = i.getViewPort(r.editor.getWin()),
                t = i.getPos(e).y,
                o = n.y,
                u = n.h,
                (t < n.y || t + 25 > o + u) && r.editor.getWin().scrollTo(0, t < o ? t: t - u + 25)
            },
            _moveEndPoint: function(t, n, r) {
                var i = n,
                s = new e(n, i),
                u = this.dom.schema.getNonEmptyElements();
                do {
                    if (n.nodeType == 3 && f(n.nodeValue).length !== 0) {
                        r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length);
                        return
                    }
                    if (u[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) {
                        r ? t.setStartBefore(n) : n.nodeName == "BR" ? t.setEndBefore(n) : t.setEndAfter(n);
                        return
                    }
                    if (o.ie && o.ie < 11 && this.dom.isBlock(n) && this.dom.isEmpty(n)) {
                        r ? t.setStart(n, 0) : t.setEnd(n, 0);
                        return
                    }
                } while ( n = r ? s . next () : s.prev());
                i.nodeName == "BODY" && (r ? t.setStart(i, 0) : t.setEnd(i, i.childNodes.length))
            },
            destroy: function() {
                this.win = null,
                this.controlSelection.destroy()
            }
        },
        c
    }),
    i("tinymce/dom/ElementUtils", ["tinymce/dom/BookmarkManager", "tinymce/util/Tools"],
    function(e, t) {
        function r(t) {
            this.compare = function(r, i) {
                function s(e) {
                    var r = {};
                    return n(t.getAttribs(e),
                    function(n) {
                        var i = n.nodeName.toLowerCase();
                        i.indexOf("_") !== 0 && i !== "style" && i !== "data-mce-style" && (r[i] = t.getAttrib(e, i))
                    }),
                    r
                }
                function o(e, t) {
                    var n, r;
                    for (r in e) if (e.hasOwnProperty(r)) {
                        n = t[r];
                        if (typeof n == "undefined") return ! 1;
                        if (e[r] != n) return ! 1;
                        delete t[r]
                    }
                    for (r in t) if (t.hasOwnProperty(r)) return ! 1;
                    return ! 0
                }
                return r.nodeName != i.nodeName ? !1 : o(s(r), s(i)) ? o(t.parseStyle(t.getAttrib(r, "style")), t.parseStyle(t.getAttrib(i, "style"))) ? !e.isBookmarkNode(r) && !e.isBookmarkNode(i) : !1 : !1
            }
        }
        var n = t.each;
        return r
    }),
    i("tinymce/fmt/Preview", ["tinymce/util/Tools"],
    function(e) {
        function n(e, n) {
            function f(e) {
                return e.replace(/%(\w+)/g, "")
            }
            var r, i, s = e.dom,
            o = "",
            u, a;
            a = e.settings.preview_styles;
            if (a === !1) return "";
            a || (a = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
            if (typeof n == "string") {
                n = e.formatter.get(n);
                if (!n) return;
                n = n[0]
            }
            return r = n.block || n.inline || "span",
            i = s.create(r),
            t(n.styles,
            function(e, t) {
                e = f(e),
                e && s.setStyle(i, t, e)
            }),
            t(n.attributes,
            function(e, t) {
                e = f(e),
                e && s.setAttrib(i, t, e)
            }),
            t(n.classes,
            function(e) {
                e = f(e),
                s.hasClass(i, e) || s.addClass(i, e)
            }),
            e.fire("PreviewFormats"),
            s.setStyles(i, {
                position: "absolute",
                left: -65535
            }),
            e.getBody().appendChild(i),
            u = s.getStyle(e.getBody(), "fontSize", !0),
            u = /px$/.test(u) ? parseInt(u, 10) : 0,
            t(a.split(" "),
            function(t) {
                var n = s.getStyle(i, t, !0);
                if (t == "background-color" && /transparent|rgba\s*\([^)]+,\s*0\)/.test(n)) {
                    n = s.getStyle(e.getBody(), t, !0);
                    if (s.toHex(n).toLowerCase() == "#ffffff") return
                }
                if (t == "color" && s.toHex(n).toLowerCase() == "#000000") return;
                if (t == "font-size" && /em|%$/.test(n)) {
                    if (u === 0) return;
                    n = parseFloat(n, 10) / (/%$/.test(n) ? 100 : 1),
                    n = n * u + "px"
                }
                t == "border" && n && (o += "padding:0 2px;"),
                o += t + ":" + n + ";"
            }),
            e.fire("AfterPreviewFormats"),
            s.remove(i),
            o
        }
        var t = e.each;
        return {
            getCssText: n
        }
    }),
    i("tinymce/Formatter", ["tinymce/dom/TreeWalker", "tinymce/dom/RangeUtils", "tinymce/dom/BookmarkManager", "tinymce/dom/ElementUtils", "tinymce/util/Tools", "tinymce/fmt/Preview"],
    function(e, t, n, r, i, s) {
        return function(o) {
            function A(e) {
                return e.nodeType && (e = e.nodeName),
                !!o.schema.getTextBlockElements()[e.toLowerCase()]
            }
            function O(e, t) {
                return a.getParents(e, t, a.getRoot())
            }
            function M(e) {
                return e.nodeType === 1 && e.id === "_mce_caret"
            }
            function _() {
                H({
                    valigntop: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "top"
                        }
                    }],
                    valignmiddle: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "middle"
                        }
                    }],
                    valignbottom: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "bottom"
                        }
                    }],
                    alignleft: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "left"
                        },
                        defaultBlock: "div"
                    },
                    {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            "float": "left"
                        }
                    }],
                    aligncenter: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "center"
                        },
                        defaultBlock: "div"
                    },
                    {
                        selector: "img",
                        collapsed: !1,
                        styles: {
                            display: "block",
                            marginLeft: "auto",
                            marginRight: "auto"
                        }
                    },
                    {
                        selector: "table",
                        collapsed: !1,
                        styles: {
                            marginLeft: "auto",
                            marginRight: "auto"
                        }
                    }],
                    alignright: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "right"
                        },
                        defaultBlock: "div"
                    },
                    {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            "float": "right"
                        }
                    }],
                    alignjustify: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "justify"
                        },
                        defaultBlock: "div"
                    }],
                    bold: [{
                        inline: "strong",
                        remove: "all"
                    },
                    {
                        inline: "span",
                        styles: {
                            fontWeight: "bold"
                        }
                    },
                    {
                        inline: "b",
                        remove: "all"
                    }],
                    italic: [{
                        inline: "em",
                        remove: "all"
                    },
                    {
                        inline: "span",
                        styles: {
                            fontStyle: "italic"
                        }
                    },
                    {
                        inline: "i",
                        remove: "all"
                    }],
                    underline: [{
                        inline: "span",
                        styles: {
                            textDecoration: "underline"
                        },
                        exact: !0
                    },
                    {
                        inline: "u",
                        remove: "all"
                    }],
                    strikethrough: [{
                        inline: "span",
                        styles: {
                            textDecoration: "line-through"
                        },
                        exact: !0
                    },
                    {
                        inline: "strike",
                        remove: "all"
                    }],
                    forecolor: {
                        inline: "span",
                        styles: {
                            color: "%value"
                        },
                        links: !0,
                        remove_similar: !0
                    },
                    hilitecolor: {
                        inline: "span",
                        styles: {
                            backgroundColor: "%value"
                        },
                        links: !0,
                        remove_similar: !0
                    },
                    fontname: {
                        inline: "span",
                        styles: {
                            fontFamily: "%value"
                        }
                    },
                    fontsize: {
                        inline: "span",
                        styles: {
                            fontSize: "%value"
                        }
                    },
                    fontsize_class: {
                        inline: "span",
                        attributes: {
                            "class": "%value"
                        }
                    },
                    blockquote: {
                        block: "blockquote",
                        wrapper: 1,
                        remove: "all"
                    },
                    subscript: {
                        inline: "sub"
                    },
                    superscript: {
                        inline: "sup"
                    },
                    code: {
                        inline: "code"
                    },
                    link: {
                        inline: "a",
                        selector: "a",
                        remove: "all",
                        split: !0,
                        deep: !0,
                        onmatch: function() {
                            return ! 0
                        },
                        onformat: function(e, t, n) {
                            N(n,
                            function(t, n) {
                                a.setAttrib(e, n, t)
                            })
                        }
                    },
                    removeformat: [{
                        selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",
                        remove: "all",
                        split: !0,
                        expand: !1,
                        block_expand: !0,
                        deep: !0
                    },
                    {
                        selector: "span",
                        attributes: ["style", "class"],
                        remove: "empty",
                        split: !0,
                        expand: !1,
                        deep: !0
                    },
                    {
                        selector: "*",
                        attributes: ["style", "class"],
                        split: !1,
                        expand: !1,
                        deep: !0
                    }]
                }),
                N("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),
                function(e) {
                    H(e, {
                        block: e,
                        remove: "all"
                    })
                }),
                H(o.settings.formats)
            }
            function D() {
                o.addShortcut("ctrl+b", "bold_desc", "Bold"),
                o.addShortcut("ctrl+i", "italic_desc", "Italic"),
                o.addShortcut("ctrl+u", "underline_desc", "Underline");
                for (var e = 1; e <= 6; e++) o.addShortcut("ctrl+" + e, "", ["FormatBlock", !1, "h" + e]);
                o.addShortcut("ctrl+7", "", ["FormatBlock", !1, "p"]),
                o.addShortcut("ctrl+8", "", ["FormatBlock", !1, "div"]),
                o.addShortcut("ctrl+9", "", ["FormatBlock", !1, "address"])
            }
            function P(e) {
                return e ? u[e] : u
            }
            function H(e, t) {
                e && (typeof e != "string" ? N(e,
                function(e, t) {
                    H(t, e)
                }) : (t = t.length ? t: [t], N(t,
                function(e) {
                    e.deep === w && (e.deep = !e.selector),
                    e.split === w && (e.split = !e.selector || e.inline),
                    e.remove === w && e.selector && !e.inline && (e.remove = "none"),
                    e.selector && e.inline && (e.mixed = !0, e.block_expand = !0),
                    typeof e.classes == "string" && (e.classes = e.classes.split(/\s+/))
                }), u[e] = t))
            }
            function B(e) {
                var t;
                return o.dom.getParent(e,
                function(e) {
                    return t = o.dom.getStyle(e, "text-decoration"),
                    t && t !== "none"
                }),
                t
            }
            function j(e) {
                var t;
                e.nodeType === 1 && e.parentNode && e.parentNode.nodeType === 1 && (t = B(e.parentNode), o.dom.getStyle(e, "color") && t ? o.dom.setStyle(e, "text-decoration", t) : o.dom.getStyle(e, "textdecoration") === t && o.dom.setStyle(e, "text-decoration", null))
            }
            function F(t, n, r) {
                function m(e, t) {
                    t = t || s;
                    if (e) {
                        t.onformat && t.onformat(e, t, n, r),
                        N(t.styles,
                        function(t, r) {
                            a.setStyle(e, r, G(t, n))
                        });
                        if (t.styles) {
                            var i = a.getAttrib(e, "style");
                            i && e.setAttribute("data-mce-style", i)
                        }
                        N(t.attributes,
                        function(t, r) {
                            a.setAttrib(e, r, G(t, n))
                        }),
                        N(t.classes,
                        function(t) {
                            t = G(t, n),
                            a.hasClass(e, t) || a.addClass(e, t)
                        })
                    }
                }
                function b() {
                    function t(t, n) {
                        var i = new e(n);
                        for (r = i.current(); r; r = i.prev()) if (r.childNodes.length > 1 || r == t || r.tagName == "BR") return r
                    }
                    var n = o.selection.getRng(),
                    i = n.startContainer,
                    s = n.endContainer;
                    if (i != s && n.endOffset === 0) {
                        var u = t(i, s),
                        a = u.nodeType == 3 ? u.length: u.childNodes.length;
                        n.setEnd(u, a)
                    }
                    return n
                }
                function w(e, r, o) {
                    var u = [],
                    f,
                    p,
                    d = !0;
                    f = s.inline || s.block,
                    p = a.create(f),
                    m(p),
                    l.walk(e,
                    function(e) {
                        function l(e) {
                            var y, b, w, S, x;
                            x = d,
                            y = e.nodeName.toLowerCase(),
                            b = e.parentNode.nodeName.toLowerCase(),
                            e.nodeType === 1 && E(e) && (x = d, d = E(e) === "true", S = !0);
                            if (J(y, "br")) {
                                r = 0,
                                s.block && a.remove(e);
                                return
                            }
                            if (s.wrapper && R(e, t, n)) {
                                r = 0;
                                return
                            }
                            if (d && !S && s.block && !s.wrapper && A(y) && c(b, f)) {
                                e = a.rename(e, f),
                                m(e),
                                u.push(e),
                                r = 0;
                                return
                            }
                            if (s.selector) {
                                N(i,
                                function(t) {
                                    if ("collapsed" in t && t.collapsed !== v) return;
                                    a.is(e, t.selector) && !M(e) && (m(e, t), w = !0)
                                });
                                if (!s.inline || w) {
                                    r = 0;
                                    return
                                }
                            }
                            d && !S && c(f, y) && c(b, f) && ( !! o || e.nodeType !== 3 || e.nodeValue.length !== 1 || e.nodeValue.charCodeAt(0) !== 65279) && !M(e) && (!s.inline || !h(e)) ? (r || (r = a.clone(p, g), e.parentNode.insertBefore(r, e), u.push(r)), r.appendChild(e)) : (r = 0, N(C(e.childNodes), l), S && (d = x), r = 0)
                        }
                        var r;
                        N(e, l)
                    }),
                    s.links === !0 && N(u,
                    function(e) {
                        function t(e) {
                            e.nodeName === "A" && m(e, s),
                            N(C(e.childNodes), t)
                        }
                        t(e)
                    }),
                    N(u,
                    function(e) {
                        function o(e) {
                            var t = 0;
                            return N(e.childNodes,
                            function(e) { ! Y(e) && !T(e) && t++
                            }),
                            t
                        }
                        function f(e) {
                            var t, n;
                            return N(e.childNodes,
                            function(e) {
                                if (e.nodeType == 1 && !T(e) && !M(e)) return t = e,
                                g
                            }),
                            t && !T(t) && $(t, s) && (n = a.clone(t, g), m(n), a.replace(n, e, y), a.remove(t, 1)),
                            n || e
                        }
                        var r;
                        r = o(e);
                        if ((u.length > 1 || !h(e)) && r === 0) {
                            a.remove(e, 1);
                            return
                        }
                        if (s.inline || s.wrapper) { ! s.exact && r === 1 && (e = f(e)),
                            N(i,
                            function(t) {
                                N(a.select(t.inline, e),
                                function(e) {
                                    if (T(e)) return;
                                    nt(t, n, e, t.exact ? e: null)
                                })
                            });
                            if (R(e.parentNode, t, n)) return a.remove(e, 1),
                            e = 0,
                            y;
                            s.merge_with_parents && a.getParent(e.parentNode,
                            function(r) {
                                if (R(r, t, n)) return a.remove(e, 1),
                                e = 0,
                                y
                            }),
                            e && s.merge_siblings !== !1 && (e = st(it(e), e), e = st(e, it(e, y)))
                        }
                    })
                }
                var i = P(t),
                s = i[0],
                u,
                d,
                v = !r && f.isCollapsed();
                if (s) if (r) r.nodeType ? (d = a.createRng(), d.setStartBefore(r), d.setEndAfter(r), w(et(d, i), null, !0)) : w(r, null, !0);
                else if (!v || !s.inline || a.select("td.mce-item-selected,th.mce-item-selected").length) {
                    var S = o.selection.getNode(); ! p && i[0].defaultBlock && !a.getParent(S, a.isBlock) && F(i[0].defaultBlock),
                    o.selection.setRng(b()),
                    u = f.getBookmark(),
                    w(et(f.getRng(y), i), u),
                    s.styles && (s.styles.color || s.styles.textDecoration) && (k(S, j, "childNodes"), j(S)),
                    f.moveToBookmark(u),
                    at(f.getRng(y)),
                    o.nodeChanged()
                } else ut("apply", t, n)
            }
            function I(e, t, n, r) {
                function v(e) {
                    var n, r, o, u, a;
                    e.nodeType === 1 && E(e) && (u = p, p = E(e) === "true", a = !0),
                    n = C(e.childNodes);
                    if (p && !a) for (r = 0, o = i.length; r < o; r++) if (nt(i[r], t, e, e)) break;
                    if (s.deep && n.length) {
                        for (r = 0, o = n.length; r < o; r++) v(n[r]);
                        a && (p = u)
                    }
                }
                function m(n) {
                    var i;
                    return N(O(n.parentNode).reverse(),
                    function(n) {
                        var s; ! i && n.id != "_start" && n.id != "_end" && (s = R(n, e, t, r), s && s.split !== !1 && (i = n))
                    }),
                    i
                }
                function b(e, n, r, o) {
                    var u, f, l, c, p, d;
                    if (e) {
                        d = e.parentNode;
                        for (u = n.parentNode; u && u != d; u = u.parentNode) {
                            f = a.clone(u, g);
                            for (p = 0; p < i.length; p++) if (nt(i[p], t, f, f)) {
                                f = 0;
                                break
                            }
                            f && (l && f.appendChild(l), c || (c = f), l = f)
                        }
                        o && (!s.mixed || !h(e)) && (n = a.split(e, n)),
                        l && (r.parentNode.insertBefore(l, r), c.appendChild(r))
                    }
                    return n
                }
                function w(e) {
                    return b(m(e), e, e, !0)
                }
                function S(e) {
                    var t = a.get(e ? "_start": "_end"),
                    n = t[e ? "firstChild": "lastChild"];
                    return T(n) && (n = n[e ? "firstChild": "lastChild"]),
                    a.remove(t, !0),
                    n
                }
                function x(e) {
                    var t, n, r = e.commonAncestorContainer;
                    e = et(e, i, y),
                    s.split && (t = ot(e, y), n = ot(e), t != n ? (/^(TR|TH|TD)$/.test(t.nodeName) && t.firstChild && (t.nodeName == "TR" ? t = t.firstChild.firstChild || t: t = t.firstChild || t), r && /^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName) && /^(TH|TD)$/.test(n.nodeName) && n.firstChild && (n = n.firstChild || n), t = Z(t, "span", {
                        id: "_start",
                        "data-mce-type": "bookmark"
                    }), n = Z(n, "span", {
                        id: "_end",
                        "data-mce-type": "bookmark"
                    }), w(t), w(n), t = S(y), n = S()) : t = n = w(t), e.startContainer = t.parentNode, e.startOffset = d(t), e.endContainer = n.parentNode, e.endOffset = d(n) + 1),
                    l.walk(e,
                    function(e) {
                        N(e,
                        function(e) {
                            v(e),
                            e.nodeType === 1 && o.dom.getStyle(e, "text-decoration") === "underline" && e.parentNode && B(e.parentNode) === "underline" && nt({
                                deep: !1,
                                exact: !0,
                                inline: "span",
                                styles: {
                                    textDecoration: "underline"
                                }
                            },
                            null, e)
                        })
                    })
                }
                var i = P(e),
                s = i[0],
                u,
                c,
                p = !0;
                if (n) {
                    n.nodeType ? (c = a.createRng(), c.setStartBefore(n), c.setEndAfter(n), x(c)) : x(n);
                    return
                } ! f.isCollapsed() || !s.inline || a.select("td.mce-item-selected,th.mce-item-selected").length ? (u = f.getBookmark(), x(f.getRng(y)), f.moveToBookmark(u), s.inline && U(e, t, f.getStart()) && at(f.getRng(!0)), o.nodeChanged()) : ut("remove", e, t, r)
            }
            function q(e, t, n) {
                var r = P(e); ! U(e, t, n) || "toggle" in r[0] && !r[0].toggle ? F(e, t, n) : I(e, t, n)
            }
            function R(e, t, n, r) {
                function f(e, t, i) {
                    var s, o, u = t[i],
                    f;
                    if (t.onmatch) return t.onmatch(e, t, i);
                    if (u) if (u.length === w) for (s in u) {
                        if (u.hasOwnProperty(s)) {
                            i === "attributes" ? o = a.getAttrib(e, s) : o = K(e, s);
                            if (r && !o && !t.exact) return;
                            if ((!r || t.exact) && !J(o, Q(G(u[s], n), s))) return
                        }
                    } else for (f = 0; f < u.length; f++) if (i === "attributes" ? a.getAttrib(e, u[f]) : K(e, u[f])) return t;
                    return t
                }
                var i = P(t),
                s,
                o,
                u;
                if (i && e) for (o = 0; o < i.length; o++) {
                    s = i[o];
                    if ($(e, s) && f(e, s, "attributes") && f(e, s, "styles")) {
                        if (u = s.classes) for (o = 0; o < u.length; o++) if (!a.hasClass(e, u[o])) return;
                        return s
                    }
                }
            }
            function U(e, t, n) {
                function i(n) {
                    var r = a.getRoot();
                    return n === r ? !1 : (n = a.getParent(n,
                    function(n) {
                        return n.parentNode === r || !!R(n, e, t, !0)
                    }), R(n, e, t))
                }
                var r;
                return n ? i(n) : (n = f.getNode(), i(n) ? y: (r = f.getStart(), r != n && i(r) ? y: g))
            }
            function z(e, t) {
                var n, r = [],
                i = {};
                return n = f.getStart(),
                a.getParent(n,
                function(n) {
                    var s, o;
                    for (s = 0; s < e.length; s++) o = e[s],
                    !i[o] && R(n, o, t) && (i[o] = !0, r.push(o))
                },
                a.getRoot()),
                r
            }
            function W(e) {
                var t = P(e),
                n,
                r,
                i,
                s,
                o;
                if (t) {
                    n = f.getStart(),
                    r = O(n);
                    for (s = t.length - 1; s >= 0; s--) {
                        o = t[s].selector;
                        if (!o || t[s].defaultBlock) return y;
                        for (i = r.length - 1; i >= 0; i--) if (a.is(r[i], o)) return y
                    }
                }
                return g
            }
            function X(e, t, n) {
                var r;
                return b || (b = {},
                r = {},
                o.on("NodeChange",
                function(e) {
                    var t = O(e.element),
                    n = {};
                    t = i.grep(t,
                    function(e) {
                        return e.nodeType == 1 && !e.getAttribute("data-mce-bogus")
                    }),
                    N(b,
                    function(e, i) {
                        N(t,
                        function(s) {
                            if (R(s, i, {},
                            e.similar)) return r[i] || (N(e,
                            function(e) {
                                e(!0, {
                                    node: s,
                                    format: i,
                                    parents: t
                                })
                            }), r[i] = e),
                            n[i] = e,
                            !1
                        })
                    }),
                    N(r,
                    function(i, s) {
                        n[s] || (delete r[s], N(i,
                        function(n) {
                            n(!1, {
                                node: e.element,
                                format: s,
                                parents: t
                            })
                        }))
                    })
                })),
                N(e.split(","),
                function(e) {
                    b[e] || (b[e] = [], b[e].similar = n),
                    b[e].push(t)
                }),
                this
            }
            function V(e) {
                return s.getCssText(o, e)
            }
            function $(e, t) {
                if (J(e, t.inline)) return y;
                if (J(e, t.block)) return y;
                if (t.selector) return e.nodeType == 1 && a.is(e, t.selector)
            }
            function J(e, t) {
                return e = e || "",
                t = t || "",
                e = "" + (e.nodeName || e),
                t = "" + (t.nodeName || t),
                e.toLowerCase() == t.toLowerCase()
            }
            function K(e, t) {
                return Q(a.getStyle(e, t), t)
            }
            function Q(e, t) {
                if (t == "color" || t == "backgroundColor") e = a.toHex(e);
                return t == "fontWeight" && e == 700 && (e = "bold"),
                t == "fontFamily" && (e = e.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")),
                "" + e
            }
            function G(e, t) {
                return typeof e != "string" ? e = e(t) : t && (e = e.replace(/%(\w+)/g,
                function(e, n) {
                    return t[n] || e
                })),
                e
            }
            function Y(e) {
                return e && e.nodeType === 3 && /^([\t \r\n]+|)$/.test(e.nodeValue)
            }
            function Z(e, t, n) {
                var r = a.create(t, n);
                return e.parentNode.insertBefore(r, e),
                r.appendChild(e),
                r
            }
            function et(t, n, r) {
                function v(e) {
                    function u(e) {
                        return e.nodeName == "BR" && e.getAttribute("data-mce-bogus") && !e.nextSibling
                    }
                    var t, r, i, s, o;
                    t = r = e ? f: c,
                    s = e ? "previousSibling": "nextSibling",
                    o = a.getRoot();
                    if (t.nodeType == 3 && !Y(t)) if (e ? l > 0 : p < t.nodeValue.length) return t;
                    for (;;) {
                        if (!n[0].block_expand && h(r)) return r;
                        for (i = r[s]; i; i = i[s]) if (!T(i) && !Y(i) && !u(i)) return r;
                        if (r.parentNode == o) {
                            t = r;
                            break
                        }
                        r = r.parentNode
                    }
                    return t
                }
                function m(e, t) {
                    t === w && (t = e.nodeType === 3 ? e.length: e.childNodes.length);
                    while (e && e.hasChildNodes()) e = e.childNodes[t],
                    e && (t = e.nodeType === 3 ? e.length: e.childNodes.length);
                    return {
                        node: e,
                        offset: t
                    }
                }
                function y(e) {
                    var t = e;
                    while (t) {
                        if (t.nodeType === 1 && E(t)) return E(t) === "false" ? t: e;
                        t = t.parentNode
                    }
                    return e
                }
                function b(t, n, i) {
                    function c(e, t) {
                        var n, s, o = e.nodeValue;
                        return typeof t == "undefined" && (t = i ? o.length: 0),
                        i ? (n = o.lastIndexOf(" ", t), s = o.lastIndexOf("\u00a0", t), n = n > s ? n: s, n !== -1 && !r && n++) : (n = o.indexOf(" ", t), s = o.indexOf("\u00a0", t), n = n !== -1 && (s === -1 || n < s) ? n: s),
                        n
                    }
                    var s, u, f, l;
                    if (t.nodeType === 3) {
                        f = c(t, n);
                        if (f !== -1) return {
                            container: t,
                            offset: f
                        };
                        l = t
                    }
                    s = new e(t, a.getParent(t, h) || o.getBody());
                    while (u = s[i ? "prev": "next"]()) if (u.nodeType === 3) {
                        l = u,
                        f = c(u);
                        if (f !== -1) return {
                            container: u,
                            offset: f
                        }
                    } else if (h(u)) break;
                    if (l) return i ? n = 0 : n = l.length,
                    {
                        container: l,
                        offset: n
                    }
                }
                function S(e, r) {
                    var i, s, o, u;
                    e.nodeType == 3 && e.nodeValue.length === 0 && e[r] && (e = e[r]),
                    i = O(e);
                    for (s = 0; s < i.length; s++) for (o = 0; o < n.length; o++) {
                        u = n[o];
                        if ("collapsed" in u && u.collapsed !== t.collapsed) continue;
                        if (a.is(i[s], u.selector)) return i[s]
                    }
                    return e
                }
                function x(e, t) {
                    var r, i = a.getRoot();
                    n[0].wrapper || (r = a.getParent(e, n[0].block, i)),
                    r || (r = a.getParent(e.nodeType == 3 ? e.parentNode: e,
                    function(e) {
                        return e != i && A(e)
                    })),
                    r && n[0].wrapper && (r = O(r, "ul,ol").reverse()[0] || r);
                    if (!r) {
                        r = e;
                        while (r[t] && !h(r[t])) {
                            r = r[t];
                            if (J(r, "br")) break
                        }
                    }
                    return r || e
                }
                var i, s, u, f = t.startContainer,
                l = t.startOffset,
                c = t.endContainer,
                p = t.endOffset;
                f.nodeType == 1 && f.hasChildNodes() && (i = f.childNodes.length - 1, f = f.childNodes[l > i ? i: l], f.nodeType == 3 && (l = 0)),
                c.nodeType == 1 && c.hasChildNodes() && (i = c.childNodes.length - 1, c = c.childNodes[p > i ? i: p - 1], c.nodeType == 3 && (p = c.nodeValue.length)),
                f = y(f),
                c = y(c);
                if (T(f.parentNode) || T(f)) f = T(f) ? f: f.parentNode,
                f = f.nextSibling || f,
                f.nodeType == 3 && (l = 0);
                if (T(c.parentNode) || T(c)) c = T(c) ? c: c.parentNode,
                c = c.previousSibling || c,
                c.nodeType == 3 && (p = c.length);
                if (n[0].inline) {
                    t.collapsed && (u = b(f, l, !0), u && (f = u.container, l = u.offset), u = b(c, p), u && (c = u.container, p = u.offset)),
                    s = m(c, p);
                    if (s.node) {
                        while (s.node && s.offset === 0 && s.node.previousSibling) s = m(s.node.previousSibling);
                        s.node && s.offset > 0 && s.node.nodeType === 3 && s.node.nodeValue.charAt(s.offset - 1) === " " && s.offset > 1 && (c = s.node, c.splitText(s.offset - 1))
                    }
                }
                if (n[0].inline || n[0].block_expand) {
                    if (!n[0].inline || f.nodeType != 3 || l === 0) f = v(!0);
                    if (!n[0].inline || c.nodeType != 3 || p === c.nodeValue.length) c = v()
                }
                n[0].selector && n[0].expand !== g && !n[0].inline && (f = S(f, "previousSibling"), c = S(c, "nextSibling"));
                if (n[0].block || n[0].selector) f = x(f, "previousSibling"),
                c = x(c, "nextSibling"),
                n[0].block && (h(f) || (f = v(!0)), h(c) || (c = v()));
                return f.nodeType == 1 && (l = d(f), f = f.parentNode),
                c.nodeType == 1 && (p = d(c) + 1, c = c.parentNode),
                {
                    startContainer: f,
                    startOffset: l,
                    endContainer: c,
                    endOffset: p
                }
            }
            function tt(e, t) {
                return t.links && e.tagName == "A"
            }
            function nt(e, t, n, r) {
                var i, s, o;
                if (!$(n, e) && !tt(n, e)) return g;
                if (e.remove != "all") {
                    N(e.styles,
                    function(i, s) {
                        i = Q(G(i, t), s),
                        typeof s == "number" && (s = i, r = 0),
                        (e.remove_similar || !r || J(K(r, s), i)) && a.setStyle(n, s, ""),
                        o = 1
                    }),
                    o && a.getAttrib(n, "style") === "" && (n.removeAttribute("style"), n.removeAttribute("data-mce-style")),
                    N(e.attributes,
                    function(e, i) {
                        var s;
                        e = G(e, t),
                        typeof i == "number" && (i = e, r = 0);
                        if (!r || J(a.getAttrib(r, i), e)) {
                            if (i == "class") {
                                e = a.getAttrib(n, i);
                                if (e) {
                                    s = "",
                                    N(e.split(/\s+/),
                                    function(e) { / mce\w + /.test(e)&&(s+=(s?" ":"")+e)});if(s){a.setAttrib(n,i,s);return}}}i=="class"&&n.removeAttribute("className"),m.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}}),N(e.classes,function(e){e=G(e,t),(!r||a.hasClass(r,e))&&a.removeClass(n,e)}),s=a.getAttribs(n);for(i=0;i<s.length;i++)if(s[i].nodeName.indexOf("_")!==0)return g}if(e.remove!="none")return rt(n,e),y}function rt(e,t){function i(e,t,n){return e=it(e,t,n),!e||e.nodeName=="BR"||h(e)}var n=e.parentNode,r;t.block&&(p?n==a.getRoot()&&(!t.list_block||!J(e,t.list_block))&&N(C(e.childNodes),function(e){c(p,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=Z(e,p),a.setAttribs(r,o.settings.forced_root_block_attrs)):r=0}):h(e)&&!h(n)&&(!i(e,g)&&!i(e.firstChild,y,1)&&e.insertBefore(a.create("br"),e.firstChild),!i(e,y)&&!i(e.lastChild,g,1)&&e.appendChild(a.create("br"))));if(t.selector&&t.inline&&!J(t.inline,e))return;a.remove(e,1)}function it(e,t,n){if(e){t=t?"nextSibling":"previousSibling";for(e=n?e:e[t];e;e=e[t])if(e.nodeType==1||!Y(e))return e}}function st(e,t){function o(e,t){for(n=e;n;n=n[t]){if(n.nodeType==3&&n.nodeValue.length!==0)return e;if(n.nodeType==1&&!T(n))return n}return e}var n,i,s=new r(a);if(e&&t){e=o(e,"previousSibling"),t=o(t,"nextSibling");if(s.compare(e,t)){for(n=e.nextSibling;n&&n!=t;)i=n,n=n.nextSibling,e.appendChild(i);return a.remove(t),N(C(t.childNodes),function(t){e.appendChild(t)}),e}}return t}function ot(t,n){var r,i,s;return r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],r.nodeType==1&&(s=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>s?s:i]),r.nodeType===3&&n&&i>=r.nodeValue.length&&(r=(new e(r,o.getBody())).next()||r),r.nodeType===3&&!n&&i===0&&(r=(new e(r,o.getBody())).prev()||r),r}function ut(t,n,r,i){function c(e){var t=a.create("span",{id:s,"data-mce-bogus":!0,style:u?"color:red":""});return e&&t.appendChild(o.getDoc().createTextNode(v)),t}function h(e,t){while(e){if(e.nodeType===3&&e.nodeValue!==v||e.childNodes.length>1)return!1;t&&e.nodeType===1&&t.push(e),e=e.firstChild}return!0}function p(e){while(e){if(e.id===s)return e;e=e.parentNode}}function d(t){var n;if(t){n=new e(t,t);for(t=n.current();t;t=n.next())if(t.nodeType===3)return t}}function m(e,t){var n,r;if(!e){e=p(f.getStart());if(!e)while(e=a.get(s))m(e,!1)}else r=f.getRng(!0),h(e)?(t!==!1&&(r.setStartBefore(e),r.setEndBefore(e)),a.remove(e)):(n=d(e),n.nodeValue.charAt(0)===v&&(n.deleteData(0,1),r.startContainer==n&&r.startOffset--,r.endContainer==n&&r.endOffset--),a.remove(e,1)),f.setRng(r)}function g(){var e,t,i,s,o,u,a;e=f.getRng(!0),s=e.startOffset,u=e.startContainer,a=u.nodeValue,t=p(f.getStart()),t&&(i=d(t)),a&&s>0&&s<a.length&&/\w / .test(a.charAt(s)) && /\w/.test(a.charAt(s - 1)) ? (o = f.getBookmark(), e.collapse(!0), e = et(e, P(n)), e = l.split(e), F(n, r, e), f.moveToBookmark(o)) : (!t || i.nodeValue !== v ? (t = c(!0), i = t.firstChild, e.insertNode(t), s = 1, F(n, r, t)) : F(n, r, t), f.setCursorLocation(i, s))
                                    }
                                    function y() {
                                        var e = f.getRng(!0),
                                        t,
                                        s,
                                        o,
                                        u,
                                        h,
                                        p,
                                        d = [],
                                        m,
                                        g;
                                        t = e.startContainer,
                                        s = e.startOffset,
                                        h = t,
                                        t.nodeType == 3 && (s != t.nodeValue.length && (u = !0), h = h.parentNode);
                                        while (h) {
                                            if (R(h, n, r, i)) {
                                                p = h;
                                                break
                                            }
                                            h.nextSibling && (u = !0),
                                            d.push(h),
                                            h = h.parentNode
                                        }
                                        if (!p) return;
                                        if (u) o = f.getBookmark(),
                                        e.collapse(!0),
                                        e = et(e, P(n), !0),
                                        e = l.split(e),
                                        I(n, r, e),
                                        f.moveToBookmark(o);
                                        else {
                                            g = c(),
                                            h = g;
                                            for (m = d.length - 1; m >= 0; m--) h.appendChild(a.clone(d[m], !1)),
                                            h = h.firstChild;
                                            h.appendChild(a.doc.createTextNode(v)),
                                            h = h.firstChild;
                                            var y = a.getParent(p, A);
                                            y && a.isEmpty(y) ? p.parentNode.replaceChild(g, p) : a.insertAfter(g, p),
                                            f.setCursorLocation(h, 1),
                                            a.isEmpty(p) && a.remove(p)
                                        }
                                    }
                                    function b() {
                                        var e;
                                        e = p(f.getStart()),
                                        e && !a.isEmpty(e) && k(e,
                                        function(e) {
                                            e.nodeType == 1 && e.id !== s && !a.isEmpty(e) && a.setAttrib(e, "data-mce-bogus", null)
                                        },
                                        "childNodes")
                                    }
                                    var s = "_mce_caret",
                                    u = o.settings.caret_debug; o._hasCaretEvents || (x = function() {
                                        var e = [],
                                        t;
                                        if (h(p(f.getStart()), e)) {
                                            t = e.length;
                                            while (t--) a.setAttrib(e[t], "data-mce-bogus", "1")
                                        }
                                    },
                                    S = function(e) {
                                        var t = e.keyCode;
                                        m(),
                                        (t == 8 || t == 37 || t == 39) && m(p(f.getStart())),
                                        b()
                                    },
                                    o.on("SetContent",
                                    function(e) {
                                        e.selection && b()
                                    }), o._hasCaretEvents = !0), t == "apply" ? g() : y()
                                }
                                function at(t) {
                                    var n = t.startContainer,
                                    r = t.startOffset,
                                    i, s, o, u, l;
                                    n.nodeType == 3 && r >= n.nodeValue.length && (r = d(n), n = n.parentNode, i = !0);
                                    if (n.nodeType == 1) {
                                        u = n.childNodes,
                                        n = u[Math.min(r, u.length - 1)],
                                        s = new e(n, a.getParent(n, a.isBlock)),
                                        (r > u.length - 1 || i) && s.next();
                                        for (o = s.current(); o; o = s.next()) if (o.nodeType == 3 && !Y(o)) {
                                            l = a.create("a", {
                                                "data-mce-bogus": "all"
                                            },
                                            v),
                                            o.parentNode.insertBefore(l, o),
                                            t.setStart(o, 0),
                                            f.setRng(t),
                                            a.remove(l);
                                            return
                                        }
                                    }
                                }
                                var u = {},
                                a = o.dom,
                                f = o.selection,
                                l = new t(a),
                                c = o.schema.isValidChild,
                                h = a.isBlock,
                                p = o.settings.forced_root_block,
                                d = a.nodeIndex,
                                v = "\ufeff",
                                m = /^(src|href|style)$/,
                                g = !1,
                                y = !0,
                                b,
                                w,
                                E = a.getContentEditable,
                                S,
                                x,
                                T = n.isBookmarkNode,
                                N = i.each,
                                C = i.grep,
                                k = i.walk,
                                L = i.extend;
                                L(this, {
                                    get: P,
                                    register: H,
                                    apply: F,
                                    remove: I,
                                    toggle: q,
                                    match: U,
                                    matchAll: z,
                                    matchNode: R,
                                    canApply: W,
                                    formatChanged: X,
                                    getCssText: V
                                }),
                                _(),
                                D(),
                                o.on("BeforeGetContent",
                                function(e) {
                                    x && e.format != "raw" && x()
                                }),
                                o.on("mouseup keydown",
                                function(e) {
                                    S && S(e)
                                })
                            }
                        }),
                        i("tinymce/UndoManager", ["tinymce/Env", "tinymce/util/Tools", "tinymce/html/SaxParser"],
                        function(e, t, n) {
                            var r = t.trim,
                            i;
                            return i = new RegExp(["\x3cspan[^\x3e]+data-mce-bogus[^\x3e]+\x3e[\u200b\ufeff]+\x3c\\/span\x3e", '\\s?data-mce-selected\x3d"[^"]+"'].join("|"), "gi"),
                            function(t) {
                                function c() {
                                    var e = r(t.getContent({
                                        format: "raw",
                                        no_events: 1
                                    })),
                                    s = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
                                    o,
                                    u,
                                    a,
                                    f,
                                    l,
                                    c = t.schema;
                                    e = e.replace(i, ""),
                                    l = c.getShortEndedElements();
                                    while (f = s.exec(e)) u = s.lastIndex,
                                    a = f[0].length,
                                    l[f[1]] ? o = u: o = n.findEndTag(c, e, u),
                                    e = e.substring(0, u - a) + e.substring(o),
                                    s.lastIndex = u - a;
                                    return e
                                }
                                function h(e) {
                                    s.typing = !1,
                                    s.add({},
                                    e)
                                }
                                var s = this,
                                o = 0,
                                u = [],
                                a,
                                f,
                                l = 0;
                                return t.on("init",
                                function() {
                                    s.add()
                                }),
                                t.on("BeforeExecCommand",
                                function(e) {
                                    var t = e.command;
                                    t != "Undo" && t != "Redo" && t != "mceRepaint" && s.beforeChange()
                                }),
                                t.on("ExecCommand",
                                function(e) {
                                    var t = e.command;
                                    t != "Undo" && t != "Redo" && t != "mceRepaint" && h(e)
                                }),
                                t.on("ObjectResizeStart",
                                function() {
                                    s.beforeChange()
                                }),
                                t.on("SaveContent ObjectResized blur", h),
                                t.on("DragEnd", h),
                                t.on("KeyUp",
                                function(n) {
                                    var r = n.keyCode;
                                    if (r >= 33 && r <= 36 || r >= 37 && r <= 40 || r == 45 || r == 13 || n.ctrlKey) h(),
                                    t.nodeChanged(); (r == 46 || r == 8 || e.mac && (r == 91 || r == 93)) && t.nodeChanged(),
                                    f && s.typing && (t.isDirty() || (t.isNotDirty = !u[0] || c() == u[0].content, t.isNotDirty || t.fire("change", {
                                        level: u[0],
                                        lastLevel: null
                                    })), t.fire("TypingUndo"), f = !1, t.nodeChanged())
                                }),
                                t.on("KeyDown",
                                function(e) {
                                    var t = e.keyCode;
                                    if (t >= 33 && t <= 36 || t >= 37 && t <= 40 || t == 45) {
                                        s.typing && h(e);
                                        return
                                    } (t < 16 || t > 20) && t != 224 && t != 91 && !s.typing && (s.beforeChange(), s.typing = !0, s.add({},
                                    e), f = !0)
                                }),
                                t.on("MouseDown",
                                function(e) {
                                    s.typing && h(e)
                                }),
                                t.addShortcut("ctrl+z", "", "Undo"),
                                t.addShortcut("ctrl+y,ctrl+shift+z", "", "Redo"),
                                t.on("AddUndo Undo Redo ClearUndos",
                                function(e) {
                                    e.isDefaultPrevented() || t.nodeChanged()
                                }),
                                s = {
                                    data: u,
                                    typing: !1,
                                    beforeChange: function() {
                                        l || (a = t.selection.getBookmark(2, !0))
                                    },
                                    add: function(e, n) {
                                        var r, i = t.settings,
                                        s;
                                        e = e || {},
                                        e.content = c();
                                        if (l || t.removed) return null;
                                        s = u[o];
                                        if (t.fire("BeforeAddUndo", {
                                            level: e,
                                            lastLevel: s,
                                            originalEvent: n
                                        }).isDefaultPrevented()) return null;
                                        if (s && s.content == e.content) return null;
                                        u[o] && (u[o].beforeBookmark = a);
                                        if (i.custom_undo_redo_levels && u.length > i.custom_undo_redo_levels) {
                                            for (r = 0; r < u.length - 1; r++) u[r] = u[r + 1];
                                            u.length--,
                                            o = u.length
                                        }
                                        e.bookmark = t.selection.getBookmark(2, !0),
                                        o < u.length - 1 && (u.length = o + 1),
                                        u.push(e),
                                        o = u.length - 1;
                                        var f = {
                                            level: e,
                                            lastLevel: s,
                                            originalEvent: n
                                        };
                                        return t.fire("AddUndo", f),
                                        o > 0 && (t.isNotDirty = !1, t.fire("change", f)),
                                        e
                                    },
                                    undo: function() {
                                        var e;
                                        return s.typing && (s.add(), s.typing = !1),
                                        o > 0 && (e = u[--o], o === 0 && (t.isNotDirty = !0), t.setContent(e.content, {
                                            format: "raw"
                                        }), t.selection.moveToBookmark(e.beforeBookmark), t.fire("undo", {
                                            level: e
                                        })),
                                        e
                                    },
                                    redo: function() {
                                        var e;
                                        return o < u.length - 1 && (e = u[++o], t.setContent(e.content, {
                                            format: "raw"
                                        }), t.selection.moveToBookmark(e.bookmark), t.fire("redo", {
                                            level: e
                                        })),
                                        e
                                    },
                                    clear: function() {
                                        u = [],
                                        o = 0,
                                        s.typing = !1,
                                        t.fire("ClearUndos")
                                    },
                                    hasUndo: function() {
                                        return o > 0 || s.typing && u[0] && c() != u[0].content
                                    },
                                    hasRedo: function() {
                                        return o < u.length - 1 && !this.typing
                                    },
                                    transact: function(e) {
                                        s.beforeChange();
                                        try {
                                            l++,
                                            e()
                                        } finally {
                                            l--
                                        }
                                        s.add()
                                    }
                                },
                                s
                            }
                        }),
                        i("tinymce/EnterKey", ["tinymce/dom/TreeWalker", "tinymce/dom/RangeUtils", "tinymce/Env"],
                        function(e, t, n) {
                            var r = n.ie && n.ie < 11;
                            return function(i) {
                                function c(c) {
                                    function k(e) {
                                        return e && s.isBlock(e) && !/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName) && !/^(fixed|absolute)/i.test(e.style.position) && s.getContentEditable(e) !== "true"
                                    }
                                    function L(e) {
                                        var t;
                                        s.isBlock(e) && (t = o.getRng(), e.appendChild(s.create("span", null, "\u00a0")), o.select(e), e.lastChild.outerHTML = "", o.setRng(t))
                                    }
                                    function A(e) {
                                        var t = e,
                                        n = [],
                                        r;
                                        if (!t) return;
                                        while (t = t.firstChild) {
                                            if (s.isBlock(t)) return;
                                            t.nodeType == 1 && !l[t.nodeName.toLowerCase()] && n.push(t)
                                        }
                                        r = n.length;
                                        while (r--) t = n[r],
                                        !t.hasChildNodes() || t.firstChild == t.lastChild && t.firstChild.nodeValue === "" ? s.remove(t) : t.nodeName == "A" && (t.innerText || t.textContent) === " " && s.remove(t)
                                    }
                                    function O(t) {
                                        function c(e) {
                                            while (e) {
                                                if (e.nodeType == 1 || e.nodeType == 3 && e.data && /[\r\n\s]/.test(e.data)) return e;
                                                e = e.nextSibling
                                            }
                                        }
                                        var r, i, u, a = t,
                                        f;
                                        if (!t) return;
                                        n.ie && n.ie < 9 && g && g.firstChild && g.firstChild == g.lastChild && g.firstChild.tagName == "BR" && s.remove(g.firstChild);
                                        if (/^(LI|DT|DD)$/.test(t.nodeName)) {
                                            var h = c(t.firstChild);
                                            h && /^(UL|OL|DL)$/.test(h.nodeName) && t.insertBefore(s.doc.createTextNode("\u00a0"), t.firstChild)
                                        }
                                        u = s.createRng(),
                                        n.ie || t.normalize();
                                        if (t.hasChildNodes()) {
                                            r = new e(t, t);
                                            while (i = r.current()) {
                                                if (i.nodeType == 3) {
                                                    u.setStart(i, 0),
                                                    u.setEnd(i, 0);
                                                    break
                                                }
                                                if (l[i.nodeName.toLowerCase()]) {
                                                    u.setStartBefore(i),
                                                    u.setEndBefore(i);
                                                    break
                                                }
                                                a = i,
                                                i = r.next()
                                            }
                                            i || (u.setStart(a, 0), u.setEnd(a, 0))
                                        } else if (t.nodeName == "BR") if (t.nextSibling && s.isBlock(t.nextSibling)) {
                                            if (!y || y < 9) f = s.create("br"),
                                            t.parentNode.insertBefore(f, t);
                                            u.setStartBefore(t),
                                            u.setEndBefore(t)
                                        } else u.setStartAfter(t),
                                        u.setEndAfter(t);
                                        else u.setStart(t, 0),
                                        u.setEnd(t, 0);
                                        o.setRng(u),
                                        s.remove(f),
                                        o.scrollIntoView(t)
                                    }
                                    function M(e) {
                                        var t = u.forced_root_block;
                                        t && t.toLowerCase() === e.tagName.toLowerCase() && s.setAttribs(e, u.forced_root_block_attrs)
                                    }
                                    function _(e) {
                                        var t = v,
                                        n, i, o, a = f.getTextInlineElements();
                                        e || x == "TABLE" ? (n = s.create(e || N), M(n)) : n = g.cloneNode(!1),
                                        o = n;
                                        if (u.keep_styles !== !1) {
                                            do
                                            if (a[t.nodeName]) {
                                                if (t.id == "_mce_caret") continue;
                                                i = t.cloneNode(!1),
                                                s.setAttrib(i, "id", ""),
                                                n.hasChildNodes() ? (i.appendChild(n.firstChild), n.appendChild(i)) : (o = i, n.appendChild(i))
                                            }
                                            while (t = t.parentNode)
                                        }
                                        return r || (o.innerHTML = '\x3cbr data-mce-bogus\x3d"1"\x3e'),
                                        n
                                    }
                                    function D(t) {
                                        var n, r, i;
                                        if (v.nodeType == 3 && (t ? m > 0 : m < v.nodeValue.length)) return ! 1;
                                        if (v.parentNode == g && C && !t) return ! 0;
                                        if (t && v.nodeType == 1 && v == g.firstChild) return ! 0;
                                        if (v.nodeName === "TABLE" || v.previousSibling && v.previousSibling.nodeName == "TABLE") return C && !t || !C && t;
                                        n = new e(v, g),
                                        v.nodeType == 3 && (t && m === 0 ? n.prev() : !t && m == v.nodeValue.length && n.next());
                                        while (r = n.current()) {
                                            if (r.nodeType === 1) {
                                                if (!r.getAttribute("data-mce-bogus")) {
                                                    i = r.nodeName.toLowerCase();
                                                    if (l[i] && i !== "br") return ! 1
                                                }
                                            } else if (r.nodeType === 3 && !/^[ \t\r\n]*$/.test(r.nodeValue)) return ! 1;
                                            t ? n.prev() : n.next()
                                        }
                                        return ! 0
                                    }
                                    function P(e, t) {
                                        var n, r, o, u, a, l, c = N || "P";
                                        r = s.getParent(e, s.isBlock),
                                        l = i.getBody().nodeName.toLowerCase();
                                        if (!r || !k(r)) {
                                            r = r || d;
                                            if (!r.hasChildNodes()) return n = s.create(c),
                                            M(n),
                                            r.appendChild(n),
                                            h.setStart(n, 0),
                                            h.setEnd(n, 0),
                                            n;
                                            u = e;
                                            while (u.parentNode != r) u = u.parentNode;
                                            while (u && !s.isBlock(u)) o = u,
                                            u = u.previousSibling;
                                            if (o && f.isValidChild(l, c.toLowerCase())) {
                                                n = s.create(c),
                                                M(n),
                                                o.parentNode.insertBefore(n, o),
                                                u = o;
                                                while (u && !s.isBlock(u)) a = u.nextSibling,
                                                n.appendChild(u),
                                                u = a;
                                                h.setStart(e, t),
                                                h.setEnd(e, t)
                                            }
                                        }
                                        return e
                                    }
                                    function H() {
                                        function e(e) {
                                            var t = S[e ? "firstChild": "lastChild"];
                                            while (t) {
                                                if (t.nodeType == 1) break;
                                                t = t[e ? "nextSibling": "previousSibling"]
                                            }
                                            return t === g
                                        }
                                        function t() {
                                            var e = S.parentNode;
                                            return /^(LI|DT|DD)$/.test(e.nodeName) ? e: S
                                        }
                                        var n = S.parentNode.nodeName;
                                        /^(OL|UL|LI)$/.test(n) && (N = "LI"),
                                        w = N ? _(N) : s.create("BR"),
                                        e(!0) && e() ? n == "LI" ? s.insertAfter(w, t()) : s.replace(w, S) : e(!0) ? n == "LI" ? (s.insertAfter(w, t()), w.appendChild(s.doc.createTextNode(" ")), w.appendChild(S)) : S.parentNode.insertBefore(w, S) : e() ? (s.insertAfter(w, t()), L(w)) : (S = t(), p = h.cloneRange(), p.setStartAfter(g), p.setEndAfter(S), E = p.extractContents(), N == "LI" && E.firstChild.nodeName == "LI" ? (w = E.firstChild, s.insertAfter(E, S)) : (s.insertAfter(E, S), s.insertAfter(w, S))),
                                        s.remove(g),
                                        O(w),
                                        a.add()
                                    }
                                    function B() {
                                        i.execCommand("InsertLineBreak", !1, c)
                                    }
                                    function j(e) {
                                        do e.nodeType === 3 && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")),
                                        e = e.firstChild;
                                        while (e)
                                    }
                                    function F(e) {
                                        var t = s.getRoot(),
                                        n,
                                        r;
                                        n = e;
                                        while (n !== t && s.getContentEditable(n) !== "false") s.getContentEditable(n) === "true" && (r = n),
                                        n = n.parentNode;
                                        return n !== t ? r: t
                                    }
                                    function I(e) {
                                        var t;
                                        r || (e.normalize(), t = e.lastChild, (!t || /^(left|right)$/gi.test(s.getStyle(t, "float", !0))) && s.add(e, "br"))
                                    }
                                    var h, p, d, v, m, g, y, b, w, E, S, x, T, N, C;
                                    h = o.getRng(!0);
                                    if (c.isDefaultPrevented()) return;
                                    if (!h.collapsed) {
                                        i.execCommand("Delete");
                                        return
                                    } (new t(s)).normalize(h),
                                    v = h.startContainer,
                                    m = h.startOffset,
                                    N = (u.force_p_newlines ? "p": "") || u.forced_root_block,
                                    N = N ? N.toUpperCase() : "",
                                    y = s.doc.documentMode,
                                    b = c.shiftKey,
                                    v.nodeType == 1 && v.hasChildNodes() && (C = m > v.childNodes.length - 1, v = v.childNodes[Math.min(m, v.childNodes.length - 1)] || v, C && v.nodeType == 3 ? m = v.nodeValue.length: m = 0),
                                    d = F(v);
                                    if (!d) return;
                                    a.beforeChange();
                                    if (!s.isBlock(d) && d != s.getRoot()) { (!N || b) && B();
                                        return
                                    }
                                    if (N && !b || !N && b) v = P(v, m);
                                    g = s.getParent(v, s.isBlock),
                                    S = g ? s.getParent(g.parentNode, s.isBlock) : null,
                                    x = g ? g.nodeName.toUpperCase() : "",
                                    T = S ? S.nodeName.toUpperCase() : "",
                                    T == "LI" && !c.ctrlKey && (g = S, x = T);
                                    if (/^(LI|DT|DD)$/.test(x)) {
                                        if (!N && b) {
                                            B();
                                            return
                                        }
                                        if (s.isEmpty(g)) {
                                            H();
                                            return
                                        }
                                    }
                                    if (x == "PRE" && u.br_in_pre !== !1) {
                                        if (!b) {
                                            B();
                                            return
                                        }
                                    } else if (!N && !b && x != "LI" || N && b) {
                                        B();
                                        return
                                    }
                                    if (N && g === i.getBody()) return;
                                    N = N || "P",
                                    D() ? (/^(H[1-6]|PRE|FIGURE)$/.test(x) && T != "HGROUP" ? w = _(N) : w = _(), u.end_container_on_empty_block && k(S) && s.isEmpty(g) ? w = s.split(S, g) : s.insertAfter(w, g), O(w)) : D(!0) ? (w = g.parentNode.insertBefore(_(), g), L(w), O(g)) : (p = h.cloneRange(), p.setEndAfter(g), E = p.extractContents(), j(E), w = E.firstChild, s.insertAfter(E, g), A(w), I(g), O(w)),
                                    s.setAttrib(w, "id", ""),
                                    i.fire("NewBlock", {
                                        newBlock: w
                                    }),
                                    a.add()
                                }
                                var s = i.dom,
                                o = i.selection,
                                u = i.settings,
                                a = i.undoManager,
                                f = i.schema,
                                l = f.getNonEmptyElements();
                                i.on("keydown",
                                function(e) {
                                    e.keyCode == 13 && c(e) !== !1 && e.preventDefault()
                                })
                            }
                        }),
                        i("tinymce/ForceBlocks", [],
                        function() {
                            return function(e) {
                                function o() {
                                    var o = r.getStart(),
                                    u = e.getBody(),
                                    a,
                                    f,
                                    l,
                                    c,
                                    h,
                                    p,
                                    d,
                                    v = -16777215,
                                    m,
                                    g,
                                    y,
                                    b,
                                    w;
                                    w = t.forced_root_block;
                                    if (!o || o.nodeType !== 1 || !w) return;
                                    while (o && o != u) {
                                        if (s[o.nodeName]) return;
                                        o = o.parentNode
                                    }
                                    a = r.getRng();
                                    if (a.setStart) {
                                        f = a.startContainer,
                                        l = a.startOffset,
                                        c = a.endContainer,
                                        h = a.endOffset;
                                        try {
                                            g = e.getDoc().activeElement === u
                                        } catch(E) {}
                                    } else a.item && (o = a.item(0), a = e.getDoc().body.createTextRange(), a.moveToElementText(o)),
                                    g = a.parentElement().ownerDocument === e.getDoc(),
                                    y = a.duplicate(),
                                    y.collapse(!0),
                                    l = y.move("character", v) * -1,
                                    y.collapsed || (y = a.duplicate(), y.collapse(!1), h = y.move("character", v) * -1 - l);
                                    o = u.firstChild,
                                    b = u.nodeName.toLowerCase();
                                    while (o) if ((o.nodeType === 3 || o.nodeType == 1 && !s[o.nodeName]) && i.isValidChild(b, w.toLowerCase())) {
                                        if (o.nodeType === 3 && o.nodeValue.length === 0) {
                                            d = o,
                                            o = o.nextSibling,
                                            n.remove(d);
                                            continue
                                        }
                                        p || (p = n.create(w, e.settings.forced_root_block_attrs), o.parentNode.insertBefore(p, o), m = !0),
                                        d = o,
                                        o = o.nextSibling,
                                        p.appendChild(d)
                                    } else p = null,
                                    o = o.nextSibling;
                                    if (m && g) {
                                        if (a.setStart) a.setStart(f, l),
                                        a.setEnd(c, h),
                                        r.setRng(a);
                                        else try {
                                            a = e.getDoc().body.createTextRange(),
                                            a.moveToElementText(u),
                                            a.collapse(!0),
                                            a.moveStart("character", l),
                                            h > 0 && a.moveEnd("character", h),
                                            a.select()
                                        } catch(E$58) {}
                                        e.nodeChanged()
                                    }
                                }
                                var t = e.settings,
                                n = e.dom,
                                r = e.selection,
                                i = e.schema,
                                s = i.getBlockElements();
                                t.forced_root_block && e.on("NodeChange", o)
                            }
                        }),
                        i("tinymce/EditorCommands", ["tinymce/html/Serializer", "tinymce/Env", "tinymce/util/Tools", "tinymce/dom/ElementUtils", "tinymce/dom/RangeUtils", "tinymce/dom/TreeWalker"],
                        function(e, n, r, i, s, o) {
                            var u = r.each,
                            a = r.extend,
                            f = r.map,
                            l = r.inArray,
                            c = r.explode,
                            h = n.gecko,
                            p = n.ie,
                            d = n.ie && n.ie < 11,
                            v = !0,
                            m = !1;
                            return function(r) {
                                function x(e, t, n) {
                                    var r;
                                    return e = e.toLowerCase(),
                                    (r = b.exec[e]) ? (r(e, t, n), v) : m
                                }
                                function T(e) {
                                    var t;
                                    return e = e.toLowerCase(),
                                    (t = b.state[e]) ? t(e) : -1
                                }
                                function N(e) {
                                    var t;
                                    return e = e.toLowerCase(),
                                    (t = b.value[e]) ? t(e) : m
                                }
                                function C(e, t) {
                                    t = t || "exec",
                                    u(e,
                                    function(e, n) {
                                        u(n.toLowerCase().split(","),
                                        function(n) {
                                            b[t][n] = e
                                        })
                                    })
                                }
                                function k(e, n, i) {
                                    return n === t && (n = m),
                                    i === t && (i = null),
                                    r.getDoc().execCommand(e, n, i)
                                }
                                function L(e) {
                                    return E.match(e)
                                }
                                function A(e, n) {
                                    E.toggle(e, n ? {
                                        value: n
                                    }: t),
                                    r.nodeChanged()
                                }
                                function O(e) {
                                    S = y.getBookmark(e)
                                }
                                function M() {
                                    y.moveToBookmark(S)
                                }
                                var g = r.dom,
                                y = r.selection,
                                b = {
                                    state: {},
                                    exec: {},
                                    value: {}
                                },
                                w = r.settings,
                                E = r.formatter,
                                S;
                                a(this, {
                                    execCommand: x,
                                    queryCommandState: T,
                                    queryCommandValue: N,
                                    addCommands: C
                                }),
                                C({
                                    "mceResetDesignMode,mceBeginUndoLevel": function() {},
                                    "mceEndUndoLevel,mceAddUndoLevel": function() {
                                        r.undoManager.add()
                                    },
                                    "Cut,Copy,Paste": function(e) {
                                        var t = r.getDoc(),
                                        i;
                                        try {
                                            k(e)
                                        } catch(s$59) {
                                            i = v
                                        }
                                        if (i || !t.queryCommandSupported(e)) {
                                            var o = r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
                                            n.mac && (o = o.replace(/Ctrl\+/g, "\u2318+")),
                                            r.windowManager.alert(o)
                                        }
                                    },
                                    unlink: function() {
                                        if (y.isCollapsed()) {
                                            var e = y.getNode();
                                            e.tagName == "A" && r.dom.remove(e, !0);
                                            return
                                        }
                                        E.remove("link")
                                    },
                                    "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull": function(e) {
                                        var t = e.substring(7);
                                        t == "full" && (t = "justify"),
                                        u("left,center,right,justify".split(","),
                                        function(e) {
                                            t != e && E.remove("align" + e)
                                        }),
                                        A("align" + t),
                                        x("mceRepaint")
                                    },
                                    "InsertUnorderedList,InsertOrderedList": function(e) {
                                        var t, n;
                                        k(e),
                                        t = g.getParent(y.getNode(), "ol,ul"),
                                        t && (n = t.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName) && (O(), g.split(n, t), M()))
                                    },
                                    "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                                        A(e)
                                    },
                                    "ForeColor,HiliteColor,FontName": function(e, t, n) {
                                        A(e, n)
                                    },
                                    FontSize: function(e, t, n) {
                                        var r, i;
                                        n >= 1 && n <= 7 && (i = c(w.font_size_style_values), r = c(w.font_size_classes), r ? n = r[n - 1] || n: n = i[n - 1] || n),
                                        A(e, n)
                                    },
                                    RemoveFormat: function(e) {
                                        E.remove(e)
                                    },
                                    mceBlockQuote: function() {
                                        A("blockquote")
                                    },
                                    FormatBlock: function(e, t, n) {
                                        return A(n || "p")
                                    },
                                    mceCleanup: function() {
                                        var e = y.getBookmark();
                                        r.setContent(r.getContent({
                                            cleanup: v
                                        }), {
                                            cleanup: v
                                        }),
                                        y.moveToBookmark(e)
                                    },
                                    mceRemoveNode: function(e, t, n) {
                                        var i = n || y.getNode();
                                        i != r.getBody() && (O(), r.dom.remove(i, v), M())
                                    },
                                    mceSelectNodeDepth: function(e, t, n) {
                                        var i = 0;
                                        g.getParent(y.getNode(),
                                        function(e) {
                                            if (e.nodeType == 1 && i++==n) return y.select(e),
                                            m
                                        },
                                        r.getBody())
                                    },
                                    mceSelectNode: function(e, t, n) {
                                        y.select(n)
                                    },
                                    mceInsertContent: function(t, n, s) {
                                        function x(e) {
                                            function i(e) {
                                                return n[e] && n[e].nodeType == 3
                                            }
                                            var t, n, r;
                                            return t = y.getRng(!0),
                                            n = t.startContainer,
                                            r = t.startOffset,
                                            n.nodeType == 3 && (r > 0 ? e = e.replace(/^&nbsp;/, " ") : i("previousSibling") || (e = e.replace(/^ /, "\x26nbsp;")), r < n.length ? e = e.replace(/&nbsp;(<br>|)$/, " ") : i("nextSibling") || (e = e.replace(/(&nbsp;| )(<br>|)$/, "\x26nbsp;"))),
                                            e
                                        }
                                        function T(e) {
                                            if (E) for (m = e.firstChild; m; m = m.walk(!0)) S[m.name] && m.attr("data-mce-new", "true")
                                        }
                                        function N() {
                                            if (E) {
                                                var e = r.getBody(),
                                                t = new i(g);
                                                u(g.select("*[data-mce-new]"),
                                                function(n) {
                                                    n.removeAttribute("data-mce-new");
                                                    for (var r = n.parentNode; r && r != e; r = r.parentNode) t.compare(r, n) && g.remove(n, !0)
                                                })
                                            }
                                        }
                                        var o, a, f, l, c, h, d, v, m, b, w, E, S = r.schema.getTextInlineElements();
                                        typeof s != "string" && (E = s.merge, s = s.content),
                                        /^ | $/.test(s) && (s = x(s)),
                                        o = r.parser,
                                        a = new e({},
                                        r.schema),
                                        w = '\x3cspan id\x3d"mce_marker" data-mce-type\x3d"bookmark"\x3e\x26#xFEFF;\x26#200B;\x3c/span\x3e',
                                        h = {
                                            content: s,
                                            format: "html",
                                            selection: !0
                                        },
                                        r.fire("BeforeSetContent", h),
                                        s = h.content,
                                        s.indexOf("{$caret}") == -1 && (s += "{$caret}"),
                                        s = s.replace(/\{\$caret\}/, w),
                                        v = y.getRng();
                                        var C = v.startContainer || (v.parentElement ? v.parentElement() : null),
                                        k = r.getBody();
                                        C === k && y.isCollapsed() && g.isBlock(k.firstChild) && g.isEmpty(k.firstChild) && (v = g.createRng(), v.setStart(k.firstChild, 0), v.setEnd(k.firstChild, 0), y.setRng(v)),
                                        y.isCollapsed() || r.getDoc().execCommand("Delete", !1, null),
                                        f = y.getNode();
                                        var L = {
                                            context: f.nodeName.toLowerCase()
                                        };
                                        c = o.parse(s, L),
                                        T(c),
                                        m = c.lastChild;
                                        if (m.attr("id") == "mce_marker") {
                                            d = m;
                                            for (m = m.prev; m; m = m.walk(!0)) if (m.type == 3 || !g.isBlock(m.name)) {
                                                m.parent.insert(d, m, m.name === "br");
                                                break
                                            }
                                        }
                                        if (!L.invalid) s = a.serialize(c),
                                        m = f.firstChild,
                                        b = f.lastChild,
                                        !m || m === b && m.nodeName === "BR" ? g.setHTML(f, s) : y.setContent(s);
                                        else {
                                            y.setContent(w),
                                            f = y.getNode(),
                                            l = r.getBody(),
                                            f.nodeType == 9 ? f = m = l: m = f;
                                            while (m !== l) f = m,
                                            m = m.parentNode;
                                            s = f == l ? l.innerHTML: g.getOuterHTML(f),
                                            s = a.serialize(o.parse(s.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,
                                            function() {
                                                return a.serialize(c)
                                            }))),
                                            f == l ? g.setHTML(l, s) : g.setOuterHTML(f, s)
                                        }
                                        N(),
                                        d = g.get("mce_marker"),
                                        y.scrollIntoView(d),
                                        v = g.createRng(),
                                        m = d.previousSibling,
                                        m && m.nodeType == 3 ? (v.setStart(m, m.nodeValue.length), p || (b = d.nextSibling, b && b.nodeType == 3 && (m.appendData(b.data), b.parentNode.removeChild(b)))) : (v.setStartBefore(d), v.setEndBefore(d)),
                                        g.remove(d),
                                        y.setRng(v),
                                        r.fire("SetContent", h),
                                        r.addVisual()
                                    },
                                    mceInsertRawHTML: function(e, t, n) {
                                        y.setContent("tiny_mce_marker"),
                                        r.setContent(r.getContent().replace(/tiny_mce_marker/g,
                                        function() {
                                            return n
                                        }))
                                    },
                                    mceToggleFormat: function(e, t, n) {
                                        A(n)
                                    },
                                    mceSetContent: function(e, t, n) {
                                        r.setContent(n)
                                    },
                                    "Indent,Outdent": function(e) {
                                        var t, n, i;
                                        t = w.indentation,
                                        n = /[a-z%]+$/i.exec(t),
                                        t = parseInt(t, 10),
                                        !T("InsertUnorderedList") && !T("InsertOrderedList") ? (!w.forced_root_block && !g.getParent(y.getNode(), g.isBlock) && E.apply("div"), u(y.getSelectedBlocks(),
                                        function(s) {
                                            if (s.nodeName != "LI") {
                                                var o = r.getParam("indent_use_margin", !1) ? "margin": "padding";
                                                o += g.getStyle(s, "direction", true) == "rtl" ? "Right": "Left",
                                                e == "outdent" ? (i = Math.max(0, parseInt(s.style[o] || 0, 10) - t), g.setStyle(s, o, i ? i + n: "")) : (i = parseInt(s.style[o] || 0, 10) + t + n, g.setStyle(s, o, i))
                                            }
                                        })) : k(e)
                                    },
                                    mceRepaint: function() {
                                        if (h) try {
                                            O(v),
                                            y.getSel() && y.getSel().selectAllChildren(r.getBody()),
                                            y.collapse(v),
                                            M()
                                        } catch(e$60) {}
                                    },
                                    InsertHorizontalRule: function() {
                                        r.execCommand("mceInsertContent", !1, "\x3chr /\x3e")
                                    },
                                    mceToggleVisualAid: function() {
                                        r.hasVisual = !r.hasVisual,
                                        r.addVisual()
                                    },
                                    mceReplaceContent: function(e, t, n) {
                                        r.execCommand("mceInsertContent", !1, n.replace(/\{\$selection\}/g, y.getContent({
                                            format: "text"
                                        })))
                                    },
                                    mceInsertLink: function(e, t, n) {
                                        var r;
                                        typeof n == "string" && (n = {
                                            href: n
                                        }),
                                        r = g.getParent(y.getNode(), "a"),
                                        n.href = n.href.replace(" ", "%20"),
                                        (!r || !n.href) && E.remove("link"),
                                        n.href && E.apply("link", n, r)
                                    },
                                    selectAll: function() {
                                        var e = g.getRoot(),
                                        t;
                                        y.getRng().setStart ? (t = g.createRng(), t.setStart(e, 0), t.setEnd(e, e.childNodes.length), y.setRng(t)) : (t = y.getRng(), t.item || (t.moveToElementText(e), t.select()))
                                    },
                                    "delete": function() {
                                        k("Delete");
                                        var e = r.getBody();
                                        g.isEmpty(e) && (r.setContent(""), e.firstChild && g.isBlock(e.firstChild) ? r.selection.setCursorLocation(e.firstChild, 0) : r.selection.setCursorLocation(e, 0))
                                    },
                                    mceNewDocument: function() {
                                        r.setContent("")
                                    },
                                    InsertLineBreak: function(e, t, n) {
                                        function x() {
                                            var e = new o(h, m),
                                            t,
                                            n = r.schema.getNonEmptyElements();
                                            while (t = e.next()) if (n[t.nodeName.toLowerCase()] || t.length > 0) return ! 0
                                        }
                                        var i = n,
                                        u, a, f, l = y.getRng(!0); (new s(g)).normalize(l);
                                        var c = l.startOffset,
                                        h = l.startContainer;
                                        if (h.nodeType == 1 && h.hasChildNodes()) {
                                            var p = c > h.childNodes.length - 1;
                                            h = h.childNodes[Math.min(c, h.childNodes.length - 1)] || h,
                                            p && h.nodeType == 3 ? c = h.nodeValue.length: c = 0
                                        }
                                        var m = g.getParent(h, g.isBlock),
                                        b = m ? m.nodeName.toUpperCase() : "",
                                        w = m ? g.getParent(m.parentNode, g.isBlock) : null,
                                        E = w ? w.nodeName.toUpperCase() : "",
                                        S = i && i.ctrlKey;
                                        E == "LI" && !S && (m = w, b = E),
                                        h && h.nodeType == 3 && c >= h.nodeValue.length && !d && !x() && (u = g.create("br"), l.insertNode(u), l.setStartAfter(u), l.setEndAfter(u), a = !0),
                                        u = g.create("br"),
                                        l.insertNode(u);
                                        var T = g.doc.documentMode;
                                        return d && b == "PRE" && (!T || T < 8) && u.parentNode.insertBefore(g.doc.createTextNode("\r"), u),
                                        f = g.create("span", {},
                                        "\x26nbsp;"),
                                        u.parentNode.insertBefore(f, u),
                                        y.scrollIntoView(f),
                                        g.remove(f),
                                        a ? (l.setStartBefore(u), l.setEndBefore(u)) : (l.setStartAfter(u), l.setEndAfter(u)),
                                        y.setRng(l),
                                        r.undoManager.add(),
                                        v
                                    }
                                }),
                                C({
                                    "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull": function(e) {
                                        var t = "align" + e.substring(7),
                                        n = y.isCollapsed() ? [g.getParent(y.getNode(), g.isBlock)] : y.getSelectedBlocks(),
                                        r = f(n,
                                        function(e) {
                                            return !! E.matchNode(e, t)
                                        });
                                        return l(r, v) !== -1
                                    },
                                    "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                                        return L(e)
                                    },
                                    mceBlockQuote: function() {
                                        return L("blockquote")
                                    },
                                    Outdent: function() {
                                        var e;
                                        if (w.inline_styles) {
                                            if ((e = g.getParent(y.getStart(), g.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return v;
                                            if ((e = g.getParent(y.getEnd(), g.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return v
                                        }
                                        return T("InsertUnorderedList") || T("InsertOrderedList") || !w.inline_styles && !!g.getParent(y.getNode(), "BLOCKQUOTE")
                                    },
                                    "InsertUnorderedList,InsertOrderedList": function(e) {
                                        var t = g.getParent(y.getNode(), "ul,ol");
                                        return t && (e === "insertunorderedlist" && t.tagName === "UL" || e === "insertorderedlist" && t.tagName === "OL")
                                    }
                                },
                                "state"),
                                C({
                                    "FontSize,FontName": function(e) {
                                        var t = 0,
                                        n;
                                        if (n = g.getParent(y.getNode(), "span")) e == "fontsize" ? t = n.style.fontSize: t = n.style.fontFamily.replace(/, /g, ",").replace(/[\'\"]/g, "").toLowerCase();
                                        return t
                                    }
                                },
                                "value"),
                                C({
                                    Undo: function() {
                                        r.undoManager.undo()
                                    },
                                    Redo: function() {
                                        r.undoManager.redo()
                                    }
                                })
                            }
                        }),
                        i("tinymce/util/URI", ["tinymce/util/Tools"],
                        function(e) {
                            function s(e, i) {
                                var o = this,
                                u, a;
                                e = n(e),
                                i = o.settings = i || {},
                                u = i.base_uri;
                                if (/^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e)) {
                                    o.source = e;
                                    return
                                }
                                var f = e.indexOf("//") === 0;
                                e.indexOf("/") === 0 && !f && (e = (u ? u.protocol || "http": "http") + "://mce_host" + e),
                                /^[\w\-]*:?\/\//.test(e) || (a = i.base_uri ? i.base_uri.path: (new s(location.href)).directory, i.base_uri.protocol === "" ? e = "//mce_host" + o.toAbsPath(a, e) : (e = /([^#?]*)([#?]?.*)/.exec(e), e = (u && u.protocol || "http") + "://mce_host" + o.toAbsPath(a, e[1]) + e[2])),
                                e = e.replace(/@@/g, "(mce_at)"),
                                e = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),
                                t(r,
                                function(t, n) {
                                    var r = e[n];
                                    r && (r = r.replace(/\(mce_at\)/g, "@@")),
                                    o[t] = r
                                });
                                if (u) {
                                    o.protocol || (o.protocol = u.protocol),
                                    o.userInfo || (o.userInfo = u.userInfo),
                                    !o.port && o.host === "mce_host" && (o.port = u.port);
                                    if (!o.host || o.host === "mce_host") o.host = u.host;
                                    o.source = ""
                                }
                                f && (o.protocol = "")
                            }
                            var t = e.each,
                            n = e.trim,
                            r = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
                            i = {
                                ftp: 21,
                                http: 80,
                                https: 443,
                                mailto: 25
                            };
                            return s.prototype = {
                                setPath: function(e) {
                                    var t = this;
                                    e = /^(.*?)\/?(\w+)?$/.exec(e),
                                    t.path = e[0],
                                    t.directory = e[1],
                                    t.file = e[2],
                                    t.source = "",
                                    t.getURI()
                                },
                                toRelative: function(e) {
                                    var t = this,
                                    n;
                                    if (e === "./") return e;
                                    e = new s(e, {
                                        base_uri: t
                                    });
                                    if (e.host != "mce_host" && t.host != e.host && e.host || t.port != e.port || t.protocol != e.protocol && e.protocol !== "") return e.getURI();
                                    var r = t.getURI(),
                                    i = e.getURI();
                                    return r == i || r.charAt(r.length - 1) == "/" && r.substr(0, r.length - 1) == i ? r: (n = t.toRelPath(t.path, e.path), e.query && (n += "?" + e.query), e.anchor && (n += "#" + e.anchor), n)
                                },
                                toAbsolute: function(e, t) {
                                    return e = new s(e, {
                                        base_uri: this
                                    }),
                                    e.getURI(t && this.isSameOrigin(e))
                                },
                                isSameOrigin: function(e) {
                                    if (this.host == e.host && this.protocol == e.protocol) {
                                        if (this.port == e.port) return ! 0;
                                        var t = i[this.protocol];
                                        if (t && (this.port || t) == (e.port || t)) return ! 0
                                    }
                                    return ! 1
                                },
                                toRelPath: function(e, t) {
                                    var n, r = 0,
                                    i = "",
                                    s, o;
                                    e = e.substring(0, e.lastIndexOf("/")),
                                    e = e.split("/"),
                                    n = t.split("/");
                                    if (e.length >= n.length) for (s = 0, o = e.length; s < o; s++) if (s >= n.length || e[s] != n[s]) {
                                        r = s + 1;
                                        break
                                    }
                                    if (e.length < n.length) for (s = 0, o = n.length; s < o; s++) if (s >= e.length || e[s] != n[s]) {
                                        r = s + 1;
                                        break
                                    }
                                    if (r === 1) return t;
                                    for (s = 0, o = e.length - (r - 1); s < o; s++) i += "../";
                                    for (s = r - 1, o = n.length; s < o; s++) s != r - 1 ? i += "/" + n[s] : i += n[s];
                                    return i
                                },
                                toAbsPath: function(e, n) {
                                    var r, i = 0,
                                    s = [],
                                    o,
                                    u;
                                    o = /\/$/.test(n) ? "/": "",
                                    e = e.split("/"),
                                    n = n.split("/"),
                                    t(e,
                                    function(e) {
                                        e && s.push(e)
                                    }),
                                    e = s;
                                    for (r = n.length - 1, s = []; r >= 0; r--) {
                                        if (n[r].length === 0 || n[r] === ".") continue;
                                        if (n[r] === "..") {
                                            i++;
                                            continue
                                        }
                                        if (i > 0) {
                                            i--;
                                            continue
                                        }
                                        s.push(n[r])
                                    }
                                    return r = e.length - i,
                                    r <= 0 ? u = s.reverse().join("/") : u = e.slice(0, r).join("/") + "/" + s.reverse().join("/"),
                                    u.indexOf("/") !== 0 && (u = "/" + u),
                                    o && u.lastIndexOf("/") !== u.length - 1 && (u += o),
                                    u
                                },
                                getURI: function(e) {
                                    var t, n = this;
                                    if (!n.source || e) t = "",
                                    e || (n.protocol ? t += n.protocol + "://": t += "//", n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)),
                                    n.path && (t += n.path),
                                    n.query && (t += "?" + n.query),
                                    n.anchor && (t += "#" + n.anchor),
                                    n.source = t;
                                    return n.source
                                }
                            },
                            s
                        }),
                        i("tinymce/util/Class", ["tinymce/util/Tools"],
                        function(e) {
                            function s() {}
                            var t = e.each,
                            n = e.extend,
                            r, i;
                            return s.extend = r = function(e) {
                                function l() {
                                    var e, t, n, r = this;
                                    if (!i) {
                                        r.init && r.init.apply(r, arguments),
                                        t = r.Mixins;
                                        if (t) {
                                            e = t.length;
                                            while (e--) n = t[e],
                                            n.init && n.init.apply(r, arguments)
                                        }
                                    }
                                }
                                function c() {
                                    return this
                                }
                                function h(e, t) {
                                    return function() {
                                        var n = this,
                                        r = n._super,
                                        i;
                                        return n._super = o[e],
                                        i = t.apply(n, arguments),
                                        n._super = r,
                                        i
                                    }
                                }
                                var s = this,
                                o = s.prototype,
                                u, a, f;
                                i = !0,
                                u = new s,
                                i = !1,
                                e.Mixins && (t(e.Mixins,
                                function(t) {
                                    t = t;
                                    for (var n in t) n !== "init" && (e[n] = t[n])
                                }), o.Mixins && (e.Mixins = o.Mixins.concat(e.Mixins))),
                                e.Methods && t(e.Methods.split(","),
                                function(t) {
                                    e[t] = c
                                }),
                                e.Properties && t(e.Properties.split(","),
                                function(t) {
                                    var n = "_" + t;
                                    e[t] = function(e) {
                                        var t = this,
                                        r;
                                        return e !== r ? (t[n] = e, t) : t[n]
                                    }
                                }),
                                e.Statics && t(e.Statics,
                                function(e, t) {
                                    l[t] = e
                                }),
                                e.Defaults && o.Defaults && (e.Defaults = n({},
                                o.Defaults, e.Defaults));
                                for (a in e) f = e[a],
                                typeof f == "function" && o[a] ? u[a] = h(a, f) : u[a] = f;
                                return l.prototype = u,
                                l.constructor = l,
                                l.extend = r,
                                l
                            },
                            s
                        }),
                        i("tinymce/util/EventDispatcher", ["tinymce/util/Tools"],
                        function(e) {
                            function n(e) {
                                function s() {
                                    return ! 1
                                }
                                function o() {
                                    return ! 0
                                }
                                function u(t, i) {
                                    var u, a, l, c;
                                    t = t.toLowerCase(),
                                    i = i || {},
                                    i.type = t,
                                    i.target || (i.target = n),
                                    i.preventDefault || (i.preventDefault = function() {
                                        i.isDefaultPrevented = o
                                    },
                                    i.stopPropagation = function() {
                                        i.isPropagationStopped = o
                                    },
                                    i.stopImmediatePropagation = function() {
                                        i.isImmediatePropagationStopped = o
                                    },
                                    i.isDefaultPrevented = s, i.isPropagationStopped = s, i.isImmediatePropagationStopped = s),
                                    e.beforeFire && e.beforeFire(i),
                                    u = r[t];
                                    if (u) for (a = 0, l = u.length; a < l; a++) {
                                        u[a] = c = u[a],
                                        c.once && f(t, c);
                                        if (i.isImmediatePropagationStopped()) return i.stopPropagation(),
                                        i;
                                        if (c.call(n, i) === !1) return i.preventDefault(),
                                        i
                                    }
                                    return i
                                }
                                function a(e, n, o) {
                                    var u, a, f;
                                    n === !1 && (n = s);
                                    if (n) {
                                        a = e.toLowerCase().split(" "),
                                        f = a.length;
                                        while (f--) e = a[f],
                                        u = r[e],
                                        u || (u = r[e] = [], i(e, !0)),
                                        o ? u.unshift(n) : u.push(n)
                                    }
                                    return t
                                }
                                function f(e, n) {
                                    var s, o, u, a, f;
                                    if (e) {
                                        a = e.toLowerCase().split(" "),
                                        s = a.length;
                                        while (s--) {
                                            e = a[s],
                                            o = r[e];
                                            if (!e) {
                                                for (u in r) i(u, !1),
                                                delete r[u];
                                                return t
                                            }
                                            if (o) {
                                                if (!n) o.length = 0;
                                                else {
                                                    f = o.length;
                                                    while (f--) o[f] === n && (o = o.slice(0, f).concat(o.slice(f + 1)), r[e] = o)
                                                }
                                                o.length || (i(e, !1), delete r[e])
                                            }
                                        }
                                    } else {
                                        for (e in r) i(e, !1);
                                        r = {}
                                    }
                                    return t
                                }
                                function l(e, t, n) {
                                    return t.once = !0,
                                    a(e, t, n)
                                }
                                function c(e) {
                                    return e = e.toLowerCase(),
                                    !!r[e] && r[e].length !== 0
                                }
                                var t = this,
                                n, r = {},
                                i;
                                e = e || {},
                                n = e.scope || t,
                                i = e.toggleEvent || s,
                                t.fire = u,
                                t.on = a,
                                t.off = f,
                                t.once = l,
                                t.has = c
                            }
                            var t = e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend", " ");
                            return n.isNative = function(e) {
                                return !! t[e.toLowerCase()]
                            },
                            n
                        }),
                        i("tinymce/ui/Selector", ["tinymce/util/Class"],
                        function(e) {
                            function t(e) {
                                var t = [],
                                n = e.length,
                                r;
                                while (n--) r = e[n],
                                r.__checked || (t.push(r), r.__checked = 1);
                                n = t.length;
                                while (n--) delete t[n].__checked;
                                return t
                            }
                            var n = /^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,
                            r = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
                            i = /^\s*|\s*$/g,
                            s, o = e.extend({
                                init: function(e) {
                                    function s(e) {
                                        if (e) return e = e.toLowerCase(),
                                        function(t) {
                                            return e === "*" || t.type === e
                                        }
                                    }
                                    function o(e) {
                                        if (e) return function(t) {
                                            return t._name === e
                                        }
                                    }
                                    function u(e) {
                                        if (e) return e = e.split("."),
                                        function(t) {
                                            var n = e.length;
                                            while (n--) if (!t.hasClass(e[n])) return ! 1;
                                            return ! 0
                                        }
                                    }
                                    function a(e, t, n) {
                                        if (e) return function(r) {
                                            var i = r[e] ? r[e]() : "";
                                            return t ? t === "\x3d" ? i === n: t === "*\x3d" ? i.indexOf(n) >= 0 : t === "~\x3d" ? (" " + i + " ").indexOf(" " + n + " ") >= 0 : t === "!\x3d" ? i != n: t === "^\x3d" ? i.indexOf(n) === 0 : t === "$\x3d" ? i.substr(i.length - n.length) === n: !1 : !!n
                                        }
                                    }
                                    function f(e) {
                                        var n;
                                        if (e) return e = /(?:not\((.+)\))|(.+)/i.exec(e),
                                        e[1] ? (n = c(e[1], []),
                                        function(e) {
                                            return ! t(e, n)
                                        }) : (e = e[2],
                                        function(t, n, r) {
                                            return e === "first" ? n === 0 : e === "last" ? n === r - 1 : e === "even" ? n % 2 === 0 : e === "odd" ? n % 2 === 1 : t[e] ? t[e]() : !1
                                        })
                                    }
                                    function l(e, t, r) {
                                        function c(e) {
                                            e && t.push(e)
                                        }
                                        var l;
                                        return l = n.exec(e.replace(i, "")),
                                        c(s(l[1])),
                                        c(o(l[2])),
                                        c(u(l[3])),
                                        c(a(l[4], l[5], l[6])),
                                        c(f(l[7])),
                                        t.psuedo = !!l[7],
                                        t.direct = r,
                                        t
                                    }
                                    function c(e, t) {
                                        var n = [],
                                        i,
                                        s,
                                        o;
                                        do {
                                            r.exec(""), s = r.exec(e);
                                            if (s) {
                                                e = s[3],
                                                n.push(s[1]);
                                                if (s[2]) {
                                                    i = s[3];
                                                    break
                                                }
                                            }
                                        } while ( s );
                                        i && c(i, t),
                                        e = [];
                                        for (o = 0; o < n.length; o++) n[o] != "\x3e" && e.push(l(n[o], [], n[o - 1] === "\x3e"));
                                        return t.push(e),
                                        t
                                    }
                                    var t = this.match;
                                    this._selectors = c(e, [])
                                },
                                match: function(e, t) {
                                    var n, r, i, s, o, u, a, f, l, c, h, p, d;
                                    t = t || this._selectors;
                                    for (n = 0, r = t.length; n < r; n++) {
                                        o = t[n],
                                        s = o.length,
                                        d = e,
                                        p = 0;
                                        for (i = s - 1; i >= 0; i--) {
                                            f = o[i];
                                            while (d) {
                                                if (f.psuedo) {
                                                    h = d.parent().items(),
                                                    l = c = h.length;
                                                    while (l--) if (h[l] === d) break
                                                }
                                                for (u = 0, a = f.length; u < a; u++) if (!f[u](d, l, c)) {
                                                    u = a + 1;
                                                    break
                                                }
                                                if (u === a) {
                                                    p++;
                                                    break
                                                }
                                                if (i === s - 1) break;
                                                d = d.parent()
                                            }
                                        }
                                        if (p === s) return ! 0
                                    }
                                    return ! 1
                                },
                                find: function(e) {
                                    function a(e, t, r) {
                                        var i, s, o, u, f, l = t[r];
                                        for (i = 0, s = e.length; i < s; i++) {
                                            f = e[i];
                                            for (o = 0, u = l.length; o < u; o++) if (!l[o](f, i, s)) {
                                                o = u + 1;
                                                break
                                            }
                                            if (o === u) r == t.length - 1 ? n.push(f) : f.items && a(f.items(), t, r + 1);
                                            else if (l.direct) return;
                                            f.items && a(f.items(), t, r)
                                        }
                                    }
                                    var n = [],
                                    r,
                                    i,
                                    u = this._selectors;
                                    if (e.items) {
                                        for (r = 0, i = u.length; r < i; r++) a(e.items(), u[r], 0);
                                        i > 1 && (n = t(n))
                                    }
                                    return s || (s = o.Collection),
                                    new s(n)
                                }
                            });
                            return o
                        }),
                        i("tinymce/ui/Collection", ["tinymce/util/Tools", "tinymce/ui/Selector", "tinymce/util/Class"],
                        function(e, t, n) {
                            var r, i, s = Array.prototype.push,
                            o = Array.prototype.slice;
                            return i = {
                                length: 0,
                                init: function(e) {
                                    e && this.add(e)
                                },
                                add: function(t) {
                                    var n = this;
                                    return e.isArray(t) ? s.apply(n, t) : t instanceof r ? n.add(t.toArray()) : s.call(n, t),
                                    n
                                },
                                set: function(e) {
                                    var t = this,
                                    n = t.length,
                                    r;
                                    t.length = 0,
                                    t.add(e);
                                    for (r = t.length; r < n; r++) delete t[r];
                                    return t
                                },
                                filter: function(e) {
                                    var n = this,
                                    i, s, o = [],
                                    u,
                                    a;
                                    typeof e == "string" ? (e = new t(e), a = function(t) {
                                        return e.match(t)
                                    }) : a = e;
                                    for (i = 0, s = n.length; i < s; i++) u = n[i],
                                    a(u) && o.push(u);
                                    return new r(o)
                                },
                                slice: function() {
                                    return new r(o.apply(this, arguments))
                                },
                                eq: function(e) {
                                    return e === -1 ? this.slice(e) : this.slice(e, +e + 1)
                                },
                                each: function(t) {
                                    return e.each(this, t),
                                    this
                                },
                                toArray: function() {
                                    return e.toArray(this)
                                },
                                indexOf: function(e) {
                                    var t = this,
                                    n = t.length;
                                    while (n--) if (t[n] === e) break;
                                    return n
                                },
                                reverse: function() {
                                    return new r(e.toArray(this).reverse())
                                },
                                hasClass: function(e) {
                                    return this[0] ? this[0].hasClass(e) : !1
                                },
                                prop: function(e, t) {
                                    var n = this,
                                    r, i;
                                    if (t !== r) return n.each(function(n) {
                                        n[e] && n[e](t)
                                    }),
                                    n;
                                    i = n[0];
                                    if (i && i[e]) return i[e]()
                                },
                                exec: function(t) {
                                    var n = this,
                                    r = e.toArray(arguments).slice(1);
                                    return n.each(function(e) {
                                        e[t] && e[t].apply(e, r)
                                    }),
                                    n
                                },
                                remove: function() {
                                    var e = this.length;
                                    while (e--) this[e].remove();
                                    return this
                                }
                            },
                            e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),
                            function(t) {
                                i[t] = function() {
                                    var n = e.toArray(arguments);
                                    return this.each(function(e) {
                                        t in e && e[t].apply(e, n)
                                    }),
                                    this
                                }
                            }),
                            e.each("text name disabled active selected checked visible parent value data".split(" "),
                            function(e) {
                                i[e] = function(t) {
                                    return this.prop(e, t)
                                }
                            }),
                            r = n.extend(i),
                            t.Collection = r,
                            r
                        }),
                        i("tinymce/ui/DomUtils", ["tinymce/util/Tools", "tinymce/dom/DOMUtils"],
                        function(e, t) {
                            var n = 0;
                            return {
                                id: function() {
                                    return "mceu_" + n++
                                },
                                createFragment: function(e) {
                                    return t.DOM.createFragment(e)
                                },
                                getWindowSize: function() {
                                    return t.DOM.getViewPort()
                                },
                                getSize: function(e) {
                                    var t, n;
                                    if (e.getBoundingClientRect) {
                                        var r = e.getBoundingClientRect();
                                        t = Math.max(r.width || r.right - r.left, e.offsetWidth),
                                        n = Math.max(r.height || r.bottom - r.bottom, e.offsetHeight)
                                    } else t = e.offsetWidth,
                                    n = e.offsetHeight;
                                    return {
                                        width: t,
                                        height: n
                                    }
                                },
                                getPos: function(e, n) {
                                    return t.DOM.getPos(e, n)
                                },
                                getViewPort: function(e) {
                                    return t.DOM.getViewPort(e)
                                },
                                get: function(e) {
                                    return document.getElementById(e)
                                },
                                addClass: function(e, n) {
                                    return t.DOM.addClass(e, n)
                                },
                                removeClass: function(e, n) {
                                    return t.DOM.removeClass(e, n)
                                },
                                hasClass: function(e, n) {
                                    return t.DOM.hasClass(e, n)
                                },
                                toggleClass: function(e, n, r) {
                                    return t.DOM.toggleClass(e, n, r)
                                },
                                css: function(e, n, r) {
                                    return t.DOM.setStyle(e, n, r)
                                },
                                on: function(e, n, r, i) {
                                    return t.DOM.bind(e, n, r, i)
                                },
                                off: function(e, n, r) {
                                    return t.DOM.unbind(e, n, r)
                                },
                                fire: function(e, n, r) {
                                    return t.DOM.fire(e, n, r)
                                },
                                innerHtml: function(e, n) {
                                    t.DOM.setHTML(e, n)
                                }
                            }
                        }),
                        i("tinymce/ui/Control", ["tinymce/util/Class", "tinymce/util/Tools", "tinymce/util/EventDispatcher", "tinymce/ui/Collection", "tinymce/ui/DomUtils"],
                        function(e, t, n, r, i) {
                            function a(e) {
                                return e._eventDispatcher || (e._eventDispatcher = new n({
                                    scope: e,
                                    toggleEvent: function(t, r) {
                                        r && n.isNative(t) && (e._nativeEvents || (e._nativeEvents = {}), e._nativeEvents[t] = !0, e._rendered && e.bindPendingEvents())
                                    }
                                })),
                                e._eventDispatcher
                            }
                            var s = "onmousewheel" in document,
                            o = !1,
                            u = "mce-",
                            f = e.extend({
                                Statics: {
                                    classPrefix: u
                                },
                                isRtl: function() {
                                    return f.rtl
                                },
                                classPrefix: u,
                                init: function(e) {
                                    var n = this,
                                    r, s;
                                    n.settings = e = t.extend({},
                                    n.Defaults, e),
                                    n._id = e.id || i.id(),
                                    n._text = n._name = "",
                                    n._width = n._height = 0,
                                    n._aria = {
                                        role: e.role
                                    },
                                    this._elmCache = {},
                                    r = e.classes;
                                    if (r) {
                                        r = r.split(" "),
                                        r.map = {},
                                        s = r.length;
                                        while (s--) r.map[r[s]] = !0
                                    }
                                    n._classes = r || [],
                                    n.visible(!0),
                                    t.each("title text width height name classes visible disabled active value".split(" "),
                                    function(t) {
                                        var r = e[t],
                                        i;
                                        r !== i ? n[t](r) : n["_" + t] === i && (n["_" + t] = !1)
                                    }),
                                    n.on("click",
                                    function() {
                                        if (n.disabled()) return ! 1
                                    }),
                                    e.classes && t.each(e.classes.split(" "),
                                    function(e) {
                                        n.addClass(e)
                                    }),
                                    n.settings = e,
                                    n._borderBox = n.parseBox(e.border),
                                    n._paddingBox = n.parseBox(e.padding),
                                    n._marginBox = n.parseBox(e.margin),
                                    e.hidden && n.hide()
                                },
                                Properties: "parent,title,text,width,height,disabled,active,name,value",
                                Methods: "renderHtml",
                                getContainerElm: function() {
                                    return document.body
                                },
                                getParentCtrl: function(e) {
                                    var t, n = this.getRoot().controlIdLookup;
                                    while (e && n) {
                                        t = n[e.id];
                                        if (t) break;
                                        e = e.parentNode
                                    }
                                    return t
                                },
                                parseBox: function(e) {
                                    var t, n = 10;
                                    if (!e) return;
                                    return typeof e == "number" ? (e = e || 0, {
                                        top: e,
                                        left: e,
                                        bottom: e,
                                        right: e
                                    }) : (e = e.split(" "), t = e.length, t === 1 ? e[1] = e[2] = e[3] = e[0] : t === 2 ? (e[2] = e[0], e[3] = e[1]) : t === 3 && (e[3] = e[1]), {
                                        top: parseInt(e[0], n) || 0,
                                        right: parseInt(e[1], n) || 0,
                                        bottom: parseInt(e[2], n) || 0,
                                        left: parseInt(e[3], n) || 0
                                    })
                                },
                                borderBox: function() {
                                    return this._borderBox
                                },
                                paddingBox: function() {
                                    return this._paddingBox
                                },
                                marginBox: function() {
                                    return this._marginBox
                                },
                                measureBox: function(e, t) {
                                    function n(t) {
                                        var n = document.defaultView;
                                        return n ? (t = t.replace(/[A-Z]/g,
                                        function(e) {
                                            return "-" + e
                                        }), n.getComputedStyle(e, null).getPropertyValue(t)) : e.currentStyle[t]
                                    }
                                    function r(e) {
                                        var t = parseFloat(n(e), 10);
                                        return isNaN(t) ? 0 : t
                                    }
                                    return {
                                        top: r(t + "TopWidth"),
                                        right: r(t + "RightWidth"),
                                        bottom: r(t + "BottomWidth"),
                                        left: r(t + "LeftWidth")
                                    }
                                },
                                initLayoutRect: function() {
                                    var e = this,
                                    t = e.settings,
                                    n, r, s = e.getEl(),
                                    o,
                                    u,
                                    a,
                                    f,
                                    l,
                                    c,
                                    h,
                                    p;
                                    n = e._borderBox = e._borderBox || e.measureBox(s, "border"),
                                    e._paddingBox = e._paddingBox || e.measureBox(s, "padding"),
                                    e._marginBox = e._marginBox || e.measureBox(s, "margin"),
                                    p = i.getSize(s),
                                    c = t.minWidth,
                                    h = t.minHeight,
                                    a = c || p.width,
                                    f = h || p.height,
                                    o = t.width,
                                    u = t.height,
                                    l = t.autoResize,
                                    l = typeof l != "undefined" ? l: !o && !u,
                                    o = o || a,
                                    u = u || f;
                                    var d = n.left + n.right,
                                    v = n.top + n.bottom,
                                    m = t.maxWidth || 65535,
                                    g = t.maxHeight || 65535;
                                    return e._layoutRect = r = {
                                        x: t.x || 0,
                                        y: t.y || 0,
                                        w: o,
                                        h: u,
                                        deltaW: d,
                                        deltaH: v,
                                        contentW: o - d,
                                        contentH: u - v,
                                        innerW: o - d,
                                        innerH: u - v,
                                        startMinWidth: c || 0,
                                        startMinHeight: h || 0,
                                        minW: Math.min(a, m),
                                        minH: Math.min(f, g),
                                        maxW: m,
                                        maxH: g,
                                        autoResize: l,
                                        scrollW: 0
                                    },
                                    e._lastLayoutRect = {},
                                    r
                                },
                                layoutRect: function(e) {
                                    var t = this,
                                    n = t._layoutRect,
                                    r, i, s, o, u, a;
                                    n || (n = t.initLayoutRect());
                                    if (e) {
                                        s = n.deltaW,
                                        o = n.deltaH,
                                        e.x !== u && (n.x = e.x),
                                        e.y !== u && (n.y = e.y),
                                        e.minW !== u && (n.minW = e.minW),
                                        e.minH !== u && (n.minH = e.minH),
                                        i = e.w,
                                        i !== u && (i = i < n.minW ? n.minW: i, i = i > n.maxW ? n.maxW: i, n.w = i, n.innerW = i - s),
                                        i = e.h,
                                        i !== u && (i = i < n.minH ? n.minH: i, i = i > n.maxH ? n.maxH: i, n.h = i, n.innerH = i - o),
                                        i = e.innerW,
                                        i !== u && (i = i < n.minW - s ? n.minW - s: i, i = i > n.maxW - s ? n.maxW - s: i, n.innerW = i, n.w = i + s),
                                        i = e.innerH,
                                        i !== u && (i = i < n.minH - o ? n.minH - o: i, i = i > n.maxH - o ? n.maxH - o: i, n.innerH = i, n.h = i + o),
                                        e.contentW !== u && (n.contentW = e.contentW),
                                        e.contentH !== u && (n.contentH = e.contentH),
                                        r = t._lastLayoutRect;
                                        if (r.x !== n.x || r.y !== n.y || r.w !== n.w || r.h !== n.h) a = f.repaintControls,
                                        a && a.map && !a.map[t._id] && (a.push(t), a.map[t._id] = !0),
                                        r.x = n.x,
                                        r.y = n.y,
                                        r.w = n.w,
                                        r.h = n.h;
                                        return t
                                    }
                                    return n
                                },
                                repaint: function() {
                                    var e = this,
                                    t, n, r, i, s = 0,
                                    o = 0,
                                    u, a;
                                    a = document.createRange ?
                                    function(e) {
                                        return e
                                    }: Math.round,
                                    t = e.getEl().style,
                                    r = e._layoutRect,
                                    u = e._lastRepaintRect || {},
                                    i = e._borderBox,
                                    s = i.left + i.right,
                                    o = i.top + i.bottom,
                                    r.x !== u.x && (t.left = a(r.x) + "px", u.x = r.x),
                                    r.y !== u.y && (t.top = a(r.y) + "px", u.y = r.y),
                                    r.w !== u.w && (t.width = a(r.w - s) + "px", u.w = r.w),
                                    r.h !== u.h && (t.height = a(r.h - o) + "px", u.h = r.h),
                                    e._hasBody && r.innerW !== u.innerW && (n = e.getEl("body").style, n.width = a(r.innerW) + "px", u.innerW = r.innerW),
                                    e._hasBody && r.innerH !== u.innerH && (n = n || e.getEl("body").style, n.height = a(r.innerH) + "px", u.innerH = r.innerH),
                                    e._lastRepaintRect = u,
                                    e.fire("repaint", {},
                                    !1)
                                },
                                on: function(e, t) {
                                    function r(e) {
                                        var t, r;
                                        return typeof e != "string" ? e: function(i) {
                                            return t || n.parentsAndSelf().each(function(n) {
                                                var i = n.settings.callbacks;
                                                if (i && (t = i[e])) return r = n,
                                                !1
                                            }),
                                            t.call(r, i)
                                        }
                                    }
                                    var n = this;
                                    return a(n).on(e, r(t)),
                                    n
                                },
                                off: function(e, t) {
                                    return a(this).off(e, t),
                                    this
                                },
                                fire: function(e, t, n) {
                                    var r = this;
                                    t = t || {},
                                    t.control || (t.control = r),
                                    t = a(r).fire(e, t);
                                    if (n !== !1 && r.parent) {
                                        var i = r.parent();
                                        while (i && !t.isPropagationStopped()) i.fire(e, t, !1),
                                        i = i.parent()
                                    }
                                    return t
                                },
                                hasEventListeners: function(e) {
                                    return a(this).has(e)
                                },
                                parents: function(e) {
                                    var t = this,
                                    n, i = new r;
                                    for (n = t.parent(); n; n = n.parent()) i.add(n);
                                    return e && (i = i.filter(e)),
                                    i
                                },
                                parentsAndSelf: function(e) {
                                    return (new r(this)).add(this.parents(e))
                                },
                                next: function() {
                                    var e = this.parent().items();
                                    return e[e.indexOf(this) + 1]
                                },
                                prev: function() {
                                    var e = this.parent().items();
                                    return e[e.indexOf(this) - 1]
                                },
                                findCommonAncestor: function(e, t) {
                                    var n;
                                    while (e) {
                                        n = t;
                                        while (n && e != n) n = n.parent();
                                        if (e == n) break;
                                        e = e.parent()
                                    }
                                    return e
                                },
                                hasClass: function(e, t) {
                                    var n = this._classes[t || "control"];
                                    return e = this.classPrefix + e,
                                    n && !!n.map[e]
                                },
                                addClass: function(e, t) {
                                    var n = this,
                                    r, i;
                                    return e = this.classPrefix + e,
                                    r = n._classes[t || "control"],
                                    r || (r = [], r.map = {},
                                    n._classes[t || "control"] = r),
                                    r.map[e] || (r.map[e] = e, r.push(e), n._rendered && (i = n.getEl(t), i && (i.className = r.join(" ")))),
                                    n
                                },
                                removeClass: function(e, t) {
                                    var n = this,
                                    r, i, s;
                                    e = this.classPrefix + e,
                                    r = n._classes[t || "control"];
                                    if (r && r.map[e]) {
                                        delete r.map[e],
                                        i = r.length;
                                        while (i--) r[i] === e && r.splice(i, 1)
                                    }
                                    return n._rendered && (s = n.getEl(t), s && (s.className = r.join(" "))),
                                    n
                                },
                                toggleClass: function(e, t, n) {
                                    var r = this;
                                    return t ? r.addClass(e, n) : r.removeClass(e, n),
                                    r
                                },
                                classes: function(e) {
                                    var t = this._classes[e || "control"];
                                    return t ? t.join(" ") : ""
                                },
                                innerHtml: function(e) {
                                    return i.innerHtml(this.getEl(), e),
                                    this
                                },
                                getEl: function(e) {
                                    var t = e ? this._id + "-" + e: this._id;
                                    return this._elmCache[t] || (this._elmCache[t] = i.get(t)),
                                    this._elmCache[t]
                                },
                                visible: function(e) {
                                    var t = this,
                                    n;
                                    return typeof e != "undefined" ? (t._visible !== e && (t._rendered && (t.getEl().style.display = e ? "": "none"), t._visible = e, n = t.parent(), n && (n._lastRect = null), t.fire(e ? "show": "hide")), t) : t._visible
                                },
                                show: function() {
                                    return this.visible(!0)
                                },
                                hide: function() {
                                    return this.visible(!1)
                                },
                                focus: function() {
                                    try {
                                        this.getEl().focus()
                                    } catch(e$61) {}
                                    return this
                                },
                                blur: function() {
                                    return this.getEl().blur(),
                                    this
                                },
                                aria: function(e, t) {
                                    var n = this,
                                    r = n.getEl(n.ariaTarget);
                                    return typeof t == "undefined" ? n._aria[e] : (n._aria[e] = t, n._rendered && r.setAttribute(e == "role" ? e: "aria-" + e, t), n)
                                },
                                encode: function(e, t) {
                                    return t !== !1 && (e = this.translate(e)),
                                    (e || "").replace(/[&<>"]/g,
                                    function(e) {
                                        return "\x26#" + e.charCodeAt(0) + ";"
                                    })
                                },
                                translate: function(e) {
                                    return f.translate ? f.translate(e) : e
                                },
                                before: function(e) {
                                    var t = this,
                                    n = t.parent();
                                    return n && n.insert(e, n.items().indexOf(t), !0),
                                    t
                                },
                                after: function(e) {
                                    var t = this,
                                    n = t.parent();
                                    return n && n.insert(e, n.items().indexOf(t)),
                                    t
                                },
                                remove: function() {
                                    var e = this,
                                    t = e.getEl(),
                                    n = e.parent(),
                                    r,
                                    s;
                                    if (e.items) {
                                        var o = e.items().toArray();
                                        s = o.length;
                                        while (s--) o[s].remove()
                                    }
                                    n && n.items && (r = [], n.items().each(function(t) {
                                        t !== e && r.push(t)
                                    }), n.items().set(r), n._lastRect = null),
                                    e._eventsRoot && e._eventsRoot == e && i.off(t);
                                    var u = e.getRoot().controlIdLookup;
                                    return u && delete u[e._id],
                                    t && t.parentNode && t.parentNode.removeChild(t),
                                    e._rendered = !1,
                                    e
                                },
                                renderBefore: function(e) {
                                    var t = this;
                                    return e.parentNode.insertBefore(i.createFragment(t.renderHtml()), e),
                                    t.postRender(),
                                    t
                                },
                                renderTo: function(e) {
                                    var t = this;
                                    return e = e || t.getContainerElm(),
                                    e.appendChild(i.createFragment(t.renderHtml())),
                                    t.postRender(),
                                    t
                                },
                                postRender: function() {
                                    var e = this,
                                    t = e.settings,
                                    n, r, s, o, u;
                                    for (o in t) o.indexOf("on") === 0 && e.on(o.substr(2), t[o]);
                                    if (e._eventsRoot) {
                                        for (s = e.parent(); ! u && s; s = s.parent()) u = s._eventsRoot;
                                        if (u) for (o in u._nativeEvents) e._nativeEvents[o] = !0
                                    }
                                    e.bindPendingEvents(),
                                    t.style && (n = e.getEl(), n && (n.setAttribute("style", t.style), n.style.cssText = t.style)),
                                    e._visible || i.css(e.getEl(), "display", "none"),
                                    e.settings.border && (r = e.borderBox(), i.css(e.getEl(), {
                                        "border-top-width": r.top,
                                        "border-right-width": r.right,
                                        "border-bottom-width": r.bottom,
                                        "border-left-width": r.left
                                    }));
                                    var a = e.getRoot();
                                    a.controlIdLookup || (a.controlIdLookup = {}),
                                    a.controlIdLookup[e._id] = e;
                                    for (var f in e._aria) e.aria(f, e._aria[f]);
                                    e.fire("postrender", {},
                                    !1)
                                },
                                scrollIntoView: function(e) {
                                    function t(e, t) {
                                        var n, r, i = e;
                                        n = r = 0;
                                        while (i && i != t && i.nodeType) n += i.offsetLeft || 0,
                                        r += i.offsetTop || 0,
                                        i = i.offsetParent;
                                        return {
                                            x: n,
                                            y: r
                                        }
                                    }
                                    var n = this.getEl(),
                                    r = n.parentNode,
                                    i,
                                    s,
                                    o,
                                    u,
                                    a,
                                    f,
                                    l = t(n, r);
                                    return i = l.x,
                                    s = l.y,
                                    o = n.offsetWidth,
                                    u = n.offsetHeight,
                                    a = r.clientWidth,
                                    f = r.clientHeight,
                                    e == "end" ? (i -= a - o, s -= f - u) : e == "center" && (i -= a / 2 - o / 2, s -= f / 2 - u / 2),
                                    r.scrollLeft = i,
                                    r.scrollTop = s,
                                    this
                                },
                                bindPendingEvents: function() {
                                    function l(t) {
                                        var n = e.getParentCtrl(t.target);
                                        n && n.fire(t.type, t)
                                    }
                                    function c() {
                                        var e = u._lastHoverCtrl;
                                        e && (e.fire("mouseleave", {
                                            target: e.getEl()
                                        }), e.parents().each(function(e) {
                                            e.fire("mouseleave", {
                                                target: e.getEl()
                                            })
                                        }), u._lastHoverCtrl = null)
                                    }
                                    function h(t) {
                                        var n = e.getParentCtrl(t.target),
                                        r = u._lastHoverCtrl,
                                        i = 0,
                                        s,
                                        o,
                                        a;
                                        if (n !== r) {
                                            u._lastHoverCtrl = n,
                                            o = n.parents().toArray().reverse(),
                                            o.push(n);
                                            if (r) {
                                                a = r.parents().toArray().reverse(),
                                                a.push(r);
                                                for (i = 0; i < a.length; i++) if (o[i] !== a[i]) break;
                                                for (s = a.length - 1; s >= i; s--) r = a[s],
                                                r.fire("mouseleave", {
                                                    target: r.getEl()
                                                })
                                            }
                                            for (s = i; s < o.length; s++) n = o[s],
                                            n.fire("mouseenter", {
                                                target: n.getEl()
                                            })
                                        }
                                    }
                                    function p(t) {
                                        t.preventDefault(),
                                        t.type == "mousewheel" ? (t.deltaY = -1 / 40 * t.wheelDelta, t.wheelDeltaX && (t.deltaX = -1 / 40 * t.wheelDeltaX)) : (t.deltaX = 0, t.deltaY = t.detail),
                                        t = e.fire("wheel", t)
                                    }
                                    var e = this,
                                    t, n, r, u, a, f;
                                    e._rendered = !0,
                                    a = e._nativeEvents;
                                    if (a) {
                                        r = e.parents().toArray(),
                                        r.unshift(e);
                                        for (t = 0, n = r.length; ! u && t < n; t++) u = r[t]._eventsRoot;
                                        u || (u = r[r.length - 1] || e),
                                        e._eventsRoot = u;
                                        for (n = t, t = 0; t < n; t++) r[t]._eventsRoot = u;
                                        var d = u._delegates;
                                        d || (d = u._delegates = {});
                                        for (f in a) {
                                            if (!a) return ! 1;
                                            if (f === "wheel" && !o) {
                                                s ? i.on(e.getEl(), "mousewheel", p) : i.on(e.getEl(), "DOMMouseScroll", p);
                                                continue
                                            }
                                            f === "mouseenter" || f === "mouseleave" ? u._hasMouseEnter || (i.on(u.getEl(), "mouseleave", c), i.on(u.getEl(), "mouseover", h), u._hasMouseEnter = 1) : d[f] || (i.on(u.getEl(), f, l), d[f] = !0),
                                            a[f] = !1
                                        }
                                    }
                                },
                                getRoot: function() {
                                    var e = this,
                                    t, n = [];
                                    while (e) {
                                        if (e.rootControl) {
                                            t = e.rootControl;
                                            break
                                        }
                                        n.push(e),
                                        t = e,
                                        e = e.parent()
                                    }
                                    t || (t = this);
                                    var r = n.length;
                                    while (r--) n[r].rootControl = t;
                                    return t
                                },
                                reflow: function() {
                                    return this.repaint(),
                                    this
                                }
                            });
                            return f
                        }),
                        i("tinymce/ui/Factory", [],
                        function() {
                            var e = {},
                            t;
                            return {
                                add: function(t, n) {
                                    e[t.toLowerCase()] = n
                                },
                                has: function(t) {
                                    return !! e[t.toLowerCase()]
                                },
                                create: function(n, r) {
                                    var i, s, o;
                                    if (!t) {
                                        o = tinymce.ui;
                                        for (s in o) e[s.toLowerCase()] = o[s];
                                        t = !0
                                    }
                                    typeof n == "string" ? (r = r || {},
                                    r.type = n) : (r = n, n = r.type),
                                    n = n.toLowerCase(),
                                    i = e[n];
                                    if (!i) throw new Error("Could not find control by type: " + n);
                                    return i = new i(r),
                                    i.type = n,
                                    i
                                }
                            }
                        }),
                        i("tinymce/ui/KeyboardNavigation", [],
                        function() {
                            return function(e) {
                                function s(e) {
                                    return e = e || n,
                                    e && e.getAttribute("role")
                                }
                                function o(e) {
                                    var t, r = e || n;
                                    while (r = r.parentNode) if (t = s(r)) return t
                                }
                                function u(e) {
                                    var t = n;
                                    if (t) return t.getAttribute("aria-" + e)
                                }
                                function a(e) {
                                    var t = e.tagName.toUpperCase();
                                    return t == "INPUT" || t == "TEXTAREA"
                                }
                                function f(e) {
                                    return a(e) && !e.hidden ? !0 : /^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(s(e)) ? !0 : !1
                                }
                                function l(e) {
                                    function r(e) {
                                        if (e.nodeType != 1 || e.style.display == "none") return;
                                        f(e) && n.push(e);
                                        for (var t = 0; t < e.childNodes.length; t++) r(e.childNodes[t])
                                    }
                                    var n = [];
                                    return r(e || t.getEl()),
                                    n
                                }
                                function c(e) {
                                    var t, n;
                                    e = e || r,
                                    n = e.parents().toArray(),
                                    n.unshift(e);
                                    for (var i = 0; i < n.length; i++) {
                                        t = n[i];
                                        if (t.settings.ariaRoot) break
                                    }
                                    return t
                                }
                                function h(e) {
                                    var t = c(e),
                                    n = l(t.getEl());
                                    t.settings.ariaRemember && "lastAriaIndex" in t ? p(t.lastAriaIndex, n) : p(0, n)
                                }
                                function p(e, t) {
                                    return e < 0 ? e = t.length - 1 : e >= t.length && (e = 0),
                                    t[e] && t[e].focus(),
                                    e
                                }
                                function d(e, t) {
                                    var r = -1,
                                    i = c();
                                    t = t || l(i.getEl());
                                    for (var s = 0; s < t.length; s++) t[s] === n && (r = s);
                                    r += e,
                                    i.lastAriaIndex = p(r, t)
                                }
                                function v() {
                                    var e = o();
                                    e == "tablist" ? d( - 1, l(n.parentNode)) : r.parent().submenu ? w() : d( - 1)
                                }
                                function m() {
                                    var e = s(),
                                    t = o();
                                    t == "tablist" ? d(1, l(n.parentNode)) : e == "menuitem" && t == "menu" && u("haspopup") ? E() : d(1)
                                }
                                function g() {
                                    d( - 1)
                                }
                                function y() {
                                    var e = s(),
                                    t = o();
                                    e == "menuitem" && t == "menubar" ? E() : e == "button" && u("haspopup") ? E({
                                        key: "down"
                                    }) : d(1)
                                }
                                function b(e) {
                                    var t = o();
                                    if (t == "tablist") {
                                        var n = l(r.getEl("body"))[0];
                                        n && n.focus()
                                    } else d(e.shiftKey ? -1 : 1)
                                }
                                function w() {
                                    r.fire("cancel")
                                }
                                function E(e) {
                                    e = e || {},
                                    r.fire("click", {
                                        target: n,
                                        aria: e
                                    })
                                }
                                var t = e.root,
                                n, r;
                                try {
                                    n = document.activeElement
                                } catch(i$62) {
                                    n = document.body
                                }
                                return r = t.getParentCtrl(n),
                                t.on("keydown",
                                function(e) {
                                    function t(e, t) {
                                        if (a(n)) return;
                                        t(e) !== !1 && e.preventDefault()
                                    }
                                    if (e.isDefaultPrevented()) return;
                                    switch (e.keyCode) {
                                    case 37:
                                        t(e, v);
                                        break;
                                    case 39:
                                        t(e, m);
                                        break;
                                    case 38:
                                        t(e, g);
                                        break;
                                    case 40:
                                        t(e, y);
                                        break;
                                    case 27:
                                        w();
                                        break;
                                    case 14:
                                    case 13:
                                    case 32:
                                        t(e, E);
                                        break;
                                    case 9:
                                        b(e) !== !1 && e.preventDefault()
                                    }
                                }),
                                t.on("focusin",
                                function(e) {
                                    n = e.target,
                                    r = e.control
                                }),
                                {
                                    focusFirst: h
                                }
                            }
                        }),
                        i("tinymce/ui/Container", ["tinymce/ui/Control", "tinymce/ui/Collection", "tinymce/ui/Selector", "tinymce/ui/Factory", "tinymce/ui/KeyboardNavigation", "tinymce/util/Tools", "tinymce/ui/DomUtils"],
                        function(e, t, n, r, i, s, o) {
                            var u = {};
                            return e.extend({
                                layout: "",
                                innerClass: "container-inner",
                                init: function(e) {
                                    var n = this;
                                    n._super(e),
                                    e = n.settings,
                                    n._fixed = e.fixed,
                                    n._items = new t,
                                    n.isRtl() && n.addClass("rtl"),
                                    n.addClass("container"),
                                    n.addClass("container-body", "body"),
                                    e.containerCls && n.addClass(e.containerCls),
                                    n._layout = r.create((e.layout || n.layout) + "layout"),
                                    n.settings.items && n.add(n.settings.items),
                                    n._hasBody = !0
                                },
                                items: function() {
                                    return this._items
                                },
                                find: function(e) {
                                    return e = u[e] = u[e] || new n(e),
                                    e.find(this)
                                },
                                add: function(e) {
                                    var t = this;
                                    return t.items().add(t.create(e)).parent(t),
                                    t
                                },
                                focus: function(e) {
                                    var t = this,
                                    n, r, i;
                                    if (e) {
                                        r = t.keyboardNav || t.parents().eq( - 1)[0].keyboardNav;
                                        if (r) {
                                            r.focusFirst(t);
                                            return
                                        }
                                    }
                                    return i = t.find("*"),
                                    t.statusbar && i.add(t.statusbar.items()),
                                    i.each(function(e) {
                                        if (e.settings.autofocus) return n = null,
                                        !1;
                                        e.canFocus && (n = n || e)
                                    }),
                                    n && n.focus(),
                                    t
                                },
                                replace: function(e, t) {
                                    var n, r = this.items(),
                                    i = r.length;
                                    while (i--) if (r[i] === e) {
                                        r[i] = t;
                                        break
                                    }
                                    i >= 0 && (n = t.getEl(), n && n.parentNode.removeChild(n), n = e.getEl(), n && n.parentNode.removeChild(n)),
                                    t.parent(this)
                                },
                                create: function(t) {
                                    var n = this,
                                    i, o = [];
                                    return s.isArray(t) || (t = [t]),
                                    s.each(t,
                                    function(t) {
                                        t && (t instanceof e || (typeof t == "string" && (t = {
                                            type: t
                                        }), i = s.extend({},
                                        n.settings.defaults, t), t.type = i.type = i.type || t.type || n.settings.defaultType || (i.defaults ? i.defaults.type: null), t = r.create(i)), o.push(t))
                                    }),
                                    o
                                },
                                renderNew: function() {
                                    var e = this;
                                    return e.items().each(function(t, n) {
                                        var r, i;
                                        t.parent(e),
                                        t._rendered || (r = e.getEl("body"), i = o.createFragment(t.renderHtml()), r.hasChildNodes() && n <= r.childNodes.length - 1 ? r.insertBefore(i, r.childNodes[n]) : r.appendChild(i), t.postRender())
                                    }),
                                    e._layout.applyClasses(e),
                                    e._lastRect = null,
                                    e
                                },
                                append: function(e) {
                                    return this.add(e).renderNew()
                                },
                                prepend: function(e) {
                                    var t = this;
                                    return t.items().set(t.create(e).concat(t.items().toArray())),
                                    t.renderNew()
                                },
                                insert: function(e, t, n) {
                                    var r = this,
                                    i, s, o;
                                    return e = r.create(e),
                                    i = r.items(),
                                    !n && t < i.length - 1 && (t += 1),
                                    t >= 0 && t < i.length && (s = i.slice(0, t).toArray(), o = i.slice(t).toArray(), i.set(s.concat(e, o))),
                                    r.renderNew()
                                },
                                fromJSON: function(e) {
                                    var t = this;
                                    for (var n in e) t.find("#" + n).value(e[n]);
                                    return t
                                },
                                toJSON: function() {
                                    var e = this,
                                    t = {};
                                    return e.find("*").each(function(e) {
                                        var n = e.name(),
                                        r = e.value();
                                        n && typeof r != "undefined" && (t[n] = r)
                                    }),
                                    t
                                },
                                preRender: function() {},
                                renderHtml: function() {
                                    var e = this,
                                    t = e._layout,
                                    n = this.settings.role;
                                    return e.preRender(),
                                    t.preRender(e),
                                    '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '"' + (n ? ' role\x3d"' + this.settings.role + '"': "") + "\x3e" + '\x3cdiv id\x3d"' + e._id + '-body" class\x3d"' + e.classes("body") + '"\x3e' + (e.settings.html || "") + t.renderHtml(e) + "\x3c/div\x3e" + "\x3c/div\x3e"
                                },
                                postRender: function() {
                                    var e = this,
                                    t;
                                    return e.items().exec("postRender"),
                                    e._super(),
                                    e._layout.postRender(e),
                                    e._rendered = !0,
                                    e.settings.style && o.css(e.getEl(), e.settings.style),
                                    e.settings.border && (t = e.borderBox(), o.css(e.getEl(), {
                                        "border-top-width": t.top,
                                        "border-right-width": t.right,
                                        "border-bottom-width": t.bottom,
                                        "border-left-width": t.left
                                    })),
                                    e.parent() || (e.keyboardNav = new i({
                                        root: e
                                    })),
                                    e
                                },
                                initLayoutRect: function() {
                                    var e = this,
                                    t = e._super();
                                    return e._layout.recalc(e),
                                    t
                                },
                                recalc: function() {
                                    var e = this,
                                    t = e._layoutRect,
                                    n = e._lastRect;
                                    if (!n || n.w != t.w || n.h != t.h) return e._layout.recalc(e),
                                    t = e.layoutRect(),
                                    e._lastRect = {
                                        x: t.x,
                                        y: t.y,
                                        w: t.w,
                                        h: t.h
                                    },
                                    !0
                                },
                                reflow: function() {
                                    var t;
                                    if (this.visible()) {
                                        e.repaintControls = [],
                                        e.repaintControls.map = {},
                                        this.recalc(),
                                        t = e.repaintControls.length;
                                        while (t--) e.repaintControls[t].repaint();
                                        this.settings.layout !== "flow" && this.settings.layout !== "stack" && this.repaint(),
                                        e.repaintControls = []
                                    }
                                    return this
                                }
                            })
                        }),
                        i("tinymce/ui/DragHelper", ["tinymce/ui/DomUtils"],
                        function(e) {
                            function t() {
                                var e = document,
                                t, n, r, i, s, o, u, a, f = Math.max;
                                return t = e.documentElement,
                                n = e.body,
                                r = f(t.scrollWidth, n.scrollWidth),
                                i = f(t.clientWidth, n.clientWidth),
                                s = f(t.offsetWidth, n.offsetWidth),
                                o = f(t.scrollHeight, n.scrollHeight),
                                u = f(t.clientHeight, n.clientHeight),
                                a = f(t.offsetHeight, n.offsetHeight),
                                {
                                    width: r < s ? i: r,
                                    height: o < a ? u: o
                                }
                            }
                            return function(n, r) {
                                function h() {
                                    return s.getElementById(r.handle || n)
                                }
                                var i, s = document,
                                o, u, a, f, l, c;
                                r = r || {},
                                u = function(n) {
                                    var u = t(),
                                    p,
                                    d;
                                    n.preventDefault(),
                                    o = n.button,
                                    p = h(),
                                    l = n.screenX,
                                    c = n.screenY,
                                    window.getComputedStyle ? d = window.getComputedStyle(p, null).getPropertyValue("cursor") : d = p.runtimeStyle.cursor,
                                    i = s.createElement("div"),
                                    e.css(i, {
                                        position: "absolute",
                                        top: 0,
                                        left: 0,
                                        width: u.width,
                                        height: u.height,
                                        zIndex: 2147483647,
                                        opacity: 1E-4,
                                        cursor: d
                                    }),
                                    s.body.appendChild(i),
                                    e.on(s, "mousemove", f),
                                    e.on(s, "mouseup", a),
                                    r.start(n)
                                },
                                f = function(e) {
                                    if (e.button !== o) return a(e);
                                    e.deltaX = e.screenX - l,
                                    e.deltaY = e.screenY - c,
                                    e.preventDefault(),
                                    r.drag(e)
                                },
                                a = function(t) {
                                    e.off(s, "mousemove", f),
                                    e.off(s, "mouseup", a),
                                    i.parentNode.removeChild(i),
                                    r.stop && r.stop(t)
                                },
                                this.destroy = function() {
                                    e.off(h())
                                },
                                e.on(h(), "mousedown", u)
                            }
                        }),
                        i("tinymce/ui/Scrollable", ["tinymce/ui/DomUtils", "tinymce/ui/DragHelper"],
                        function(e, t) {
                            return {
                                init: function() {
                                    var e = this;
                                    e.on("repaint", e.renderScroll)
                                },
                                renderScroll: function() {
                                    function i() {
                                        function o(s, o, u, a, f, l) {
                                            var c, h, p, d, v, m, g, y, b;
                                            h = n.getEl("scroll" + s);
                                            if (h) {
                                                y = o.toLowerCase(),
                                                b = u.toLowerCase(),
                                                n.getEl("absend") && e.css(n.getEl("absend"), y, n.layoutRect()[a] - 1);
                                                if (!f) {
                                                    e.css(h, "display", "none");
                                                    return
                                                }
                                                e.css(h, "display", "block"),
                                                c = n.getEl("body"),
                                                p = n.getEl("scroll" + s + "t"),
                                                d = c["client" + u] - r * 2,
                                                d -= t && i ? h["client" + l] : 0,
                                                v = c["scroll" + u],
                                                m = d / v,
                                                g = {},
                                                g[y] = c["offset" + o] + r,
                                                g[b] = d,
                                                e.css(h, g),
                                                g = {},
                                                g[y] = c["scroll" + o] * m,
                                                g[b] = d * m,
                                                e.css(p, g)
                                            }
                                        }
                                        var t, i, s;
                                        s = n.getEl("body"),
                                        t = s.scrollWidth > s.clientWidth,
                                        i = s.scrollHeight > s.clientHeight,
                                        o("h", "Left", "Width", "contentW", t, "Height"),
                                        o("v", "Top", "Height", "contentH", i, "Width")
                                    }
                                    function s() {
                                        function i(i, s, o, u, a) {
                                            var f, l = n._id + "-scroll" + i,
                                            c = n.classPrefix;
                                            n.getEl().appendChild(e.createFragment('\x3cdiv id\x3d"' + l + '" class\x3d"' + c + "scrollbar " + c + "scrollbar-" + i + '"\x3e' + '\x3cdiv id\x3d"' + l + 't" class\x3d"' + c + 'scrollbar-thumb"\x3e\x3c/div\x3e' + "\x3c/div\x3e")),
                                            n.draghelper = new t(l + "t", {
                                                start: function() {
                                                    f = n.getEl("body")["scroll" + s],
                                                    e.addClass(e.get(l), c + "active")
                                                },
                                                drag: function(e) {
                                                    var t, l, c, h, p = n.layoutRect();
                                                    l = p.contentW > p.innerW,
                                                    c = p.contentH > p.innerH,
                                                    h = n.getEl("body")["client" + o] - r * 2,
                                                    h -= l && c ? n.getEl("scroll" + i)["client" + a] : 0,
                                                    t = h / n.getEl("body")["scroll" + o],
                                                    n.getEl("body")["scroll" + s] = f + e["delta" + u] / t
                                                },
                                                stop: function() {
                                                    e.removeClass(e.get(l), c + "active")
                                                }
                                            })
                                        }
                                        n.addClass("scroll"),
                                        i("v", "Top", "Height", "Y", "Width"),
                                        i("h", "Left", "Width", "X", "Height")
                                    }
                                    var n = this,
                                    r = 2;
                                    n.settings.autoScroll && (n._hasScroll || (n._hasScroll = !0, s(), n.on("wheel",
                                    function(e) {
                                        var t = n.getEl("body");
                                        t.scrollLeft += (e.deltaX || 0) * 10,
                                        t.scrollTop += e.deltaY * 10,
                                        i()
                                    }), e.on(n.getEl("body"), "scroll", i)), i())
                                }
                            }
                        }),
                        i("tinymce/ui/Panel", ["tinymce/ui/Container", "tinymce/ui/Scrollable"],
                        function(e, t) {
                            return e.extend({
                                Defaults: {
                                    layout: "fit",
                                    containerCls: "panel"
                                },
                                Mixins: [t],
                                renderHtml: function() {
                                    var e = this,
                                    t = e._layout,
                                    n = e.settings.html;
                                    return e.preRender(),
                                    t.preRender(e),
                                    typeof n == "undefined" ? n = '\x3cdiv id\x3d"' + e._id + '-body" class\x3d"' + e.classes("body") + '"\x3e' + t.renderHtml(e) + "\x3c/div\x3e": (typeof n == "function" && (n = n.call(e)), e._hasBody = !1),
                                    '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '" hidefocus\x3d"1" tabindex\x3d"-1" role\x3d"group"\x3e' + (e._preBodyHtml || "") + n + "\x3c/div\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/Movable", ["tinymce/ui/DomUtils"],
                        function(e) {
                            function t(t, n, r) {
                                var i, s, o, u, a, f, l, c, h, p;
                                return h = e.getViewPort(),
                                s = e.getPos(n),
                                o = s.x,
                                u = s.y,
                                t._fixed && (o -= h.x, u -= h.y),
                                i = t.getEl(),
                                p = e.getSize(i),
                                a = p.width,
                                f = p.height,
                                p = e.getSize(n),
                                l = p.width,
                                c = p.height,
                                r = (r || "").split(""),
                                r[0] === "b" && (u += c),
                                r[1] === "r" && (o += l),
                                r[0] === "c" && (u += Math.round(c / 2)),
                                r[1] === "c" && (o += Math.round(l / 2)),
                                r[3] === "b" && (u -= f),
                                r[4] === "r" && (o -= a),
                                r[3] === "c" && (u -= Math.round(f / 2)),
                                r[4] === "c" && (o -= Math.round(a / 2)),
                                {
                                    x: o,
                                    y: u,
                                    w: a,
                                    h: f
                                }
                            }
                            return {
                                testMoveRel: function(n, r) {
                                    var i = e.getViewPort();
                                    for (var s = 0; s < r.length; s++) {
                                        var o = t(this, n, r[s]);
                                        if (this._fixed) {
                                            if (o.x > 0 && o.x + o.w < i.w && o.y > 0 && o.y + o.h < i.h) return r[s]
                                        } else if (o.x > i.x && o.x + o.w < i.w + i.x && o.y > i.y && o.y + o.h < i.h + i.y) return r[s]
                                    }
                                    return r[0]
                                },
                                moveRel: function(e, n) {
                                    typeof n != "string" && (n = this.testMoveRel(e, n));
                                    var r = t(this, e, n);
                                    return this.moveTo(r.x, r.y)
                                },
                                moveBy: function(e, t) {
                                    var n = this,
                                    r = n.layoutRect();
                                    return n.moveTo(r.x + e, r.y + t),
                                    n
                                },
                                moveTo: function(t, n) {
                                    function i(e, t, n) {
                                        return e < 0 ? 0 : e + n > t ? (e = t - n, e < 0 ? 0 : e) : e
                                    }
                                    var r = this;
                                    if (r.settings.constrainToViewport) {
                                        var s = e.getViewPort(window),
                                        o = r.layoutRect();
                                        t = i(t, s.w + s.x, o.w),
                                        n = i(n, s.h + s.y, o.h)
                                    }
                                    return r._rendered ? r.layoutRect({
                                        x: t,
                                        y: n
                                    }).repaint() : (r.settings.x = t, r.settings.y = n),
                                    r.fire("move", {
                                        x: t,
                                        y: n
                                    }),
                                    r
                                }
                            }
                        }),
                        i("tinymce/ui/Resizable", ["tinymce/ui/DomUtils"],
                        function(e) {
                            return {
                                resizeToContent: function() {
                                    this._layoutRect.autoResize = !0,
                                    this._lastRect = null,
                                    this.reflow()
                                },
                                resizeTo: function(t, n) {
                                    if (t <= 1 || n <= 1) {
                                        var r = e.getWindowSize();
                                        t = t <= 1 ? t * r.w: t,
                                        n = n <= 1 ? n * r.h: n
                                    }
                                    return this._layoutRect.autoResize = !1,
                                    this.layoutRect({
                                        minW: t,
                                        minH: n,
                                        w: t,
                                        h: n
                                    }).reflow()
                                },
                                resizeBy: function(e, t) {
                                    var n = this,
                                    r = n.layoutRect();
                                    return n.resizeTo(r.w + e, r.h + t)
                                }
                            }
                        }),
                        i("tinymce/ui/FloatPanel", ["tinymce/ui/Panel", "tinymce/ui/Movable", "tinymce/ui/Resizable", "tinymce/ui/DomUtils"],
                        function(e, t, n, r) {
                            function l() {
                                function e(e, t) {
                                    while (e) {
                                        if (e == t) return ! 0;
                                        e = e.parent()
                                    }
                                }
                                i || (i = function(t) {
                                    if (t.button == 2) return;
                                    var n = u.length;
                                    while (n--) {
                                        var r = u[n],
                                        i = r.getParentCtrl(t.target);
                                        if (r.settings.autohide) {
                                            if (i) if (e(i, r) || r.parent() === i) continue;
                                            t = r.fire("autohide", {
                                                target: t.target
                                            }),
                                            t.isDefaultPrevented() || r.hide()
                                        }
                                    }
                                },
                                r.on(document, "click", i))
                            }
                            function c() {
                                s || (s = function() {
                                    var e;
                                    e = u.length;
                                    while (e--) p(u[e])
                                },
                                r.on(window, "scroll", s))
                            }
                            function h() {
                                if (!o) {
                                    var e = document.documentElement,
                                    t = e.clientWidth,
                                    n = e.clientHeight;
                                    o = function() {
                                        if (!document.all || t != e.clientWidth || n != e.clientHeight) t = e.clientWidth,
                                        n = e.clientHeight,
                                        d.hideAll()
                                    },
                                    r.on(window, "resize", o)
                                }
                            }
                            function p(e) {
                                function n(t, n) {
                                    var r;
                                    for (var i = 0; i < u.length; i++) if (u[i] != e) {
                                        r = u[i].parent();
                                        while (r && (r = r.parent())) r == e && u[i].fixed(t).moveBy(0, n).repaint()
                                    }
                                }
                                var t = r.getViewPort().y;
                                e.settings.autofix && (e._fixed ? e._autoFixY > t && (e.fixed(!1).layoutRect({
                                    y: e._autoFixY
                                }).repaint(), n(!1, e._autoFixY - t)) : (e._autoFixY = e.layoutRect().y, e._autoFixY < t && (e.fixed(!0).layoutRect({
                                    y: 0
                                }).repaint(), n(!0, t - e._autoFixY))))
                            }
                            function v(e) {
                                var t;
                                t = u.length;
                                while (t--) u[t] === e && u.splice(t, 1);
                                t = a.length;
                                while (t--) a[t] === e && a.splice(t, 1)
                            }
                            var i, s, o, u = [],
                            a = [],
                            f,
                            d = e.extend({
                                Mixins: [t, n],
                                init: function(e) {
                                    function n() {
                                        var e, n = d.zIndex || 65535,
                                        i;
                                        if (a.length) for (e = 0; e < a.length; e++) a[e].modal && (n++, i = a[e]),
                                        a[e].getEl().style.zIndex = n,
                                        a[e].zIndex = n,
                                        n++;
                                        var s = document.getElementById(t.classPrefix + "modal-block");
                                        i ? r.css(s, "z-index", i.zIndex - 1) : s && (s.parentNode.removeChild(s), f = !1),
                                        d.currentZIndex = n
                                    }
                                    var t = this;
                                    t._super(e),
                                    t._eventsRoot = t,
                                    t.addClass("floatpanel"),
                                    e.autohide && (l(), h(), u.push(t)),
                                    e.autofix && (c(), t.on("move",
                                    function() {
                                        p(this)
                                    })),
                                    t.on("postrender show",
                                    function(e) {
                                        if (e.control == t) {
                                            var i, s = t.classPrefix;
                                            t.modal && !f && (i = r.createFragment('\x3cdiv id\x3d"' + s + 'modal-block" class\x3d"' + s + "reset " + s + 'fade"\x3e\x3c/div\x3e'), i = i.firstChild, t.getContainerElm().appendChild(i), setTimeout(function() {
                                                r.addClass(i, s + "in"),
                                                r.addClass(t.getEl(), s + "in")
                                            },
                                            0), f = !0),
                                            a.push(t),
                                            n()
                                        }
                                    }),
                                    t.on("close hide",
                                    function(e) {
                                        if (e.control == t) {
                                            var r = a.length;
                                            while (r--) a[r] === t && a.splice(r, 1);
                                            n()
                                        }
                                    }),
                                    t.on("show",
                                    function() {
                                        t.parents().each(function(e) {
                                            if (e._fixed) return t.fixed(!0),
                                            !1
                                        })
                                    }),
                                    e.popover && (t._preBodyHtml = '\x3cdiv class\x3d"' + t.classPrefix + 'arrow"\x3e\x3c/div\x3e', t.addClass("popover").addClass("bottom").addClass(t.isRtl() ? "end": "start"))
                                },
                                fixed: function(e) {
                                    var t = this;
                                    if (t._fixed != e) {
                                        if (t._rendered) {
                                            var n = r.getViewPort();
                                            e ? t.layoutRect().y -= n.y: t.layoutRect().y += n.y
                                        }
                                        t.toggleClass("fixed", e),
                                        t._fixed = e
                                    }
                                    return t
                                },
                                show: function() {
                                    var e = this,
                                    t, n = e._super();
                                    t = u.length;
                                    while (t--) if (u[t] === e) break;
                                    return t === -1 && u.push(e),
                                    n
                                },
                                hide: function() {
                                    return v(this),
                                    this._super()
                                },
                                hideAll: function() {
                                    d.hideAll()
                                },
                                close: function() {
                                    var e = this;
                                    return e.fire("close"),
                                    e.remove()
                                },
                                remove: function() {
                                    v(this),
                                    this._super()
                                },
                                postRender: function() {
                                    var e = this;
                                    return e.settings.bodyRole && this.getEl("body").setAttribute("role", e.settings.bodyRole),
                                    e._super()
                                }
                            });
                            return d.hideAll = function() {
                                var e = u.length;
                                while (e--) {
                                    var t = u[e];
                                    t && t.settings.autohide && (t.hide(), u.splice(e, 1))
                                }
                            },
                            d
                        }),
                        i("tinymce/ui/Window", ["tinymce/ui/FloatPanel", "tinymce/ui/Panel", "tinymce/ui/DomUtils", "tinymce/ui/DragHelper"],
                        function(e, t, n, r) {
                            var i = e.extend({
                                modal: !0,
                                Defaults: {
                                    border: 1,
                                    layout: "flex",
                                    containerCls: "panel",
                                    role: "dialog",
                                    callbacks: {
                                        submit: function() {
                                            this.fire("submit", {
                                                data: this.toJSON()
                                            })
                                        },
                                        close: function() {
                                            this.close()
                                        }
                                    }
                                },
                                init: function(e) {
                                    var n = this;
                                    n._super(e),
                                    n.isRtl() && n.addClass("rtl"),
                                    n.addClass("window"),
                                    n._fixed = !0,
                                    e.buttons && (n.statusbar = new t({
                                        layout: "flex",
                                        border: "1 0 0 0",
                                        spacing: 3,
                                        padding: 10,
                                        align: "center",
                                        pack: n.isRtl() ? "start": "end",
                                        defaults: {
                                            type: "button"
                                        },
                                        items: e.buttons
                                    }), n.statusbar.addClass("foot"), n.statusbar.parent(n)),
                                    n.on("click",
                                    function(e) {
                                        e.target.className.indexOf(n.classPrefix + "close") != -1 && n.close()
                                    }),
                                    n.on("cancel",
                                    function() {
                                        n.close()
                                    }),
                                    n.aria("describedby", n.describedBy || n._id + "-none"),
                                    n.aria("label", e.title),
                                    n._fullscreen = !1
                                },
                                recalc: function() {
                                    var e = this,
                                    t = e.statusbar,
                                    r, i, s, o;
                                    e._fullscreen && (e.layoutRect(n.getWindowSize()), e.layoutRect().contentH = e.layoutRect().innerH),
                                    e._super(),
                                    r = e.layoutRect(),
                                    e.settings.title && !e._fullscreen && (i = r.headerW, i > r.w && (s = r.x - Math.max(0, i / 2), e.layoutRect({
                                        w: i,
                                        x: s
                                    }), o = !0)),
                                    t && (t.layoutRect({
                                        w: e.layoutRect().innerW
                                    }).recalc(), i = t.layoutRect().minW + r.deltaW, i > r.w && (s = r.x - Math.max(0, i - r.w), e.layoutRect({
                                        w: i,
                                        x: s
                                    }), o = !0)),
                                    o && e.recalc()
                                },
                                initLayoutRect: function() {
                                    var e = this,
                                    t = e._super(),
                                    r = 0,
                                    i;
                                    if (e.settings.title && !e._fullscreen) {
                                        i = e.getEl("head");
                                        var s = n.getSize(i);
                                        t.headerW = s.width,
                                        t.headerH = s.height,
                                        r += t.headerH
                                    }
                                    e.statusbar && (r += e.statusbar.layoutRect().h),
                                    t.deltaH += r,
                                    t.minH += r,
                                    t.h += r;
                                    var o = n.getWindowSize();
                                    return t.x = Math.max(0, o.w / 2 - t.w / 2),
                                    t.y = Math.max(0, o.h / 2 - t.h / 2),
                                    t
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._layout,
                                    n = e._id,
                                    r = e.classPrefix,
                                    i = e.settings,
                                    s = "",
                                    o = "",
                                    u = i.html;
                                    return e.preRender(),
                                    t.preRender(e),
                                    i.title && (s = '\x3cdiv id\x3d"' + n + '-head" class\x3d"' + r + 'window-head"\x3e' + '\x3cdiv id\x3d"' + n + '-title" class\x3d"' + r + 'title"\x3e' + e.encode(i.title) + "\x3c/div\x3e" + '\x3cbutton type\x3d"button" class\x3d"' + r + 'close" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e' + '\x3cdiv id\x3d"' + n + '-dragh" class\x3d"' + r + 'dragh"\x3e\x3c/div\x3e' + "\x3c/div\x3e"),
                                    i.url && (u = '\x3ciframe src\x3d"' + i.url + '" tabindex\x3d"-1"\x3e\x3c/iframe\x3e'),
                                    typeof u == "undefined" && (u = t.renderHtml(e)),
                                    e.statusbar && (o = e.statusbar.renderHtml()),
                                    '\x3cdiv id\x3d"' + n + '" class\x3d"' + e.classes() + '" hidefocus\x3d"1"\x3e' + '\x3cdiv class\x3d"' + e.classPrefix + 'reset" role\x3d"application"\x3e' + s + '\x3cdiv id\x3d"' + n + '-body" class\x3d"' + e.classes("body") + '"\x3e' + u + "\x3c/div\x3e" + o + "\x3c/div\x3e" + "\x3c/div\x3e"
                                },
                                fullscreen: function(e) {
                                    var t = this,
                                    r = document.documentElement,
                                    i, s = t.classPrefix,
                                    o;
                                    if (e != t._fullscreen) {
                                        n.on(window, "resize",
                                        function() {
                                            var e;
                                            if (t._fullscreen) if (!i) {
                                                e = (new Date).getTime();
                                                var r = n.getWindowSize();
                                                t.moveTo(0, 0).resizeTo(r.w, r.h),
                                                (new Date).getTime() - e > 50 && (i = !0)
                                            } else t._timer || (t._timer = setTimeout(function() {
                                                var e = n.getWindowSize();
                                                t.moveTo(0, 0).resizeTo(e.w, e.h),
                                                t._timer = 0
                                            },
                                            50))
                                        }),
                                        o = t.layoutRect(),
                                        t._fullscreen = e;
                                        if (!e) t._borderBox = t.parseBox(t.settings.border),
                                        t.getEl("head").style.display = "",
                                        o.deltaH += o.headerH,
                                        n.removeClass(r, s + "fullscreen"),
                                        n.removeClass(document.body, s + "fullscreen"),
                                        t.removeClass("fullscreen"),
                                        t.moveTo(t._initial.x, t._initial.y).resizeTo(t._initial.w, t._initial.h);
                                        else {
                                            t._initial = {
                                                x: o.x,
                                                y: o.y,
                                                w: o.w,
                                                h: o.h
                                            },
                                            t._borderBox = t.parseBox("0"),
                                            t.getEl("head").style.display = "none",
                                            o.deltaH -= o.headerH + 2,
                                            n.addClass(r, s + "fullscreen"),
                                            n.addClass(document.body, s + "fullscreen"),
                                            t.addClass("fullscreen");
                                            var u = n.getWindowSize();
                                            t.moveTo(0, 0).resizeTo(u.w, u.h)
                                        }
                                    }
                                    return t.reflow()
                                },
                                postRender: function() {
                                    var e = this,
                                    t;
                                    setTimeout(function() {
                                        e.addClass("in")
                                    },
                                    0),
                                    e._super(),
                                    e.statusbar && e.statusbar.postRender(),
                                    e.focus(),
                                    this.dragHelper = new r(e._id + "-dragh", {
                                        start: function() {
                                            t = {
                                                x: e.layoutRect().x,
                                                y: e.layoutRect().y
                                            }
                                        },
                                        drag: function(n) {
                                            e.moveTo(t.x + n.deltaX, t.y + n.deltaY)
                                        }
                                    }),
                                    e.on("submit",
                                    function(t) {
                                        t.isDefaultPrevented() || e.close()
                                    })
                                },
                                submit: function() {
                                    return this.fire("submit", {
                                        data: this.toJSON()
                                    })
                                },
                                remove: function() {
                                    var e = this,
                                    t = e.classPrefix;
                                    e.dragHelper.destroy(),
                                    e._super(),
                                    e.statusbar && this.statusbar.remove(),
                                    e._fullscreen && (n.removeClass(document.documentElement, t + "fullscreen"), n.removeClass(document.body, t + "fullscreen"))
                                },
                                getContentWindow: function() {
                                    var e = this.getEl().getElementsByTagName("iframe")[0];
                                    return e ? e.contentWindow: null
                                }
                            });
                            return i
                        }),
                        i("tinymce/ui/MessageBox", ["tinymce/ui/Window"],
                        function(e) {
                            var t = e.extend({
                                init: function(e) {
                                    e = {
                                        border: 1,
                                        padding: 20,
                                        layout: "flex",
                                        pack: "center",
                                        align: "center",
                                        containerCls: "panel",
                                        autoScroll: !0,
                                        buttons: {
                                            type: "button",
                                            text: "Ok",
                                            action: "ok"
                                        },
                                        items: {
                                            type: "label",
                                            multiline: !0,
                                            maxWidth: 500,
                                            maxHeight: 200
                                        }
                                    },
                                    this._super(e)
                                },
                                Statics: {
                                    OK: 1,
                                    OK_CANCEL: 2,
                                    YES_NO: 3,
                                    YES_NO_CANCEL: 4,
                                    msgBox: function(n) {
                                        function s(e, t, n) {
                                            return {
                                                type: "button",
                                                text: e,
                                                subtype: n ? "primary": "",
                                                onClick: function(e) {
                                                    e.control.parents()[1].close(),
                                                    i(t)
                                                }
                                            }
                                        }
                                        var r, i = n.callback ||
                                        function() {};
                                        switch (n.buttons) {
                                        case t.OK_CANCEL:
                                            r = [s("Ok", !0, !0), s("Cancel", !1)];
                                            break;
                                        case t.YES_NO:
                                        case t.YES_NO_CANCEL:
                                            r = [s("Yes", 1, !0), s("No", 0)],
                                            n.buttons == t.YES_NO_CANCEL && r.push(s("Cancel", -1));
                                            break;
                                        default:
                                            r = [s("Ok", !0, !0)]
                                        }
                                        return (new e({
                                            padding: 20,
                                            x: n.x,
                                            y: n.y,
                                            minWidth: 300,
                                            minHeight: 100,
                                            layout: "flex",
                                            pack: "center",
                                            align: "center",
                                            buttons: r,
                                            title: n.title,
                                            role: "alertdialog",
                                            items: {
                                                type: "label",
                                                multiline: !0,
                                                maxWidth: 500,
                                                maxHeight: 200,
                                                text: n.text
                                            },
                                            onPostRender: function() {
                                                this.aria("describedby", this.items()[0]._id)
                                            },
                                            onClose: n.onClose,
                                            onCancel: function() {
                                                i(!1)
                                            }
                                        })).renderTo(document.body).reflow()
                                    },
                                    alert: function(e, n) {
                                        return typeof e == "string" && (e = {
                                            text: e
                                        }),
                                        e.callback = n,
                                        t.msgBox(e)
                                    },
                                    confirm: function(e, n) {
                                        return typeof e == "string" && (e = {
                                            text: e
                                        }),
                                        e.callback = n,
                                        e.buttons = t.OK_CANCEL,
                                        t.msgBox(e)
                                    }
                                }
                            });
                            return t
                        }),
                        i("tinymce/WindowManager", ["tinymce/ui/Window", "tinymce/ui/MessageBox"],
                        function(e, t) {
                            return function(n) {
                                function s() {
                                    if (i.length) return i[i.length - 1]
                                }
                                var r = this,
                                i = [];
                                r.windows = i,
                                n.on("remove",
                                function() {
                                    var e = i.length;
                                    while (e--) i[e].close()
                                }),
                                r.open = function(t, r) {
                                    var s;
                                    return n.editorManager.activeEditor = n,
                                    t.title = t.title || " ",
                                    t.url = t.url || t.file,
                                    t.url && (t.width = parseInt(t.width || 320, 10), t.height = parseInt(t.height || 240, 10)),
                                    t.body && (t.items = {
                                        defaults: t.defaults,
                                        type: t.bodyType || "form",
                                        items: t.body
                                    }),
                                    !t.url && !t.buttons && (t.buttons = [{
                                        text: "Ok",
                                        subtype: "primary",
                                        onclick: function() {
                                            s.find("form")[0].submit()
                                        }
                                    },
                                    {
                                        text: "Cancel",
                                        onclick: function() {
                                            s.close()
                                        }
                                    }]),
                                    s = new e(t),
                                    i.push(s),
                                    s.on("close",
                                    function() {
                                        var e = i.length;
                                        while (e--) i[e] === s && i.splice(e, 1);
                                        n.focus()
                                    }),
                                    t.data && s.on("postRender",
                                    function() {
                                        this.find("*").each(function(e) {
                                            var n = e.name();
                                            n in t.data && e.value(t.data[n])
                                        })
                                    }),
                                    s.features = t || {},
                                    s.params = r || {},
                                    n.nodeChanged(),
                                    s.renderTo().reflow()
                                },
                                r.alert = function(e, r, i) {
                                    t.alert(e,
                                    function() {
                                        r ? r.call(i || this) : n.focus()
                                    })
                                },
                                r.confirm = function(e, n, r) {
                                    t.confirm(e,
                                    function(e) {
                                        n.call(r || this, e)
                                    })
                                },
                                r.close = function() {
                                    s() && s().close()
                                },
                                r.getParams = function() {
                                    return s() ? s().params: null
                                },
                                r.setParams = function(e) {
                                    s() && (s().params = e)
                                },
                                r.getWindows = function() {
                                    return i
                                }
                            }
                        }),
                        i("tinymce/util/Quirks", ["tinymce/util/VK", "tinymce/dom/RangeUtils", "tinymce/html/Node", "tinymce/html/Entities", "tinymce/Env", "tinymce/util/Tools"],
                        function(e, t, n, r, i, s) {
                            return function(o) {
                                function y(e, t) {
                                    try {
                                        o.getDoc().execCommand(e, !1, t)
                                    } catch(n$63) {}
                                }
                                function b() {
                                    var e = o.getDoc().documentMode;
                                    return e ? e: 6
                                }
                                function w(e) {
                                    return e.isDefaultPrevented()
                                }
                                function E() {
                                    function h(e) {
                                        var t = new r(function() {});
                                        s.each(o.getBody().getElementsByTagName("*"),
                                        function(e) {
                                            e.tagName == "SPAN" && e.setAttribute("mce-data-marked", 1),
                                            !e.hasAttribute("data-mce-style") && e.hasAttribute("style") && o.dom.setAttrib(e, "style", o.dom.getAttrib(e, "style"))
                                        }),
                                        t.observe(o.getDoc(), {
                                            childList: !0,
                                            attributes: !0,
                                            subtree: !0,
                                            attributeFilter: ["style"]
                                        }),
                                        o.getDoc().execCommand(e ? "ForwardDelete": "Delete", !1, null);
                                        var n = o.selection.getRng(),
                                        i = n.startContainer.parentNode;
                                        s.each(t.takeRecords(),
                                        function(e) {
                                            if (!l.isChildOf(e.target, o.getBody())) return;
                                            if (e.attributeName == "style") {
                                                var t = e.target.getAttribute("data-mce-style");
                                                t ? e.target.setAttribute("style", t) : e.target.removeAttribute("style")
                                            }
                                            s.each(e.addedNodes,
                                            function(e) {
                                                if (e.nodeName == "SPAN" && !e.getAttribute("mce-data-marked")) {
                                                    var t, r;
                                                    e == i && (t = n.startOffset, r = e.firstChild),
                                                    l.remove(e, !0),
                                                    r && (n.setStart(r, t), n.setEnd(r, t), o.selection.setRng(n))
                                                }
                                            })
                                        }),
                                        t.disconnect(),
                                        s.each(o.dom.select("span[mce-data-marked]"),
                                        function(e) {
                                            e.removeAttribute("mce-data-marked")
                                        })
                                    }
                                    var t = o.getDoc(),
                                    n = "data:text/mce-internal,",
                                    r = window.MutationObserver,
                                    i,
                                    u;
                                    r || (i = !0, r = function() {
                                        function n(t) {
                                            var n = t.relatedNode || t.target;
                                            e.push({
                                                target: n,
                                                addedNodes: [n]
                                            })
                                        }
                                        function r(t) {
                                            var n = t.relatedNode || t.target;
                                            e.push({
                                                target: n,
                                                attributeName: t.attrName
                                            })
                                        }
                                        var e = [],
                                        t;
                                        this.observe = function(e) {
                                            t = e,
                                            t.addEventListener("DOMSubtreeModified", n, !1),
                                            t.addEventListener("DOMNodeInsertedIntoDocument", n, !1),
                                            t.addEventListener("DOMNodeInserted", n, !1),
                                            t.addEventListener("DOMAttrModified", r, !1)
                                        },
                                        this.disconnect = function() {
                                            t.removeEventListener("DOMSubtreeModified", n, !1),
                                            t.removeEventListener("DOMNodeInsertedIntoDocument", n, !1),
                                            t.removeEventListener("DOMNodeInserted", n, !1),
                                            t.removeEventListener("DOMAttrModified", r, !1)
                                        },
                                        this.takeRecords = function() {
                                            return e
                                        }
                                    }),
                                    o.on("keydown",
                                    function(t) {
                                        var n = t.keyCode == f,
                                        r = e.metaKeyPressed(t);
                                        if (!w(t) && (n || t.keyCode == a)) {
                                            var i = o.selection.getRng(),
                                            s = i.startContainer,
                                            u = i.startOffset;
                                            if (!r && i.collapsed && s.nodeType == 3) if (n ? u < s.data.length: u > 0) return;
                                            t.preventDefault(),
                                            r && o.selection.getSel().modify("extend", n ? "forward": "backward", "word"),
                                            h(n)
                                        }
                                    }),
                                    o.on("keypress",
                                    function(t) { ! w(t) && !c.isCollapsed() && t.charCode && !e.metaKeyPressed(t) && (t.preventDefault(), h(!0), o.selection.setContent(String.fromCharCode(t.charCode)))
                                    }),
                                    o.addCommand("Delete",
                                    function() {
                                        h()
                                    }),
                                    o.addCommand("ForwardDelete",
                                    function() {
                                        h(!0)
                                    });
                                    if (i) return;
                                    o.on("dragstart",
                                    function(e) {
                                        var t;
                                        o.selection.isCollapsed() && e.target.tagName == "IMG" && c.select(e.target),
                                        u = c.getRng(),
                                        t = o.selection.getContent(),
                                        t.length > 0 && e.dataTransfer.setData("URL", "data:text/mce-internal," + escape(t))
                                    }),
                                    o.on("drop",
                                    function(e) {
                                        if (!w(e)) {
                                            var r = e.dataTransfer.getData("URL");
                                            if (!r || r.indexOf(n) == -1 || !t.caretRangeFromPoint) return;
                                            r = unescape(r.substr(n.length)),
                                            t.caretRangeFromPoint && (e.preventDefault(), window.setTimeout(function() {
                                                var n = t.caretRangeFromPoint(e.x, e.y);
                                                u && (c.setRng(u), u = null),
                                                h(),
                                                c.setRng(n),
                                                o.insertContent(r)
                                            },
                                            0))
                                        }
                                    }),
                                    o.on("cut",
                                    function(e) { ! w(e) && e.clipboardData && (e.preventDefault(), e.clipboardData.clearData(), e.clipboardData.setData("text/html", o.selection.getContent()), e.clipboardData.setData("text/plain", o.selection.getContent({
                                            format: "text"
                                        })), h(!0))
                                    })
                                }
                                function S() {
                                    function e(e) {
                                        var t = l.create("body"),
                                        n = e.cloneContents();
                                        return t.appendChild(n),
                                        c.serializer.serialize(t, {
                                            format: "html"
                                        })
                                    }
                                    function n(n) {
                                        if (!n.setStart) {
                                            if (n.item) return ! 1;
                                            var r = n.duplicate();
                                            return r.moveToElementText(o.getBody()),
                                            t.compareRanges(n, r)
                                        }
                                        var i = e(n),
                                        s = l.createRng();
                                        s.selectNode(o.getBody());
                                        var u = e(s);
                                        return i === u
                                    }
                                    o.on("keydown",
                                    function(e) {
                                        var t = e.keyCode,
                                        r, i;
                                        if (!w(e) && (t == f || t == a)) {
                                            r = o.selection.isCollapsed(),
                                            i = o.getBody();
                                            if (r && !l.isEmpty(i)) return;
                                            if (!r && !n(o.selection.getRng())) return;
                                            e.preventDefault(),
                                            o.setContent(""),
                                            i.firstChild && l.isBlock(i.firstChild) ? o.selection.setCursorLocation(i.firstChild, 0) : o.selection.setCursorLocation(i, 0),
                                            o.nodeChanged()
                                        }
                                    })
                                }
                                function x() {
                                    o.on("keydown",
                                    function(t) { ! w(t) && t.keyCode == 65 && e.metaKeyPressed(t) && (t.preventDefault(), o.execCommand("SelectAll"))
                                    })
                                }
                                function T() {
                                    o.settings.content_editable || (l.bind(o.getDoc(), "focusin",
                                    function() {
                                        c.setRng(c.getRng())
                                    }), l.bind(o.getDoc(), "mousedown",
                                    function(e) {
                                        e.target == o.getDoc().documentElement && (o.getBody().focus(), c.setRng(c.getRng()))
                                    }))
                                }
                                function N() {
                                    o.on("keydown",
                                    function(e) {
                                        if (!w(e) && e.keyCode === a) {
                                            if (!o.getBody().getElementsByTagName("hr").length) return;
                                            if (c.isCollapsed() && c.getRng(!0).startOffset === 0) {
                                                var t = c.getNode(),
                                                n = t.previousSibling;
                                                if (t.nodeName == "HR") {
                                                    l.remove(t),
                                                    e.preventDefault();
                                                    return
                                                }
                                                n && n.nodeName && n.nodeName.toLowerCase() === "hr" && (l.remove(n), e.preventDefault())
                                            }
                                        }
                                    })
                                }
                                function C() {
                                    window.Range.prototype.getClientRects || o.on("mousedown",
                                    function(e) {
                                        if (!w(e) && e.target.nodeName === "HTML") {
                                            var t = o.getBody();
                                            t.blur(),
                                            setTimeout(function() {
                                                t.focus()
                                            },
                                            0)
                                        }
                                    })
                                }
                                function k() {
                                    o.on("click",
                                    function(e) {
                                        e = e.target,
                                        /^(IMG|HR)$/.test(e.nodeName) && c.getSel().setBaseAndExtent(e, 0, e, 1),
                                        e.nodeName == "A" && l.hasClass(e, "mce-item-anchor") && c.select(e)
                                    })
                                }
                                function L() {
                                    function e() {
                                        var e = l.getAttribs(c.getStart().cloneNode(!1));
                                        return function() {
                                            var t = c.getStart();
                                            t !== o.getBody() && (l.setAttrib(t, "style", null), u(e,
                                            function(e) {
                                                t.setAttributeNode(e.cloneNode(!0))
                                            }))
                                        }
                                    }
                                    function t() {
                                        return ! c.isCollapsed() && l.getParent(c.getStart(), l.isBlock) != l.getParent(c.getEnd(), l.isBlock)
                                    }
                                    o.on("keypress",
                                    function(n) {
                                        var r;
                                        if (!w(n) && (n.keyCode == 8 || n.keyCode == 46) && t()) return r = e(),
                                        o.getDoc().execCommand("delete", !1, null),
                                        r(),
                                        n.preventDefault(),
                                        !1
                                    }),
                                    l.bind(o.getDoc(), "cut",
                                    function(n) {
                                        var r; ! w(n) && t() && (r = e(), setTimeout(function() {
                                            r()
                                        },
                                        0))
                                    })
                                }
                                function A() {
                                    document.body.setAttribute("role", "application")
                                }
                                function O() {
                                    o.on("keydown",
                                    function(e) {
                                        if (!w(e) && e.keyCode === a && c.isCollapsed() && c.getRng(!0).startOffset === 0) {
                                            var t = c.getNode().previousSibling;
                                            if (t && t.nodeName && t.nodeName.toLowerCase() === "table") return e.preventDefault(),
                                            !1
                                        }
                                    })
                                }
                                function M() {
                                    if (b() > 7) return;
                                    y("RespectVisibilityInDesign", !0),
                                    o.contentStyles.push(".mceHideBrInPre pre br {display: none}"),
                                    l.addClass(o.getBody(), "mceHideBrInPre"),
                                    p.addNodeFilter("pre",
                                    function(e) {
                                        var t = e.length,
                                        r, i, s, o;
                                        while (t--) {
                                            r = e[t].getAll("br"),
                                            i = r.length;
                                            while (i--) s = r[i],
                                            o = s.prev,
                                            o && o.type === 3 && o.value.charAt(o.value - 1) != "\n" ? o.value += "\n": s.parent.insert(new n("#text", 3), s, !0).value = "\n"
                                        }
                                    }),
                                    d.addNodeFilter("pre",
                                    function(e) {
                                        var t = e.length,
                                        n, r, i, s;
                                        while (t--) {
                                            n = e[t].getAll("br"),
                                            r = n.length;
                                            while (r--) i = n[r],
                                            s = i.prev,
                                            s && s.type == 3 && (s.value = s.value.replace(/\r?\n$/, ""))
                                        }
                                    })
                                }
                                function _() {
                                    l.bind(o.getBody(), "mouseup",
                                    function() {
                                        var e, t = c.getNode();
                                        if (t.nodeName == "IMG") {
                                            if (e = l.getStyle(t, "width")) l.setAttrib(t, "width", e.replace(/[^0-9%]+/g, "")),
                                            l.setStyle(t, "width", "");
                                            if (e = l.getStyle(t, "height")) l.setAttrib(t, "height", e.replace(/[^0-9%]+/g, "")),
                                            l.setStyle(t, "height", "")
                                        }
                                    })
                                }
                                function D() {
                                    o.on("keydown",
                                    function(t) {
                                        var n, r, i, s, u;
                                        if (w(t) || t.keyCode != e.BACKSPACE) return;
                                        n = c.getRng(),
                                        r = n.startContainer,
                                        i = n.startOffset,
                                        s = l.getRoot(),
                                        u = r;
                                        if (!n.collapsed || i !== 0) return;
                                        while (u && u.parentNode && u.parentNode.firstChild == u && u.parentNode != s) u = u.parentNode;
                                        u.tagName === "BLOCKQUOTE" && (o.formatter.toggle("blockquote", null, u), n = l.createRng(), n.setStart(r, 0), n.setEnd(r, 0), c.setRng(n))
                                    })
                                }
                                function P() {
                                    function e() {
                                        o._refreshContentEditable(),
                                        y("StyleWithCSS", !1),
                                        y("enableInlineTableEditing", !1),
                                        h.object_resizing || y("enableObjectResizing", !1)
                                    }
                                    h.readonly || o.on("BeforeExecCommand MouseDown", e)
                                }
                                function H() {
                                    function e() {
                                        u(l.select("a"),
                                        function(e) {
                                            var t = e.parentNode,
                                            n = l.getRoot();
                                            if (t.lastChild === e) {
                                                while (t && !l.isBlock(t)) {
                                                    if (t.parentNode.lastChild !== t || t === n) return;
                                                    t = t.parentNode
                                                }
                                                l.add(t, "br", {
                                                    "data-mce-bogus": 1
                                                })
                                            }
                                        })
                                    }
                                    o.on("SetContent ExecCommand",
                                    function(t) { (t.type == "setcontent" || t.command === "mceInsertLink") && e()
                                    })
                                }
                                function B() {
                                    h.forced_root_block && o.on("init",
                                    function() {
                                        y("DefaultParagraphSeparator", h.forced_root_block)
                                    })
                                }
                                function j() {
                                    o.on("Undo Redo SetContent",
                                    function(e) {
                                        e.initial || o.execCommand("mceRepaint")
                                    })
                                }
                                function F() {
                                    o.on("keydown",
                                    function(e) {
                                        var t; ! w(e) && e.keyCode == a && (t = o.getDoc().selection.createRange(), t && t.item && (e.preventDefault(), o.undoManager.beforeChange(), l.remove(t.item(0)), o.undoManager.add()))
                                    })
                                }
                                function I() {
                                    var e;
                                    b() >= 10 && (e = "", u("p div h1 h2 h3 h4 h5 h6".split(" "),
                                    function(t, n) {
                                        e += (n > 0 ? ",": "") + t + ":empty"
                                    }), o.contentStyles.push(e + "{padding-right: 1px !important}"))
                                }
                                function q() {
                                    b() < 9 && (p.addNodeFilter("noscript",
                                    function(e) {
                                        var t = e.length,
                                        n, r;
                                        while (t--) n = e[t],
                                        r = n.firstChild,
                                        r && n.attr("data-mce-innertext", r.value)
                                    }), d.addNodeFilter("noscript",
                                    function(e) {
                                        var t = e.length,
                                        i, s, o;
                                        while (t--) i = e[t],
                                        s = e[t].firstChild,
                                        s ? s.value = r.decode(s.value) : (o = i.attributes.map["data-mce-innertext"], o && (i.attr("data-mce-innertext", null), s = new n("#text", 3), s.value = o, s.raw = !0, i.append(s)))
                                    }))
                                }
                                function R() {
                                    function s(e, n) {
                                        var r = t.createTextRange();
                                        try {
                                            r.moveToPoint(e, n)
                                        } catch(i$64) {
                                            r = null
                                        }
                                        return r
                                    }
                                    function o(e) {
                                        var t;
                                        e.button ? (t = s(e.x, e.y), t && (t.compareEndPoints("StartToStart", r) > 0 ? t.setEndPoint("StartToStart", r) : t.setEndPoint("EndToEnd", r), t.select())) : u()
                                    }
                                    function u() {
                                        var t = e.selection.createRange();
                                        r && !t.item && t.compareEndPoints("StartToEnd", t) === 0 && r.select(),
                                        l.unbind(e, "mouseup", u),
                                        l.unbind(e, "mousemove", o),
                                        r = n = 0
                                    }
                                    var e = l.doc,
                                    t = e.body,
                                    n, r, i;
                                    e.documentElement.unselectable = !0,
                                    l.bind(e, "mousedown contextmenu",
                                    function(t) {
                                        if (t.target.nodeName === "HTML") {
                                            n && u(),
                                            i = e.documentElement;
                                            if (i.scrollHeight > i.clientHeight) return;
                                            n = 1,
                                            r = s(t.x, t.y),
                                            r && (l.bind(e, "mouseup", u), l.bind(e, "mousemove", o), l.getRoot().focus(), r.select())
                                        }
                                    })
                                }
                                function U() {
                                    o.on("keyup focusin mouseup",
                                    function(t) { (t.keyCode != 65 || !e.metaKeyPressed(t)) && c.normalize()
                                    },
                                    !0)
                                }
                                function z() {
                                    o.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")
                                }
                                function W() {
                                    o.inline || o.on("keydown",
                                    function() {
                                        document.activeElement == document.body && o.getWin().focus()
                                    })
                                }
                                function X() {
                                    o.inline || (o.contentStyles.push("body {min-height: 150px}"), o.on("click",
                                    function(e) {
                                        e.target.nodeName == "HTML" && (o.getBody().focus(), o.selection.normalize(), o.nodeChanged())
                                    }))
                                }
                                function V() {
                                    i.mac && o.on("keydown",
                                    function(t) {
                                        e.metaKeyPressed(t) && (t.keyCode == 37 || t.keyCode == 39) && (t.preventDefault(), o.selection.getSel().modify("move", t.keyCode == 37 ? "backward": "forward", "word"))
                                    })
                                }
                                function $() {
                                    y("AutoUrlDetect", !1)
                                }
                                function J() {
                                    o.inline || o.on("focus blur beforegetcontent",
                                    function() {
                                        var e = o.dom.create("br");
                                        o.getBody().appendChild(e),
                                        e.parentNode.removeChild(e)
                                    },
                                    !0)
                                }
                                function K() {
                                    o.on("click",
                                    function(e) {
                                        var t = e.target;
                                        do
                                        if (t.tagName === "A") {
                                            e.preventDefault();
                                            return
                                        }
                                        while (t = t.parentNode)
                                    }),
                                    o.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")
                                }
                                function Q() {
                                    o.on("touchstart",
                                    function(e) {
                                        var t, n, r, i;
                                        t = e.target,
                                        n = (new Date).getTime(),
                                        i = e.changedTouches;
                                        if (!i || i.length > 1) return;
                                        r = i[0],
                                        o.once("touchend",
                                        function(e) {
                                            var i = e.changedTouches[0],
                                            s;
                                            if ((new Date).getTime() - n > 500) return;
                                            if (Math.abs(r.clientX - i.clientX) > 5) return;
                                            if (Math.abs(r.clientY - i.clientY) > 5) return;
                                            s = {
                                                target: t
                                            },
                                            u("pageX pageY clientX clientY screenX screenY".split(" "),
                                            function(e) {
                                                s[e] = i[e]
                                            }),
                                            s = o.fire("click", s)
                                        })
                                    })
                                }
                                function G() {
                                    o.on("init",
                                    function() {
                                        o.dom.bind(o.getBody(), "submit",
                                        function(e) {
                                            e.preventDefault()
                                        })
                                    })
                                }
                                function Y() {
                                    p.addNodeFilter("br",
                                    function(e) {
                                        var t = e.length;
                                        while (t--) e[t].attr("class") == "Apple-interchange-newline" && e[t].remove()
                                    })
                                }
                                var u = s.each,
                                a = e.BACKSPACE,
                                f = e.DELETE,
                                l = o.dom,
                                c = o.selection,
                                h = o.settings,
                                p = o.parser,
                                d = o.serializer,
                                v = i.gecko,
                                m = i.ie,
                                g = i.webkit;
                                D(),
                                S(),
                                U(),
                                g && (E(), T(), k(), B(), G(), O(), Y(), Q(), i.iOS ? (W(), X(), K()) : x()),
                                m && i.ie < 11 && (N(), A(), M(), _(), F(), I(), q(), R()),
                                i.ie >= 11 && (X(), J(), O()),
                                i.ie && (x(), $()),
                                v && (N(), C(), L(), P(), H(), j(), z(), V(), O())
                            }
                        }),
                        i("tinymce/util/Observable", ["tinymce/util/EventDispatcher"],
                        function(e) {
                            function t(t) {
                                return t._eventDispatcher || (t._eventDispatcher = new e({
                                    scope: t,
                                    toggleEvent: function(n, r) {
                                        e.isNative(n) && t.toggleNativeEvent && t.toggleNativeEvent(n, r)
                                    }
                                })),
                                t._eventDispatcher
                            }
                            return {
                                fire: function(e, n, r) {
                                    var i = this;
                                    if (i.removed && e !== "remove") return n;
                                    n = t(i).fire(e, n, r);
                                    if (r !== !1 && i.parent) {
                                        var s = i.parent();
                                        while (s && !n.isPropagationStopped()) s.fire(e, n, !1),
                                        s = s.parent()
                                    }
                                    return n
                                },
                                on: function(e, n, r) {
                                    return t(this).on(e, n, r)
                                },
                                off: function(e, n) {
                                    return t(this).off(e, n)
                                },
                                once: function(e, n) {
                                    return t(this).once(e, n)
                                },
                                hasEventListeners: function(e) {
                                    return t(this).has(e)
                                }
                            }
                        }),
                        i("tinymce/EditorObservable", ["tinymce/util/Observable", "tinymce/dom/DOMUtils", "tinymce/util/Tools"],
                        function(e, t, n) {
                            function s(e, t) {
                                return t == "selectionchange" ? e.getDoc() : !e.inline && /^mouse|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement: e.settings.event_root ? (e.eventRoot || (e.eventRoot = r.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody()
                            }
                            function o(e, t) {
                                var n = s(e, t),
                                o;
                                e.delegates || (e.delegates = {});
                                if (e.delegates[t]) return;
                                if (e.settings.event_root) {
                                    i || (i = {},
                                    e.editorManager.on("removeEditor",
                                    function() {
                                        var t;
                                        if (!e.editorManager.activeEditor && i) {
                                            for (t in i) e.dom.unbind(s(e, t));
                                            i = null
                                        }
                                    }));
                                    if (i[t]) return;
                                    o = function(n) {
                                        var i = n.target,
                                        s = e.editorManager.editors,
                                        o = s.length;
                                        while (o--) {
                                            var u = s[o].getBody();
                                            if (u === i || r.isChildOf(i, u)) s[o].hidden || s[o].fire(t, n)
                                        }
                                    },
                                    i[t] = o,
                                    r.bind(n, t, o)
                                } else o = function(n) {
                                    e.hidden || e.fire(t, n)
                                },
                                r.bind(n, t, o),
                                e.delegates[t] = o
                            }
                            var r = t.DOM,
                            i, u = {
                                bindPendingEventDelegates: function() {
                                    var e = this;
                                    n.each(e._pendingNativeEvents,
                                    function(t) {
                                        o(e, t)
                                    })
                                },
                                toggleNativeEvent: function(e, t) {
                                    var n = this;
                                    if (n.settings.readonly) return;
                                    if (e == "focus" || e == "blur") return;
                                    t ? n.initialized ? o(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(s(n, e), e, n.delegates[e]), delete n.delegates[e])
                                },
                                unbindAllNativeEvents: function() {
                                    var e = this,
                                    t;
                                    if (e.delegates) {
                                        for (t in e.delegates) e.dom.unbind(s(e, t), t, e.delegates[t]);
                                        delete e.delegates
                                    }
                                    e.inline || (e.getBody().onload = null, e.dom.unbind(e.getWin()), e.dom.unbind(e.getDoc())),
                                    e.dom.unbind(e.getBody()),
                                    e.dom.unbind(e.getContainer())
                                }
                            };
                            return u = n.extend({},
                            e, u),
                            u
                        }),
                        i("tinymce/Shortcuts", ["tinymce/util/Tools", "tinymce/Env"],
                        function(e, t) {
                            var n = e.each,
                            r = e.explode,
                            i = {
                                f9: 120,
                                f10: 121,
                                f11: 122
                            };
                            return function(s) {
                                var o = this,
                                u = {};
                                s.on("keyup keypress keydown",
                                function(e) { (e.altKey || e.ctrlKey || e.metaKey) && n(u,
                                    function(n) {
                                        var r = t.mac ? e.metaKey: e.ctrlKey;
                                        if (n.ctrl != r || n.alt != e.altKey || n.shift != e.shiftKey) return;
                                        if (e.keyCode == n.keyCode || e.charCode && e.charCode == n.charCode) return e.preventDefault(),
                                        e.type == "keydown" && n.func.call(n.scope),
                                        !0
                                    })
                                }),
                                o.add = function(t, o, a, f) {
                                    var l;
                                    return l = a,
                                    typeof a == "string" ? a = function() {
                                        s.execCommand(l, !1, null)
                                    }: e.isArray(l) && (a = function() {
                                        s.execCommand(l[0], l[1], l[2])
                                    }),
                                    n(r(t.toLowerCase()),
                                    function(e) {
                                        var t = {
                                            func: a,
                                            scope: f || s,
                                            desc: s.translate(o),
                                            alt: !1,
                                            ctrl: !1,
                                            shift: !1
                                        };
                                        n(r(e, "+"),
                                        function(e) {
                                            switch (e) {
                                            case "alt":
                                            case "ctrl":
                                            case "shift":
                                                t[e] = !0;
                                                break;
                                            default:
                                                /^[0-9]{2,}$/.test(e) ? t.keyCode = parseInt(e, 10) : (t.charCode = e.charCodeAt(0), t.keyCode = i[e] || e.toUpperCase().charCodeAt(0))
                                            }
                                        }),
                                        u[(t.ctrl ? "ctrl": "") + "," + (t.alt ? "alt": "") + "," + (t.shift ? "shift": "") + "," + t.keyCode] = t
                                    }),
                                    !0
                                }
                            }
                        }),
                        i("tinymce/Editor", ["tinymce/dom/DOMUtils", "tinymce/dom/DomQuery", "tinymce/AddOnManager", "tinymce/NodeChange", "tinymce/html/Node", "tinymce/dom/Serializer", "tinymce/html/Serializer", "tinymce/dom/Selection", "tinymce/Formatter", "tinymce/UndoManager", "tinymce/EnterKey", "tinymce/ForceBlocks", "tinymce/EditorCommands", "tinymce/util/URI", "tinymce/dom/ScriptLoader", "tinymce/dom/EventUtils", "tinymce/WindowManager", "tinymce/html/Schema", "tinymce/html/DomParser", "tinymce/util/Quirks", "tinymce/Env", "tinymce/util/Tools", "tinymce/EditorObservable", "tinymce/Shortcuts"],
                        function(e, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T) {
                            function j(e, t, i) {
                                var s = this,
                                o, u;
                                o = s.documentBaseUrl = i.documentBaseURL,
                                u = i.baseURI,
                                s.settings = t = L({
                                    id: e,
                                    theme: "modern",
                                    delta_width: 0,
                                    delta_height: 0,
                                    popup_css: "",
                                    plugins: "",
                                    document_base_url: o,
                                    add_form_submit_trigger: !0,
                                    submit_patch: !0,
                                    add_unload_trigger: !0,
                                    convert_urls: !0,
                                    relative_urls: !0,
                                    remove_script_host: !0,
                                    object_resizing: !0,
                                    doctype: "\x3c!DOCTYPE html\x3e",
                                    visual: !0,
                                    font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large",
                                    font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
                                    forced_root_block: "p",
                                    hidden_input: !0,
                                    padd_empty_editor: !0,
                                    render_ui: !0,
                                    indentation: "30px",
                                    inline_styles: !0,
                                    convert_fonts_to_spans: !0,
                                    indent: "simple",
                                    indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
                                    indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
                                    validate: !0,
                                    entity_encoding: "named",
                                    url_converter: s.convertURL,
                                    url_converter_scope: s,
                                    ie7_compat: !0
                                },
                                t),
                                r.language = t.language || "en",
                                r.languageLoad = t.language_load,
                                r.baseURL = i.baseURL,
                                s.id = t.id = e,
                                s.isNotDirty = !0,
                                s.plugins = {},
                                s.documentBaseURI = new d(t.document_base_url || o, {
                                    base_uri: u
                                }),
                                s.baseURI = u,
                                s.contentCSS = [],
                                s.contentStyles = [],
                                s.shortcuts = new T(s),
                                s.execCommands = {},
                                s.queryStateCommands = {},
                                s.queryValueCommands = {},
                                s.loadedCSS = {},
                                t.target && (s.targetElm = t.target),
                                s.suffix = i.suffix,
                                s.editorManager = i,
                                s.inline = t.inline,
                                i.fire("SetupEditor", s),
                                s.execCallback("setup", s),
                                s.$ = n.overrideDefaults(function() {
                                    return {
                                        context: s.inline ? s.getBody() : s.getDoc(),
                                        element: s.getBody()
                                    }
                                })
                            }
                            var N = e.DOM,
                            C = r.ThemeManager,
                            k = r.PluginManager,
                            L = S.extend,
                            A = S.each,
                            O = S.explode,
                            M = S.inArray,
                            _ = S.trim,
                            D = S.resolve,
                            P = m.Event,
                            H = E.gecko,
                            B = E.ie;
                            return j.prototype = {
                                render: function() {
                                    function i() {
                                        N.unbind(window, "ready", i),
                                        e.render()
                                    }
                                    function o() {
                                        var n = v.ScriptLoader;
                                        t.language && t.language != "en" && !t.language_url && (t.language_url = e.editorManager.baseURL + "/langs/" + t.language + ".js"),
                                        t.language_url && n.add(t.language_url);
                                        if (t.theme && typeof t.theme != "function" && t.theme.charAt(0) != "-" && !C.urls[t.theme]) {
                                            var i = t.theme_url;
                                            i ? i = e.documentBaseURI.toAbsolute(i) : i = "themes/" + t.theme + "/theme" + r + ".js",
                                            C.load(t.theme, i)
                                        }
                                        S.isArray(t.plugins) && (t.plugins = t.plugins.join(" ")),
                                        A(t.external_plugins,
                                        function(e, n) {
                                            k.load(n, e),
                                            t.plugins += " " + n
                                        }),
                                        A(t.plugins.split(/[ ,]/),
                                        function(e) {
                                            e = _(e);
                                            if (e && !k.urls[e]) if (e.charAt(0) == "-") {
                                                e = e.substr(1, e.length);
                                                var t = k.dependencies(e);
                                                A(t,
                                                function(e) {
                                                    var t = {
                                                        prefix: "plugins/",
                                                        resource: e,
                                                        suffix: "/plugin" + r + ".js"
                                                    };
                                                    e = k.createUrl(t, e),
                                                    k.load(e.resource, e)
                                                })
                                            } else k.load(e, {
                                                prefix: "plugins/",
                                                resource: e,
                                                suffix: "/plugin" + r + ".js"
                                            })
                                        }),
                                        n.loadQueue(function() {
                                            e.removed || e.init()
                                        })
                                    }
                                    var e = this,
                                    t = e.settings,
                                    n = e.id,
                                    r = e.suffix;
                                    if (!P.domLoaded) {
                                        N.bind(window, "ready", i);
                                        return
                                    }
                                    if (!e.getElement()) return;
                                    if (!E.contentEditable) return;
                                    t.inline ? e.inline = !0 : (e.orgVisibility = e.getElement().style.visibility, e.getElement().style.visibility = "visible");
                                    var s = e.getElement().form || N.getParent(n, "form");
                                    s && (e.formElement = s, t.hidden_input && !/TEXTAREA|INPUT/i.test(e.getElement().nodeName) && (N.insertAfter(N.create("input", {
                                        type: "hidden",
                                        name: n
                                    }), n), e.hasHiddenInput = !0), e.formEventDelegate = function(t) {
                                        e.fire(t.type, t)
                                    },
                                    N.bind(s, "submit reset", e.formEventDelegate), e.on("reset",
                                    function() {
                                        e.setContent(e.startContent, {
                                            format: "raw"
                                        })
                                    }), t.submit_patch && !s.submit.nodeType && !s.submit.length && !s._mceOldSubmit && (s._mceOldSubmit = s.submit, s.submit = function() {
                                        return e.editorManager.triggerSave(),
                                        e.isNotDirty = !0,
                                        s._mceOldSubmit(s)
                                    })),
                                    e.windowManager = new g(e),
                                    t.encoding == "xml" && e.on("GetContent",
                                    function(e) {
                                        e.save && (e.content = N.encode(e.content))
                                    }),
                                    t.add_form_submit_trigger && e.on("submit",
                                    function() {
                                        e.initialized && e.save()
                                    }),
                                    t.add_unload_trigger && (e._beforeUnload = function() {
                                        e.initialized && !e.destroyed && !e.isHidden() && e.save({
                                            format: "raw",
                                            no_events: !0,
                                            set_dirty: !1
                                        })
                                    },
                                    e.editorManager.on("BeforeUnload", e._beforeUnload)),
                                    o()
                                },
                                init: function() {
                                    function v(t) {
                                        var n = k.get(t),
                                        r,
                                        i;
                                        r = k.urls[t] || e.documentBaseUrl.replace(/\/$/, ""),
                                        t = _(t),
                                        n && M(d, t) === -1 && (A(k.dependencies(t),
                                        function(e) {
                                            v(e)
                                        }), i = new n(e, r, e.$), e.plugins[t] = i, i.init && (i.init(e, r), d.push(t)))
                                    }
                                    var e = this,
                                    t = e.settings,
                                    n = e.getElement(),
                                    r,
                                    i,
                                    s,
                                    o,
                                    u,
                                    a,
                                    f,
                                    l,
                                    c,
                                    h,
                                    p,
                                    d = [];
                                    e.rtl = this.editorManager.i18n.rtl,
                                    e.editorManager.add(e),
                                    t.aria_label = t.aria_label || N.getAttrib(n, "aria-label", e.getLang("aria.rich_text_area")),
                                    t.theme && (typeof t.theme != "function" ? (t.theme = t.theme.replace(/-/, ""), a = C.get(t.theme), e.theme = new a(e, C.urls[t.theme]), e.theme.init && e.theme.init(e, C.urls[t.theme] || e.documentBaseUrl.replace(/\/$/, ""), e.$)) : e.theme = t.theme),
                                    A(t.plugins.replace(/\-/g, "").split(/[ ,]/), v),
                                    t.render_ui && e.theme && (e.orgDisplay = n.style.display, typeof t.theme != "function" ? (r = t.width || n.style.width || n.offsetWidth, i = t.height || n.style.height || n.offsetHeight, s = t.min_height || 100, h = /^[0-9\.]+(|px)$/i, h.test("" + r) && (r = Math.max(parseInt(r, 10), 100)), h.test("" + i) && (i = Math.max(parseInt(i, 10), s)), u = e.theme.renderUI({
                                        targetNode: n,
                                        width: r,
                                        height: i,
                                        deltaWidth: t.delta_width,
                                        deltaHeight: t.delta_height
                                    }), t.content_editable || (i = (u.iframeHeight || i) + (typeof i == "number" ? u.deltaHeight || 0 : ""), i < s && (i = s))) : (u = t.theme(e, n), u.editorContainer.nodeType && (u.editorContainer = u.editorContainer.id = u.editorContainer.id || e.id + "_parent"), u.iframeContainer.nodeType && (u.iframeContainer = u.iframeContainer.id = u.iframeContainer.id || e.id + "_iframecontainer"), i = u.iframeHeight || n.offsetHeight), e.editorContainer = u.editorContainer),
                                    t.content_css && A(O(t.content_css),
                                    function(t) {
                                        e.contentCSS.push(e.documentBaseURI.toAbsolute(t))
                                    }),
                                    t.content_style && e.contentStyles.push(t.content_style);
                                    if (t.content_editable) return n = o = u = null,
                                    e.initContentBody();
                                    e.iframeHTML = t.doctype + "\x3chtml\x3e\x3chead\x3e",
                                    t.document_base_url != e.documentBaseUrl && (e.iframeHTML += '\x3cbase href\x3d"' + e.documentBaseURI.getURI() + '" /\x3e'),
                                    !E.caretAfter && t.ie7_compat && (e.iframeHTML += '\x3cmeta http-equiv\x3d"X-UA-Compatible" content\x3d"IE\x3d7" /\x3e'),
                                    e.iframeHTML += '\x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html; charset\x3dUTF-8" /\x3e';
                                    for (p = 0; p < e.contentCSS.length; p++) {
                                        var m = e.contentCSS[p];
                                        e.iframeHTML += '\x3clink type\x3d"text/css" rel\x3d"stylesheet" href\x3d"' + m + '" /\x3e',
                                        e.loadedCSS[m] = !0
                                    }
                                    l = t.body_id || "tinymce",
                                    l.indexOf("\x3d") != -1 && (l = e.getParam("body_id", "", "hash"), l = l[e.id] || l),
                                    c = t.body_class || "",
                                    c.indexOf("\x3d") != -1 && (c = e.getParam("body_class", "", "hash"), c = c[e.id] || ""),
                                    e.iframeHTML += '\x3c/head\x3e\x3cbody id\x3d"' + l + '" class\x3d"mce-content-body ' + c + '" data-id\x3d"' + e.id + '"\x3e\x3cbr\x3e\x3c/body\x3e\x3c/html\x3e';
                                    var g = 'javascript:(function(){document.open();document.domain\x3d"' + document.domain + '";' + 'var ed \x3d window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);' + "document.close();ed.initContentBody(true);})()";
                                    document.domain != location.hostname && (f = g);
                                    var y = N.create("iframe", {
                                        id: e.id + "_ifr",
                                        frameBorder: "0",
                                        allowTransparency: "true",
                                        title: e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
                                        style: {
                                            width: "100%",
                                            height: i,
                                            display: "block"
                                        }
                                    });
                                    y.onload = function() {
                                        y.onload = null,
                                        e.fire("load")
                                    },
                                    N.setAttrib("src", f || 'javascript:""'),
                                    e.contentAreaContainer = u.iframeContainer,
                                    e.iframeElement = y,
                                    o = N.add(u.iframeContainer, y);
                                    if (B) try {
                                        e.getDoc()
                                    } catch(b$65) {
                                        o.src = f = g
                                    }
                                    u.editorContainer && (N.get(u.editorContainer).style.display = e.orgDisplay, e.hidden = N.isHidden(u.editorContainer)),
                                    e.getElement().style.display = "none",
                                    N.setAttrib(e.id, "aria-hidden", !0),
                                    f || e.initContentBody(),
                                    n = o = u = null
                                },
                                initContentBody: function(t) {
                                    var n = this,
                                    r = n.settings,
                                    u = n.getElement(),
                                    d = n.getDoc(),
                                    v,
                                    m;
                                    r.inline || (n.getElement().style.visibility = n.orgVisibility),
                                    !t && !r.content_editable && (d.open(), d.write(n.iframeHTML), d.close()),
                                    r.content_editable && (n.on("remove",
                                    function() {
                                        var e = this.getBody();
                                        N.removeClass(e, "mce-content-body"),
                                        N.removeClass(e, "mce-edit-focus"),
                                        N.setAttrib(e, "contentEditable", null)
                                    }), N.addClass(u, "mce-content-body"), n.contentDocument = d = r.content_document || document, n.contentWindow = r.content_window || window, n.bodyElement = u, r.content_document = r.content_window = null, r.root_name = u.nodeName.toLowerCase()),
                                    v = n.getBody(),
                                    v.disabled = !0,
                                    r.readonly || (n.inline && N.getStyle(v, "position", true) == "static" && (v.style.position = "relative"), v.contentEditable = n.getParam("content_editable_state", !0)),
                                    v.disabled = !1,
                                    n.schema = new y(r),
                                    n.dom = new e(d, {
                                        keep_values: !0,
                                        url_converter: n.convertURL,
                                        url_converter_scope: n,
                                        hex_colors: r.force_hex_style_colors,
                                        class_filter: r.class_filter,
                                        update_styles: !0,
                                        root_element: n.inline ? n.getBody() : null,
                                        collect: r.content_editable,
                                        schema: n.schema,
                                        onSetAttrib: function(e) {
                                            n.fire("SetAttrib", e)
                                        }
                                    }),
                                    n.parser = new b(r, n.schema),
                                    n.parser.addAttributeFilter("src,href,style,tabindex",
                                    function(e, t) {
                                        var r = e.length,
                                        i, s = n.dom,
                                        o, u;
                                        while (r--) i = e[r],
                                        o = i.attr(t),
                                        u = "data-mce-" + t,
                                        i.attributes.map[u] || (t === "style" ? (o = s.serializeStyle(s.parseStyle(o), i.name), o.length || (o = null), i.attr(u, o), i.attr(t, o)) : t === "tabindex" ? (i.attr(u, o), i.attr(t, null)) : i.attr(u, n.convertURL(o, t, i.name)))
                                    }),
                                    n.parser.addNodeFilter("script",
                                    function(e) {
                                        var t = e.length,
                                        n;
                                        while (t--) n = e[t],
                                        n.attr("type", "mce-" + (n.attr("type") || "no/type"))
                                    }),
                                    n.parser.addNodeFilter("#cdata",
                                    function(e) {
                                        var t = e.length,
                                        n;
                                        while (t--) n = e[t],
                                        n.type = 8,
                                        n.name = "#comment",
                                        n.value = "[CDATA[" + n.value + "]]"
                                    }),
                                    n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",
                                    function(e) {
                                        var t = e.length,
                                        r, i = n.schema.getNonEmptyElements();
                                        while (t--) r = e[t],
                                        r.isEmpty(i) && (r.append(new s("br", 1)).shortEnded = !0)
                                    }),
                                    n.serializer = new o(r, n),
                                    n.selection = new a(n.dom, n.getWin(), n.serializer, n),
                                    n.formatter = new f(n),
                                    n.undoManager = new l(n),
                                    n.forceBlocks = new h(n),
                                    n.enterKey = new c(n),
                                    n.editorCommands = new p(n),
                                    n._nodeChangeDispatcher = new i(n),
                                    n.fire("PreInit"),
                                    !r.browser_spellcheck && !r.gecko_spellcheck && (d.body.spellcheck = !1, N.setAttrib(v, "spellcheck", "false")),
                                    n.fire("PostRender"),
                                    n.quirks = new w(n),
                                    r.directionality && (v.dir = r.directionality),
                                    r.nowrap && (v.style.whiteSpace = "nowrap"),
                                    r.protect && n.on("BeforeSetContent",
                                    function(e) {
                                        A(r.protect,
                                        function(t) {
                                            e.content = e.content.replace(t,
                                            function(e) {
                                                return "\x3c!--mce:protected " + escape(e) + "--\x3e"
                                            })
                                        })
                                    }),
                                    n.on("SetContent",
                                    function() {
                                        n.addVisual(n.getBody())
                                    }),
                                    r.padd_empty_editor && n.on("PostProcess",
                                    function(e) {
                                        e.content = e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/, "")
                                    }),
                                    n.load({
                                        initial: !0,
                                        format: "html"
                                    }),
                                    n.startContent = n.getContent({
                                        format: "raw"
                                    }),
                                    n.initialized = !0,
                                    n.bindPendingEventDelegates(),
                                    n.fire("init"),
                                    n.focus(!0),
                                    n.nodeChanged({
                                        initial: !0
                                    }),
                                    n.execCallback("init_instance_callback", n),
                                    n.contentStyles.length > 0 && (m = "", A(n.contentStyles,
                                    function(e) {
                                        m += e + "\r\n"
                                    }), n.dom.addStyle(m)),
                                    A(n.contentCSS,
                                    function(e) {
                                        n.loadedCSS[e] || (n.dom.loadCSS(e), n.loadedCSS[e] = !0)
                                    }),
                                    r.auto_focus && setTimeout(function() {
                                        var e;
                                        r.auto_focus === !0 ? e = n: e = n.editorManager.get(r.auto_focus),
                                        e.focus()
                                    },
                                    100),
                                    u = d = v = null
                                },
                                focus: function(e) {
                                    var t, n = this,
                                    r = n.selection,
                                    i = n.settings.content_editable,
                                    s, o, u = n.getDoc(),
                                    a;
                                    if (!e) {
                                        s = r.getRng(),
                                        s.item && (o = s.item(0)),
                                        n._refreshContentEditable(),
                                        i || (E.opera || n.getBody().focus(), n.getWin().focus());
                                        if (H || i) {
                                            a = n.getBody();
                                            if (a.setActive) try {
                                                a.setActive()
                                            } catch(f$66) {
                                                a.focus()
                                            } else a.focus();
                                            i && r.normalize()
                                        }
                                        o && o.ownerDocument == u && (s = u.body.createControlRange(), s.addElement(o), s.select())
                                    }
                                    n.editorManager.activeEditor != n && ((t = n.editorManager.activeEditor) && t.fire("deactivate", {
                                        relatedTarget: n
                                    }), n.fire("activate", {
                                        relatedTarget: t
                                    })),
                                    n.editorManager.activeEditor = n
                                },
                                execCallback: function(e) {
                                    var t = this,
                                    n = t.settings[e],
                                    r;
                                    if (!n) return;
                                    return t.callbackLookup && (r = t.callbackLookup[e]) && (n = r.func, r = r.scope),
                                    typeof n == "string" && (r = n.replace(/\.\w+$/, ""), r = r ? D(r) : 0, n = D(n), t.callbackLookup = t.callbackLookup || {},
                                    t.callbackLookup[e] = {
                                        func: n,
                                        scope: r
                                    }),
                                    n.apply(r || t, Array.prototype.slice.call(arguments, 1))
                                },
                                translate: function(e) {
                                    var t = this.settings.language || "en",
                                    n = this.editorManager.i18n;
                                    return e ? n.data[t + "." + e] || e.replace(/\{\#([^\}]+)\}/g,
                                    function(e, r) {
                                        return n.data[t + "." + r] || "{#" + r + "}"
                                    }) : ""
                                },
                                getLang: function(e, n) {
                                    return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (n !== t ? n: "{#" + e + "}")
                                },
                                getParam: function(e, t, n) {
                                    var r = e in this.settings ? this.settings[e] : t,
                                    i;
                                    return n === "hash" ? (i = {},
                                    typeof r == "string" ? A(r.indexOf("\x3d") > 0 ? r.split(/[;,](?![^=;,]*(?:[;,]|$))/) : r.split(","),
                                    function(e) {
                                        e = e.split("\x3d"),
                                        e.length > 1 ? i[_(e[0])] = _(e[1]) : i[_(e[0])] = _(e)
                                    }) : i = r, i) : r
                                },
                                nodeChanged: function(e) {
                                    this._nodeChangeDispatcher.nodeChanged(e)
                                },
                                addButton: function(e, t) {
                                    var n = this;
                                    t.cmd && (t.onclick = function() {
                                        n.execCommand(t.cmd)
                                    }),
                                    !t.text && !t.icon && (t.icon = e),
                                    n.buttons = n.buttons || {},
                                    t.tooltip = t.tooltip || t.title,
                                    n.buttons[e] = t
                                },
                                addMenuItem: function(e, t) {
                                    var n = this;
                                    t.cmd && (t.onclick = function() {
                                        n.execCommand(t.cmd)
                                    }),
                                    n.menuItems = n.menuItems || {},
                                    n.menuItems[e] = t
                                },
                                addCommand: function(e, t, n) {
                                    this.execCommands[e] = {
                                        func: t,
                                        scope: n || this
                                    }
                                },
                                addQueryStateHandler: function(e, t, n) {
                                    this.queryStateCommands[e] = {
                                        func: t,
                                        scope: n || this
                                    }
                                },
                                addQueryValueHandler: function(e, t, n) {
                                    this.queryValueCommands[e] = {
                                        func: t,
                                        scope: n || this
                                    }
                                },
                                addShortcut: function(e, t, n, r) {
                                    this.shortcuts.add(e, t, n, r)
                                },
                                execCommand: function(e, t, n, r) {
                                    var i = this,
                                    s = 0,
                                    o; ! /^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e) && (!r || !r.skip_focus) && i.focus(),
                                    r = L({},
                                    r),
                                    r = i.fire("BeforeExecCommand", {
                                        command: e,
                                        ui: t,
                                        value: n
                                    });
                                    if (r.isDefaultPrevented()) return ! 1;
                                    if (o = i.execCommands[e]) if (o.func.call(o.scope, t, n) !== !0) return i.fire("ExecCommand", {
                                        command: e,
                                        ui: t,
                                        value: n
                                    }),
                                    !0;
                                    A(i.plugins,
                                    function(r) {
                                        if (r.execCommand && r.execCommand(e, t, n)) return i.fire("ExecCommand", {
                                            command: e,
                                            ui: t,
                                            value: n
                                        }),
                                        s = !0,
                                        !1
                                    });
                                    if (s) return s;
                                    if (i.theme && i.theme.execCommand && i.theme.execCommand(e, t, n)) return i.fire("ExecCommand", {
                                        command: e,
                                        ui: t,
                                        value: n
                                    }),
                                    !0;
                                    if (i.editorCommands.execCommand(e, t, n)) return i.fire("ExecCommand", {
                                        command: e,
                                        ui: t,
                                        value: n
                                    }),
                                    !0;
                                    try {
                                        s = i.getDoc().execCommand(e, t, n)
                                    } catch(u$67) {}
                                    return s ? (i.fire("ExecCommand", {
                                        command: e,
                                        ui: t,
                                        value: n
                                    }), !0) : !1
                                },
                                queryCommandState: function(e) {
                                    var t = this,
                                    n, r;
                                    if (t._isHidden()) return;
                                    if (n = t.queryStateCommands[e]) {
                                        r = n.func.call(n.scope);
                                        if (r === !0 || r === !1) return r
                                    }
                                    r = t.editorCommands.queryCommandState(e);
                                    if (r !== -1) return r;
                                    try {
                                        return t.getDoc().queryCommandState(e)
                                    } catch(i$68) {}
                                },
                                queryCommandValue: function(e) {
                                    var n = this,
                                    r, i;
                                    if (n._isHidden()) return;
                                    if (r = n.queryValueCommands[e]) {
                                        i = r.func.call(r.scope);
                                        if (i !== !0) return i
                                    }
                                    i = n.editorCommands.queryCommandValue(e);
                                    if (i !== t) return i;
                                    try {
                                        return n.getDoc().queryCommandValue(e)
                                    } catch(s$69) {}
                                },
                                show: function() {
                                    var e = this;
                                    e.hidden && (e.hidden = !1, e.inline ? e.getBody().contentEditable = !0 : (N.show(e.getContainer()), N.hide(e.id)), e.load(), e.fire("show"))
                                },
                                hide: function() {
                                    var e = this,
                                    t = e.getDoc();
                                    e.hidden || (B && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = !1, e == e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (N.hide(e.getContainer()), N.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide"))
                                },
                                isHidden: function() {
                                    return !! this.hidden
                                },
                                setProgressState: function(e, t) {
                                    this.fire("ProgressState", {
                                        state: e,
                                        time: t
                                    })
                                },
                                load: function(e) {
                                    var n = this,
                                    r = n.getElement(),
                                    i;
                                    if (r) return e = e || {},
                                    e.load = !0,
                                    i = n.setContent(r.value !== t ? r.value: r.innerHTML, e),
                                    e.element = r,
                                    e.no_events || n.fire("LoadContent", e),
                                    e.element = r = null,
                                    i
                                },
                                save: function(e) {
                                    var t = this,
                                    n = t.getElement(),
                                    r,
                                    i;
                                    if (!n || !t.initialized) return;
                                    return e = e || {},
                                    e.save = !0,
                                    e.element = n,
                                    r = e.content = t.getContent(e),
                                    e.no_events || t.fire("SaveContent", e),
                                    r = e.content,
                                    /TEXTAREA|INPUT/i.test(n.nodeName) ? n.value = r: (t.inline || (n.innerHTML = r), (i = N.getParent(t.id, "form")) && A(i.elements,
                                    function(e) {
                                        if (e.name == t.id) return e.value = r,
                                        !1
                                    })),
                                    e.element = n = null,
                                    e.set_dirty !== !1 && (t.isNotDirty = !0),
                                    r
                                },
                                setContent: function(e, t) {
                                    var n = this,
                                    r = n.getBody(),
                                    i;
                                    return t = t || {},
                                    t.format = t.format || "html",
                                    t.set = !0,
                                    t.content = e,
                                    t.no_events || n.fire("BeforeSetContent", t),
                                    e = t.content,
                                    e.length === 0 || /^\s+$/.test(e) ? (i = n.settings.forced_root_block, i && n.schema.isValidChild(r.nodeName.toLowerCase(), i.toLowerCase()) ? (e = B && B < 11 ? "": '\x3cbr data-mce-bogus\x3d"1"\x3e', e = n.dom.createHTML(i, n.settings.forced_root_block_attrs, e)) : B || (e = '\x3cbr data-mce-bogus\x3d"1"\x3e'), n.dom.setHTML(r, e), n.fire("SetContent", t)) : (t.format !== "raw" && (e = (new u({},
                                    n.schema)).serialize(n.parser.parse(e, {
                                        isRootContent: !0
                                    }))), t.content = _(e), n.dom.setHTML(r, t.content), t.no_events || n.fire("SetContent", t)),
                                    t.content
                                },
                                getContent: function(e) {
                                    var t = this,
                                    n, r = t.getBody();
                                    return e = e || {},
                                    e.format = e.format || "html",
                                    e.get = !0,
                                    e.getInner = !0,
                                    e.no_events || t.fire("BeforeGetContent", e),
                                    e.format == "raw" ? n = r.innerHTML: e.format == "text" ? n = r.innerText || r.textContent: n = t.serializer.serialize(r, e),
                                    e.format != "text" ? e.content = _(n) : e.content = n,
                                    e.no_events || t.fire("GetContent", e),
                                    e.content
                                },
                                insertContent: function(e, t) {
                                    t && (e = L({
                                        content: e
                                    },
                                    t)),
                                    this.execCommand("mceInsertContent", !1, e)
                                },
                                isDirty: function() {
                                    return ! this.isNotDirty
                                },
                                getContainer: function() {
                                    var e = this;
                                    return e.container || (e.container = N.get(e.editorContainer || e.id + "_parent")),
                                    e.container
                                },
                                getContentAreaContainer: function() {
                                    return this.contentAreaContainer
                                },
                                getElement: function() {
                                    return this.targetElm || (this.targetElm = N.get(this.id)),
                                    this.targetElm
                                },
                                getWin: function() {
                                    var e = this,
                                    t;
                                    return e.contentWindow || (t = e.iframeElement, t && (e.contentWindow = t.contentWindow)),
                                    e.contentWindow
                                },
                                getDoc: function() {
                                    var e = this,
                                    t;
                                    return e.contentDocument || (t = e.getWin(), t && (e.contentDocument = t.document)),
                                    e.contentDocument
                                },
                                getBody: function() {
                                    return this.bodyElement || this.getDoc().body
                                },
                                convertURL: function(e, t, n) {
                                    var r = this,
                                    i = r.settings;
                                    return i.urlconverter_callback ? r.execCallback("urlconverter_callback", e, n, !0, t) : !i.convert_urls || n && n.nodeName == "LINK" || e.indexOf("file:") === 0 || e.length === 0 ? e: i.relative_urls ? r.documentBaseURI.toRelative(e) : (e = r.documentBaseURI.toAbsolute(e, i.remove_script_host), e)
                                },
                                addVisual: function(e) {
                                    var n = this,
                                    r = n.settings,
                                    i = n.dom,
                                    s;
                                    e = e || n.getBody(),
                                    n.hasVisual === t && (n.hasVisual = r.visual),
                                    A(i.select("table,a", e),
                                    function(e) {
                                        var t;
                                        switch (e.nodeName) {
                                        case "TABLE":
                                            s = r.visual_table_class || "mce-item-table",
                                            t = i.getAttrib(e, "border"),
                                            (!t || t == "0") && n.hasVisual ? i.addClass(e, s) : i.removeClass(e, s);
                                            return;
                                        case "A":
                                            i.getAttrib(e, "href", !1) || (t = i.getAttrib(e, "name") || e.id, s = r.visual_anchor_class || "mce-item-anchor", t && n.hasVisual ? i.addClass(e, s) : i.removeClass(e, s));
                                            return
                                        }
                                    }),
                                    n.fire("VisualAid", {
                                        element: e,
                                        hasVisual: n.hasVisual
                                    })
                                },
                                remove: function() {
                                    var e = this;
                                    e.removed || (e.save(), e.removed = 1, e.unbindAllNativeEvents(), e.hasHiddenInput && N.remove(e.getElement().nextSibling), e.inline || (B && B < 10 && e.getDoc().execCommand("SelectAll", !1, null), N.setStyle(e.id, "display", e.orgDisplay), e.getBody().onload = null), e.fire("remove"), e.editorManager.remove(e), N.remove(e.getContainer()), e.destroy())
                                },
                                destroy: function(e) {
                                    var t = this,
                                    n;
                                    if (t.destroyed) return;
                                    if (!e && !t.removed) {
                                        t.remove();
                                        return
                                    }
                                    e || (t.editorManager.off("beforeunload", t._beforeUnload), t.theme && t.theme.destroy && t.theme.destroy(), t.selection.destroy(), t.dom.destroy()),
                                    n = t.formElement,
                                    n && (n._mceOldSubmit && (n.submit = n._mceOldSubmit, n._mceOldSubmit = null), N.unbind(n, "submit reset", t.formEventDelegate)),
                                    t.contentAreaContainer = t.formElement = t.container = t.editorContainer = null,
                                    t.bodyElement = t.contentDocument = t.contentWindow = null,
                                    t.iframeElement = t.targetElm = null,
                                    t.selection && (t.selection = t.selection.win = t.selection.dom = t.selection.dom.doc = null),
                                    t.destroyed = 1
                                },
                                _refreshContentEditable: function() {
                                    var e = this,
                                    t, n;
                                    e._isHidden() && (t = e.getBody(), n = t.parentNode, n.removeChild(t), n.appendChild(t), t.focus())
                                },
                                _isHidden: function() {
                                    var e;
                                    return H ? (e = this.selection.getSel(), !e || !e.rangeCount || e.rangeCount === 0) : 0
                                }
                            },
                            L(j.prototype, x),
                            j
                        }),
                        i("tinymce/util/I18n", [],
                        function() {
                            var e = {};
                            return {
                                rtl: !1,
                                add: function(t, n) {
                                    for (var r in n) e[r] = n[r];
                                    this.rtl = this.rtl || e._dir === "rtl"
                                },
                                translate: function(t) {
                                    if (typeof t == "undefined") return t;
                                    if (typeof t != "string" && t.raw) return t.raw;
                                    if (t.push) {
                                        var n = t.slice(1);
                                        t = (e[t[0]] || t[0]).replace(/\{([^\}]+)\}/g,
                                        function(e, t) {
                                            return n[t]
                                        })
                                    }
                                    return e[t] || t
                                },
                                data: e
                            }
                        }),
                        i("tinymce/FocusManager", ["tinymce/dom/DOMUtils", "tinymce/Env"],
                        function(e, t) {
                            function o(e) {
                                function u() {
                                    try {
                                        return document.activeElement
                                    } catch(e$70) {
                                        return document.body
                                    }
                                }
                                function a(e, t) {
                                    if (t && t.startContainer) {
                                        if (!e.isChildOf(t.startContainer, e.getRoot()) || !e.isChildOf(t.endContainer, e.getRoot())) return;
                                        return {
                                            startContainer: t.startContainer,
                                            startOffset: t.startOffset,
                                            endContainer: t.endContainer,
                                            endOffset: t.endOffset
                                        }
                                    }
                                    return t
                                }
                                function f(e, t) {
                                    var n;
                                    return t.startContainer ? (n = e.getDoc().createRange(), n.setStart(t.startContainer, t.startOffset), n.setEnd(t.endContainer, t.endOffset)) : n = t,
                                    n
                                }
                                function l(e) {
                                    return !! s.getParent(e, o.isEditorUIElement)
                                }
                                function c(o) {
                                    var c = o.editor;
                                    c.on("init",
                                    function() {
                                        if (c.inline || t.ie)"onbeforedeactivate" in document && t.ie < 9 ? c.dom.bind(c.getBody(), "beforedeactivate",
                                        function() {
                                            try {
                                                c.lastRng = c.selection.getRng()
                                            } catch(e$71) {}
                                        }) : c.on("nodechange mouseup keyup",
                                        function(e) {
                                            var t = u();
                                            if (e.type == "nodechange" && e.selectionChange) return;
                                            t && t.id == c.id + "_ifr" && (t = c.getBody()),
                                            c.dom.isChildOf(t, c.getBody()) && (c.lastRng = c.selection.getRng())
                                        }),
                                        t.webkit && !n && (n = function() {
                                            var t = e.activeEditor;
                                            if (t && t.selection) {
                                                var n = t.selection.getRng();
                                                n && !n.collapsed && (c.lastRng = n)
                                            }
                                        },
                                        s.bind(document, "selectionchange", n))
                                    }),
                                    c.on("setcontent",
                                    function() {
                                        c.lastRng = null
                                    }),
                                    c.on("mousedown",
                                    function() {
                                        c.selection.lastFocusBookmark = null
                                    }),
                                    c.on("focusin",
                                    function() {
                                        var t = e.focusedEditor;
                                        c.selection.lastFocusBookmark && (c.selection.setRng(f(c, c.selection.lastFocusBookmark)), c.selection.lastFocusBookmark = null),
                                        t != c && (t && t.fire("blur", {
                                            focusedEditor: c
                                        }), e.activeEditor = c, e.focusedEditor = c, c.fire("focus", {
                                            blurredEditor: t
                                        }), c.focus(!0)),
                                        c.lastRng = null
                                    }),
                                    c.on("focusout",
                                    function() {
                                        window.setTimeout(function() {
                                            var t = e.focusedEditor; ! l(u()) && t == c && (c.fire("blur", {
                                                focusedEditor: null
                                            }), e.focusedEditor = null, c.selection && (c.selection.lastFocusBookmark = null))
                                        },
                                        0)
                                    }),
                                    r || (r = function(t) {
                                        var n = e.activeEditor;
                                        n && t.target.ownerDocument == document && (n.selection && t.target != n.getBody() && (n.selection.lastFocusBookmark = a(n.dom, n.lastRng)), !l(t.target) && e.focusedEditor == n && (n.fire("blur", {
                                            focusedEditor: null
                                        }), e.focusedEditor = null))
                                    },
                                    s.bind(document, "focusin", r)),
                                    c.inline && !i && (i = function(t) {
                                        var n = e.activeEditor;
                                        if (n.inline && !n.dom.isChildOf(t.target, n.getBody())) {
                                            var r = n.selection.getRng();
                                            r.collapsed || (n.lastRng = r)
                                        }
                                    },
                                    s.bind(document, "mouseup", i))
                                }
                                function h(t) {
                                    e.focusedEditor == t.editor && (e.focusedEditor = null),
                                    e.activeEditor || (s.unbind(document, "selectionchange", n), s.unbind(document, "focusin", r), s.unbind(document, "mouseup", i), n = r = i = null)
                                }
                                e.on("AddEditor", c),
                                e.on("RemoveEditor", h)
                            }
                            var n, r, i, s = e.DOM;
                            return o.isEditorUIElement = function(e) {
                                return e.className.toString().indexOf("mce-") !== -1
                            },
                            o
                        }),
                        i("tinymce/EditorManager", ["tinymce/Editor", "tinymce/dom/DomQuery", "tinymce/dom/DOMUtils", "tinymce/util/URI", "tinymce/Env", "tinymce/util/Tools", "tinymce/util/Observable", "tinymce/util/I18n", "tinymce/FocusManager"],
                        function(e, t, n, r, i, s, o, u, a) {
                            function m(e) {
                                var t = v.editors,
                                n;
                                delete t[e.id];
                                for (var r = 0; r < t.length; r++) if (t[r] == e) {
                                    t.splice(r, 1),
                                    n = !0;
                                    break
                                }
                                return v.activeEditor == e && (v.activeEditor = t[0]),
                                v.focusedEditor == e && (v.focusedEditor = null),
                                n
                            }
                            function g(e) {
                                return e && !(e.getContainer() || e.getBody()).parentNode && (m(e), e.unbindAllNativeEvents(), e.destroy(!0), e = null),
                                e
                            }
                            var f = n.DOM,
                            l = s.explode,
                            c = s.each,
                            h = s.extend,
                            p = 0,
                            d, v;
                            return v = {
                                $: t,
                                majorVersion: "4",
                                minorVersion: "1.3",
                                releaseDate: "2014-07-29",
                                editors: [],
                                i18n: u,
                                activeEditor: null,
                                setup: function() {
                                    var e = this,
                                    t, n, i = "",
                                    s, o;
                                    n = document.location.href,
                                    /^[^:]+:\/\/\/?[^\/]+\//.test(n) && (n = n.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(n) || (n += "/")),
                                    s = window.tinymce || window.tinyMCEPreInit;
                                    if (s) t = s.base || s.baseURL,
                                    i = s.suffix;
                                    else {
                                        var u = document.getElementsByTagName("script");
                                        for (var f = 0; f < u.length; f++) {
                                            o = u[f].src;
                                            if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)) {
                                                o.indexOf(".min") != -1 && (i = ".min"),
                                                t = o.substring(0, o.lastIndexOf("/"));
                                                break
                                            }
                                        } ! t && document.currentScript && (o = document.currentScript.src, o.indexOf(".min") != -1 && (i = ".min"), t = o.substring(0, o.lastIndexOf("/")))
                                    }
                                    e.baseURL = (new r(n)).toAbsolute(t),
                                    e.documentBaseURL = n,
                                    e.baseURI = new r(e.baseURL),
                                    e.suffix = i,
                                    e.focusManager = new a(e)
                                },
                                init: function(t) {
                                    function s(e) {
                                        var t = e.id;
                                        return t || (t = e.name, t && !f.get(t) ? t = e.name: t = f.uniqueId(), e.setAttribute("id", t)),
                                        t
                                    }
                                    function o(t, i, s) {
                                        if (!g(n.get(t))) {
                                            var o = new e(t, i, n);
                                            o.targetElm = o.targetElm || s,
                                            r.push(o),
                                            o.render()
                                        }
                                    }
                                    function u(e) {
                                        var r = t[e];
                                        if (!r) return;
                                        return r.apply(n, Array.prototype.slice.call(arguments, 2))
                                    }
                                    function a(e, t) {
                                        return t.constructor === RegExp ? t.test(e.className) : f.hasClass(e, t)
                                    }
                                    function d() {
                                        var v, m;
                                        f.unbind(window, "ready", d),
                                        u("onpageload");
                                        if (t.types) {
                                            c(t.types,
                                            function(e) {
                                                c(f.select(e.selector),
                                                function(n) {
                                                    o(s(n), h({},
                                                    t, e), n)
                                                })
                                            });
                                            return
                                        }
                                        if (t.selector) {
                                            c(f.select(t.selector),
                                            function(e) {
                                                o(s(e), t, e)
                                            });
                                            return
                                        }
                                        t.target && o(s(t.target), t);
                                        switch (t.mode) {
                                        case "exact":
                                            v = t.elements || "",
                                            v.length > 0 && c(l(v),
                                            function(s) {
                                                f.get(s) ? (i = new e(s, t, n), r.push(i), i.render()) : c(document.forms,
                                                function(e) {
                                                    c(e.elements,
                                                    function(e) {
                                                        e.name === s && (s = "mce_editor_" + p++, f.setAttrib(e, "id", s), o(s, t, e))
                                                    })
                                                })
                                            });
                                            break;
                                        case "textareas":
                                        case "specific_textareas":
                                            c(f.select("textarea"),
                                            function(e) {
                                                if (t.editor_deselector && a(e, t.editor_deselector)) return; (!t.editor_selector || a(e, t.editor_selector)) && o(s(e), t, e)
                                            })
                                        }
                                        t.oninit && (v = m = 0, c(r,
                                        function(e) {
                                            m++,
                                            e.initialized ? v++:e.on("init",
                                            function() {
                                                v++,
                                                v == m && u("oninit")
                                            }),
                                            v == m && u("oninit")
                                        }))
                                    }
                                    var n = this,
                                    r = [],
                                    i;
                                    n.settings = t,
                                    f.bind(window, "ready", d)
                                },
                                get: function(e) {
                                    return arguments.length ? e in this.editors ? this.editors[e] : null: this.editors
                                },
                                add: function(e) {
                                    var t = this,
                                    n = t.editors;
                                    return n[e.id] = e,
                                    n.push(e),
                                    t.activeEditor = e,
                                    t.fire("AddEditor", {
                                        editor: e
                                    }),
                                    d || (d = function() {
                                        t.fire("BeforeUnload")
                                    },
                                    f.bind(window, "beforeunload", d)),
                                    e
                                },
                                createEditor: function(t, n) {
                                    return this.add(new e(t, n, this))
                                },
                                remove: function(e) {
                                    var t = this,
                                    n, r = t.editors,
                                    i;
                                    if (!e) {
                                        for (n = r.length - 1; n >= 0; n--) t.remove(r[n]);
                                        return
                                    }
                                    if (typeof e == "string") {
                                        e = e.selector || e,
                                        c(f.select(e),
                                        function(e) {
                                            i = r[e.id],
                                            i && t.remove(i)
                                        });
                                        return
                                    }
                                    return i = e,
                                    r[i.id] ? (m(i) && t.fire("RemoveEditor", {
                                        editor: i
                                    }), r.length || f.unbind(window, "beforeunload", d), i.remove(), i) : null
                                },
                                execCommand: function(t, n, r) {
                                    var i = this,
                                    s = i.get(r);
                                    switch (t) {
                                    case "mceAddEditor":
                                        return i.get(r) || (new e(r, i.settings, i)).render(),
                                        !0;
                                    case "mceRemoveEditor":
                                        return s && s.remove(),
                                        !0;
                                    case "mceToggleEditor":
                                        if (!s) return i.execCommand("mceAddEditor", 0, r),
                                        !0;
                                        return s.isHidden() ? s.show() : s.hide(),
                                        !0
                                    }
                                    return i.activeEditor ? i.activeEditor.execCommand(t, n, r) : !1
                                },
                                triggerSave: function() {
                                    c(this.editors,
                                    function(e) {
                                        e.save()
                                    })
                                },
                                addI18n: function(e, t) {
                                    u.add(e, t)
                                },
                                translate: function(e) {
                                    return u.translate(e)
                                }
                            },
                            h(v, o),
                            v.setup(),
                            window.tinymce = window.tinyMCE = v,
                            v
                        }),
                        i("tinymce/LegacyInput", ["tinymce/EditorManager", "tinymce/util/Tools"],
                        function(e, t) {
                            var n = t.each,
                            r = t.explode;
                            e.on("AddEditor",
                            function(e) {
                                var t = e.editor;
                                t.on("preInit",
                                function() {
                                    function u(e, t) {
                                        n(t,
                                        function(t, n) {
                                            t && s.setStyle(e, n, t)
                                        }),
                                        s.rename(e, "span")
                                    }
                                    function a(r) {
                                        s = t.dom,
                                        o.convert_fonts_to_spans && n(s.select("font,u,strike", r.node),
                                        function(t) {
                                            e[t.nodeName.toLowerCase()](s, t)
                                        })
                                    }
                                    var e, i, s, o = t.settings;
                                    o.inline_styles && (i = r(o.font_size_legacy_values), e = {
                                        font: function(e, t) {
                                            u(t, {
                                                backgroundColor: t.style.backgroundColor,
                                                color: t.color,
                                                fontFamily: t.face,
                                                fontSize: i[parseInt(t.size, 10) - 1]
                                            })
                                        },
                                        u: function(e, t) {
                                            u(t, {
                                                textDecoration: "underline"
                                            })
                                        },
                                        strike: function(e, t) {
                                            u(t, {
                                                textDecoration: "line-through"
                                            })
                                        }
                                    },
                                    t.on("PreProcess SetContent", a))
                                })
                            })
                        }),
                        i("tinymce/util/XHR", ["tinymce/util/Observable", "tinymce/util/Tools"],
                        function(e, t) {
                            var n = {
                                send: function(e) {
                                    function i() { ! e.async || t.readyState == 4 || r++>1E4 ? (e.success && r < 1E4 && t.status == 200 ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, r > 1E4 ? "TIMED_OUT": "GENERAL", t, e), t = null) : setTimeout(i, 10)
                                    }
                                    var t, r = 0;
                                    e.scope = e.scope || this,
                                    e.success_scope = e.success_scope || e.scope,
                                    e.error_scope = e.error_scope || e.scope,
                                    e.async = e.async === !1 ? !1 : !0,
                                    e.data = e.data || "",
                                    t = new XMLHttpRequest;
                                    if (t) {
                                        t.overrideMimeType && t.overrideMimeType(e.content_type),
                                        t.open(e.type || (e.data ? "POST": "GET"), e.url, e.async),
                                        e.crossDomain && (t.withCredentials = !0),
                                        e.content_type && t.setRequestHeader("Content-Type", e.content_type),
                                        t.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
                                        t = n.fire("beforeSend", {
                                            xhr: t,
                                            settings: e
                                        }).xhr,
                                        t.send(e.data);
                                        if (!e.async) return i();
                                        setTimeout(i, 10)
                                    }
                                }
                            };
                            return t.extend(n, e),
                            n
                        }),
                        i("tinymce/util/JSON", [],
                        function() {
                            function e(t, n) {
                                var r, i, s, o;
                                n = n || '"';
                                if (t === null) return "null";
                                s = typeof t;
                                if (s == "string") return i = "\bb\tt\nn\ff\rr\"\"''\\\\",
                                n + t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,
                                function(e, t) {
                                    return n === '"' && e === "'" ? e: (r = i.indexOf(t), r + 1 ? "\\" + i.charAt(r + 1) : (e = t.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e))
                                }) + n;
                                if (s == "object") {
                                    if (t.hasOwnProperty && Object.prototype.toString.call(t) === "[object Array]") {
                                        for (r = 0, i = "["; r < t.length; r++) i += (r > 0 ? ",": "") + e(t[r], n);
                                        return i + "]"
                                    }
                                    i = "{";
                                    for (o in t) t.hasOwnProperty(o) && (i += typeof t[o] != "function" ? (i.length > 1 ? "," + n: n) + o + n + ":" + e(t[o], n) : "");
                                    return i + "}"
                                }
                                return "" + t
                            }
                            return {
                                serialize: e,
                                parse: function(e) {
                                    try {
                                        return window[String.fromCharCode(101) + "val"]("(" + e + ")")
                                    } catch(t$72) {}
                                }
                            }
                        }),
                        i("tinymce/util/JSONRequest", ["tinymce/util/JSON", "tinymce/util/XHR", "tinymce/util/Tools"],
                        function(e, t, n) {
                            function i(e) {
                                this.settings = r({},
                                e),
                                this.count = 0
                            }
                            var r = n.extend;
                            return i.sendRPC = function(e) {
                                return (new i).send(e)
                            },
                            i.prototype = {
                                send: function(n) {
                                    var i = n.error,
                                    s = n.success;
                                    n = r(this.settings, n),
                                    n.success = function(t, r) {
                                        t = e.parse(t),
                                        typeof t == "undefined" && (t = {
                                            error: "JSON Parse error."
                                        }),
                                        t.error ? i.call(n.error_scope || n.scope, t.error, r) : s.call(n.success_scope || n.scope, t.result)
                                    },
                                    n.error = function(e, t) {
                                        i && i.call(n.error_scope || n.scope, e, t)
                                    },
                                    n.data = e.serialize({
                                        id: n.id || "c" + this.count++,
                                        method: n.method,
                                        params: n.params
                                    }),
                                    n.content_type = "application/json",
                                    t.send(n)
                                }
                            },
                            i
                        }),
                        i("tinymce/util/JSONP", ["tinymce/dom/DOMUtils"],
                        function(e) {
                            return {
                                callbacks: {},
                                count: 0,
                                send: function(n) {
                                    var r = this,
                                    i = e.DOM,
                                    s = n.count !== t ? n.count: r.count,
                                    o = "tinymce_jsonp_" + s;
                                    r.callbacks[s] = function(e) {
                                        i.remove(o),
                                        delete r.callbacks[s],
                                        n.callback(e)
                                    },
                                    i.add(i.doc.body, "script", {
                                        id: o,
                                        src: n.url,
                                        type: "text/javascript"
                                    }),
                                    r.count++
                                }
                            }
                        }),
                        i("tinymce/util/LocalStorage", [],
                        function() {
                            function a() {
                                i = [];
                                for (var t in r) i.push(t);
                                e.length = i.length
                            }
                            function f() {
                                function l(e) {
                                    var n, r;
                                    return r = e !== t ? f + e: i.indexOf(",", f),
                                    r === -1 || r > i.length ? null: (n = i.substring(f, r), f = r + 1, n)
                                }
                                var e, i, u, f = 0;
                                r = {};
                                if (!o) return;
                                n.load(s),
                                i = n.getAttribute(s) || "";
                                do {
                                    var c = l();
                                    if (c === null) break;
                                    e = l(parseInt(c, 32) || 0);
                                    if (e !== null) {
                                        c = l();
                                        if (c === null) break;
                                        u = l(parseInt(c, 32) || 0),
                                        e && (r[e] = u)
                                    }
                                } while ( e !== null );
                                a()
                            }
                            function l() {
                                var e, t = "";
                                if (!o) return;
                                for (var i in r) e = r[i],
                                t += (t ? ",": "") + i.length.toString(32) + "," + i + "," + e.length.toString(32) + "," + e;
                                n.setAttribute(s, t);
                                try {
                                    n.save(s)
                                } catch(u$73) {}
                                a()
                            }
                            var e, n, r, i, s, o;
                            try {
                                if (window.localStorage) return localStorage
                            } catch(u$74) {}
                            return s = "tinymce",
                            n = document.documentElement,
                            o = !!n.addBehavior,
                            o && n.addBehavior("#default#userData"),
                            e = {
                                key: function(e) {
                                    return i[e]
                                },
                                getItem: function(e) {
                                    return e in r ? r[e] : null
                                },
                                setItem: function(e, t) {
                                    r[e] = "" + t,
                                    l()
                                },
                                removeItem: function(e) {
                                    delete r[e],
                                    l()
                                },
                                clear: function() {
                                    r = {},
                                    l()
                                }
                            },
                            f(),
                            e
                        }),
                        i("tinymce/Compat", ["tinymce/dom/DOMUtils", "tinymce/dom/EventUtils", "tinymce/dom/ScriptLoader", "tinymce/AddOnManager", "tinymce/util/Tools", "tinymce/Env"],
                        function(e, t, n, r, i, s) {
                            var o = window.tinymce;
                            return o.DOM = e.DOM,
                            o.ScriptLoader = n.ScriptLoader,
                            o.PluginManager = r.PluginManager,
                            o.ThemeManager = r.ThemeManager,
                            o.dom = o.dom || {},
                            o.dom.Event = t.Event,
                            i.each(i,
                            function(e, t) {
                                o[t] = e
                            }),
                            i.each("isOpera isWebKit isIE isGecko isMac".split(" "),
                            function(e) {
                                o[e] = s[e.substr(2).toLowerCase()]
                            }),
                            {}
                        }),
                        i("tinymce/ui/Layout", ["tinymce/util/Class", "tinymce/util/Tools"],
                        function(e, t) {
                            return e.extend({
                                Defaults: {
                                    firstControlClass: "first",
                                    lastControlClass: "last"
                                },
                                init: function(e) {
                                    this.settings = t.extend({},
                                    this.Defaults, e)
                                },
                                preRender: function(e) {
                                    e.addClass(this.settings.containerClass, "body")
                                },
                                applyClasses: function(e) {
                                    var t = this,
                                    n = t.settings,
                                    r, i, s;
                                    r = e.items().filter(":visible"),
                                    i = n.firstControlClass,
                                    s = n.lastControlClass,
                                    r.each(function(e) {
                                        e.removeClass(i).removeClass(s),
                                        n.controlClass && e.addClass(n.controlClass)
                                    }),
                                    r.eq(0).addClass(i),
                                    r.eq( - 1).addClass(s)
                                },
                                renderHtml: function(e) {
                                    var t = this,
                                    n = t.settings,
                                    r, i = "";
                                    return r = e.items(),
                                    r.eq(0).addClass(n.firstControlClass),
                                    r.eq( - 1).addClass(n.lastControlClass),
                                    r.each(function(e) {
                                        n.controlClass && e.addClass(n.controlClass),
                                        i += e.renderHtml()
                                    }),
                                    i
                                },
                                recalc: function() {},
                                postRender: function() {}
                            })
                        }),
                        i("tinymce/ui/AbsoluteLayout", ["tinymce/ui/Layout"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    containerClass: "abs-layout",
                                    controlClass: "abs-layout-item"
                                },
                                recalc: function(e) {
                                    e.items().filter(":visible").each(function(e) {
                                        var t = e.settings;
                                        e.layoutRect({
                                            x: t.x,
                                            y: t.y,
                                            w: t.w,
                                            h: t.h
                                        }),
                                        e.recalc && e.recalc()
                                    })
                                },
                                renderHtml: function(e) {
                                    return '\x3cdiv id\x3d"' + e._id + '-absend" class\x3d"' + e.classPrefix + 'abs-end"\x3e\x3c/div\x3e' + this._super(e)
                                }
                            })
                        }),
                        i("tinymce/ui/Tooltip", ["tinymce/ui/Control", "tinymce/ui/Movable"],
                        function(e, t) {
                            return e.extend({
                                Mixins: [t],
                                Defaults: {
                                    classes: "widget tooltip tooltip-n"
                                },
                                text: function(e) {
                                    var t = this;
                                    return typeof e != "undefined" ? (t._value = e, t._rendered && (t.getEl().lastChild.innerHTML = t.encode(e)), t) : t._value
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e.classPrefix;
                                    return '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '" role\x3d"presentation"\x3e' + '\x3cdiv class\x3d"' + t + 'tooltip-arrow"\x3e\x3c/div\x3e' + '\x3cdiv class\x3d"' + t + 'tooltip-inner"\x3e' + e.encode(e._text) + "\x3c/div\x3e" + "\x3c/div\x3e"
                                },
                                repaint: function() {
                                    var e = this,
                                    t, n;
                                    t = e.getEl().style,
                                    n = e._layoutRect,
                                    t.left = n.x + "px",
                                    t.top = n.y + "px",
                                    t.zIndex = 131070
                                }
                            })
                        }),
                        i("tinymce/ui/Widget", ["tinymce/ui/Control", "tinymce/ui/Tooltip"],
                        function(e, t) {
                            var n, r = e.extend({
                                init: function(e) {
                                    var t = this;
                                    t._super(e),
                                    e = t.settings,
                                    t.canFocus = !0,
                                    e.tooltip && r.tooltips !== !1 && (t.on("mouseenter",
                                    function(n) {
                                        var r = t.tooltip().moveTo( - 65535);
                                        if (n.control == t) {
                                            var i = r.text(e.tooltip).show().testMoveRel(t.getEl(), ["bc-tc", "bc-tl", "bc-tr"]);
                                            r.toggleClass("tooltip-n", i == "bc-tc"),
                                            r.toggleClass("tooltip-nw", i == "bc-tl"),
                                            r.toggleClass("tooltip-ne", i == "bc-tr"),
                                            r.moveRel(t.getEl(), i)
                                        } else r.hide()
                                    }), t.on("mouseleave mousedown click",
                                    function() {
                                        t.tooltip().hide()
                                    })),
                                    t.aria("label", e.ariaLabel || e.tooltip)
                                },
                                tooltip: function() {
                                    return n || (n = new t({
                                        type: "tooltip"
                                    }), n.renderTo()),
                                    n
                                },
                                active: function(e) {
                                    var t = this,
                                    n;
                                    return e !== n && (t.aria("pressed", e), t.toggleClass("active", e)),
                                    t._super(e)
                                },
                                disabled: function(e) {
                                    var t = this,
                                    n;
                                    return e !== n && (t.aria("disabled", e), t.toggleClass("disabled", e)),
                                    t._super(e)
                                },
                                postRender: function() {
                                    var e = this,
                                    t = e.settings;
                                    e._rendered = !0,
                                    e._super(),
                                    !e.parent() && (t.width || t.height) && (e.initLayoutRect(), e.repaint()),
                                    t.autofocus && e.focus()
                                },
                                remove: function() {
                                    this._super(),
                                    n && (n.remove(), n = null)
                                }
                            });
                            return r
                        }),
                        i("tinymce/ui/Button", ["tinymce/ui/Widget"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    classes: "widget btn",
                                    role: "button"
                                },
                                init: function(e) {
                                    var t = this,
                                    n;
                                    t.on("click mousedown",
                                    function(e) {
                                        e.preventDefault()
                                    }),
                                    t._super(e),
                                    n = e.size,
                                    e.subtype && t.addClass(e.subtype),
                                    n && t.addClass("btn-" + n)
                                },
                                icon: function(e) {
                                    var t = this,
                                    n = t.classPrefix;
                                    if (typeof e == "undefined") return t.settings.icon;
                                    t.settings.icon = e,
                                    e = e ? n + "ico " + n + "i-" + t.settings.icon: "";
                                    if (t._rendered) {
                                        var r = t.getEl().firstChild,
                                        i = r.getElementsByTagName("i")[0];
                                        if (e) {
                                            if (!i || i != r.firstChild) i = document.createElement("i"),
                                            r.insertBefore(i, r.firstChild);
                                            i.className = e
                                        } else i && r.removeChild(i);
                                        t.text(t._text)
                                    }
                                    return t
                                },
                                repaint: function() {
                                    var e = this.getEl().firstChild.style;
                                    e.width = e.height = "100%",
                                    this._super()
                                },
                                text: function(e) {
                                    var t = this;
                                    if (t._rendered) {
                                        var n = t.getEl().lastChild.lastChild;
                                        n && (n.data = t.translate(e))
                                    }
                                    return t._super(e)
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    n = e.classPrefix,
                                    r = e.settings.icon,
                                    i;
                                    return i = e.settings.image,
                                    i ? (r = "none", typeof i != "string" && (i = window.getSelection ? i[0] : i[1]), i = " style\x3d\"background-image: url('" + i + "')\"") : i = "",
                                    r = e.settings.icon ? n + "ico " + n + "i-" + r: "",
                                    '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '" tabindex\x3d"-1" aria-labelledby\x3d"' + t + '"\x3e' + '\x3cbutton role\x3d"presentation" type\x3d"button" tabindex\x3d"-1"\x3e' + (r ? '\x3ci class\x3d"' + r + '"' + i + "\x3e\x3c/i\x3e": "") + (e._text ? (r ? "\u00a0": "") + e.encode(e._text) : "") + "\x3c/button\x3e" + "\x3c/div\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/ButtonGroup", ["tinymce/ui/Container"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    defaultType: "button",
                                    role: "group"
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._layout;
                                    return e.addClass("btn-group"),
                                    e.preRender(),
                                    t.preRender(e),
                                    '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '"\x3e' + '\x3cdiv id\x3d"' + e._id + '-body"\x3e' + (e.settings.html || "") + t.renderHtml(e) + "\x3c/div\x3e" + "\x3c/div\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/Checkbox", ["tinymce/ui/Widget"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    classes: "checkbox",
                                    role: "checkbox",
                                    checked: !1
                                },
                                init: function(e) {
                                    var t = this;
                                    t._super(e),
                                    t.on("click mousedown",
                                    function(e) {
                                        e.preventDefault()
                                    }),
                                    t.on("click",
                                    function(e) {
                                        e.preventDefault(),
                                        t.disabled() || t.checked(!t.checked())
                                    }),
                                    t.checked(t.settings.checked)
                                },
                                checked: function(e) {
                                    var t = this;
                                    return typeof e != "undefined" ? (e ? t.addClass("checked") : t.removeClass("checked"), t._checked = e, t.aria("checked", e), t) : t._checked
                                },
                                value: function(e) {
                                    return this.checked(e)
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    n = e.classPrefix;
                                    return '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '" unselectable\x3d"on" aria-labelledby\x3d"' + t + '-al" tabindex\x3d"-1"\x3e' + '\x3ci class\x3d"' + n + "ico " + n + 'i-checkbox"\x3e\x3c/i\x3e' + '\x3cspan id\x3d"' + t + '-al" class\x3d"' + n + 'label"\x3e' + e.encode(e._text) + "\x3c/span\x3e" + "\x3c/div\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/ComboBox", ["tinymce/ui/Widget", "tinymce/ui/Factory", "tinymce/ui/DomUtils"],
                        function(e, t, n) {
                            return e.extend({
                                init: function(e) {
                                    var t = this;
                                    t._super(e),
                                    t.addClass("combobox"),
                                    t.subinput = !0,
                                    t.ariaTarget = "inp",
                                    e = t.settings,
                                    e.menu = e.menu || e.values,
                                    e.menu && (e.icon = "caret"),
                                    t.on("click",
                                    function(n) {
                                        var r = n.target,
                                        i = t.getEl();
                                        while (r && r != i) r.id && r.id.indexOf("-open") != -1 && (t.fire("action"), e.menu && (t.showMenu(), n.aria && t.menu.items()[0].focus())),
                                        r = r.parentNode
                                    }),
                                    t.on("keydown",
                                    function(e) {
                                        e.target.nodeName == "INPUT" && e.keyCode == 13 && t.parents().reverse().each(function(n) {
                                            e.preventDefault(),
                                            t.fire("change");
                                            if (n.hasEventListeners("submit") && n.toJSON) return n.fire("submit", {
                                                data: n.toJSON()
                                            }),
                                            !1
                                        })
                                    }),
                                    e.placeholder && (t.addClass("placeholder"), t.on("focusin",
                                    function() {
                                        t._hasOnChange || (n.on(t.getEl("inp"), "change",
                                        function() {
                                            t.fire("change")
                                        }), t._hasOnChange = !0),
                                        t.hasClass("placeholder") && (t.getEl("inp").value = "", t.removeClass("placeholder"))
                                    }), t.on("focusout",
                                    function() {
                                        t.value().length === 0 && (t.getEl("inp").value = e.placeholder, t.addClass("placeholder"))
                                    }))
                                },
                                showMenu: function() {
                                    var e = this,
                                    n = e.settings,
                                    r;
                                    e.menu || (r = n.menu || [], r.length ? r = {
                                        type: "menu",
                                        items: r
                                    }: r.type = r.type || "menu", e.menu = t.create(r).parent(e).renderTo(e.getContainerElm()), e.fire("createmenu"), e.menu.reflow(), e.menu.on("cancel",
                                    function(t) {
                                        t.control === e.menu && e.focus()
                                    }), e.menu.on("show hide",
                                    function(t) {
                                        t.control.items().each(function(t) {
                                            t.active(t.value() == e.value())
                                        })
                                    }).fire("show"), e.menu.on("select",
                                    function(t) {
                                        e.value(t.control.value())
                                    }), e.on("focusin",
                                    function(t) {
                                        t.target.tagName.toUpperCase() == "INPUT" && e.menu.hide()
                                    }), e.aria("expanded", !0)),
                                    e.menu.show(),
                                    e.menu.layoutRect({
                                        w: e.layoutRect().w
                                    }),
                                    e.menu.moveRel(e.getEl(), e.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"])
                                },
                                value: function(e) {
                                    var t = this;
                                    return typeof e != "undefined" ? (t._value = e, t.removeClass("placeholder"), t._rendered && (t.getEl("inp").value = e), t) : t._rendered ? (e = t.getEl("inp").value, e != t.settings.placeholder ? e: "") : t._value
                                },
                                disabled: function(e) {
                                    var t = this;
                                    return t._rendered && typeof e != "undefined" && (t.getEl("inp").disabled = e),
                                    t._super(e)
                                },
                                focus: function() {
                                    this.getEl("inp").focus()
                                },
                                repaint: function() {
                                    var e = this,
                                    t = e.getEl(),
                                    r = e.getEl("open"),
                                    i = e.layoutRect(),
                                    s,
                                    o;
                                    r ? s = i.w - n.getSize(r).width - 10 : s = i.w - 10;
                                    var u = document;
                                    return u.all && (!u.documentMode || u.documentMode <= 8) && (o = e.layoutRect().h - 2 + "px"),
                                    n.css(t.firstChild, {
                                        width: s,
                                        lineHeight: o
                                    }),
                                    e._super(),
                                    e
                                },
                                postRender: function() {
                                    var e = this;
                                    return n.on(this.getEl("inp"), "change",
                                    function() {
                                        e.fire("change")
                                    }),
                                    e._super()
                                },
                                remove: function() {
                                    n.off(this.getEl("inp")),
                                    this._super()
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    n = e.settings,
                                    r = e.classPrefix,
                                    i = n.value || n.placeholder || "",
                                    s, o, u = "",
                                    a = "";
                                    "spellcheck" in n && (a += ' spellcheck\x3d"' + n.spellcheck + '"'),
                                    n.maxLength && (a += ' maxlength\x3d"' + n.maxLength + '"'),
                                    n.size && (a += ' size\x3d"' + n.size + '"'),
                                    n.subtype && (a += ' type\x3d"' + n.subtype + '"'),
                                    e.disabled() && (a += ' disabled\x3d"disabled"'),
                                    s = n.icon,
                                    s && s != "caret" && (s = r + "ico " + r + "i-" + n.icon),
                                    o = e._text;
                                    if (s || o) u = '\x3cdiv id\x3d"' + t + '-open" class\x3d"' + r + "btn " + r + 'open" tabIndex\x3d"-1" role\x3d"button"\x3e' + '\x3cbutton id\x3d"' + t + '-action" type\x3d"button" hidefocus\x3d"1" tabindex\x3d"-1"\x3e' + (s != "caret" ? '\x3ci class\x3d"' + s + '"\x3e\x3c/i\x3e': '\x3ci class\x3d"' + r + 'caret"\x3e\x3c/i\x3e') + (o ? (s ? " ": "") + o: "") + "\x3c/button\x3e" + "\x3c/div\x3e",
                                    e.addClass("has-open");
                                    return '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '"\x3e' + '\x3cinput id\x3d"' + t + '-inp" class\x3d"' + r + "textbox " + r + 'placeholder" value\x3d"' + i + '" hidefocus\x3d"1"' + a + " /\x3e" + u + "\x3c/div\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/ColorBox", ["tinymce/ui/ComboBox"],
                        function(e) {
                            return e.extend({
                                init: function(e) {
                                    var t = this;
                                    e.spellcheck = !1,
                                    e.icon = "none",
                                    t._super(e),
                                    t.addClass("colorbox"),
                                    t.on("change keyup postrender",
                                    function() {
                                        t.repaintColor(t.value())
                                    })
                                },
                                repaintColor: function(e) {
                                    this.getEl().getElementsByTagName("i")[0].style.background = e
                                },
                                value: function(e) {
                                    var t = this;
                                    return typeof e != "undefined" && t._rendered && t.repaintColor(e),
                                    t._super(e)
                                }
                            })
                        }),
                        i("tinymce/ui/PanelButton", ["tinymce/ui/Button", "tinymce/ui/FloatPanel"],
                        function(e, t) {
                            return e.extend({
                                showPanel: function() {
                                    var e = this,
                                    n = e.settings;
                                    e.active(!0);
                                    if (!e.panel) {
                                        var r = n.panel;
                                        r.type && (r = {
                                            layout: "grid",
                                            items: r
                                        }),
                                        r.role = r.role || "dialog",
                                        r.popover = !0,
                                        r.autohide = !0,
                                        r.ariaRoot = !0,
                                        e.panel = (new t(r)).on("hide",
                                        function() {
                                            e.active(!1)
                                        }).on("cancel",
                                        function(t) {
                                            t.stopPropagation(),
                                            e.focus(),
                                            e.hidePanel()
                                        }).parent(e).renderTo(e.getContainerElm()),
                                        e.panel.fire("show"),
                                        e.panel.reflow()
                                    } else e.panel.show();
                                    e.panel.moveRel(e.getEl(), n.popoverAlign || (e.isRtl() ? ["bc-tr", "bc-tc"] : ["bc-tl", "bc-tc"]))
                                },
                                hidePanel: function() {
                                    var e = this;
                                    e.panel && e.panel.hide()
                                },
                                postRender: function() {
                                    var e = this;
                                    return e.aria("haspopup", !0),
                                    e.on("click",
                                    function(t) {
                                        t.control === e && (e.panel && e.panel.visible() ? e.hidePanel() : (e.showPanel(), e.panel.focus( !! t.aria)))
                                    }),
                                    e._super()
                                },
                                remove: function() {
                                    return this.panel && (this.panel.remove(), this.panel = null),
                                    this._super()
                                }
                            })
                        }),
                        i("tinymce/ui/ColorButton", ["tinymce/ui/PanelButton", "tinymce/dom/DOMUtils"],
                        function(e, t) {
                            var n = t.DOM;
                            return e.extend({
                                init: function(e) {
                                    this._super(e),
                                    this.addClass("colorbutton")
                                },
                                color: function(e) {
                                    return e ? (this._color = e, this.getEl("preview").style.backgroundColor = e, this) : this._color
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    n = e.classPrefix,
                                    r = e.settings.icon ? n + "ico " + n + "i-" + e.settings.icon: "",
                                    i = e.settings.image ? " style\x3d\"background-image: url('" + e.settings.image + "')\"": "";
                                    return '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '" role\x3d"button" tabindex\x3d"-1" aria-haspopup\x3d"true"\x3e' + '\x3cbutton role\x3d"presentation" hidefocus\x3d"1" type\x3d"button" tabindex\x3d"-1"\x3e' + (r ? '\x3ci class\x3d"' + r + '"' + i + "\x3e\x3c/i\x3e": "") + '\x3cspan id\x3d"' + t + '-preview" class\x3d"' + n + 'preview"\x3e\x3c/span\x3e' + (e._text ? (r ? " ": "") + e._text: "") + "\x3c/button\x3e" + '\x3cbutton type\x3d"button" class\x3d"' + n + 'open" hidefocus\x3d"1" tabindex\x3d"-1"\x3e' + ' \x3ci class\x3d"' + n + 'caret"\x3e\x3c/i\x3e' + "\x3c/button\x3e" + "\x3c/div\x3e"
                                },
                                postRender: function() {
                                    var e = this,
                                    t = e.settings.onclick;
                                    return e.on("click",
                                    function(r) {
                                        if (r.aria && r.aria.key == "down") return;
                                        r.control == e && !n.getParent(r.target, "." + e.classPrefix + "open") && (r.stopImmediatePropagation(), t.call(e, r))
                                    }),
                                    delete e.settings.onclick,
                                    e._super()
                                }
                            })
                        }),
                        i("tinymce/util/Color", [],
                        function() {
                            function r(r) {
                                function a(r, i, s) {
                                    var o, u, a, f, l, c;
                                    return o = 0,
                                    u = 0,
                                    a = 0,
                                    r /= 255,
                                    i /= 255,
                                    s /= 255,
                                    l = e(r, e(i, s)),
                                    c = t(r, t(i, s)),
                                    l == c ? (a = l, {
                                        h: 0,
                                        s: 0,
                                        v: a * 100
                                    }) : (f = r == l ? i - s: s == l ? r - i: s - r, o = r == l ? 3 : s == l ? 1 : 5, o = 60 * (o - f / (c - l)), u = (c - l) / c, a = c, {
                                        h: n(o),
                                        s: n(u * 100),
                                        v: n(a * 100)
                                    })
                                }
                                function f(r, i, a) {
                                    var f, l, c, h;
                                    r = (parseInt(r, 10) || 0) % 360,
                                    i = parseInt(i, 10) / 100,
                                    a = parseInt(a, 10) / 100,
                                    i = t(0, e(i, 1)),
                                    a = t(0, e(a, 1));
                                    if (i === 0) {
                                        s = o = u = n(255 * a);
                                        return
                                    }
                                    f = r / 60,
                                    l = a * i,
                                    c = l * (1 - Math.abs(f % 2 - 1)),
                                    h = a - l;
                                    switch (Math.floor(f)) {
                                    case 0:
                                        s = l,
                                        o = c,
                                        u = 0;
                                        break;
                                    case 1:
                                        s = c,
                                        o = l,
                                        u = 0;
                                        break;
                                    case 2:
                                        s = 0,
                                        o = l,
                                        u = c;
                                        break;
                                    case 3:
                                        s = 0,
                                        o = c,
                                        u = l;
                                        break;
                                    case 4:
                                        s = c,
                                        o = 0,
                                        u = l;
                                        break;
                                    case 5:
                                        s = l,
                                        o = 0,
                                        u = c;
                                        break;
                                    default:
                                        s = o = u = 0
                                    }
                                    s = n(255 * (s + h)),
                                    o = n(255 * (o + h)),
                                    u = n(255 * (u + h))
                                }
                                function l() {
                                    function e(e) {
                                        return e = parseInt(e, 10).toString(16),
                                        e.length > 1 ? e: "0" + e
                                    }
                                    return "#" + e(s) + e(o) + e(u)
                                }
                                function c() {
                                    return {
                                        r: s,
                                        g: o,
                                        b: u
                                    }
                                }
                                function h() {
                                    return a(s, o, u)
                                }
                                function p(e) {
                                    var t;
                                    if (typeof e == "object")"r" in e ? (s = e.r, o = e.g, u = e.b) : "v" in e && f(e.h, e.s, e.v);
                                    else if (t = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) s = parseInt(t[1], 10),
                                    o = parseInt(t[2], 10),
                                    u = parseInt(t[3], 10);
                                    else if (t = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) s = parseInt(t[1], 16),
                                    o = parseInt(t[2], 16),
                                    u = parseInt(t[3], 16);
                                    else if (t = /#([0-F])([0-F])([0-F])/gi.exec(e)) s = parseInt(t[1] + t[1], 16),
                                    o = parseInt(t[2] + t[2], 16),
                                    u = parseInt(t[3] + t[3], 16);
                                    return s = s < 0 ? 0 : s > 255 ? 255 : s,
                                    o = o < 0 ? 0 : o > 255 ? 255 : o,
                                    u = u < 0 ? 0 : u > 255 ? 255 : u,
                                    i
                                }
                                var i = this,
                                s = 0,
                                o = 0,
                                u = 0;
                                r && p(r),
                                i.toRgb = c,
                                i.toHsv = h,
                                i.toHex = l,
                                i.parse = p
                            }
                            var e = Math.min,
                            t = Math.max,
                            n = Math.round;
                            return r
                        }),
                        i("tinymce/ui/ColorPicker", ["tinymce/ui/Widget", "tinymce/ui/DragHelper", "tinymce/ui/DomUtils", "tinymce/util/Color"],
                        function(e, t, n, r) {
                            return e.extend({
                                Defaults: {
                                    classes: "widget colorpicker"
                                },
                                init: function(e) {
                                    this._super(e)
                                },
                                postRender: function() {
                                    function l(e, t) {
                                        var r = n.getPos(e),
                                        i,
                                        s;
                                        return i = t.pageX - r.x,
                                        s = t.pageY - r.y,
                                        i = Math.max(0, Math.min(i / e.clientWidth, 1)),
                                        s = Math.max(0, Math.min(s / e.clientHeight, 1)),
                                        {
                                            x: i,
                                            y: s
                                        }
                                    }
                                    function c(t, i) {
                                        var s = (360 - t.h) / 360;
                                        n.css(u, {
                                            top: s * 100 + "%"
                                        }),
                                        i || n.css(f, {
                                            left: t.s + "%",
                                            top: 100 - t.v + "%"
                                        }),
                                        a.style.background = (new r({
                                            s: 100,
                                            v: 100,
                                            h: t.h
                                        })).toHex(),
                                        e.color().parse({
                                            s: t.s,
                                            v: t.v,
                                            h: t.h
                                        })
                                    }
                                    function h(t) {
                                        var n;
                                        n = l(a, t),
                                        s.s = n.x * 100,
                                        s.v = (1 - n.y) * 100,
                                        c(s),
                                        e.fire("change")
                                    }
                                    function p(t) {
                                        var n;
                                        n = l(o, t),
                                        s = i.toHsv(),
                                        s.h = (1 - n.y) * 360,
                                        c(s, !0),
                                        e.fire("change")
                                    }
                                    var e = this,
                                    i = e.color(),
                                    s,
                                    o,
                                    u,
                                    a,
                                    f;
                                    o = e.getEl("h"),
                                    u = e.getEl("hp"),
                                    a = e.getEl("sv"),
                                    f = e.getEl("svp"),
                                    e._repaint = function() {
                                        s = i.toHsv(),
                                        c(s)
                                    },
                                    e._super(),
                                    e._svdraghelper = new t(e._id + "-sv", {
                                        start: h,
                                        drag: h
                                    }),
                                    e._hdraghelper = new t(e._id + "-h", {
                                        start: p,
                                        drag: p
                                    }),
                                    e._repaint()
                                },
                                rgb: function() {
                                    return this.color().toRgb()
                                },
                                value: function(e) {
                                    var t = this;
                                    if (!arguments.length) return t.color().toHex();
                                    t.color().parse(e),
                                    t._rendered && t._repaint()
                                },
                                color: function() {
                                    return this._color || (this._color = new r),
                                    this._color
                                },
                                renderHtml: function() {
                                    function s() {
                                        var e, t, r = "",
                                        s, o;
                                        s = "filter:progid:DXImageTransform.Microsoft.gradient(GradientType\x3d0,startColorstr\x3d",
                                        o = i.split(",");
                                        for (e = 0, t = o.length - 1; e < t; e++) r += '\x3cdiv class\x3d"' + n + 'colorpicker-h-chunk" style\x3d"' + "height:" + 100 / t + "%;" + s + o[e] + ",endColorstr\x3d" + o[e + 1] + ");" + "-ms-" + s + o[e] + ",endColorstr\x3d" + o[e + 1] + ")" + '"\x3e\x3c/div\x3e';
                                        return r
                                    }
                                    var e = this,
                                    t = e._id,
                                    n = e.classPrefix,
                                    r, i = "#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",
                                    o = "background: -ms-linear-gradient(top," + i + ");" + "background: linear-gradient(to bottom," + i + ");";
                                    return r = '\x3cdiv id\x3d"' + t + '-h" class\x3d"' + n + 'colorpicker-h" style\x3d"' + o + '"\x3e' + s() + '\x3cdiv id\x3d"' + t + '-hp" class\x3d"' + n + 'colorpicker-h-marker"\x3e\x3c/div\x3e' + "\x3c/div\x3e",
                                    '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '"\x3e' + '\x3cdiv id\x3d"' + t + '-sv" class\x3d"' + n + 'colorpicker-sv"\x3e' + '\x3cdiv class\x3d"' + n + 'colorpicker-overlay1"\x3e' + '\x3cdiv class\x3d"' + n + 'colorpicker-overlay2"\x3e' + '\x3cdiv id\x3d"' + t + '-svp" class\x3d"' + n + 'colorpicker-selector1"\x3e' + '\x3cdiv class\x3d"' + n + 'colorpicker-selector2"\x3e\x3c/div\x3e' + "\x3c/div\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + r + "\x3c/div\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/Path", ["tinymce/ui/Widget"],
                        function(e) {
                            return e.extend({
                                init: function(e) {
                                    var t = this;
                                    e.delimiter || (e.delimiter = "\u00bb"),
                                    t._super(e),
                                    t.addClass("path"),
                                    t.canFocus = !0,
                                    t.on("click",
                                    function(e) {
                                        var n, r = e.target; (n = r.getAttribute("data-index")) && t.fire("select", {
                                            value: t.data()[n],
                                            index: n
                                        })
                                    })
                                },
                                focus: function() {
                                    var e = this;
                                    return e.getEl().firstChild.focus(),
                                    e
                                },
                                data: function(e) {
                                    var t = this;
                                    return typeof e != "undefined" ? (t._data = e, t.update(), t) : t._data
                                },
                                update: function() {
                                    this.innerHtml(this._getPathHtml())
                                },
                                postRender: function() {
                                    var e = this;
                                    e._super(),
                                    e.data(e.settings.data)
                                },
                                renderHtml: function() {
                                    var e = this;
                                    return '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '"\x3e' + e._getPathHtml() + "\x3c/div\x3e"
                                },
                                _getPathHtml: function() {
                                    var e = this,
                                    t = e._data || [],
                                    n,
                                    r,
                                    i = "",
                                    s = e.classPrefix;
                                    for (n = 0, r = t.length; n < r; n++) i += (n > 0 ? '\x3cdiv class\x3d"' + s + 'divider" aria-hidden\x3d"true"\x3e ' + e.settings.delimiter + " \x3c/div\x3e": "") + '\x3cdiv role\x3d"button" class\x3d"' + s + "path-item" + (n == r - 1 ? " " + s + "last": "") + '" data-index\x3d"' + n + '" tabindex\x3d"-1" id\x3d"' + e._id + "-" + n + '" aria-level\x3d"' + n + '"\x3e' + t[n].name + "\x3c/div\x3e";
                                    return i || (i = '\x3cdiv class\x3d"' + s + 'path-item"\x3e\u00a0\x3c/div\x3e'),
                                    i
                                }
                            })
                        }),
                        i("tinymce/ui/ElementPath", ["tinymce/ui/Path", "tinymce/EditorManager"],
                        function(e, t) {
                            return e.extend({
                                postRender: function() {
                                    function r(e) {
                                        if (e.nodeType === 1) {
                                            if (e.nodeName == "BR" || !!e.getAttribute("data-mce-bogus")) return ! 0;
                                            if (e.getAttribute("data-mce-type") === "bookmark") return ! 0
                                        }
                                        return ! 1
                                    }
                                    var e = this,
                                    n = t.activeEditor;
                                    return e.on("select",
                                    function(e) {
                                        n.focus(),
                                        n.selection.select(this.data()[e.index].element),
                                        n.nodeChanged()
                                    }),
                                    n.on("nodeChange",
                                    function(t) {
                                        var i = [],
                                        s = t.parents,
                                        o = s.length;
                                        while (o--) if (s[o].nodeType == 1 && !r(s[o])) {
                                            var u = n.fire("ResolveName", {
                                                name: s[o].nodeName.toLowerCase(),
                                                target: s[o]
                                            });
                                            u.isDefaultPrevented() || i.push({
                                                name: u.name,
                                                element: s[o]
                                            });
                                            if (u.isPropagationStopped()) break
                                        }
                                        e.data(i)
                                    }),
                                    e._super()
                                }
                            })
                        }),
                        i("tinymce/ui/FormItem", ["tinymce/ui/Container"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    layout: "flex",
                                    align: "center",
                                    defaults: {
                                        flex: 1
                                    }
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._layout,
                                    n = e.classPrefix;
                                    return e.addClass("formitem"),
                                    t.preRender(e),
                                    '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '" hidefocus\x3d"1" tabindex\x3d"-1"\x3e' + (e.settings.title ? '\x3cdiv id\x3d"' + e._id + '-title" class\x3d"' + n + 'title"\x3e' + e.settings.title + "\x3c/div\x3e": "") + '\x3cdiv id\x3d"' + e._id + '-body" class\x3d"' + e.classes("body") + '"\x3e' + (e.settings.html || "") + t.renderHtml(e) + "\x3c/div\x3e" + "\x3c/div\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/Form", ["tinymce/ui/Container", "tinymce/ui/FormItem", "tinymce/util/Tools"],
                        function(e, t, n) {
                            return e.extend({
                                Defaults: {
                                    containerCls: "form",
                                    layout: "flex",
                                    direction: "column",
                                    align: "stretch",
                                    flex: 1,
                                    padding: 20,
                                    labelGap: 30,
                                    spacing: 10,
                                    callbacks: {
                                        submit: function() {
                                            this.submit()
                                        }
                                    }
                                },
                                preRender: function() {
                                    var e = this,
                                    r = e.items();
                                    e.settings.formItemDefaults || (e.settings.formItemDefaults = {
                                        layout: "flex",
                                        autoResize: "overflow",
                                        defaults: {
                                            flex: 1
                                        }
                                    }),
                                    r.each(function(r) {
                                        var i, s = r.settings.label;
                                        s && (i = new t(n.extend({
                                            items: {
                                                type: "label",
                                                id: r._id + "-l",
                                                text: s,
                                                flex: 0,
                                                forId: r._id,
                                                disabled: r.disabled()
                                            }
                                        },
                                        e.settings.formItemDefaults)), i.type = "formitem", r.aria("labelledby", r._id + "-l"), typeof r.settings.flex == "undefined" && (r.settings.flex = 1), e.replace(r, i), i.add(r))
                                    })
                                },
                                recalcLabels: function() {
                                    var e = this,
                                    t = 0,
                                    n = [],
                                    r,
                                    i,
                                    s;
                                    if (e.settings.labelGapCalc === !1) return;
                                    e.settings.labelGapCalc == "children" ? s = e.find("formitem") : s = e.items(),
                                    s.filter("formitem").each(function(e) {
                                        var r = e.items()[0],
                                        i = r.getEl().clientWidth;
                                        t = i > t ? i: t,
                                        n.push(r)
                                    }),
                                    i = e.settings.labelGap || 0,
                                    r = n.length;
                                    while (r--) n[r].settings.minWidth = t + i
                                },
                                visible: function(e) {
                                    var t = this._super(e);
                                    return e === !0 && this._rendered && this.recalcLabels(),
                                    t
                                },
                                submit: function() {
                                    return this.fire("submit", {
                                        data: this.toJSON()
                                    })
                                },
                                postRender: function() {
                                    var e = this;
                                    e._super(),
                                    e.recalcLabels(),
                                    e.fromJSON(e.settings.data)
                                }
                            })
                        }),
                        i("tinymce/ui/FieldSet", ["tinymce/ui/Form"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    containerCls: "fieldset",
                                    layout: "flex",
                                    direction: "column",
                                    align: "stretch",
                                    flex: 1,
                                    padding: "25 15 5 15",
                                    labelGap: 30,
                                    spacing: 10,
                                    border: 1
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._layout,
                                    n = e.classPrefix;
                                    return e.preRender(),
                                    t.preRender(e),
                                    '\x3cfieldset id\x3d"' + e._id + '" class\x3d"' + e.classes() + '" hidefocus\x3d"1" tabindex\x3d"-1"\x3e' + (e.settings.title ? '\x3clegend id\x3d"' + e._id + '-title" class\x3d"' + n + 'fieldset-title"\x3e' + e.settings.title + "\x3c/legend\x3e": "") + '\x3cdiv id\x3d"' + e._id + '-body" class\x3d"' + e.classes("body") + '"\x3e' + (e.settings.html || "") + t.renderHtml(e) + "\x3c/div\x3e" + "\x3c/fieldset\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/FilePicker", ["tinymce/ui/ComboBox", "tinymce/util/Tools"],
                        function(e, t) {
                            return e.extend({
                                init: function(e) {
                                    var n = this,
                                    r = tinymce.activeEditor,
                                    i = r.settings,
                                    s, o, u;
                                    e.spellcheck = !1,
                                    u = i.file_picker_types || i.file_browser_callback_types,
                                    u && (u = t.makeMap(u, /[, ]/));
                                    if (!u || u[e.filetype]) o = i.file_picker_callback,
                                    o && (!u || u[e.filetype]) ? s = function() {
                                        var i = n.fire("beforecall").meta;
                                        i = t.extend({
                                            filetype: e.filetype
                                        },
                                        i),
                                        o.call(r,
                                        function(e, t) {
                                            n.value(e).fire("change", {
                                                meta: t
                                            })
                                        },
                                        n.value(), i)
                                    }: (o = i.file_browser_callback, o && (!u || u[e.filetype]) && (s = function() {
                                        o(n.getEl("inp").id, n.value(), e.filetype, window)
                                    }));
                                    s && (e.icon = "browse", e.onaction = s),
                                    n._super(e)
                                }
                            })
                        }),
                        i("tinymce/ui/FitLayout", ["tinymce/ui/AbsoluteLayout"],
                        function(e) {
                            return e.extend({
                                recalc: function(e) {
                                    var t = e.layoutRect(),
                                    n = e.paddingBox();
                                    e.items().filter(":visible").each(function(e) {
                                        e.layoutRect({
                                            x: n.left,
                                            y: n.top,
                                            w: t.innerW - n.right - n.left,
                                            h: t.innerH - n.top - n.bottom
                                        }),
                                        e.recalc && e.recalc()
                                    })
                                }
                            })
                        }),
                        i("tinymce/ui/FlexLayout", ["tinymce/ui/AbsoluteLayout"],
                        function(e) {
                            return e.extend({
                                recalc: function(e) {
                                    var t, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g = [],
                                    y,
                                    b,
                                    w,
                                    E,
                                    S,
                                    x,
                                    T,
                                    N,
                                    C,
                                    k,
                                    L,
                                    A,
                                    O,
                                    M,
                                    _,
                                    D,
                                    P,
                                    H,
                                    B,
                                    j,
                                    F,
                                    I,
                                    q = Math.max,
                                    R = Math.min;
                                    r = e.items().filter(":visible"),
                                    i = e.layoutRect(),
                                    s = e._paddingBox,
                                    o = e.settings,
                                    h = e.isRtl() ? o.direction || "row-reversed": o.direction,
                                    u = o.align,
                                    a = e.isRtl() ? o.pack || "end": o.pack,
                                    f = o.spacing || 0;
                                    if (h == "row-reversed" || h == "column-reverse") r = r.set(r.toArray().reverse()),
                                    h = h.split("-")[0];
                                    h == "column" ? (C = "y", T = "h", N = "minH", k = "maxH", A = "innerH", L = "top", O = "deltaH", M = "contentH", B = "left", P = "w", _ = "x", D = "innerW", H = "minW", j = "right", F = "deltaW", I = "contentW") : (C = "x", T = "w", N = "minW", k = "maxW", A = "innerW", L = "left", O = "deltaW", M = "contentW", B = "top", P = "h", _ = "y", D = "innerH", H = "minH", j = "bottom", F = "deltaH", I = "contentH"),
                                    c = i[A] - s[L] - s[L],
                                    x = l = 0;
                                    for (t = 0, n = r.length; t < n; t++) p = r[t],
                                    d = p.layoutRect(),
                                    v = p.settings,
                                    m = v.flex,
                                    c -= t < n - 1 ? f: 0,
                                    m > 0 && (l += m, d[k] && g.push(p), d.flex = m),
                                    c -= d[N],
                                    y = s[B] + d[H] + s[j],
                                    y > x && (x = y);
                                    E = {},
                                    c < 0 ? E[N] = i[N] - c + i[O] : E[N] = i[A] - c + i[O],
                                    E[H] = x + i[F],
                                    E[M] = i[A] - c,
                                    E[I] = x,
                                    E.minW = R(E.minW, i.maxW),
                                    E.minH = R(E.minH, i.maxH),
                                    E.minW = q(E.minW, i.startMinWidth),
                                    E.minH = q(E.minH, i.startMinHeight);
                                    if (! (!i.autoResize || E.minW == i.minW && E.minH == i.minH)) {
                                        E.w = E.minW,
                                        E.h = E.minH,
                                        e.layoutRect(E),
                                        this.recalc(e);
                                        if (e._lastRect === null) {
                                            var U = e.parent();
                                            U && (U._lastRect = null, U.recalc())
                                        }
                                        return
                                    }
                                    w = c / l;
                                    for (t = 0, n = g.length; t < n; t++) p = g[t],
                                    d = p.layoutRect(),
                                    b = d[k],
                                    y = d[N] + d.flex * w,
                                    y > b ? (c -= d[k] - d[N], l -= d.flex, d.flex = 0, d.maxFlexSize = b) : d.maxFlexSize = 0;
                                    w = c / l,
                                    S = s[L],
                                    E = {},
                                    l === 0 && (a == "end" ? S = c + s[L] : a == "center" ? (S = Math.round(i[A] / 2 - (i[A] - c) / 2) + s[L], S < 0 && (S = s[L])) : a == "justify" && (S = s[L], f = Math.floor(c / (r.length - 1)))),
                                    E[_] = s[B];
                                    for (t = 0, n = r.length; t < n; t++) p = r[t],
                                    d = p.layoutRect(),
                                    y = d.maxFlexSize || d[N],
                                    u === "center" ? E[_] = Math.round(i[D] / 2 - d[P] / 2) : u === "stretch" ? (E[P] = q(d[H] || 0, i[D] - s[B] - s[j]), E[_] = s[B]) : u === "end" && (E[_] = i[D] - d[P] - s.top),
                                    d.flex > 0 && (y += d.flex * w),
                                    E[T] = y,
                                    E[C] = S,
                                    p.layoutRect(E),
                                    p.recalc && p.recalc(),
                                    S += y + f
                                }
                            })
                        }),
                        i("tinymce/ui/FlowLayout", ["tinymce/ui/Layout"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    containerClass: "flow-layout",
                                    controlClass: "flow-layout-item",
                                    endClass: "break"
                                },
                                recalc: function(e) {
                                    e.items().filter(":visible").each(function(e) {
                                        e.recalc && e.recalc()
                                    })
                                }
                            })
                        }),
                        i("tinymce/ui/FormatControls", ["tinymce/ui/Control", "tinymce/ui/Widget", "tinymce/ui/FloatPanel", "tinymce/util/Tools", "tinymce/EditorManager", "tinymce/Env"],
                        function(e, t, n, r, i, s) {
                            function u(e) {
                                function r(t, n) {
                                    return function() {
                                        var r = this;
                                        e.on("nodeChange",
                                        function(i) {
                                            var s = e.formatter,
                                            u = null;
                                            o(i.parents,
                                            function(e) {
                                                o(t,
                                                function(t) {
                                                    n ? s.matchNode(e, n, {
                                                        value: t.value
                                                    }) && (u = t.value) : s.matchNode(e, t.value) && (u = t.value);
                                                    if (u) return ! 1
                                                });
                                                if (u) return ! 1
                                            }),
                                            r.value(u)
                                        })
                                    }
                                }
                                function i(e) {
                                    e = e.replace(/;$/, "").split(";");
                                    var t = e.length;
                                    while (t--) e[t] = e[t].split("\x3d");
                                    return e
                                }
                                function s() {
                                    function i(e) {
                                        var r = [];
                                        if (!e) return;
                                        return o(e,
                                        function(e) {
                                            var s = {
                                                text: e.title,
                                                icon: e.icon
                                            };
                                            if (e.items) s.menu = i(e.items);
                                            else {
                                                var o = e.format || "custom" + t++;
                                                e.format || (e.name = o, n.push(e)),
                                                s.format = o,
                                                s.cmd = e.cmd
                                            }
                                            r.push(s)
                                        }),
                                        r
                                    }
                                    function s() {
                                        var t;
                                        return e.settings.style_formats_merge ? e.settings.style_formats ? t = i(r.concat(e.settings.style_formats)) : t = i(r) : t = i(e.settings.style_formats || r),
                                        t
                                    }
                                    var t = 0,
                                    n = [],
                                    r = [{
                                        title: "Headings",
                                        items: [{
                                            title: "Heading 1",
                                            format: "h1"
                                        },
                                        {
                                            title: "Heading 2",
                                            format: "h2"
                                        },
                                        {
                                            title: "Heading 3",
                                            format: "h3"
                                        },
                                        {
                                            title: "Heading 4",
                                            format: "h4"
                                        },
                                        {
                                            title: "Heading 5",
                                            format: "h5"
                                        },
                                        {
                                            title: "Heading 6",
                                            format: "h6"
                                        }]
                                    },
                                    {
                                        title: "Inline",
                                        items: [{
                                            title: "Bold",
                                            icon: "bold",
                                            format: "bold"
                                        },
                                        {
                                            title: "Italic",
                                            icon: "italic",
                                            format: "italic"
                                        },
                                        {
                                            title: "Underline",
                                            icon: "underline",
                                            format: "underline"
                                        },
                                        {
                                            title: "Strikethrough",
                                            icon: "strikethrough",
                                            format: "strikethrough"
                                        },
                                        {
                                            title: "Superscript",
                                            icon: "superscript",
                                            format: "superscript"
                                        },
                                        {
                                            title: "Subscript",
                                            icon: "subscript",
                                            format: "subscript"
                                        },
                                        {
                                            title: "Code",
                                            icon: "code",
                                            format: "code"
                                        }]
                                    },
                                    {
                                        title: "Blocks",
                                        items: [{
                                            title: "Paragraph",
                                            format: "p"
                                        },
                                        {
                                            title: "Blockquote",
                                            format: "blockquote"
                                        },
                                        {
                                            title: "Div",
                                            format: "div"
                                        },
                                        {
                                            title: "Pre",
                                            format: "pre"
                                        }]
                                    },
                                    {
                                        title: "Alignment",
                                        items: [{
                                            title: "Left",
                                            icon: "alignleft",
                                            format: "alignleft"
                                        },
                                        {
                                            title: "Center",
                                            icon: "aligncenter",
                                            format: "aligncenter"
                                        },
                                        {
                                            title: "Right",
                                            icon: "alignright",
                                            format: "alignright"
                                        },
                                        {
                                            title: "Justify",
                                            icon: "alignjustify",
                                            format: "alignjustify"
                                        }]
                                    }];
                                    return e.on("init",
                                    function() {
                                        o(n,
                                        function(t) {
                                            e.formatter.register(t.name, t)
                                        })
                                    }),
                                    {
                                        type: "menu",
                                        items: s(),
                                        onPostRender: function(t) {
                                            e.fire("renderFormatsMenu", {
                                                control: t.control
                                            })
                                        },
                                        itemDefaults: {
                                            preview: !0,
                                            textStyle: function() {
                                                if (this.settings.format) return e.formatter.getCssText(this.settings.format)
                                            },
                                            onPostRender: function() {
                                                var t = this;
                                                t.parent().on("show",
                                                function() {
                                                    var n, r;
                                                    n = t.settings.format,
                                                    n && (t.disabled(!e.formatter.canApply(n)), t.active(e.formatter.match(n))),
                                                    r = t.settings.cmd,
                                                    r && t.active(e.queryCommandState(r))
                                                })
                                            },
                                            onclick: function() {
                                                this.settings.format && f(this.settings.format),
                                                this.settings.cmd && e.execCommand(this.settings.cmd)
                                            }
                                        }
                                    }
                                }
                                function u(t) {
                                    return function() {
                                        function r() {
                                            return e.undoManager ? e.undoManager[t]() : !1
                                        }
                                        var n = this;
                                        t = t == "redo" ? "hasRedo": "hasUndo",
                                        n.disabled(!r()),
                                        e.on("Undo Redo AddUndo TypingUndo ClearUndos",
                                        function() {
                                            n.disabled(!r())
                                        })
                                    }
                                }
                                function a() {
                                    var t = this;
                                    e.on("VisualAid",
                                    function(e) {
                                        t.active(e.hasVisual)
                                    }),
                                    t.active(e.hasVisual)
                                }
                                function f(t) {
                                    t.control && (t = t.control.value()),
                                    t && e.execCommand("mceToggleFormat", !1, t)
                                }
                                var t;
                                t = s(),
                                o({
                                    bold: "Bold",
                                    italic: "Italic",
                                    underline: "Underline",
                                    strikethrough: "Strikethrough",
                                    subscript: "Subscript",
                                    superscript: "Superscript"
                                },
                                function(t, n) {
                                    e.addButton(n, {
                                        tooltip: t,
                                        onPostRender: function() {
                                            var t = this;
                                            e.formatter ? e.formatter.formatChanged(n,
                                            function(e) {
                                                t.active(e)
                                            }) : e.on("init",
                                            function() {
                                                e.formatter.formatChanged(n,
                                                function(e) {
                                                    t.active(e)
                                                })
                                            })
                                        },
                                        onclick: function() {
                                            f(n)
                                        }
                                    })
                                }),
                                o({
                                    outdent: ["Decrease indent", "Outdent"],
                                    indent: ["Increase indent", "Indent"],
                                    cut: ["Cut", "Cut"],
                                    copy: ["Copy", "Copy"],
                                    paste: ["Paste", "Paste"],
                                    help: ["Help", "mceHelp"],
                                    selectall: ["Select all", "SelectAll"],
                                    removeformat: ["Clear formatting", "RemoveFormat"],
                                    visualaid: ["Visual aids", "mceToggleVisualAid"],
                                    newdocument: ["New document", "mceNewDocument"]
                                },
                                function(t, n) {
                                    e.addButton(n, {
                                        tooltip: t[0],
                                        cmd: t[1]
                                    })
                                }),
                                o({
                                    blockquote: ["Blockquote", "mceBlockQuote"],
                                    numlist: ["Numbered list", "InsertOrderedList"],
                                    bullist: ["Bullet list", "InsertUnorderedList"],
                                    subscript: ["Subscript", "Subscript"],
                                    superscript: ["Superscript", "Superscript"],
                                    alignleft: ["Align left", "JustifyLeft"],
                                    aligncenter: ["Align center", "JustifyCenter"],
                                    alignright: ["Align right", "JustifyRight"],
                                    alignjustify: ["Justify", "JustifyFull"]
                                },
                                function(t, n) {
                                    e.addButton(n, {
                                        tooltip: t[0],
                                        cmd: t[1],
                                        onPostRender: function() {
                                            var t = this;
                                            e.formatter ? e.formatter.formatChanged(n,
                                            function(e) {
                                                t.active(e)
                                            }) : e.on("init",
                                            function() {
                                                e.formatter.formatChanged(n,
                                                function(e) {
                                                    t.active(e)
                                                })
                                            })
                                        }
                                    })
                                }),
                                e.addButton("undo", {
                                    tooltip: "Undo",
                                    onPostRender: u("undo"),
                                    cmd: "undo"
                                }),
                                e.addButton("redo", {
                                    tooltip: "Redo",
                                    onPostRender: u("redo"),
                                    cmd: "redo"
                                }),
                                e.addMenuItem("newdocument", {
                                    text: "New document",
                                    shortcut: "Ctrl+N",
                                    icon: "newdocument",
                                    cmd: "mceNewDocument"
                                }),
                                e.addMenuItem("undo", {
                                    text: "Undo",
                                    icon: "undo",
                                    shortcut: "Ctrl+Z",
                                    onPostRender: u("undo"),
                                    cmd: "undo"
                                }),
                                e.addMenuItem("redo", {
                                    text: "Redo",
                                    icon: "redo",
                                    shortcut: "Ctrl+Y",
                                    onPostRender: u("redo"),
                                    cmd: "redo"
                                }),
                                e.addMenuItem("visualaid", {
                                    text: "Visual aids",
                                    selectable: !0,
                                    onPostRender: a,
                                    cmd: "mceToggleVisualAid"
                                }),
                                o({
                                    cut: ["Cut", "Cut", "Ctrl+X"],
                                    copy: ["Copy", "Copy", "Ctrl+C"],
                                    paste: ["Paste", "Paste", "Ctrl+V"],
                                    selectall: ["Select all", "SelectAll", "Ctrl+A"],
                                    bold: ["Bold", "Bold", "Ctrl+B"],
                                    italic: ["Italic", "Italic", "Ctrl+I"],
                                    underline: ["Underline", "Underline"],
                                    strikethrough: ["Strikethrough", "Strikethrough"],
                                    subscript: ["Subscript", "Subscript"],
                                    superscript: ["Superscript", "Superscript"],
                                    removeformat: ["Clear formatting", "RemoveFormat"]
                                },
                                function(t, n) {
                                    e.addMenuItem(n, {
                                        text: t[0],
                                        icon: n,
                                        shortcut: t[2],
                                        cmd: t[1]
                                    })
                                }),
                                e.on("mousedown",
                                function() {
                                    n.hideAll()
                                }),
                                e.addButton("styleselect", {
                                    type: "menubutton",
                                    text: "Formats",
                                    menu: t
                                }),
                                e.addButton("formatselect",
                                function() {
                                    var t = [],
                                    n = i(e.settings.block_formats || "Paragraph\x3dp;Address\x3daddress;Pre\x3dpre;Heading 1\x3dh1;Heading 2\x3dh2;Heading 3\x3dh3;Heading 4\x3dh4;Heading 5\x3dh5;Heading 6\x3dh6");
                                    return o(n,
                                    function(n) {
                                        t.push({
                                            text: n[0],
                                            value: n[1],
                                            textStyle: function() {
                                                return e.formatter.getCssText(n[1])
                                            }
                                        })
                                    }),
                                    {
                                        type: "listbox",
                                        text: n[0][0],
                                        values: t,
                                        fixedWidth: !0,
                                        onselect: f,
                                        onPostRender: r(t)
                                    }
                                }),
                                e.addButton("fontselect",
                                function() {
                                    var t = "Andale Mono\x3dandale mono,times;Arial\x3darial,helvetica,sans-serif;Arial Black\x3darial black,avant garde;Book Antiqua\x3dbook antiqua,palatino;Comic Sans MS\x3dcomic sans ms,sans-serif;Courier New\x3dcourier new,courier;Georgia\x3dgeorgia,palatino;Helvetica\x3dhelvetica;Impact\x3dimpact,chicago;Symbol\x3dsymbol;Tahoma\x3dtahoma,arial,helvetica,sans-serif;Terminal\x3dterminal,monaco;Times New Roman\x3dtimes new roman,times;Trebuchet MS\x3dtrebuchet ms,geneva;Verdana\x3dverdana,geneva;Webdings\x3dwebdings;Wingdings\x3dwingdings,zapf dingbats",
                                    n = [],
                                    s = i(e.settings.font_formats || t);
                                    return o(s,
                                    function(e) {
                                        n.push({
                                            text: {
                                                raw: e[0]
                                            },
                                            value: e[1],
                                            textStyle: e[1].indexOf("dings") == -1 ? "font-family:" + e[1] : ""
                                        })
                                    }),
                                    {
                                        type: "listbox",
                                        text: "Font Family",
                                        tooltip: "Font Family",
                                        values: n,
                                        fixedWidth: !0,
                                        onPostRender: r(n, "fontname"),
                                        onselect: function(t) {
                                            t.control.settings.value && e.execCommand("FontName", !1, t.control.settings.value)
                                        }
                                    }
                                }),
                                e.addButton("fontsizeselect",
                                function() {
                                    var t = [],
                                    n = "8pt 10pt 12pt 14pt 18pt 24pt 36pt",
                                    i = e.settings.fontsize_formats || n;
                                    return o(i.split(" "),
                                    function(e) {
                                        var n = e,
                                        r = e,
                                        i = e.split("\x3d");
                                        i.length > 1 && (n = i[0], r = i[1]),
                                        t.push({
                                            text: n,
                                            value: r
                                        })
                                    }),
                                    {
                                        type: "listbox",
                                        text: "Font Sizes",
                                        tooltip: "Font Sizes",
                                        values: t,
                                        fixedWidth: !0,
                                        onPostRender: r(t, "fontsize"),
                                        onclick: function(t) {
                                            t.control.settings.value && e.execCommand("FontSize", !1, t.control.settings.value)
                                        }
                                    }
                                }),
                                e.addMenuItem("formats", {
                                    text: "Formats",
                                    menu: t
                                })
                            }
                            var o = r.each;
                            i.on("AddEditor",
                            function(t) {
                                t.editor.rtl && (e.rtl = !0),
                                u(t.editor)
                            }),
                            e.translate = function(e) {
                                return i.translate(e)
                            },
                            t.tooltips = !s.iOS
                        }),
                        i("tinymce/ui/GridLayout", ["tinymce/ui/AbsoluteLayout"],
                        function(e) {
                            return e.extend({
                                recalc: function(e) {
                                    var t = e.settings,
                                    n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T = [],
                                    N = [],
                                    C,
                                    k,
                                    L,
                                    A,
                                    O,
                                    M;
                                    t = e.settings,
                                    i = e.items().filter(":visible"),
                                    s = e.layoutRect(),
                                    r = t.columns || Math.ceil(Math.sqrt(i.length)),
                                    n = Math.ceil(i.length / r),
                                    y = t.spacingH || t.spacing || 0,
                                    b = t.spacingV || t.spacing || 0,
                                    w = t.alignH || t.align,
                                    E = t.alignV || t.align,
                                    m = e._paddingBox,
                                    O = "reverseRows" in t ? t.reverseRows: e.isRtl(),
                                    w && typeof w == "string" && (w = [w]),
                                    E && typeof E == "string" && (E = [E]);
                                    for (c = 0; c < r; c++) T.push(0);
                                    for (h = 0; h < n; h++) N.push(0);
                                    for (h = 0; h < n; h++) for (c = 0; c < r; c++) {
                                        l = i[h * r + c];
                                        if (!l) break;
                                        f = l.layoutRect(),
                                        C = f.minW,
                                        k = f.minH,
                                        T[c] = C > T[c] ? C: T[c],
                                        N[h] = k > N[h] ? k: N[h]
                                    }
                                    L = s.innerW - m.left - m.right;
                                    for (S = 0, c = 0; c < r; c++) S += T[c] + (c > 0 ? y: 0),
                                    L -= (c > 0 ? y: 0) + T[c];
                                    A = s.innerH - m.top - m.bottom;
                                    for (x = 0, h = 0; h < n; h++) x += N[h] + (h > 0 ? b: 0),
                                    A -= (h > 0 ? b: 0) + N[h];
                                    S += m.left + m.right,
                                    x += m.top + m.bottom,
                                    a = {},
                                    a.minW = S + (s.w - s.innerW),
                                    a.minH = x + (s.h - s.innerH),
                                    a.contentW = a.minW - s.deltaW,
                                    a.contentH = a.minH - s.deltaH,
                                    a.minW = Math.min(a.minW, s.maxW),
                                    a.minH = Math.min(a.minH, s.maxH),
                                    a.minW = Math.max(a.minW, s.startMinWidth),
                                    a.minH = Math.max(a.minH, s.startMinHeight);
                                    if (! (!s.autoResize || a.minW == s.minW && a.minH == s.minH)) {
                                        a.w = a.minW,
                                        a.h = a.minH,
                                        e.layoutRect(a),
                                        this.recalc(e);
                                        if (e._lastRect === null) {
                                            var _ = e.parent();
                                            _ && (_._lastRect = null, _.recalc())
                                        }
                                        return
                                    }
                                    s.autoResize && (a = e.layoutRect(a), a.contentW = a.minW - s.deltaW, a.contentH = a.minH - s.deltaH);
                                    var D;
                                    t.packV == "start" ? D = 0 : D = A > 0 ? Math.floor(A / n) : 0;
                                    var P = 0,
                                    H = t.flexWidths;
                                    if (H) for (c = 0; c < H.length; c++) P += H[c];
                                    else P = r;
                                    var B = L / P;
                                    for (c = 0; c < r; c++) T[c] += H ? H[c] * B: B;
                                    d = m.top;
                                    for (h = 0; h < n; h++) {
                                        p = m.left,
                                        u = N[h] + D;
                                        for (c = 0; c < r; c++) {
                                            O ? M = h * r + r - 1 - c: M = h * r + c,
                                            l = i[M];
                                            if (!l) break;
                                            v = l.settings,
                                            f = l.layoutRect(),
                                            o = Math.max(T[c], f.startMinWidth),
                                            f.x = p,
                                            f.y = d,
                                            g = v.alignH || (w ? w[c] || w[0] : null),
                                            g == "center" ? f.x = p + o / 2 - f.w / 2 : g == "right" ? f.x = p + o - f.w: g == "stretch" && (f.w = o),
                                            g = v.alignV || (E ? E[c] || E[0] : null),
                                            g == "center" ? f.y = d + u / 2 - f.h / 2 : g == "bottom" ? f.y = d + u - f.h: g == "stretch" && (f.h = u),
                                            l.layoutRect(f),
                                            p += o + y,
                                            l.recalc && l.recalc()
                                        }
                                        d += u + b
                                    }
                                }
                            })
                        }),
                        i("tinymce/ui/Iframe", ["tinymce/ui/Widget"],
                        function(e) {
                            return e.extend({
                                renderHtml: function() {
                                    var e = this;
                                    return e.addClass("iframe"),
                                    e.canFocus = !1,
                                    '\x3ciframe id\x3d"' + e._id + '" class\x3d"' + e.classes() + '" tabindex\x3d"-1" src\x3d"' + (e.settings.url || "javascript:''") + '" frameborder\x3d"0"\x3e\x3c/iframe\x3e'
                                },
                                src: function(e) {
                                    this.getEl().src = e
                                },
                                html: function(e, t) {
                                    var n = this,
                                    r = this.getEl().contentWindow.document.body;
                                    return r ? (r.innerHTML = e, t && t()) : setTimeout(function() {
                                        n.html(e)
                                    },
                                    0),
                                    this
                                }
                            })
                        }),
                        i("tinymce/ui/Label", ["tinymce/ui/Widget", "tinymce/ui/DomUtils"],
                        function(e, t) {
                            return e.extend({
                                init: function(e) {
                                    var t = this;
                                    t._super(e),
                                    t.addClass("widget"),
                                    t.addClass("label"),
                                    t.canFocus = !1,
                                    e.multiline && t.addClass("autoscroll"),
                                    e.strong && t.addClass("strong")
                                },
                                initLayoutRect: function() {
                                    var e = this,
                                    n = e._super();
                                    if (e.settings.multiline) {
                                        var r = t.getSize(e.getEl());
                                        r.width > n.maxW && (n.minW = n.maxW, e.addClass("multiline")),
                                        e.getEl().style.width = n.minW + "px",
                                        n.startMinH = n.h = n.minH = Math.min(n.maxH, t.getSize(e.getEl()).height)
                                    }
                                    return n
                                },
                                repaint: function() {
                                    var e = this;
                                    return e.settings.multiline || (e.getEl().style.lineHeight = e.layoutRect().h + "px"),
                                    e._super()
                                },
                                text: function(e) {
                                    var t = this;
                                    return t._rendered && e && this.innerHtml(t.encode(e)),
                                    t._super(e)
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e.settings.forId;
                                    return '\x3clabel id\x3d"' + e._id + '" class\x3d"' + e.classes() + '"' + (t ? ' for\x3d"' + t + '"': "") + "\x3e" + e.encode(e._text) + "\x3c/label\x3e"
                                }
                            })
                        }),
                        i("tinymce/ui/Toolbar", ["tinymce/ui/Container"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    role: "toolbar",
                                    layout: "flow"
                                },
                                init: function(e) {
                                    var t = this;
                                    t._super(e),
                                    t.addClass("toolbar")
                                },
                                postRender: function() {
                                    var e = this;
                                    return e.items().addClass("toolbar-item"),
                                    e._super()
                                }
                            })
                        }),
                        i("tinymce/ui/MenuBar", ["tinymce/ui/Toolbar"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    role: "menubar",
                                    containerCls: "menubar",
                                    ariaRoot: !0,
                                    defaults: {
                                        type: "menubutton"
                                    }
                                }
                            })
                        }),
                        i("tinymce/ui/MenuButton", ["tinymce/ui/Button", "tinymce/ui/Factory", "tinymce/ui/MenuBar"],
                        function(e, t, n) {
                            function r(e, t) {
                                while (e) {
                                    if (t === e) return ! 0;
                                    e = e.parentNode
                                }
                                return ! 1
                            }
                            var i = e.extend({
                                init: function(e) {
                                    var t = this;
                                    t._renderOpen = !0,
                                    t._super(e),
                                    t.addClass("menubtn"),
                                    e.fixedWidth && t.addClass("fixed-width"),
                                    t.aria("haspopup", !0),
                                    t.hasPopup = !0
                                },
                                showMenu: function() {
                                    var e = this,
                                    n = e.settings,
                                    r;
                                    if (e.menu && e.menu.visible()) return e.hideMenu();
                                    e.menu || (r = n.menu || [], r.length ? r = {
                                        type: "menu",
                                        items: r
                                    }: r.type = r.type || "menu", e.menu = t.create(r).parent(e).renderTo(), e.fire("createmenu"), e.menu.reflow(), e.menu.on("cancel",
                                    function(t) {
                                        t.control.parent() === e.menu && (t.stopPropagation(), e.focus(), e.hideMenu())
                                    }), e.menu.on("select",
                                    function() {
                                        e.focus()
                                    }), e.menu.on("show hide",
                                    function(t) {
                                        t.control == e.menu && e.activeMenu(t.type == "show"),
                                        e.aria("expanded", t.type == "show")
                                    }).fire("show")),
                                    e.menu.show(),
                                    e.menu.layoutRect({
                                        w: e.layoutRect().w
                                    }),
                                    e.menu.moveRel(e.getEl(), e.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"])
                                },
                                hideMenu: function() {
                                    var e = this;
                                    e.menu && (e.menu.items().each(function(e) {
                                        e.hideMenu && e.hideMenu()
                                    }), e.menu.hide())
                                },
                                activeMenu: function(e) {
                                    this.toggleClass("active", e)
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    r = e.classPrefix,
                                    i = e.settings.icon ? r + "ico " + r + "i-" + e.settings.icon: "";
                                    return e.aria("role", e.parent() instanceof n ? "menuitem": "button"),
                                    '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '" tabindex\x3d"-1" aria-labelledby\x3d"' + t + '"\x3e' + '\x3cbutton id\x3d"' + t + '-open" role\x3d"presentation" type\x3d"button" tabindex\x3d"-1"\x3e' + (i ? '\x3ci class\x3d"' + i + '"\x3e\x3c/i\x3e': "") + "\x3cspan\x3e" + (e._text ? (i ? "\u00a0": "") + e.encode(e._text) : "") + "\x3c/span\x3e" + ' \x3ci class\x3d"' + r + 'caret"\x3e\x3c/i\x3e' + "\x3c/button\x3e" + "\x3c/div\x3e"
                                },
                                postRender: function() {
                                    var e = this;
                                    return e.on("click",
                                    function(t) {
                                        t.control === e && r(t.target, e.getEl()) && (e.showMenu(), t.aria && e.menu.items()[0].focus())
                                    }),
                                    e.on("mouseenter",
                                    function(t) {
                                        var n = t.control,
                                        r = e.parent(),
                                        s;
                                        n && r && n instanceof i && n.parent() == r && (r.items().filter("MenuButton").each(function(e) {
                                            e.hideMenu && e != n && (e.menu && e.menu.visible() && (s = !0), e.hideMenu())
                                        }), s && (n.focus(), n.showMenu()))
                                    }),
                                    e._super()
                                },
                                text: function(e) {
                                    var t = this,
                                    n, r;
                                    if (t._rendered) {
                                        r = t.getEl("open").getElementsByTagName("span");
                                        for (n = 0; n < r.length; n++) r[n].innerHTML = (t.settings.icon && e ? "\u00a0": "") + t.encode(e)
                                    }
                                    return this._super(e)
                                },
                                remove: function() {
                                    this._super(),
                                    this.menu && this.menu.remove()
                                }
                            });
                            return i
                        }),
                        i("tinymce/ui/ListBox", ["tinymce/ui/MenuButton"],
                        function(e) {
                            return e.extend({
                                init: function(e) {
                                    function o(n) {
                                        for (var s = 0; s < n.length; s++) {
                                            r = n[s].selected || e.value === n[s].value;
                                            if (r) {
                                                i = i || n[s].text,
                                                t._value = n[s].value;
                                                break
                                            }
                                            n[s].menu && o(n[s].menu)
                                        }
                                    }
                                    var t = this,
                                    n, r, i, s;
                                    t._values = n = e.values,
                                    n && (typeof e.value != "undefined" && o(n), !r && n.length > 0 && (i = n[0].text, t._value = n[0].value), e.menu = n),
                                    e.text = e.text || i || n[0].text,
                                    t._super(e),
                                    t.addClass("listbox"),
                                    t.on("select",
                                    function(n) {
                                        var r = n.control;
                                        s && (n.lastControl = s),
                                        e.multiple ? r.active(!r.active()) : t.value(n.control.settings.value),
                                        s = r
                                    })
                                },
                                value: function(e) {
                                    function s(e, t) {
                                        e.items().each(function(e) {
                                            n = e.value() === t,
                                            n && (r = r || e.text()),
                                            e.active(n),
                                            e.menu && s(e.menu, t)
                                        })
                                    }
                                    function o(t) {
                                        for (var i = 0; i < t.length; i++) n = t[i].value == e,
                                        n && (r = r || t[i].text),
                                        t[i].active = n,
                                        t[i].menu && o(t[i].menu)
                                    }
                                    var t = this,
                                    n, r, i;
                                    return typeof e != "undefined" && (t.menu ? s(t.menu, e) : (i = t.settings.menu, o(i)), t.text(r || this.settings.text)),
                                    t._super(e)
                                }
                            })
                        }),
                        i("tinymce/ui/MenuItem", ["tinymce/ui/Widget", "tinymce/ui/Factory", "tinymce/Env"],
                        function(e, t, n) {
                            return e.extend({
                                Defaults: {
                                    border: 0,
                                    role: "menuitem"
                                },
                                init: function(e) {
                                    var t = this;
                                    t.hasPopup = !0,
                                    t._super(e),
                                    e = t.settings,
                                    t.addClass("menu-item"),
                                    e.menu && t.addClass("menu-item-expand"),
                                    e.preview && t.addClass("menu-item-preview");
                                    if (t._text === "-" || t._text === "|") t.addClass("menu-item-sep"),
                                    t.aria("role", "separator"),
                                    t._text = "-";
                                    e.selectable && (t.aria("role", "menuitemcheckbox"), t.addClass("menu-item-checkbox"), e.icon = "selected"),
                                    !e.preview && !e.selectable && t.addClass("menu-item-normal"),
                                    t.on("mousedown",
                                    function(e) {
                                        e.preventDefault()
                                    }),
                                    e.menu && !e.ariaHideMenu && t.aria("haspopup", !0)
                                },
                                hasMenus: function() {
                                    return !! this.settings.menu
                                },
                                showMenu: function() {
                                    var e = this,
                                    n = e.settings,
                                    r, i = e.parent();
                                    i.items().each(function(t) {
                                        t !== e && t.hideMenu()
                                    });
                                    if (n.menu) {
                                        r = e.menu,
                                        r ? r.show() : (r = n.menu, r.length ? r = {
                                            type: "menu",
                                            items: r
                                        }: r.type = r.type || "menu", i.settings.itemDefaults && (r.itemDefaults = i.settings.itemDefaults), r = e.menu = t.create(r).parent(e).renderTo(), r.reflow(), r.on("cancel",
                                        function(t) {
                                            t.stopPropagation(),
                                            e.focus(),
                                            r.hide()
                                        }), r.on("show hide",
                                        function(e) {
                                            e.control.items().each(function(e) {
                                                e.active(e.settings.selected)
                                            })
                                        }).fire("show"), r.on("hide",
                                        function(t) {
                                            t.control === r && e.removeClass("selected")
                                        }), r.submenu = !0),
                                        r._parentMenu = i,
                                        r.addClass("menu-sub");
                                        var s = r.testMoveRel(e.getEl(), e.isRtl() ? ["tl-tr", "bl-br", "tr-tl", "br-bl"] : ["tr-tl", "br-bl", "tl-tr", "bl-br"]);
                                        r.moveRel(e.getEl(), s),
                                        r.rel = s,
                                        s = "menu-sub-" + s,
                                        r.removeClass(r._lastRel),
                                        r.addClass(s),
                                        r._lastRel = s,
                                        e.addClass("selected"),
                                        e.aria("expanded", !0)
                                    }
                                },
                                hideMenu: function() {
                                    var e = this;
                                    return e.menu && (e.menu.items().each(function(e) {
                                        e.hideMenu && e.hideMenu()
                                    }), e.menu.hide(), e.aria("expanded", !1)),
                                    e
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    r = e.settings,
                                    i = e.classPrefix,
                                    s = e.encode(e._text),
                                    o = e.settings.icon,
                                    u = "",
                                    a = r.shortcut;
                                    return o && e.parent().addClass("menu-has-icons"),
                                    r.image && (o = "none", u = " style\x3d\"background-image: url('" + r.image + "')\""),
                                    a && n.mac && (a = a.replace(/ctrl\+alt\+/i, "\x26#x2325;\x26#x2318;"), a = a.replace(/ctrl\+/i, "\x26#x2318;"), a = a.replace(/alt\+/i, "\x26#x2325;"), a = a.replace(/shift\+/i, "\x26#x21E7;")),
                                    o = i + "ico " + i + "i-" + (e.settings.icon || "none"),
                                    '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '" tabindex\x3d"-1"\x3e' + (s !== "-" ? '\x3ci class\x3d"' + o + '"' + u + "\x3e\x3c/i\x3e\u00a0": "") + (s !== "-" ? '\x3cspan id\x3d"' + t + '-text" class\x3d"' + i + 'text"\x3e' + s + "\x3c/span\x3e": "") + (a ? '\x3cdiv id\x3d"' + t + '-shortcut" class\x3d"' + i + 'menu-shortcut"\x3e' + a + "\x3c/div\x3e": "") + (r.menu ? '\x3cdiv class\x3d"' + i + 'caret"\x3e\x3c/div\x3e': "") + "\x3c/div\x3e"
                                },
                                postRender: function() {
                                    var e = this,
                                    t = e.settings,
                                    n = t.textStyle;
                                    typeof n == "function" && (n = n.call(this));
                                    if (n) {
                                        var r = e.getEl("text");
                                        r && r.setAttribute("style", n)
                                    }
                                    return e.on("mouseenter click",
                                    function(n) {
                                        n.control === e && (!t.menu && n.type === "click" ? (e.fire("select"), e.parent().hideAll()) : (e.showMenu(), n.aria && e.menu.focus(!0)))
                                    }),
                                    e._super(),
                                    e
                                },
                                active: function(e) {
                                    return typeof e != "undefined" && this.aria("checked", e),
                                    this._super(e)
                                },
                                remove: function() {
                                    this._super(),
                                    this.menu && this.menu.remove()
                                }
                            })
                        }),
                        i("tinymce/ui/Menu", ["tinymce/ui/FloatPanel", "tinymce/ui/MenuItem", "tinymce/util/Tools"],
                        function(e, t, n) {
                            var r = e.extend({
                                Defaults: {
                                    defaultType: "menuitem",
                                    border: 1,
                                    layout: "stack",
                                    role: "application",
                                    bodyRole: "menu",
                                    ariaRoot: !0
                                },
                                init: function(e) {
                                    var t = this;
                                    e.autohide = !0,
                                    e.constrainToViewport = !0;
                                    if (e.itemDefaults) {
                                        var r = e.items,
                                        i = r.length;
                                        while (i--) r[i] = n.extend({},
                                        e.itemDefaults, r[i])
                                    }
                                    t._super(e),
                                    t.addClass("menu")
                                },
                                repaint: function() {
                                    return this.toggleClass("menu-align", !0),
                                    this._super(),
                                    this.getEl().style.height = "",
                                    this.getEl("body").style.height = "",
                                    this
                                },
                                cancel: function() {
                                    var e = this;
                                    e.hideAll(),
                                    e.fire("select")
                                },
                                hideAll: function() {
                                    var e = this;
                                    return this.find("menuitem").exec("hideMenu"),
                                    e._super()
                                },
                                preRender: function() {
                                    var e = this;
                                    return e.items().each(function(t) {
                                        var n = t.settings;
                                        if (n.icon || n.selectable) return e._hasIcons = !0,
                                        !1
                                    }),
                                    e._super()
                                }
                            });
                            return r
                        }),
                        i("tinymce/ui/Radio", ["tinymce/ui/Checkbox"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    classes: "radio",
                                    role: "radio"
                                }
                            })
                        }),
                        i("tinymce/ui/ResizeHandle", ["tinymce/ui/Widget", "tinymce/ui/DragHelper"],
                        function(e, t) {
                            return e.extend({
                                renderHtml: function() {
                                    var e = this,
                                    t = e.classPrefix;
                                    return e.addClass("resizehandle"),
                                    e.settings.direction == "both" && e.addClass("resizehandle-both"),
                                    e.canFocus = !1,
                                    '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '"\x3e' + '\x3ci class\x3d"' + t + "ico " + t + 'i-resize"\x3e\x3c/i\x3e' + "\x3c/div\x3e"
                                },
                                postRender: function() {
                                    var e = this;
                                    e._super(),
                                    e.resizeDragHelper = new t(this._id, {
                                        start: function() {
                                            e.fire("ResizeStart")
                                        },
                                        drag: function(t) {
                                            e.settings.direction != "both" && (t.deltaX = 0),
                                            e.fire("Resize", t)
                                        },
                                        stop: function() {
                                            e.fire("ResizeEnd")
                                        }
                                    })
                                },
                                remove: function() {
                                    return this.resizeDragHelper && this.resizeDragHelper.destroy(),
                                    this._super()
                                }
                            })
                        }),
                        i("tinymce/ui/Spacer", ["tinymce/ui/Widget"],
                        function(e) {
                            return e.extend({
                                renderHtml: function() {
                                    var e = this;
                                    return e.addClass("spacer"),
                                    e.canFocus = !1,
                                    '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '"\x3e\x3c/div\x3e'
                                }
                            })
                        }),
                        i("tinymce/ui/SplitButton", ["tinymce/ui/MenuButton", "tinymce/ui/DomUtils"],
                        function(e, t) {
                            return e.extend({
                                Defaults: {
                                    classes: "widget btn splitbtn",
                                    role: "button"
                                },
                                repaint: function() {
                                    var e = this,
                                    n = e.getEl(),
                                    r = e.layoutRect(),
                                    i,
                                    s;
                                    return e._super(),
                                    i = n.firstChild,
                                    s = n.lastChild,
                                    t.css(i, {
                                        width: r.w - t.getSize(s).width,
                                        height: r.h - 2
                                    }),
                                    t.css(s, {
                                        height: r.h - 2
                                    }),
                                    e
                                },
                                activeMenu: function(e) {
                                    var n = this;
                                    t.toggleClass(n.getEl().lastChild, n.classPrefix + "active", e)
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    n = e.classPrefix,
                                    r = e.settings.icon ? n + "ico " + n + "i-" + e.settings.icon: "";
                                    return '\x3cdiv id\x3d"' + t + '" class\x3d"' + e.classes() + '" role\x3d"button" tabindex\x3d"-1"\x3e' + '\x3cbutton type\x3d"button" hidefocus\x3d"1" tabindex\x3d"-1"\x3e' + (r ? '\x3ci class\x3d"' + r + '"\x3e\x3c/i\x3e': "") + (e._text ? (r ? " ": "") + e._text: "") + "\x3c/button\x3e" + '\x3cbutton type\x3d"button" class\x3d"' + n + 'open" hidefocus\x3d"1" tabindex\x3d"-1"\x3e' + (e._menuBtnText ? (r ? "\u00a0": "") + e._menuBtnText: "") + ' \x3ci class\x3d"' + n + 'caret"\x3e\x3c/i\x3e' + "\x3c/button\x3e" + "\x3c/div\x3e"
                                },
                                postRender: function() {
                                    var e = this,
                                    t = e.settings.onclick;
                                    return e.on("click",
                                    function(e) {
                                        var n = e.target;
                                        if (e.control == this) while (n) {
                                            if (e.aria && e.aria.key != "down" || n.nodeName == "BUTTON" && n.className.indexOf("open") == -1) {
                                                e.stopImmediatePropagation(),
                                                t.call(this, e);
                                                return
                                            }
                                            n = n.parentNode
                                        }
                                    }),
                                    delete e.settings.onclick,
                                    e._super()
                                }
                            })
                        }),
                        i("tinymce/ui/StackLayout", ["tinymce/ui/FlowLayout"],
                        function(e) {
                            return e.extend({
                                Defaults: {
                                    containerClass: "stack-layout",
                                    controlClass: "stack-layout-item",
                                    endClass: "break"
                                }
                            })
                        }),
                        i("tinymce/ui/TabPanel", ["tinymce/ui/Panel", "tinymce/ui/DomUtils"],
                        function(e, t) {
                            return e.extend({
                                Defaults: {
                                    layout: "absolute",
                                    defaults: {
                                        type: "panel"
                                    }
                                },
                                activateTab: function(e) {
                                    var n;
                                    this.activeTabId && (n = this.getEl(this.activeTabId), t.removeClass(n, this.classPrefix + "active"), n.setAttribute("aria-selected", "false")),
                                    this.activeTabId = "t" + e,
                                    n = this.getEl("t" + e),
                                    n.setAttribute("aria-selected", "true"),
                                    t.addClass(n, this.classPrefix + "active"),
                                    this.items()[e].show().fire("showtab"),
                                    this.reflow(),
                                    this.items().each(function(t, n) {
                                        e != n && t.hide()
                                    })
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._layout,
                                    n = "",
                                    r = e.classPrefix;
                                    return e.preRender(),
                                    t.preRender(e),
                                    e.items().each(function(t, i) {
                                        var s = e._id + "-t" + i;
                                        t.aria("role", "tabpanel"),
                                        t.aria("labelledby", s),
                                        n += '\x3cdiv id\x3d"' + s + '" class\x3d"' + r + 'tab" ' + 'unselectable\x3d"on" role\x3d"tab" aria-controls\x3d"' + t._id + '" aria-selected\x3d"false" tabIndex\x3d"-1"\x3e' + e.encode(t.settings.title) + "\x3c/div\x3e"
                                    }),
                                    '\x3cdiv id\x3d"' + e._id + '" class\x3d"' + e.classes() + '" hidefocus\x3d"1" tabindex\x3d"-1"\x3e' + '\x3cdiv id\x3d"' + e._id + '-head" class\x3d"' + r + 'tabs" role\x3d"tablist"\x3e' + n + "\x3c/div\x3e" + '\x3cdiv id\x3d"' + e._id + '-body" class\x3d"' + e.classes("body") + '"\x3e' + t.renderHtml(e) + "\x3c/div\x3e" + "\x3c/div\x3e"
                                },
                                postRender: function() {
                                    var e = this;
                                    e._super(),
                                    e.settings.activeTab = e.settings.activeTab || 0,
                                    e.activateTab(e.settings.activeTab),
                                    this.on("click",
                                    function(t) {
                                        var n = t.target.parentNode;
                                        if (t.target.parentNode.id == e._id + "-head") {
                                            var r = n.childNodes.length;
                                            while (r--) n.childNodes[r] == t.target && e.activateTab(r)
                                        }
                                    })
                                },
                                initLayoutRect: function() {
                                    var e = this,
                                    n, r, i;
                                    r = t.getSize(e.getEl("head")).width,
                                    r = r < 0 ? 0 : r,
                                    i = 0,
                                    e.items().each(function(e) {
                                        r = Math.max(r, e.layoutRect().minW),
                                        i = Math.max(i, e.layoutRect().minH)
                                    }),
                                    e.items().each(function(e) {
                                        e.settings.x = 0,
                                        e.settings.y = 0,
                                        e.settings.w = r,
                                        e.settings.h = i,
                                        e.layoutRect({
                                            x: 0,
                                            y: 0,
                                            w: r,
                                            h: i
                                        })
                                    });
                                    var s = t.getSize(e.getEl("head")).height;
                                    return e.settings.minWidth = r,
                                    e.settings.minHeight = i + s,
                                    n = e._super(),
                                    n.deltaH += s,
                                    n.innerH = n.h - n.deltaH,
                                    n
                                }
                            })
                        }),
                        i("tinymce/ui/TextBox", ["tinymce/ui/Widget", "tinymce/ui/DomUtils"],
                        function(e, t) {
                            return e.extend({
                                init: function(e) {
                                    var t = this;
                                    t._super(e),
                                    t._value = e.value || "",
                                    t.addClass("textbox"),
                                    e.multiline ? t.addClass("multiline") : t.on("keydown",
                                    function(e) {
                                        e.keyCode == 13 && t.parents().reverse().each(function(t) {
                                            e.preventDefault();
                                            if (t.hasEventListeners("submit") && t.toJSON) return t.fire("submit", {
                                                data: t.toJSON()
                                            }),
                                            !1
                                        })
                                    })
                                },
                                disabled: function(e) {
                                    var t = this;
                                    return t._rendered && typeof e != "undefined" && (t.getEl().disabled = e),
                                    t._super(e)
                                },
                                value: function(e) {
                                    var t = this;
                                    return typeof e != "undefined" ? (t._value = e, t._rendered && (t.getEl().value = e), t) : t._rendered ? t.getEl().value: t._value
                                },
                                repaint: function() {
                                    var e = this,
                                    t, n, r, i = 0,
                                    s = 0,
                                    o;
                                    t = e.getEl().style,
                                    n = e._layoutRect,
                                    o = e._lastRepaintRect || {};
                                    var u = document;
                                    return ! e.settings.multiline && u.all && (!u.documentMode || u.documentMode <= 8) && (t.lineHeight = n.h - s + "px"),
                                    r = e._borderBox,
                                    i = r.left + r.right + 8,
                                    s = r.top + r.bottom + (e.settings.multiline ? 8 : 0),
                                    n.x !== o.x && (t.left = n.x + "px", o.x = n.x),
                                    n.y !== o.y && (t.top = n.y + "px", o.y = n.y),
                                    n.w !== o.w && (t.width = n.w - i + "px", o.w = n.w),
                                    n.h !== o.h && (t.height = n.h - s + "px", o.h = n.h),
                                    e._lastRepaintRect = o,
                                    e.fire("repaint", {},
                                    !1),
                                    e
                                },
                                renderHtml: function() {
                                    var e = this,
                                    t = e._id,
                                    n = e.settings,
                                    r = e.encode(e._value, !1),
                                    i = "";
                                    return "spellcheck" in n && (i += ' spellcheck\x3d"' + n.spellcheck + '"'),
                                    n.maxLength && (i += ' maxlength\x3d"' + n.maxLength + '"'),
                                    n.size && (i += ' size\x3d"' + n.size + '"'),
                                    n.subtype && (i += ' type\x3d"' + n.subtype + '"'),
                                    e.disabled() && (i += ' disabled\x3d"disabled"'),
                                    n.multiline ? '\x3ctextarea id\x3d"' + t + '" class\x3d"' + e.classes() + '" ' + (n.rows ? ' rows\x3d"' + n.rows + '"': "") + ' hidefocus\x3d"1"' + i + "\x3e" + r + "\x3c/textarea\x3e": '\x3cinput id\x3d"' + t + '" class\x3d"' + e.classes() + '" value\x3d"' + r + '" hidefocus\x3d"1"' + i + " /\x3e"
                                },
                                postRender: function() {
                                    var e = this;
                                    return t.on(e.getEl(), "change",
                                    function(t) {
                                        e.fire("change", t)
                                    }),
                                    e._super()
                                },
                                remove: function() {
                                    t.off(this.getEl()),
                                    this._super()
                                }
                            })
                        }),
                        i("tinymce/ui/Throbber", ["tinymce/ui/DomUtils", "tinymce/ui/Control"],
                        function(e, t) {
                            return function(n, r) {
                                var i = this,
                                s, o = t.classPrefix;
                                i.show = function(t) {
                                    return i.hide(),
                                    s = !0,
                                    window.setTimeout(function() {
                                        s && n.appendChild(e.createFragment('\x3cdiv class\x3d"' + o + "throbber" + (r ? " " + o + "throbber-inline": "") + '"\x3e\x3c/div\x3e'))
                                    },
                                    t || 0),
                                    i
                                },
                                i.hide = function() {
                                    var e = n.lastChild;
                                    return e && e.className.indexOf("throbber") != -1 && e.parentNode.removeChild(e),
                                    s = !1,
                                    i
                                }
                            }
                        }),
                        u(["tinymce/dom/EventUtils", "tinymce/dom/Sizzle", "tinymce/util/Tools", "tinymce/Env", "tinymce/dom/DomQuery", "tinymce/html/Styles", "tinymce/dom/TreeWalker", "tinymce/dom/Range", "tinymce/html/Entities", "tinymce/dom/DOMUtils", "tinymce/dom/ScriptLoader", "tinymce/AddOnManager", "tinymce/html/Node", "tinymce/html/Schema", "tinymce/html/SaxParser", "tinymce/html/DomParser", "tinymce/html/Writer", "tinymce/html/Serializer", "tinymce/dom/Serializer", "tinymce/dom/TridentSelection", "tinymce/util/VK", "tinymce/dom/ControlSelection", "tinymce/dom/BookmarkManager", "tinymce/dom/Selection", "tinymce/dom/ElementUtils", "tinymce/Formatter", "tinymce/UndoManager", "tinymce/EnterKey", "tinymce/ForceBlocks", "tinymce/EditorCommands", "tinymce/util/URI", "tinymce/util/Class", "tinymce/util/EventDispatcher", "tinymce/ui/Selector", "tinymce/ui/Collection", "tinymce/ui/DomUtils", "tinymce/ui/Control", "tinymce/ui/Factory", "tinymce/ui/KeyboardNavigation", "tinymce/ui/Container", "tinymce/ui/DragHelper", "tinymce/ui/Scrollable", "tinymce/ui/Panel", "tinymce/ui/Movable", "tinymce/ui/Resizable", "tinymce/ui/FloatPanel", "tinymce/ui/Window", "tinymce/ui/MessageBox", "tinymce/WindowManager", "tinymce/util/Quirks", "tinymce/util/Observable", "tinymce/EditorObservable", "tinymce/Shortcuts", "tinymce/Editor", "tinymce/util/I18n", "tinymce/FocusManager", "tinymce/EditorManager", "tinymce/LegacyInput", "tinymce/util/XHR", "tinymce/util/JSON", "tinymce/util/JSONRequest", "tinymce/util/JSONP", "tinymce/util/LocalStorage", "tinymce/Compat", "tinymce/ui/Layout", "tinymce/ui/AbsoluteLayout", "tinymce/ui/Tooltip", "tinymce/ui/Widget", "tinymce/ui/Button", "tinymce/ui/ButtonGroup", "tinymce/ui/Checkbox", "tinymce/ui/ComboBox", "tinymce/ui/ColorBox", "tinymce/ui/PanelButton", "tinymce/ui/ColorButton", "tinymce/util/Color", "tinymce/ui/ColorPicker", "tinymce/ui/Path", "tinymce/ui/ElementPath", "tinymce/ui/FormItem", "tinymce/ui/Form", "tinymce/ui/FieldSet", "tinymce/ui/FilePicker", "tinymce/ui/FitLayout", "tinymce/ui/FlexLayout", "tinymce/ui/FlowLayout", "tinymce/ui/FormatControls", "tinymce/ui/GridLayout", "tinymce/ui/Iframe", "tinymce/ui/Label", "tinymce/ui/Toolbar", "tinymce/ui/MenuBar", "tinymce/ui/MenuButton", "tinymce/ui/ListBox", "tinymce/ui/MenuItem", "tinymce/ui/Menu", "tinymce/ui/Radio", "tinymce/ui/ResizeHandle", "tinymce/ui/Spacer", "tinymce/ui/SplitButton", "tinymce/ui/StackLayout", "tinymce/ui/TabPanel", "tinymce/ui/TextBox", "tinymce/ui/Throbber"])
                    } (this),
                    function() {
                        window.GoldenData || (window.GoldenData = {}),
                        GoldenData.hideTooltip = function() {
                            return $(".with_tooltip").tooltip("hide")
                        },
                        GoldenData.writeContentToIframe = function(e, t) {
                            var n;
                            return n = $(e)[0].contentWindow.document,
                            n.open(),
                            n.write(t),
                            n.close()
                        },
                        GoldenData.initializeZoom = function(e, t) {
                            var n, r, i;
                            return n = {
                                beforeZoomIn: $.noop,
                                beforeZoomOut: $.noop,
                                afterZoomIn: $.noop,
                                afterZoomOut: $.noop
                            },
                            i = $.extend(n, t),
                            r = function() {
                                var e, t;
                                return e = $(document).height(),
                                t = $(window).height(),
                                Math.max(t, e)
                            },
                            $(document).off("click.zoom", "" + e + " .zoom a").on("click.zoom", "" + e + " .zoom a",
                            function() {
                                var t, n;
                                return t = $(e),
                                t.find(".with_tooltip").tooltip("hide"),
                                t.hasClass("fullscreen") ? (i.beforeZoomOut(), $(window).off("resize.zoom"), $(document).off("keyup.zoom")) : (n = r(), i.beforeZoomIn(n), $(window).on("resize.zoom",
                                function() {
                                    return i.beforeZoomIn(Math.max(n, $(window).height()))
                                }), $(document).on("keyup.zoom",
                                function(e) {
                                    if (e.which === 27) return t.find(".zoom .zoom-out").click()
                                })),
                                $(document).scrollTop(0),
                                t.toggleClass("fullscreen"),
                                t.find(".zoom \x3e a").toggleClass("hide"),
                                $(".user-feedback").toggleClass("hide"),
                                t.hasClass("fullscreen") ? i.afterZoomIn() : i.afterZoomOut()
                            })
                        },
                        GoldenData.checkDisplayNotification = function() {
                            var e;
                            e = $(".notifications-content ul");
                            if (e.find("li").length === 0) return e.append("\x3cli class\x3d'no-notification'\x3e\u6682\u65e0\u65b0\u6d88\u606f\x3c/li\x3e")
                        },
                        GoldenData.accordionOpen = function(e) {
                            var t, n;
                            return t = $(e).parents(".accordion"),
                            t.find(".accordion-heading").removeClass("active"),
                            t.find(".accordion-body").removeClass("in"),
                            n = $(e).parents(".accordion-group"),
                            n.find(".accordion-heading").addClass("active"),
                            n.find(".accordion-body").addClass("in").trigger("show")
                        },
                        GoldenData.validateFile = function(e, t, n) {
                            var r;
                            return r = [],
                            e.name.length > 200 && r.push("\u6587\u4ef6\u540d\u592a\u957f"),
                            n.test(e.name) || r.push("\u6587\u4ef6\u683c\u5f0f\u6709\u8bef"),
                            e.size > t && r.push("\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u4e86" + t / 1E6 + "MB"),
                            r
                        },
                        GoldenData.validateURL = function(e) {
                            var t;
                            return $.trim(e) ? (t = /^(https:\/\/|http:\/\/)?(((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d)|(([a-zA-Z]|\d)([a-zA-Z]|\d|-|\.|_|~)*([a-zA-Z]|\d)))\.)+(([a-zA-Z])|(([a-zA-Z])([a-zA-Z]|\d|-|\.|_|~)*([a-zA-Z])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~)|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/, t.test($.trim(e))) : !0
                        },
                        GoldenData.focusToEnd = function(e) {
                            var t;
                            return t = e.val(),
                            t !== "" && !/\n$/.test(t) && (t = "" + t + "\n"),
                            e.focus().val("").val(t)
                        },
                        GoldenData.formatDate = function(e) {
                            var t, n, r, i, s;
                            return _.isDate(e) ? (s = e.getFullYear(), r = e.getMonth() + 1, i = e.getDate(), n = r < 10 ? "0" + r: r.toString(), t = i < 10 ? "0" + i: i.toString(), "" + s + "-" + n + "-" + t) : e
                        },
                        GoldenData.parseDate = function(e) {
                            var t, n;
                            t = new Date;
                            switch (e) {
                            case "":
                                return null;
                            case "today":
                                return t;
                            case "yesterday":
                                return t.setDate(t.getDate() - 1),
                                t;
                            case "tomorrow":
                                return t.setDate(t.getDate() + 1),
                                t;
                            default:
                                return n = e.split("-"),
                                new Date(n[0], n[1] - 1, n[2])
                            }
                        },
                        GoldenData.isNumber = function(e) {
                            return ! isNaN(parseFloat(e)) && isFinite(e)
                        },
                        GoldenData.isLowVersionBrowser = function() {
                            return $.browser.msie && parseInt($.browser.version, 10) <= 8
                        },
                        GoldenData.extractExistedQueryParams = function() {
                            var e;
                            return e = {},
                            !url("?order") || (e.order = url("?order")),
                            !$("[data-allow-multi-filter]").data("allow-multi-filter") && !0 ? e: (!url("?query") || (e.query = decodeURIComponent(url("?query"))), !url("?start") || (e.start = url("?start")), !url("?end") || (e.end = url("?end")), $.isEmptyObject(GoldenData.filterParams.data) || (e = $.extend(e, GoldenData.filterParams.data)), e)
                        },
                        GoldenData.formatNumberWithTwoDigits = function(e) {
                            var t;
                            return t = e < 10 ? "0": "",
                            t + e
                        },
                        GoldenData.initTinyMCE = function(e) {
                            var t, n, r;
                            tinyMCE.remove();
                            if (typeof tinyMCE != "undefined" && tinyMCE !== null) return t = $(e).data("enable-image"),
                            r = "bold italic underline | bullist numlist | forecolor backcolor | link unlink " + (t ? "advimage": "") + " | removeformat",
                            n = "textcolor link autoresize paste " + (t ? "advimage": ""),
                            tinyMCE.init({
                                selector: e,
                                menubar: !1,
                                statusbar: !1,
                                language: "zh_CN",
                                toolbar: r,
                                plugins: n,
                                invalid_elements: "script",
                                autoresize_min_height: 100,
                                force_p_newlines: !1,
                                relative_urls: !1,
                                remove_script_host: !1,
                                content_css: GoldenData.tinyMCEAsset,
                                setup: function(t) {
                                    return t.on("change",
                                    function() {
                                        return $(e).val(this.getContent()).change()
                                    })
                                }
                            })
                        },
                        GoldenData.bindKeyNav = function(e, t) {
                            return t == null && (t = {}),
                            $(document).one("page:fetch",
                            function() {
                                return $(document).off("keydown.nav")
                            }),
                            $(document).on("keydown.nav",
                            function(n) {
                                var r, i;
                                if (!$("#lightbox").is(":visible")) {
                                    i = e ? $(e).find(".nav-arrows a") : $(".nav-arrows a");
                                    if (i.length === 2) {
                                        r = function() {
                                            switch (n.keyCode) {
                                            case 37:
                                                return i.first();
                                            case 39:
                                                return i.last();
                                            default:
                                                return null
                                            }
                                        } ();
                                        if (r && r.is(":not(.disabled)")) return t.target ? (t.beforeSend && t.beforeSend(), $(t.target).load(r.attr("href"), t.afterSend)) : Turbolinks.visit(r.attr("href"))
                                    }
                                }
                            })
                        },
                        GoldenData.initializeZclip = function(e, t) {
                            t == null && (t = null);
                            if (!$(e).data("initializedZclip") && $(e).not(".disabled").is(":visible")) return $(e).zclip({
                                path: GoldenData.zeroClipboardFlash,
                                copy: function() {
                                    return $($(e).data("href")).val()
                                },
                                afterCopy: function() {
                                    $(this).data("message-target") ? showStaticNotification($(this).data("message-target"), $(this).data("message"), "success") : showFlashNotification($(this).data("message"));
                                    if (typeof t == "function") return t()
                                }
                            }),
                            $(e).data("initializedZclip", !0)
                        },
                        GoldenData.updateModalHeight = function(e, t, n) {
                            var r, i, s;
                            return t == null && (t = ".modal-body"),
                            n == null && (n = null),
                            r = $(e).find(t),
                            n || (n = $(e).find(".modal-header").outerHeight() + ((s = $(e).find(".modal-footer").outerHeight()) != null ? s: 0)),
                            i = $(window).height() * .8 - n,
                            r.get(0).scrollHeight > i ? ($(e).css({
                                top: "1%"
                            }), r.css({
                                maxHeight: $(window).height() * .98 - n
                            })) : ($(e).css({
                                top: "10%"
                            }), r.css({
                                maxHeight: i
                            }))
                        },
                        $(function() {
                            // alert(".with_tooltip:"+$(".with_tooltip").length);
                            return _.templateSettings = {
                                interpolate: /\{\{(.+?)\}\}/g
                            },
                            $(".with_tooltip").livequery(function() {
                                return $(".with_tooltip").tooltip({
                                    animation: !1
                                })
                            }),
                            $(document).on("page:load ready",
                            function() {
                                return $(".top-settings").clickover({
                                    animation: !1,
                                    tip_id: function() {
                                        return "settings_content"
                                    },
                                    content: function() {
                                        return $(".top-settings-popup").html()
                                    }
                                }),
                                $(".notification_center").clickover({
                                    animation: !1,
                                    tip_id: function() {
                                        return "notifications_content"
                                    },
                                    content: function() {
                                        return $(".notifications-popup").html()
                                    },
                                    onShown: function() {
                                        return $.get("/notifications/summary",
                                        function(e) {
                                            var t;
                                            return t = $(".notifications-content"),
                                            t.html(e),
                                            GoldenData.checkDisplayNotification(),
                                            $("#unread_count").remove()
                                        })
                                    }
                                })
                            }),
                            $(document).on("page:load",
                            function() {
                                if (document.cookie.indexOf("auth_token") === -1) return window.location.reload()
                            }),
                            $(document).on("click", "a[data-disabled-with]",
                            function() {
                                if (!$(this).hasClass("disabled")) return $(this).data("enabled-with", $(this).html()),
                                $(this).html($(this).data("disabled-with")),
                                $(this).addClass("disabled")
                            }),
                            $(document).on("click", "a.disabled, a.prevent-default",
                            function(e) {
                                return e.preventDefault()
                            }),
                            $(document).on("mouseover", ".tooltip-help",
                            function() {
                                return $(this).tooltip({
                                    animation: !1
                                }).tooltip("show")
                            }),
                            $(document).on("mouseleave", ".tooltip-help",
                            function() {
                                return $(this).tooltip("hide")
                            }),
                            $(document).on("click", "[data-upgrade-modal]",
                            function(e) {
                                if ($(this).data("upgrade-modal")) return $("#" + $(this).data("upgrade-modal")).modal("show"),
                                !1
                            }),
                            $(document).on("click", "#switch_to_mobile",
                            function() {
                                return $.removeCookie("platform", {
                                    path: "/"
                                })
                            }),
                            $(document).on("click", ".switcher a",
                            function(e) {
                                return e.stopPropagation()
                            }),
                            $(document).on("click", ".switcher",
                            function() {
                                return $(this).find("a").click()
                            }),
                            $(window).on("scroll resize",
                            function() {
                                var e;
                                if ($(".go-to-top").length > 0) return $(window).scrollTop() > $(window).height() / 2 ? $(".fullscreen").length > 0 ? $(".go-to-top").show().css({
                                    right: 20,
                                    left: "auto"
                                }) : (e = Math.min($("body .container").offset().left + $("body .container").outerWidth() + 10, $(window).width() - 50), $(".go-to-top").show().css({
                                    left: e,
                                    right: "auto"
                                })) : $(".go-to-top").hide()
                            }),
                            $(document).on("click", ".go-to-top",
                            function() {
                                return $(window).scrollTop(0)
                            }),
                            $(document).on("shown", ".modal",
                            function(e) {
                                if ($(e.target).is(".modal")) return $("body").css({
                                    overflow: "hidden"
                                })
                            }),
                            $(document).on("hidden", ".modal",
                            function(e) {
                                return $(e.target).is(".modal") && $("body").css({
                                    overflow: ""
                                }),
                                delay(10,
                                function(e) {
                                    return function() {
                                        return $("a[href\x3d#" + $(e).attr("id") + "][data-toggle\x3dmodal], a[data-target\x3d#" + $(e).attr("id") + "][data-toggle\x3dmodal]").tooltip("hide")
                                    }
                                } (this))
                            })
                        })
                    }.call(this),
                    function() {
                        window.GoldenData || (window.GoldenData = {}),
                        GoldenData.recalcFormHeight = function() {
                            if (! ($.browser.msie && $.browser.version < 7)) return $(window).trigger("customLoad")
                        },
                        GoldenData.numberToHumanSize = function(e) {
                            var t, n, r;
                            return e ? (n = e / 1024, n < 1024 ? "" + n.toFixed(0) + " KB": (r = n / 1024, r < 1024 ? "" + r.toFixed(1) + " MB": (t = r / 1024, "" + t.toFixed(1) + " GB"))) : null
                        },
                        GoldenData.updateSubmitBtn = function() {
                            var e, t, n, r, i;
                            return t = $(".submit-field input.submit"),
                            n = (r = t.data("fileUploading")) != null ? r: 0,
                            n < 0 && t.data("fileUploading", 0),
                            e = (i = n > 0 || t.data("no-goods-selected")) != null ? i: !1,
                            t.attr("disabled", e)
                        },
                        $(document).on("page:load ready",
                        function() {
                            var e;
                            return typeof(e = $("input, textarea")).placeholder == "function" && e.placeholder(),
                            $("#login_modal .invitation").on("click",
                            function() {
                                return $("#login_modal .alert").hide(),
                                $(this).parents("section").addClass("hide"),
                                $("." + $(this).data("for")).removeClass("hide")
                            }),
                            $("form#new_entry input").on("keypress",
                            function(e) {
                                if (e.keyCode === 13) return e.preventDefault()
                            }),
                            $("#form_error_messages_modal").modal("show"),
                            $(document).on("click", ".captcha-container img",
                            function() {
                                return $(this).attr("src", "/captcha?action\x3dcaptcha\x26i\x3d" + (new Date).getTime())
                            }),
                            $(document).on("click", ".submit-field .submit",
                            function(e) {
                                var t;
                                t = $(this).parents("form"),
                                t.find("input:text").each(function() {
                                    return $(this).val($.trim($(this).val()))
                                });
                                if ($(".submit-field .captcha-container").length > 0) return e.preventDefault(),
                                $.get("/captcha/verify?captcha\x3d" + $("#captcha").val(),
                                function(e) {
                                    return e === "false" ? ($("#captcha").addClass("error"), $(".captcha-container .error-message").show()) : t.submit()
                                })
                            }),
                            $(document).on("click", ".user-info .logout-link",
                            function(e) {
                                return e.preventDefault(),
                                $.ajax({
                                    url: $(this).attr("href"),
                                    type: "delete",
                                    complete: function(e) {
                                        if (e.status === 200) return window.location.reload()
                                    }
                                })
                            }),
                            $(".field_content textarea:visible").autosize().blur()
                        })
                    }.call(this),
                    function() {
                        window.GoldenData || (window.GoldenData = {}),
                        GoldenData.adjustViewPosition = function(e, t) {
                            var n, r, i, s, o, u;
                            u = $("" + t + " .editing:visible");
                            if (u.length == 0) u = $("" + t + " .edit-child:visible");
                            if (u.length > 0) return s = $(e).parents(".accordion"),
                            o = $(t).offset().top + s.find(".accordion-heading").outerHeight() * 2,
                            n = u.offset().top - o - 3,
                            n < 0 && (n = 0),
                            s.animate({
                                marginTop: n
                            },
                            300),
                            i = u.offset().top - $(t).offset().top + u.outerHeight() / 2,
                            r = $(".sidebar").find(".arrow-left-inner, .arrow-left-outer"),
                            r.animate({
                                marginTop: i
                            },
                            300,
                            function() {
                                return r.show()
                            })
                        },
                        GoldenData.resetButtonPosition = function(e) {
                            var t, n, r, i, s;
                            t = $(e);
                            if (t.length === 0) return;
                            return $(document).height() <= $(window).height() ? t.removeClass("fixed") : (n = $(window).height() - t.outerHeight(), r = t.prev(":visible"), s = parseFloat(r.css("marginBottom")) || 0, i = (r.offset() ? r.offset().top: 0) + r.outerHeight() + s, i > n + $(window).scrollTop() ? t.addClass("fixed") : t.removeClass("fixed"))
                        }
                    }.call(this),
                    function() {
                        window.GoldenData || (window.GoldenData = {}),
                        $(function() {
                            var e;
                            return GoldenData.showInlineErrorIfHave = function(e, t, n) {
                                var r;
                                n == null && (n = null);
                                if (t) return e.addClass("error"),
                                r = $("\x3cspan class\x3d'error-message'\x3e" + t + "\x3c/span\x3e"),
                                n && r.attr("data-attr", n),
                                e.parent().append(r)
                            },
                            GoldenData.generateFormString = function(e) {
                                return JSON.stringify(e.fieldList.toJSON()) + e.get("name") + e.get("description")
                            },
                            GoldenData.updateChoice = function(e, t, n) {
                                var r, i, s, o;
                                return n == null && (n = !1),
                                s = $(e.target),
                                s.removeClass("error"),
                                s.find("+ .error-message").remove(),
                                i = {},
                                r = s.data("field-key"),
                                o = !0,
                                s.attr("type") === "checkbox" || s.attr("type") === "radio" ? (i[r] = s.is(":checked"), o = !1) : i[r] = s.val(),
                                t.set(i, {
                                    validate: o,
                                    silent: n
                                }),
                                GoldenData.showInlineErrorIfHave(s, t.validationError)
                            },
                            e = Backbone.View.extend({
                                el: "#form_header .legend",
                                events: {
                                    click: "edit",
                                    "change [data-field-key]": "update"
                                },
                                render: function() {
                                    var e;
                                    if (this.currentStatus === "show") return;
                                    return e = _.template($("#form_show_template").html()),
                                    this.$el.html(e(this.model.toJSON())),
                                    this.currentStatus = "show"
                                },
                                renderEdit: function() {
                                    var e, t;
                                    if (this.currentStatus === "edit") return;
                                    return t = _.template($("#form_edit_template").html()),
                                    e = $.trim(t(this.model.toJSON(!1))),
                                    this.$el.html(e),
                                    this.$("input").placeholder(),
                                    this.currentStatus = "edit",
                                    delay(1,
                                    function() {
                                        return GoldenData.initTinyMCE("#form_description")
                                    })
                                },
                                edit: function() {
                                    if (this.$el.hasClass("editing")) return;
                                    return $("#form_preview .editing").removeClass("editing"),
                                    this.$el.addClass("editing"),
                                    this.renderEdit(),
                                    GoldenData.fieldEditView.adjustPosition(),
                                    $(".sidebar").hide()
                                },
                                update: function(e) {
                                    var t, n, r;
                                    return r = $(e.target),
                                    r.removeClass("error").next(".error-message").remove(),
                                    t = {},
                                    t[r.data("field-key")] = r.val(),
                                    this.model.set(t, {
                                        validate: !0
                                    }),
                                    n = $(r.closest(".legend").find("#form_name")),
                                    n.removeClass("error").next(".error-message").remove(),
                                    GoldenData.showInlineErrorIfHave(n, this.model.validationError)
                                }
                            }),
                            GoldenData.Form = Backbone.Model.extend({
                                defaults: {
                                    name: "",
                                    description: ""
                                },
                                _initSortableFields: function() {
                                    return this.sortableFields = $("#form_preview .fields").sortable({
                                        items: "\x3e .field",
                                        handle: ".sort",
                                        forcePlaceholderSize: !0,
                                        scroll: !0,
                                        placeholder: "sortable-placeholder",
                                        axis: "y",
                                        update: function(e, t) {
                                            var n, r, i, s, o;
                                            r = $.map($(this).find(".field"),
                                            function(e) {
                                                return $(e).data("cid")
                                            });
                                            for (i = s = 0, o = r.length; s < o; i = ++s) n = r[i],
                                            GoldenData.fieldList.get(n).set({
                                                position: i + 1
                                            },
                                            {
                                                silent: !0
                                            });
                                            return GoldenData.fieldList.sort(),
                                            GoldenData.fieldEditView.adjustPosition()
                                        }
                                    })
                                },
                                _doSomethingWhenNoField: function() {
                                    if (this.fieldList.length === 0) return $("#form_preview .no-field-alert").show(),
                                    $("#field_settings").parents(".accordion-group").css("visibility", "hidden")
                                },
                                initialize: function(t, n) {
                                    return this.urlRoot = n.urlRoot,
                                    this.headerView = new e({
                                        model: this
                                    }),
                                    this.headerView.render(),
                                    GoldenData.fieldList = new GoldenData.FieldList,
                                    GoldenData.fieldEditView = new GoldenData.FieldEditView,
                                    GoldenData.fieldDeleteModalView = new GoldenData.FieldDeleteModalView,
                                    $("#form_preview .fields .field").remove(),
                                    GoldenData.fieldList.on("add",
                                    function(e, t) {
                                        var n, r;
                                        n = t.indexOf(e),
                                        $("#form_preview .no-field-alert").hide(),
                                        $("#field_settings").parents(".accordion-group").css("visibility", "visible"),
                                        r = new GoldenData.FieldShowView({
                                            model: e
                                        }),
                                        $("#form_preview .fields .field").length === 0 ? $("#form_preview .fields").append(r.render().el) : $("#form_preview .fields .field:nth-child(" + n + ")").after(r.render().el);
                                        if (!e.get("_id") || isAddField == true) {
                                            isAddField = false;
                                            return r.$(".control-group").trigger("click")
                                        }
                                    }),
                                    GoldenData.fieldList.on("remove",
                                    function(e) {
                                        return function(t) {
                                            return t.trigger("remove"),
                                            GoldenData.fieldEditView.model === t && ($(".sidebar").hide(), GoldenData.fieldEditView.$el.empty()),
                                            e._doSomethingWhenNoField()
                                        }
                                    } (this)),
                                    _(this.get("ordered_fields")).each(function(e) {
                                        return GoldenData.fieldList.add(e)
                                    }),
                                    this.unset("ordered_fields", {
                                        silent: !0
                                    }),
                                    this.fieldList = GoldenData.fieldList,
                                    GoldenData.formStringOrigin = GoldenData.generateFormString(this),
                                    this._initSortableFields(),
                                    this._doSomethingWhenNoField()
                                },
                                validate: function(e) {
                                    if ($.trim(e.name) === "") return "\u8868\u5355\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"
                                },
                                toJSON: function(e) {
                                    var t;
                                    return e == null && (e = !0),
                                    t = _.clone(this.attributes),
                                    e && $.trim(t.name) === "" && (t.name = "\u672a\u547d\u540d\u8868\u5355"),
                                    t
                                },
                                add: function(e) {
                                    var t, n, r;
                                    return t = (n = (r = this.fieldList.last()) != null ? r.get("position") : void 0) != null ? n: 0,
                                    e.position = t + 1,
                                    this.fieldList.add(e)
                                },
                                remove: function(e) {
                                    return this.fieldList.remove(e)
                                },
                                duplicate: function(e) {
                                    var t, n, r, i;
                                    t = _.omit(e.attributes, ["api_code", "has_data", "position"]),
                                    t.position = e.get("position") + 1,
                                    n = this.fieldList.rest(this.fieldList.indexOf(e) + 1);
                                    if (!_.isEmpty(n)) {
                                        for (r = 0, i = n.length; r < i; r++) e = n[r],
                                        e.set({
                                            position: e.get("position") + 1
                                        },
                                        {
                                            silent: !0
                                        });
                                        this.fieldList.sort()
                                    }
                                    if (t.choices && t.choices.length > 0) {
                                        var choices = [];
                                        _.each(t.choices,
                                        function(e) {
                                            delete e._id;
                                            choices.push(e)
                                        });
                                        t.choices = choices
                                    }
                                    var map = {};
                                    if (t.children && t.children.length > 0) {
                                        var id = "fo" + uuid().replace(/-/g, "");
                                        map[t._id] = id;
                                        t._id = id
                                    } else delete t._id;
                                    _.each(t.children,
                                    function(e) {
                                        map[e._id] = "fo" + uuid().replace(/-/g, "");
                                        if (e.choices && e.choices.length > 0) {
                                            var choices = [];
                                            _.each(e.choices,
                                            function(e) {
                                                delete e._id;
                                                choices.push(e)
                                            });
                                            e.choices = choices
                                        }
                                    });
                                    var json = JSON.stringify(t.children);
                                    var option = JSON.stringify(t.options);
                                    for (key in map) {
                                        json = json.replaceAll(key, map[key]);
                                        if (option) option = option.replaceAll(key, map[key])
                                    }
                                    if (t.children) t.children = JSON.parse(json);
                                    if (t.options) t.options = JSON.parse(option);
                                    return this.fieldList.add(t)
                                },
                                _enable_save_button: function(e) {
                                    if ($(e).hasClass("disabled")) return $(e).html($(e).data("enabled-with")),
                                    $(e).removeClass("disabled")
                                },
                                saveAll: function(e) {
                                    var t, n;
                                    return e == null && (e = !0),
                                    $(".fields .error-message").empty(),
                                    n = this.isNew(),
                                    _.each(this.fieldList.models,
                                    function(e, t, n) {
                                        if (e.errorMessage) return e.errorMessage = null
                                    }),
                                    t = {
                                        fields: this.fieldList.toJSON()
                                    },
                                    GoldenData.formSymbol && GoldenData.formSymbol.isNew() && (GoldenData.formSymbol.unset("shouldSave"), t.symbol = GoldenData.formSymbol.toJSON()),
                                    $.trim(this.get("name")) === "" && (t.name = "\u672a\u547d\u540d\u8868\u5355"),
                                    this.save(t, {
                                        success: function(t) {
                                            return function(r, i) {
                                                return t.fieldList.set(i.ordered_fields),
                                                _.each($("#form_preview .fields .field"),
                                                function(e, n, r) {
                                                    return $(e).data("cid", t.fieldList.at(n).cid)
                                                }),
                                                GoldenData.formStringOrigin = GoldenData.generateFormString(GoldenData.form),
                                                n && e ? Turbolinks.visit("/forms/" + r.get("token") + "/edit") : showFlashNotification("\u8868\u5355\u4fdd\u5b58\u6210\u529f\uff01"),
                                                t._enable_save_button("#save_form")
                                            }
                                        } (this),
                                        error: function(e) {
                                            return function(t, n, r) {
                                                var i;
                                                return e._enable_save_button("#save_form"),
                                                i = $.parseJSON(n.responseText),
                                                n.status === 401 && i.redirect_url ? Turbolinks.visit(i.redirect_url) : (_.each(i.fields,
                                                function(e, n, r) {
                                                    var i;
                                                    return i = _.find(t.fieldList.models,
                                                    function(t) {
                                                        return t.get("api_code") === e.api_code
                                                    }),
                                                    i.errorMessage = "\u6b64\u5b57\u6bb5\u5df2\u6709\u6570\u636e\uff0c\u4e0d\u80fd\u518d\u4fee\u6539\u7c7b\u578b\uff0c\u8bf7\u91cd\u7f6e\u4e3a" + e.origin_type_name,
                                                    i.error = e
                                                }), showFlashNotification(i.message, "error"))
                                            }
                                        } (this)
                                    })
                                },
                                template_design_save_and_next: function() {
                                    var e;
                                    return $(".fields .error-message").empty(),
                                    _.each(this.fieldList.models,
                                    function(e, t, n) {
                                        if (e.errorMessage) return e.errorMessage
                                    }),
                                    e = {
                                        fields: this.fieldList.toJSON()
                                    },
                                    $.trim(this.get("name")) === "" && (e.name = "\u672a\u547d\u540d\u8868\u5355"),
                                    this.save(e, {
                                        success: function(e) {
                                            return function(t, n) {
                                                return e._enable_save_button("#template_design_next_step"),
                                                Turbolinks.visit("/templates/" + t.get("token") + "/edit_info")
                                            }
                                        } (this),
                                        error: function(e) {
                                            return function(t, n, r) {
                                                var i;
                                                return e._enable_save_button("#template_design_next_step"),
                                                i = $.parseJSON(n.responseText),
                                                n.status === 401 && i.redirect_url ? (Turbolinks.visit(i.redirect_url), showFlashNotification("\u65e0\u6743\u521b\u5efa\u6216\u66f4\u65b0\u6a21\u677f\uff01", "error")) : showFlashNotification("\u6a21\u677f\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u6309\u63d0\u9192\u4fee\u590d\u9519\u8bef\uff01", "error")
                                            }
                                        } (this)
                                    })
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        GoldenData.updatePaymentSubmitInfo = function(e) {
                            var t, n, r, i;
                            return r = e.find("input[name\x3duse_balance]"),
                            n = (r != null ? r.attr("checked") : void 0) ? r.data("amount") : 0,
                            t = e.find(".selected input[name\x3dactual_price]").val() || 0,
                            i = parseFloat(t) - parseFloat(n),
                            i > 0 ? (e.find(".submit-btn.pay").removeClass("direct"), e.find(".submit-btn.pay").val("\u7acb\u5373\u652f\u4ed8 " + i.toFixed(2).toString() + " \u5143"), e.find(".span.addition-desc").text("")) : (e.find(".submit-btn.pay").addClass("direct"), e.find(".submit-btn.pay").val("\u7acb\u5373\u8d2d\u4e70"), e.find(".span.addition-desc").text("\uff0c\u4ece\u4f59\u989d\u6263\u6b3e" + parseFloat(t).toFixed(2).toString() + "\u5143"))
                        },
                        $(function() {
                            return $(document).on("change", ".pay-area input[name\x3duse_balance]",
                            function() {
                                return $("input[name\x3duse_balance]").attr("checked", !!$(this).attr("checked")),
                                GoldenData.updatePaymentSubmitInfo($(this).closest("form"))
                            })
                        })
                    }.call(this),
                    function() {
                        var e = "undefined",
                        t = "string",
                        n = self.navigator,
                        r = String,
                        i = Object.prototype.hasOwnProperty,
                        s = {},
                        o = {},
                        u = !1,
                        a = !0,
                        f = /^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,
                        l, c = "locale",
                        h = "defaultLocale",
                        p = "toLocaleString",
                        d = "toLowerCase",
                        v = Array.prototype.indexOf ||
                        function(e) {
                            var t = this.length,
                            n = 0;
                            for (; n < t; n++) if (n in this && this[n] === e) return n;
                            return - 1
                        },
                        m = function(e) {
                            var t = new l;
                            return t.open("GET", e, u),
                            t.send(null),
                            t.status !== 200 ? (setTimeout(function() {
                                var t = new Error("Unable to load localization data: " + e);
                                throw t.name = "Localization Error",
                                t;
                            },
                            0), {}) : JSON.parse(t.responseText)
                        },
                        g = r[p] = function(e) {
                            if (arguments.length > 0 && typeof e != "number") if (typeof e === t) g(m(e));
                            else if (e === u) o = {};
                            else {
                                var n, a, f;
                                for (n in e) if (i.call(e, n)) {
                                    a = e[n],
                                    n = n[d]();
                                    if (! (n in o) || a === u) o[n] = {};
                                    if (a === u) continue;
                                    if (typeof a === t) {
                                        if (r[c][d]().indexOf(n) !== 0) {
                                            n in s || (s[n] = []),
                                            s[n].push(a);
                                            continue
                                        }
                                        a = m(a)
                                    }
                                    for (f in a) i.call(a, f) && (o[n][f] = a[f])
                                }
                            }
                            return Function.prototype[p].apply(r, arguments)
                        },
                        y = function(e) {
                            var t = s[e],
                            n = 0,
                            r = t.length,
                            i;
                            for (; n < r; n++) i = {},
                            i[e] = m(t[n]),
                            g(i);
                            delete s[e]
                        },
                        b,
                        w = r.prototype[p] = function() {
                            var e = b,
                            t = r[e ? h: c],
                            n = t[d]().split("-"),
                            i = n.length,
                            f = this.valueOf(),
                            l;
                            b = u;
                            do {
                                l = n.slice(0, i).join("-"), l in s && y(l);
                                if (l in o && f in o[l]) return o[l][f]
                            } while ( i --> 1 );
                            return ! e && r[h] ? (b = a, w.call(f)) : f
                        };
                        if (typeof XMLHttpRequest === e && typeof ActiveXObject !== e) {
                            var E = ActiveXObject;
                            l = function() {
                                try {
                                    return new E("Msxml2.XMLHTTP.6.0")
                                } catch(e$75) {}
                                try {
                                    return new E("Msxml2.XMLHTTP.3.0")
                                } catch(t$76) {}
                                try {
                                    return new E("Msxml2.XMLHTTP")
                                } catch(n$77) {}
                                throw new Error("XMLHttpRequest not supported by this browser.");
                            }
                        } else l = XMLHttpRequest;
                        r[h] = r[h] || "",
                        r[c] = n && (n.language || n.userLanguage) || "";
                        if (typeof document !== e) {
                            var S = document.getElementsByTagName("link"),
                            x = S.length,
                            T;
                            while (x--) {
                                var N = S[x],
                                C = (N.getAttribute("rel") || "")[d]().split(/\s+/);
                                f.test(N.type) && (v.call(C, "localizations") !== -1 ? g(N.getAttribute("href")) : v.call(C, "localization") !== -1 && (T = {},
                                T[(N.getAttribute("hreflang") || "")[d]()] = N.getAttribute("href"), g(T)))
                            }
                        }
                    } (),
                    function() {
                        $(function() {
                            return GoldenData.Address = Backbone.Model.extend({
                                defaults: {
                                    province: "",
                                    city: "",
                                    district: "",
                                    street: ""
                                }
                            }),
                            GoldenData.AddressEditView = Backbone.View.extend({
                                events: {
                                    "change [data-field-key\x3dprovince]": "renderCityOptions",
                                    "change [data-field-key\x3dcity]": "renderDistrictOptions",
                                    change: "update"
                                },
                                render: function() {
                                    var e;
                                    return e = _.template($("#address_template").html()),
                                    $(this.el).html(e(this.model.toJSON())),
                                    GoldenData.addressSelector.render(this.$("[data-field-key\x3dprovince]"), this.$("[data-field-key\x3dcity]"), this.$("[data-field-key\x3ddistrict]"), this.model.get("province"), this.model.get("city"), this.model.get("district")),
                                    this
                                },
                                update: function(e) {
                                    var t, n, r;
                                    return r = $(e.target),
                                    t = r.data("field-key"),
                                    n = {},
                                    n[t] = r.val(),
                                    this.model.set(n)
                                },
                                renderCityOptions: function() {
                                    return GoldenData.addressSelector.renderCityOptions(this.$("[data-field-key\x3dprovince]").val(), this.$("[data-field-key\x3dcity]"))
                                },
                                renderDistrictOptions: function() {
                                    return GoldenData.addressSelector.renderDistrictOptions(this.$("[data-field-key\x3dprovince]").val(), this.$("[data-field-key\x3dcity]").val(), this.$("[data-field-key\x3ddistrict]"))
                                }
                            }),
                            GoldenData.AddressShowView = Backbone.View.extend({
                                initialize: function() {
                                    return this.model.on("change", this.render, this)
                                },
                                render: function() {
                                    var e;
                                    return e = _.template($("#address_template").html()),
                                    $(this.el).html(e(this.model.toJSON())),
                                    GoldenData.addressSelector.render(this.$("[data-field-key\x3dprovince]"), this.$("[data-field-key\x3dcity]"), this.$("[data-field-key\x3ddistrict]"), this.model.get("province"), this.model.get("city"), this.model.get("district")),
                                    this.$("input, select").attr("disabled", !0),
                                    this
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        window.GoldenData || (window.GoldenData = {}),
                        $(function() {
                            return GoldenData.AddressSelector = function() {
                                function e(e) {
                                    var t;
                                    this.data = e,
                                    this.provinces = function() {
                                        var e;
                                        e = [];
                                        for (t in this.data) e.push(t);
                                        return e
                                    }.call(this)
                                }
                                return e.prototype.render = function(e, t, n, r, i, s) {
                                    var o, u, a, f;
                                    r == null && (r = ""),
                                    i == null && (i = ""),
                                    s == null && (s = ""),
                                    e.html("\x3coption value\x3d''\x3e- \u7701/\u81ea\u6cbb\u533a/\u76f4\u8f96\u5e02 -\x3c/option\x3e"),
                                    f = this.provinces;
                                    for (u = 0, a = f.length; u < a; u++) o = f[u],
                                    e.append("\x3coption value\x3d'" + o + "'\x3e" + o + "\x3c/option\x3e");
                                    return e.val(r),
                                    $.mobile && e.selectmenu("refresh", !0),
                                    this.renderCityOptions(r, t, i),
                                    this.renderDistrictOptions(r, i, n, s)
                                },
                                e.prototype.renderCityOptions = function(e, t, n) {
                                    var r, i, s, o;
                                    n == null && (n = ""),
                                    t.html("\x3coption value\x3d''\x3e- \u5e02 -\x3c/option\x3e");
                                    if (this.data.hasOwnProperty(e)) {
                                        o = _.keys(this.data[e]);
                                        for (i = 0, s = o.length; i < s; i++) r = o[i],
                                        t.append("\x3coption value\x3d'" + r + "'\x3e" + r + "\x3c/option\x3e")
                                    }
                                    return t.val(n),
                                    $.mobile && t.selectmenu("refresh", !0),
                                    t.trigger("change")
                                },
                                e.prototype.renderDistrictOptions = function(e, t, n, r) {
                                    var i, s, o, u, a;
                                    r == null && (r = ""),
                                    n.html("\x3coption value\x3d''\x3e- \u533a/\u53bf -\x3c/option\x3e");
                                    if ((u = this.data[e]) != null ? u[t] : void 0) {
                                        a = this.data[e][t];
                                        for (s = 0, o = a.length; s < o; s++) i = a[s],
                                        n.append("\x3coption value\x3d'" + i + "'\x3e" + i + "\x3c/option\x3e")
                                    }
                                    n.val(r);
                                    if ($.mobile) return n.selectmenu("refresh", !0)
                                },
                                e
                            } (),
                            GoldenData.initAddressSelector = function(e) {
                                var t, n, r, i, s, o, u, a;
                                if (GoldenData.addressSelector) {
                                    u = $(e).find("[data-role\x3daddress]"),
                                    a = [];
                                    for (s = 0, o = u.length; s < o; s++) t = u[s],
                                    i = $(t).find("[data-role\x3dprovince]"),
                                    n = $(t).find("[data-role\x3dcity]"),
                                    r = $(t).find("[data-role\x3ddistrict]"),
                                    GoldenData.addressSelector.render(i, n, r, i.data("value"), n.data("value"), r.data("value")),
                                    i.on("change",
                                    function() {
                                        return n = $(this).parents("[data-role\x3daddress]").find("[data-role\x3dcity]"),
                                        GoldenData.addressSelector.renderCityOptions($(this).val(), n)
                                    }),
                                    a.push(n.on("change",
                                    function() {
                                        return r = $(this).parents("[data-role\x3daddress]").find("[data-role\x3ddistrict]"),
                                        i = $(this).parents("[data-role\x3daddress]").find("[data-role\x3dprovince]"),
                                        GoldenData.addressSelector.renderDistrictOptions(i.val(), $(this).val(), r)
                                    }));
                                    return a
                                }
                            },
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                return GoldenData.initAddressSelector(document)
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return $(".image-attachment-preview").livequery(function() {
                                return $(this).one("load",
                                function() {
                                    return $(this).prev(".preview-loading").hide(),
                                    $(this).css("visibility", "visible"),
                                    $(this).next("a").show()
                                }).each(function() {
                                    if (this.complete) return $(this).load()
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r;
                            return t = function(e, t, n) {
                                var r;
                                return n == null && (n = null),
                                r = $("#form_id").val(),
                                $.ajax({
                                    url: "/forms/" + r + "/share",
                                    type: e,
                                    data: t,
                                    complete: function(e, t) { (e.status === 200 || e.status === 400) && $(".roles").html(e.responseText),
                                        e.status === 302 && Turbolinks.visit(e.responseText),
                                        e.status === 12150 && Turbolinks.visit("/");
                                        if (n) return n(e, t)
                                    }
                                })
                            },
                            r = function(e, t) {
                                var n, r;
                                return n = $(e).attr("confirm"),
                                !n || confirm(n) ? t() : (r = $(e).attr("name"), $("[name\x3d'" + r + "'][original_checked\x3dtrue]").attr("checked", !0), !1)
                            },
                            n = function(e) {
                                var t;
                                return t = $("#form_id").val(),
                                $.ajax({
                                    url: "/forms/" + t + "/selectable_cooperators",
                                    type: "get",
                                    complete: function(t, n) {
                                        if (t.status === 200 || t.status === 400) return e.find(".selectable-cooperators").html(t.responseText)
                                    }
                                })
                            },
                            $(document).on("click", ".roles-table tr input[type\x3dradio].role",
                            function() {
                                return r(this,
                                function(e) {
                                    return function() {
                                        var n, r;
                                        return r = $(e).parents("tr"),
                                        n = {
                                            id: r.find("input[name\x3d'cooperator_id']").val(),
                                            role: r.find("input.role:checked").val()
                                        },
                                        t("patch", r.hasClass("inviter") ? {
                                            inviter: n
                                        }: {
                                            authority: n
                                        })
                                    }
                                } (this))
                            }),
                            $(document).on("click", ".roles-table tr .delete",
                            function() {
                                var e, n;
                                if ($(this).attr("data-disable-delete") === "true") return alert("\u7531\u4e8e\u8be5\u8868\u5355\u4e2d\u542b\u6709\u9ad8\u7ea7\u8d26\u6237\u7684\u4e13\u4eab\u529f\u80fd\uff08\u4f8b\u5982\u6837\u5f0f\u3001\u4e0a\u4f20\u6587\u4ef6\u6216\u56fe\u7247\u9875\u7709\uff09,\u8868\u5355\u521b\u5efa\u8005\u5c06\u65e0\u6cd5\u79bb\u5f00\uff01");
                                if ($(this).attr("data-delete-self") === "false" || confirm("\u60a8\u786e\u5b9a\u8981\u89e3\u9664\u5bf9\u8be5\u8868\u5355\u7684\u6240\u6709\u6743\u9650\u5417\uff1f")) return n = $(this).parents("tr"),
                                e = {
                                    id: n.find("input[name\x3d'cooperator_id']").val()
                                },
                                t("delete", n.hasClass("inviter") ? {
                                    inviter: e
                                }: {
                                    authority: e
                                })
                            }),
                            $("#add_role_modal").livequery(function() {
                                return $(this).on("hide",
                                function() {
                                    return $(this).find(".message").empty(),
                                    $(this).find("[name\x3d'authority[emails]']").val(""),
                                    $(this).find(".selectable-cooperators").html(""),
                                    e(this)
                                }),
                                $(this).on("show",
                                function() {
                                    return n($(this))
                                })
                            }),
                            e = function(e) {
                                var t;
                                return t = $(e).find(".modal-footer .btn.disabled"),
                                t.html(t.data("enabled-with")),
                                t.removeClass("disabled")
                            },
                            $(document).on("click", "#add_role_modal .modal-footer .btn",
                            function() {
                                var n, r, i, s;
                                return i = $("#add_role_modal"),
                                r = i.find("[name\x3d'authority[emails]']"),
                                s = new Array,
                                $(i.find("[name\x3d'authority[selected_emails]']:checked")).each(function() {
                                    return s.push($(this).val())
                                }),
                                n = {
                                    emails: $.trim(r.val()),
                                    selected_emails: s.join(","),
                                    role: $(this).data("role")
                                },
                                n.emails === "" && n.selected_emails === "" ? i.modal("hide") : t("post", {
                                    authority: n
                                },
                                function(t, n) {
                                    var s;
                                    e("#add_role_modal"),
                                    s = $("#message").data("message"),
                                    $("#message").removeData("message"),
                                    t.status === 200 && (i.modal("hide"), showFlashNotification(s.notice));
                                    if (t.status === 400) return r.val($(".roles #invalid_emails").text()),
                                    showStaticNotification("#add_role_modal .message", s.notice, "warning"),
                                    showStaticNotification("#add_role_modal .message", s.alert, "error")
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        window.auto_complete = function() {
                            return $("input[data-autocomplete]").each(function(e, t) {
                                var n, r, i, s;
                                return n = $(t),
                                s = n.data("autocomplete"),
                                i = null,
                                r = null,
                                n.typeahead({
                                    minLength: 2,
                                    source: function(e, t) {
                                        return i = [],
                                        r = {},
                                        $.get(s, {
                                            query: e
                                        },
                                        function(e) {
                                            var n, s;
                                            for (n in e) s = e[n],
                                            r[s.name] = s.id,
                                            i.push(s.name);
                                            return t($.unique(i))
                                        })
                                    },
                                    matcher: function(e) {
                                        return ! 0
                                    },
                                    highlighter: function(e) {
                                        return htmlSafe(e)
                                    },
                                    updater: function(e) {
                                        var t, i;
                                        return i = n.attr("for") ? "#" + n.attr("for") : "#" + n.attr("id").replace("_name", "_id"),
                                        $(i).val(r[e]),
                                        t = n.parents("form"),
                                        t.hasClass("quick-submit") && t.submit(),
                                        e
                                    }
                                })
                            })
                        },
                        $(function() {
                            return auto_complete(),
                            $(document).on("ajax:complete page:load",
                            function() {
                                return auto_complete()
                            })
                        })
                    }.call(this),
                    function() {
                        var e, t, n = function(e, t) {
                            return function() {
                                return e.apply(t, arguments)
                            }
                        };
                        t = function() {
                            return $(".jcrop-holder").css("left", "50%"),
                            $(".jcrop-holder").css("margin-left", "" - +$("#avatar_img").width() / 2 + "px"),
                            $(".jcrop-holder").css("top", "50%"),
                            $(".jcrop-holder").css("margin-top", "" - +$("#avatar_img").height() / 2 + "px")
                        },
                        e = function() {
                            function e() {
                                this.updatePreview = n(this.updatePreview, this),
                                this.update = n(this.update, this),
                                $("#avatar_img").Jcrop({
                                    aspectRatio: 1,
                                    setSelect: [0, 0, 100, 100],
                                    onSelect: this.update,
                                    onChange: this.update
                                })
                            }
                            return e.prototype.update = function(e) {
                                return t(),
                                $("#crop_x").val(e.x),
                                $("#crop_y").val(e.y),
                                $("#crop_w").val(e.w),
                                $("#crop_h").val(e.h),
                                this.updatePreview(e)
                            },
                            e.prototype.updatePreview = function(e) {
                                return $("#large_avatar_preview").css(this.adjustAvatarPreview(100, e)),
                                $("#normal_avatar_preview").css(this.adjustAvatarPreview(50, e)),
                                $("#small_avatar_preview").css(this.adjustAvatarPreview(20, e))
                            },
                            e.prototype.adjustAvatarPreview = function(e, t) {
                                return {
                                    width: Math.round(e / t.w * $("#avatar_img").width()) + "px",
                                    height: Math.round(e / t.h * $("#avatar_img").height()) + "px",
                                    marginLeft: "-" + Math.round(e / t.w * t.x) + "px",
                                    marginTop: "-" + Math.round(e / t.h * t.y) + "px"
                                }
                            },
                            e
                        } (),
                        $(function() {
                            return $("#avatar_form").livequery(function() {
                                return $(this).fileupload({
                                    dataType: "json",
                                    dropZone: null,
                                    add: function(e, t) {
                                        return $.each(t.files,
                                        function(e, n) {
                                            var r, i;
                                            return i = GoldenData.validateFile(n, 5E6, /.*\.(jpg|jpeg|png|gif)$/gi),
                                            i.length === 0 ? t.submit() : (r = $("#avatar_form").prev(".alert"), r.show(), r.children("span").text(i))
                                        })
                                    },
                                    start: function() {
                                        return $("#avatar_form .btn").attr("disabled", !0),
                                        $("#avatar_form .btn span").text("\u6b63\u5728\u4e0a\u4f20..."),
                                        $("#avatar_form .btn").on("click",
                                        function() {
                                            return ! 1
                                        })
                                    },
                                    always: function(t, n) {
                                        return n.result.error ? $.ajax({
                                            url: n.result.redirect_url,
                                            type: "get",
                                            complete: function(e, t) {
                                                var r;
                                                return $("#change_avatar_modal .modal-body").html(e.responseText),
                                                r = $("#avatar_form").prev(".alert"),
                                                r.show(),
                                                r.children("span").text(n.result.messages)
                                            }
                                        }) : $.ajax({
                                            url: n.result.redirect_url,
                                            type: "get",
                                            data: {
                                                avatar_path: n.result.avatar_path,
                                                page_refresh_url: n.result.page_refresh_url
                                            },
                                            complete: function(t, n) {
                                                return $("#change_avatar_modal .modal-body").html(t.responseText),
                                                new e,
                                                $("#change_avatar").attr("disabled", !1)
                                            }
                                        })
                                    }
                                }),
                                $("#avatar_form a.change-photo").on("click",
                                function() {
                                    return $.ajax({
                                        url: "/avatar/upload",
                                        complete: function(e, t) {
                                            return $("#change_avatar_modal .modal-body").html(e.responseText)
                                        }
                                    })
                                })
                            }),
                            $(document).on("click", "#change_avatar",
                            function() {
                                return $("#change_avatar").text("\u6b63\u5728\u4fdd\u5b58..."),
                                $("#change_avatar").attr("disabled", !0),
                                $(this).parents(".modal").find("form").submit()
                            })
                        })
                    }.call(this),
                    function() {
                        window.GoldenData || (window.GoldenData = {}),
                        $(function() {
                            var e;
                            return e = function(e, t) {
                                var n, r, i, s, o, u;
                                r = e.find("option:selected"),
                                t.html("\x3coption value\x3d''\x3e" + l("%select_prompt") + "\x3c/option\x3e"),
                                u = (o = r.data("choices")) != null ? o: [];
                                for (i = 0, s = u.length; i < s; i++) n = u[i],
                                t.append("\x3coption value\x3d'" + n + "'\x3e" + n + "\x3c/option\x3e");
                                t.val(t.data("value"));
                                if ($.mobile) return t.selectmenu("refresh", !0)
                            },
                            GoldenData.initCascadeSelector = function(t) {
                                var n, r, i, s, o, u;
                                o = $(t).find("[data-role\x3dcascade]"),
                                u = [];
                                for (i = 0, s = o.length; i < s; i++) n = o[i],
                                r = $(n).find("[data-role\x3dlevel_1]"),
                                e(r, $(n).find("[data-role\x3dlevel_2]")),
                                u.push(r.on("change",
                                function() {
                                    var t;
                                    return t = $(this).parents("[data-role\x3dcascade]").find("[data-role\x3dlevel_2]"),
                                    e($(this), t)
                                }));
                                return u
                            },
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                return GoldenData.initCascadeSelector(document)
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return e = function(e) {
                                return ! GoldenData.isNumber(e) || parseInt(e) < 0 || parseFloat(e) % 1 > 0
                            },
                            GoldenData.Choice = Backbone.Model.extend({
                                defaults: {
                                    _type: "Choice",
                                    selected: !1,
                                    value: "",
                                    quota: null,
                                    sub_choices: []
                                },
                                initialize: function() {
                                    var e;
                                    return this.choiceType = "single",
                                    this.type = "RadioButton",
                                    this.set({
                                        quota_temp: (e = this.get("quota")) != null ? e: ""
                                    })
                                },
                                validate: function(t) {
                                    if ($.trim(t.value) === "") return "\u4e0d\u80fd\u4e3a\u7a7a";
                                    if ($.trim(t.quota_temp) && e(t.quota_temp)) return "\u540d\u989d\u5fc5\u987b\u4e3a\u975e\u8d1f\u6574\u6570\u6216\u4e3a\u7a7a"
                                },
                                toJSONWithChoiceType: function(e) {
                                    var t;
                                    return e == null && (e = !0),
                                    t = this.toJSON(e),
                                    t.choiceType = this.choiceType,
                                    t
                                },
                                toJSON: function(e) {
                                    if (this.get("_id") == undefined) this.set("_id", "fo" + uuid().replace(/-/g, ""));
                                    var t;
                                    return e == null && (e = !0),
                                    t = _.clone(this.attributes),
                                    e && $.trim(t.value) === "" && (t.value = "\u9009\u9879"),
                                    t
                                },
                                subChoicesDisplay: function() {
                                    return _.map(this.get("sub_choices"),
                                    function(e) {
                                        return "-" + e.value
                                    }).join("\n")
                                }
                            }),
                            GoldenData.ImageChoice = Backbone.Model.extend({
                                defaults: {
                                    _type: "ImageChoice",
                                    selected: !1,
                                    name: "\u56fe\u7247",
                                    position: 0,
                                    value: "",
                                    quota: null
                                },
                                initialize: function() {
                                    var e;
                                    return this.choiceType = "single",
                                    this.type = "ImageRadioButton",
                                    this.set({
                                        quota_temp: (e = this.get("quota")) != null ? e: ""
                                    })
                                },
                                validate: function(t) {
                                    if ($.trim(t.name) === "") return "\u56fe\u7247\u540d\u79f0\u9009\u9879\u4e0d\u80fd\u4e3a\u7a7a";
                                    if ($.trim(t.quota_temp) && e(t.quota_temp)) return "\u540d\u989d\u5fc5\u987b\u4e3a\u975e\u8d1f\u6570\u5b57\u6216\u4e3a\u7a7a"
                                },
                                toJSONWithChoiceType: function() {
                                    var e;
                                    return e = this.toJSON(),
                                    e.choiceType = this.choiceType,
                                    e
                                }
                            }),
                            GoldenData.OtherChoice = GoldenData.Choice.extend({
                                defaults: {
                                    _type: "OtherChoice",
                                    selected: !1,
                                    value: "\u5176\u5b83"
                                }
                            }),
                            GoldenData.TextChoiceList = Backbone.Collection.extend({
                                model: GoldenData.Choice,
                                formatWithCascade: function() {
                                    var e;
                                    return e = [],
                                    this.each(function(t) {
                                        e.push(t.get("value"));
                                        if (!_.isEmpty(t.get("sub_choices"))) return e.push(t.subChoicesDisplay())
                                    }),
                                    _.flatten(e).join("\n")
                                }
                            }),
                            GoldenData.ImageChoiceList = Backbone.Collection.extend({
                                model: GoldenData.ImageChoice
                            }),
                            GoldenData.ChoiceContainerEditView = Backbone.View.extend({
                                tagName: "li",
                                className: "choice",
                                events: {
                                    "change input": "update",
                                    "mousedown input[type\x3d'radio']:checked": "uncheckChoice",
                                    "keydown input[type\x3d'radio']:checked": "uncheckChoice",
                                    "click .del_choice": "deleteChoice",
                                    "click .add_choice": "addChoice"
                                },
                                _resetPlaceHolder: function() {
                                    return $("input.placeholder, textarea.placeholder").focus(),
                                    $("input.placeholder, textarea.placeholder").trigger("phinit.placeholder")
                                },
                                render: function() {
                                    var e, t, n;
                                    return t = GoldenData.fieldEditView.model.type.replace("Image", ""),
                                    e = "single",
                                    t === "CheckBox" && (e = "multiple"),
                                    n = _.template($("#" + e + "_text_choice_edit_template").html()),
                                    this.model.type = t,
                                    this.model.choiceType = e,
                                    $(this.el).html(n(this.model.toJSONWithChoiceType(!1))),
                                    GoldenData.fieldEditView.$(".choices .del_choice").show(),
                                    this.$("input, textarea").placeholder(),
                                    this
                                },
                                update: function(e) {
                                    var t;
                                    return GoldenData.updateChoice(e, this.model),
                                    this.model.type !== "CheckBox" && (t = this.model, _.each(GoldenData.fieldEditView.model.textChoiceList.models,
                                    function(e) {
                                        if (e.cid !== t.cid) return e.set("selected", !1)
                                    })),
                                    e.stopPropagation()
                                },
                                uncheckChoice: function(e) {
                                    var t;
                                    return t = $(e.target),
                                    setTimeout(function(n) {
                                        return function() {
                                            return t.removeAttr("checked"),
                                            n.update(e)
                                        }
                                    } (this), 150)
                                },
                                deleteChoice: function(e) {
                                    e.preventDefault(),
                                    $(e.target).hasClass("other-choice-remove") && $(".add-other-choice").parent().show(),
                                    GoldenData.fieldEditView.model.textChoiceList.remove(this.model),
                                    this._resetPlaceHolder(),
                                    this.remove();
                                    if (GoldenData.fieldEditView.model.textChoiceList.length <= 1) return GoldenData.fieldEditView.$(".choices .del_choice").hide()
                                },
                                addChoice: function() {
                                    var e, t, n;
                                    return n = GoldenData.fieldEditView.model.textChoiceList,
                                    t = _.indexOf(n.models, this.model) + 1,
                                    e = new GoldenData.Choice,
                                    n.add(e, {
                                        at: t
                                    }),
                                    this.$el.after((new GoldenData.ChoiceContainerEditView({
                                        model: e
                                    })).render().el),
                                    this._resetPlaceHolder()
                                }
                            }),
                            GoldenData.ChoiceContainerShowView = Backbone.View.extend({
                                initialize: function() {
                                    return this.model.on("change", this.render, this)
                                },
                                _isOtherChoice: function() {
                                    return this.model.get("_type") === "OtherChoice"
                                },
                                _quotaText: function(e) {
                                    return e > 0 ? "\u4f59" + e: "\u5df2\u7a7a"
                                },
                                _showTextChoiceQuota: function(e) {
                                    if (e === 0 && this.model.type === "DropDown") return this.$el.parents(".controls").find("input.other-choice").hide(),
                                    this.$el.removeAttr("selected");
                                    this._isOtherChoice() && this.model.type !== "DropDown" ? this.$("label").append("\uff08" + this._quotaText(e) + "\uff09") : this.$el.append("\uff08" + this._quotaText(e) + "\uff09");
                                    if (e === 0) return this.$el.addClass("muted"),
                                    this.$(".other-choice-input").remove()
                                },
                                _showImageChoiceQuota: function(e) {
                                    this.model.get("layout") === "column" ? this.$(".text-wrapper").append("\x3cdiv class\x3d'quota'\x3e" + this._quotaText(e) + "\x3c/div\x3e") : this.$(".text-wrapper").after("\x3cdiv class\x3d'quota'\x3e" + this._quotaText(e) + "\x3c/div\x3e");
                                    if (e === 0) return this.$el.addClass("muted")
                                },
                                _showQuota: function(e) {
                                    var t;
                                    this.$el.removeClass("muted"),
                                    t = this.model.get("quota");
                                    if (_.isUndefined(t) || _.isNull(t) || $.trim(t) === "") return;
                                    return t = parseFloat(t),
                                    e ? this._showImageChoiceQuota(t) : this._showTextChoiceQuota(t)
                                },
                                render: function() {
                                    var e, t, n, r, i, s, o, u, a;
                                    return r = this.model.type,
                                    t = r.indexOf("Image") > -1,
                                    n = t && this.model.get("layout") === "column" ? "_column": "",
                                    o = _.template($("#" + r + n + "_choice_show_template").html()),
                                    u = o(this.model.toJSONWithChoiceType()),
                                    this._isOtherChoice() && this.model.type !== "DropDown" ? (e = this.model.type.indexOf("CheckBox") > -1 ? "checkbox": "radio", a = $("\x3clabel\x3e\x3c/label\x3e"), a.addClass(e), a.html(u), this.$el.html(a), this.$el.append("\x3cinput type\x3d'text' name\x3d'field[choices]_other' class\x3d'input-medium other-choice-input'\x3e")) : this.$el.addClass("mr10").html(u),
                                    n && this.$el.addClass("column"),
                                    r === "DropDown" && (s = this.model.get("selected"), this.$el.attr("selected", s), i = this.$el.parents(".controls").find("input.other-choice"), this._isOtherChoice() && s ? i.show() : i.hide()),
                                    this._showQuota(t),
                                    this.$("input").attr("disabled", !0),
                                    this
                                }
                            }),
                            GoldenData.ChoiceQuotaEditView = Backbone.View.extend({
                                tagName: "tr",
                                events: {
                                    "change input": "update"
                                },
                                _choiceDisplayName: function() {
                                    return this.model.get("_type") === "ImageChoice" ? this.model.get("name") : this.model.get("value")
                                },
                                render: function() {
                                    var e;
                                    return this.$el.append("\x3ctd\x3e" + this._choiceDisplayName() + "\x3c/td\x3e"),
                                    this.$el.append("\x3ctd class\x3d'quota'\x3e\x3cinput type\x3d'text' class\x3d'input-medium' data-field-key\x3d'quota_temp' value\x3d'" + ((e = this.model.get("quota")) != null ? e: "") + "'\x3e\x3c/td\x3e"),
                                    this
                                },
                                update: function(e) {
                                    return GoldenData.updateChoice(e, this.model, !0),
                                    e.stopPropagation()
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return $(document).on("page:load ready ajax:complete",
                            function() {
                                return $("#system_warning").on("close", ".alert",
                                function() {
                                    var e;
                                    return e = $(this).find(".close"),
                                    $.ajax({
                                        url: "/system_notification_dismiss",
                                        data: {
                                            type: e.data("type"),
                                            media: "system",
                                            id: e.data("id")
                                        },
                                        type: "patch"
                                    })
                                }),
                                $("#system_warning").on("close", ".system-notify",
                                function() {
                                    return $.ajax({
                                        url: "/system_message_notification_dismiss",
                                        data: {
                                            message_id: $(this).find(".close").data("message-id")
                                        },
                                        type: "patch"
                                    })
                                }),
                                $("#system_warning").on("click", ".system-notify a:first",
                                function() {
                                    return $.ajax({
                                        url: "/system_message_notification_dismiss",
                                        data: {
                                            message_id: $(this).parent().find(".close").data("message-id")
                                        },
                                        type: "patch"
                                    })
                                })
                            }),
                            GoldenData.updateFormBlocks = function(e) {
                                var t, n, r, i, s;
                                s = $($(e).attr("href")).find(".forms-blocks"),
                                i = $(e).data("tag"),
                                n = !1,
                                r = $(".dashboard a[data-tag\x3d" + i + "]"),
                                r.each(function() {
                                    if ($(this).data("need-update")) return n = !0
                                });
                                if ($.trim(s.html()) === "" || n) return t = {
                                    tag_id: i
                                },
                                $.get("/form_blocks", t,
                                function(e) {
                                    return function(e) {
                                        return r.removeData("need-update"),
                                        s.html(e),
                                        GoldenData.initFormSettingClickover()
                                    }
                                } (this))
                            },
                            $(document).on("show", ".dashboard a[data-toggle\x3d'tab']",
                            function() {
                                return GoldenData.updateFormBlocks($(this))
                            }),
                            $(document).on("click", ".forms-blocks .form-data-count",
                            function(e) {
                                return Turbolinks.visit("" + $(this).parent().attr("href") + "/entries"),
                                !1
                            }),
                            $(document).on("click", "#verify_email_reminder_modal .email-link",
                            function() {
                                return $("#verify_email_reminder_modal").modal("hide")
                            }),
                            $(document).on("click", "#weixin_guide_modal .modal-footer .next-step",
                            function() {
                                return $("#weixin_guide_modal .slidesjs-next").click()
                            }),
                            $(document).on("click", "#weixin_guide_modal .modal-footer .last-step-footer a",
                            function() {
                                var e, t;
                                e = $(".redirect-checkbox").is(":checked"),
                                t = $(this).data("url"),
                                $("#weixin_guide_modal").modal("hide");
                                if (e) return Turbolinks.visit(t)
                            }),
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                var e;
                                return $.cookie("first_login") ? ($("#verify_email_reminder_modal").modal("show"), $.removeCookie("first_login")) : $("#weixin_guide_modal").modal("show"),
                                e = function(e) {
                                    var t;
                                    return t = $("#weixin_guide_modal"),
                                    e > 2 ? t.addClass("last-step") : t.removeClass("last-step"),
                                    e === 1 ? t.addClass("first-step") : t.removeClass("first-step")
                                },
                                $("#weixin_guide_slides").slidesjs({
                                    width: 1280,
                                    height: 680,
                                    navigation: !1,
                                    callback: {
                                        loaded: function(t) {
                                            return e(t)
                                        },
                                        complete: function(t) {
                                            return e(t)
                                        }
                                    }
                                })
                            }),
                            GoldenData.formSearchTimeout = null,
                            GoldenData.formSearchTimestamp = (new Date).getTime(),
                            e = function() {
                                var e, t, n;
                                t = $(".search .search-content"),
                                e = $.trim(t.val()),
                                t.val(e);
                                if (e.length > 0) return n = (new Date).getTime(),
                                $.get("/forms/search", {
                                    keyword: e
                                },
                                function(e) {
                                    return function(e) {
                                        if (GoldenData.formSearchTimestamp < n) return GoldenData.formSearchTimestamp = n,
                                        $(".search-forms-content").html(e)
                                    }
                                } (this))
                            },
                            $(document).on("click", "#forms_section .search-forms-content tbody tr",
                            function(e) {
                                if (!$(e.target).is("a")) return Turbolinks.visit($(this).data("url"))
                            }),
                            $(document).on("click", "#forms_section .search-link",
                            function() {
                                if ($.trim($(".search .search-content").val()).length > 0) return $(this).siblings(".search-trigger").click()
                            }),
                            $(document).on("keyup", "#forms_section .search .search-content",
                            function() {
                                var e, t;
                                return GoldenData.formSearchTimeout && clearTimeout(GoldenData.formSearchTimeout),
                                GoldenData.formSearchTimeout = null,
                                t = function(e) {
                                    return function() {
                                        return $(e).siblings(".search-link").click()
                                    }
                                } (this),
                                e = setTimeout(t, 500),
                                GoldenData.formSearchTimeout = e
                            }),
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                return $("#forms_section .search-trigger").clickover({
                                    animation: !1,
                                    html: !0,
                                    width: 400,
                                    class_name: "search-forms-popover clickover",
                                    content: function() {
                                        return $('\x3cdiv class\x3d"search-forms-content"\x3e\x3cdiv class\x3d"noti-message"\x3e\x3ci class\x3d"fa fa-spinner fa-spin"\x3e\x3c/i\x3e\u641c\u7d22\u4e2d\u2026\u2026\x3c/div\x3e\x3c/div\x3e')
                                    },
                                    onShown: function() {
                                        return e()
                                    }
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return GoldenData.DatePicker = function() {
                                function e(e) {
                                    $(e).find(".day_of_week").click(function() {
                                        return $(this).prev(".input_date").focus().select()
                                    }),
                                    $(e).find(".input_date").datepicker({
                                        language: String.locale || "zh-CN",
                                        format: "yyyy-mm-dd",
                                        autoclose: !0,
                                        orientation: "auto left"
                                    })
                                }
                                return e
                            } (),
                            GoldenData.initDatePicker = function(e) {
                                var t, n, r, i, s;
                                i = $(e).find("[data-role\x3ddate]"),
                                s = [];
                                for (n = 0, r = i.length; n < r; n++) t = i[n],
                                $(t).attr("type") === "text" || !Modernizr.inputtypes.date ? s.push(new GoldenData.DatePicker($(t).parents(".controls"))) : s.push($(t).next(".day_of_week").remove());
                                return s
                            },
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                return GoldenData.initDatePicker(document)
                            })
                        })
                    }.call(this),
                    function() {
                        var e = [].indexOf ||
                        function(e) {
                            for (var t = 0,
                            n = this.length; t < n; t++) if (t in this && this[t] === e) return t;
                            return - 1
                        };
                        $(function() {
                            var t, n, r, i, s, o, u, a, f, l, c, h;
                            return t = function() {
                                var e;
                                GoldenData.resetButtonPosition("#entries .footer");
                                if ($("#entries .footer").hasClass("fixed")) return e = $(".fullscreen").length > 0 ? $("#entries .footer").height() : "auto",
                                $("#entries_table").css({
                                    paddingBottom: e
                                })
                            },
                            o = function(e) {
                                return $(window).off(".affix"),
                                e.removeData("affix").removeClass("affix affix-top affix-bottom"),
                                e
                            },
                            a = function(e, t) {
                                return e == null && (e = "#entries_table"),
                                t == null && (t = "entries"),
                                $(e).find(".cover").length === 0 && $(e).append('\x3cdiv class\x3d"cover"\x3e\x3c/div\x3e'),
                                $(".loading[data-target\x3d" + t + "]").show()
                            },
                            u = function() {
                                return $("#entries_table .entry-select:checked").length
                            },
                            f = function() {
                                var e;
                                return e = u(),
                                $(".selected-count").text(e),
                                e > 0 ? $(".delete-actions .delete.disabled").removeClass("disabled").attr("data-toggle", "modal") : $(".delete-actions .delete").addClass("disabled").removeAttr("data-toggle"),
                                e
                            },
                            r = function() {
                                return $("#entries_table thead tr").prepend('\x3cth class\x3d"delete-select"\x3e\x3cinput name\x3d"bulk_select" type\x3d"checkbox" class\x3d"bulk-select"\x3e\x3c/th\x3e'),
                                $("#entries_table tbody tr").prepend('\x3ctd class\x3d"delete-select"\x3e\x3cinput name\x3d"entry_select" type\x3d"checkbox" class\x3d"entry-select"\x3e\x3c/td\x3e')
                            },
                            i = function(e) {
                                var n;
                                return $("#entries_table").removeClass("initial"),
                                t(),
                                f(),
                                $(".delete-actions").is(":visible") && r(),
                                n = $('#entries_table [data-role\x3d"ajax_update"]'),
                                $("#entries .footer .pagination").replaceWith(n.find("[data-role\x3dpagination]").html()),
                                $("#entries").find(".header, .footer").find("[data-role\x3dtotal_entries]").text(n.find("[data-role\x3dtotal_entries]").text()),
                                $(".loading[data-target\x3dentries]").hide()
                            },
                            n = function(e) {
                                var t;
                                if (e) return t = $(document).height() > $(window).height(),
                                $(".loading[data-target\x3dentries]").css({
                                    position: t ? "fixed": "absolute"
                                }),
                                a(),
                                $("#entries_table").load(e, "remote\x3dtrue",
                                function(e) {
                                    return i(e)
                                })
                            },
                            s = function(e, t) {
                                return t == null && (t = null),
                                e.children("td").animate({
                                    padding: 0
                                }).wrapInner("\x3cdiv /\x3e").children().slideUp(function() {
                                    $(this).closest("tr").remove();
                                    if (t) return t()
                                })
                            },
                            l = function(e) {
                                var t;
                                return t = parseInt($("#entries").find(".header").find("[data-role\x3dtotal_entries]").text()) - e,
                                $("#entries").find(".header, .footer").find("[data-role\x3dtotal_entries]").text(t)
                            },
                            h = function(e) {
                                return GoldenData.updateModalHeight(e, ".entry-show .form-content, .entry-show \x3e form", 146)
                            },
                            c = function(e) {
                                var t, n;
                                h(e),
                                n = $(e).find(".modal-body .header"),
                                n.length > 0 && ($(e).find(".modal-header h4").html(n.html()), n.data("redirect-url") && $(e).data("redirect-url", n.data("redirect-url"))),
                                t = $(e).find("form");
                                if (t.length > 0) return t.find("textarea:visible").autosize().blur(),
                                GoldenData.initAddressSelector(t),
                                GoldenData.initDatePicker(t),
                                GoldenData.initGoods(t),
                                GoldenData.initializeFileUploads(t),
                                GoldenData.initCascadeSelector(t),
                                GoldenData.initialDropdownOtherChoice(t)
                            },
                            $(document).on("click", "#entries a.btn-add-entry",
                            function(e) {
                                return e.preventDefault(),
                                a("#entry_new_modal .modal-body", "entry_new"),
                                $("#entry_new_modal").modal("show"),
                                $("#entry_new_modal .modal-body").load($(this).attr("href"),
                                function() {
                                    return c("#entry_new_modal")
                                })
                            }),
                            $(document).on("click", "#entries_table tbody[data-url-base] tr",
                            function(e) {
                                var t;
                                if (!$(e.target).is("a")) return t = $(this).closest("tbody").data("url-base").replace("entry_id", $(this).data("entry-token")),
                                GoldenData.isMobile ? Turbolinks.visit(t) : (a("#entry_modal .modal-body", "entry_show"), $("#entry_modal").modal("show"), $("#entry_modal .modal-body").load(t,
                                function() {
                                    return h("#entry_modal")
                                }))
                            }),
                            $(document).on("hidden", "#entry_modal, #entry_new_modal",
                            function() {
                                $(this).removeData("modal").find(".modal-body").find(".entry-info, .entry-show").remove();
                                if ($(this).data("redirect-url")) return $(this).data("refresh-page") ? (a("#entries, .form-overview", "entries"), Turbolinks.visit($(this).data("redirect-url"))) : n($(this).data("redirect-url")),
                                $(this).removeData("redirect-url")
                            }),
                            $(document).on("click", "#entry_modal .entry-show \x3e .actions a:not([data-remote]), #entry_new_modal .entry-show \x3e .actions a:not([data-remote], [data-role\x3dmodal-dismiss])",
                            function(e) {
                                var t, n, r;
                                e.preventDefault();
                                if (!$(this).is(".disabled")) return r = $(this).closest(".modal"),
                                n = r.is("#entry_new_modal") ? "entry_new": "entry_show",
                                a(r.find(".modal-body"), n),
                                $(this).data("role") === "submit" ? (t = r.find("form"), t.find("input:text").each(function() {
                                    return $(this).val($.trim($(this).val()))
                                }), $(this).is("#submit_and_new_entry") && t.append("\x3cinput type\x3d'hidden' name\x3d'submit_and_new' value\x3d'true'\x3e"), r.find("form").submit()) : r.find(".modal-body").load($(this).attr("href"),
                                function() {
                                    return c(r)
                                })
                            }),
                            $(document).on("click", "#entry_new_modal a[data-role\x3dmodal-dismiss]",
                            function() {
                                return $("#entry_new_modal").modal("hide")
                            }),
                            $(document).on("ajax:complete", "#entry_modal form",
                            function(e, t, n) {
                                var r;
                                return r = $(this).closest(".modal"),
                                r.find(".modal-body").html(t.responseText),
                                c(r)
                            }),
                            $(document).on("ajax:complete", "#entry_modal a[data-method\x3ddelete]",
                            function(e, t, n) {
                                var r;
                                r = $.parseJSON(t.responseText),
                                $("#entry_modal").modal("hide"),
                                s($("#entries_table tr[data-entry-token\x3d" + r.entry_id + "]")),
                                l(1);
                                if ($(this).data("refresh-page")) return a("#entries, .form-overview", "entries"),
                                Turbolinks.visit(url())
                            }),
                            $(document).on("ajax:complete", "#entry_new_modal form",
                            function(e, t, r) {
                                var i, s, o;
                                return i = (o = t.getResponseHeader("content-type")) != null ? o: "",
                                i.indexOf("json") > -1 ? (s = $.parseJSON(t.responseText), $("#entry_new_modal").data("refresh-page") ? (a("#entries, .form-overview", "entries"), Turbolinks.visit(s.redirect_url)) : ($("#entry_new_modal").modal("hide"), n(s.redirect_url))) : ($("#entry_new_modal").find(".modal-body").html(t.responseText), c("#entry_new_modal"))
                            }),
                            $(document).on("click", "#entries_table thead th",
                            function() {
                                var e;
                                e = $(this).find("\x3e div").data("url");
                                if (e) return n(e)
                            }),
                            GoldenData.EntriesColumnsFilter = Backbone.View.extend({
                                el: "#filter_column .filter-column .dropdown-menu",
                                events: {
                                    "click a[data-field], a[data-field] i": "toggleColumn"
                                },
                                _toggleStyle: function(e) {
                                    var t, n;
                                    return e.toggleClass("selected"),
                                    n = $("#entries_table").find("th[data-field\x3d" + e.data("field") + "], td[data-field\x3d" + e.data("field") + "]"),
                                    t = "fa fa-check",
                                    e.hasClass("selected") ? (e.find("i").addClass(t), $("#entries .column-filter a[data-field\x3d" + e.data("field") + "] i").addClass(t), n.removeClass("hide")) : (e.find("i").removeClass(t), $("#entries .column-filter a[data-field\x3d" + e.data("field") + "] i").removeClass(t), n.addClass("hide")),
                                    e.blur()
                                },
                                _saveFormSetting: function() {
                                    var e, t;
                                    return t = function() {
                                        var t, n, r, i;
                                        r = this.$("a.selected"),
                                        i = [];
                                        for (t = 0, n = r.length; t < n; t++) e = r[t],
                                        i.push($(e).data("field"));
                                        return i
                                    }.call(this),
                                    $.ajax({
                                        url: "/preferred_columns",
                                        type: "post",
                                        data: {
                                            form_id: this.$el.data("form-id"),
                                            columns: t
                                        }
                                    })
                                },
                                _isLastShownField: function(e) {
                                    return this.$("a.selected[data-field!\x3d" + e.data("field") + "]").length === 0
                                },
                                toggleColumn: function(e) {
                                    var t;
                                    return e.stopPropagation(),
                                    t = $(e.target),
                                    t.is("i") && (t = t.parents("a[data-field]")),
                                    this._isLastShownField(t) ? !1 : (this._toggleStyle(t), this._saveFormSetting(), !1)
                                }
                            }),
                            $(document).on("ready page:load",
                            function() {
                                var e;
                                return e = $('#entries .header[data-role\x3d"affix"]'),
                                e.length > 0 && e.affix({
                                    offset: {
                                        top: e.offset().top
                                    }
                                }),
                                GoldenData.initializeZoom("#entries", {
                                    afterZoomIn: function() {
                                        return e.length > 0 && o(e).affix({
                                            offset: {
                                                top: 1
                                            }
                                        }),
                                        t()
                                    },
                                    afterZoomOut: function() {
                                        return e.length > 0 && o(e).affix({
                                            offset: {
                                                top: e.offset().top
                                            }
                                        }),
                                        t()
                                    }
                                }),
                                $("#entries_table").is("[data-remote-url]") && n($("#entries_table").data("remote-url")),
                                GoldenData.bindKeyNav("#entry_modal .entry-show", {
                                    target: "#entry_modal .modal-body",
                                    beforeSend: function() {
                                        return a("#entry_modal .modal-body", "entry_show"),
                                        $("#entry_modal .nav-arrows a").addClass("disabled")
                                    },
                                    afterSend: function() {
                                        return h("#entry_modal"),
                                        $(".loading[data-target\x3dentry_show]").hide()
                                    }
                                })
                            }),
                            $(document).on("click", "#entries .pagination a",
                            function(e) {
                                return e.preventDefault(),
                                u() > 0 ? ($("#bulk_delete_selected_modal").modal("show"), $("#bulk_delete_selected_modal .modal-footer a").data("redirect-url", $(this).attr("href"))) : n($(this).attr("href"))
                            }),
                            $(window).on("scroll resize", t),
                            $(document).on("click", ".export-to-excel-group .export-to-excel",
                            function() {
                                var e;
                                return e = function(e) {
                                    return $(e).removeClass("disabled"),
                                    $(e).html($(e).data("enabled-with"))
                                },
                                $.fileDownload($(this).attr("href"), {
                                    successCallback: function(t) {
                                        return function(n) {
                                            return e(t)
                                        }
                                    } (this),
                                    failCallback: function(t) {
                                        return function(n, r) {
                                            return e(t),
                                            alert("\u5bfc\u51fa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\u6216\u63d0\u4ea4\u610f\u89c1\u53cd\u9988\u901a\u77e5\u6211\u4eec")
                                        }
                                    } (this)
                                }),
                                !1
                            }),
                            $(document).on("click", ".dropdown .export-to-excel",
                            function() {
                                var e, t;
                                return e = $(this).parents().find(".dropdown-toggle"),
                                e.click(),
                                e.addClass("disabled"),
                                e.html("\x3ci class\x3d'fa fa-share-square-o'\x3e\x3c/i\x3e \u6b63\u5728\u5bfc\u51fa..."),
                                t = function(e) {
                                    return e.removeClass("disabled"),
                                    e.html("\x3ci class\x3d'fa fa-share-square-o'\x3e\x3c/i\x3e \u5bfc\u51fa\u5230Excel \x3ci class\x3d'fa fa-caret-down'\x3e\x3c/i\x3e")
                                },
                                $.fileDownload($(this).attr("href"), {
                                    successCallback: function(e) {
                                        return function(n) {
                                            return t($(e).parents().find(".dropdown-toggle"))
                                        }
                                    } (this),
                                    failCallback: function(e) {
                                        return function(n, r) {
                                            return t($(e).parents().find(".dropdown-toggle")),
                                            alert("\u5bfc\u51fa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\u6216\u63d0\u4ea4\u610f\u89c1\u53cd\u9988\u901a\u77e5\u6211\u4eec")
                                        }
                                    } (this)
                                }),
                                !1
                            }),
                            $(document).on("click", ".export-to-excel-links:not(.disabled)",
                            function() {
                                var e;
                                return e = $(this).parents().find(".dropdown-toggle"),
                                e.addClass("disabled"),
                                e.text("\u6b63\u5728\u8ba1\u7b97\u5bfc\u51fa\u94fe\u63a5..."),
                                $.get($(this).data("url"),
                                function(e) {
                                    return function(t) {
                                        return $("#export_links").html(t),
                                        $(e).parents().find(".dropdown-toggle").removeClass("disabled"),
                                        $(e).parents().find(".dropdown-toggle").html("\x3ci class\x3d'fa fa-share-square-o'\x3e\x3c/i\x3e \u5bfc\u51fa\u5230Excel \x3ci class\x3d'fa fa-caret-down'\x3e\x3c/i\x3e")
                                    }
                                } (this))
                            }),
                            $("#per_page_choices_container").livequery(function() {
                                return $("#per_page_choices_container a:not(.selected)").on("click",
                                function(e) {
                                    return e.preventDefault(),
                                    $.cookie("per_page", $(this).data("per-page")),
                                    Turbolinks.visit($(this).attr("href"))
                                })
                            }),
                            $(document).on("click", "td.delete-select",
                            function(e) {
                                return e.stopPropagation()
                            }),
                            $(document).on("change", "#entries_table .entry-select",
                            function() {
                                $(this).is(":checked") ? $(this).closest("tr").addClass("selected") : $(this).closest("tr").removeClass("selected"),
                                f();
                                if (!$(this).is(":checked")) return $("#entries_table .bulk-select").attr("checked", !1)
                            }),
                            $(document).on("click", "#entries_table .bulk-select",
                            function() {
                                var e;
                                return e = $(this).is(":checked"),
                                $("#entries_table input.entry-select").attr({
                                    checked: e
                                }),
                                e ? $("#entries_table tbody tr").addClass("selected") : $("#entries_table tbody tr").removeClass("selected"),
                                f()
                            }),
                            $(document).on("click", ".bulk-delete",
                            function() {
                                return $(".normal-action").hide(),
                                r(),
                                $(".delete-actions").show()
                            }),
                            $(document).on("click", "[data-role\x3ddelete_selected_entries]",
                            function() {
                                var t, r, i, o, u;
                                return u = $(this),
                                i = u.data("form-token"),
                                r = function() {
                                    var e, n, r, i;
                                    r = $("#entries input.entry-select:checked"),
                                    i = [];
                                    for (e = 0, n = r.length; e < n; e++) t = r[e],
                                    i.push($(t).closest("tr").data("entry-token"));
                                    return i
                                } (),
                                o = u.data("path"),
                                $.post("/forms/" + i + "/" + o + "/bulk_delete", {
                                    entry_ids: r
                                },
                                function() {
                                    var t;
                                    return t = $("#entries_table tr[data-entry-token].selected").filter(function() {
                                        var t;
                                        return t = $(this).attr("data-entry-token"),
                                        e.call(r, t) >= 0
                                    }),
                                    t.length > 30 ? t.remove() : s(t,
                                    function() {
                                        if (f() === 0) return n(u.data("redirect-url"))
                                    }),
                                    u.closest(".modal").modal("hide"),
                                    u.html(u.data("enabled-with")).removeClass("disabled"),
                                    l(r.length)
                                })
                            }),
                            $(document).on("click", "[data-role\x3dabandon_selected_entries]",
                            function() {
                                return $(this).closest(".modal").modal("hide"),
                                n($(this).data("redirect-url"))
                            }),
                            $(document).on("click", ".delete-actions .cancel",
                            function() {
                                return $("#entries_table tr .delete-select").remove(),
                                $("#entries_table tr.selected").removeClass("selected"),
                                $(".delete-actions").hide(),
                                $(".normal-action").show(),
                                f()
                            }),
                            $("#share_result_modal").on("shown",
                            function() {
                                return $(this).find(".message").empty(),
                                GoldenData.initializeZclip($(this).find("a[data-role\x3dcopy]"),
                                function(e) {
                                    return function() {
                                        return setTimeout(function() {
                                            return $(e).find(".message").slideUp(function() {
                                                return $(this).find(".alert").remove(),
                                                $(this).show()
                                            })
                                        },
                                        2E3)
                                    }
                                } (this))
                            }),
                            $(document).on("click", "a[data-toggle\x3dmodal][data-target\x3d'#audit_trail_modal']",
                            function() {
                                return a("#audit_trail_modal .modal-body", "audit_trail")
                            }),
                            $(document).on("hidden", "#audit_trail_modal",
                            function() {
                                return $(this).removeData("modal").find(".modal-body").children(":not(.loading)").remove()
                            }),
                            $(document).on("click", "#audit_trail_modal .pagination a",
                            function(e) {
                                var t;
                                return e.preventDefault(),
                                t = $(this).closest(".modal"),
                                a(t.find(".modal-body"), "audit_trail"),
                                t.find(".modal-body").load($(this).attr("href"))
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var mainModel;
                            return mainModel = Backbone.Model.extend({
                                idAttribute: "_id",
                                defaults: {
                                    label: "",
                                    predefined_value: "",
                                    notes: "",
                                    validations: [],
                                    position: 1E4,
                                    "private": !1,
                                    has_data: !1,
                                    grids_to_occupy: null,
                                    minimum_grids_to_occupy: null,
                                    start_new_row: null,
                                    cache_data: null
                                },
                                hasChoices: function() {
                                    return this.type === "CheckBox" || this.type === "RadioButton" || this.type === "DropDown" || this.type === "LikertField"
                                },
                                hasImageChoices: function() {
                                    return this.type === "ImageCheckBox" || this.type === "ImageRadioButton"
                                },
                                isAddress: function() {
                                    return this.type === "AddressField"
                                },
                                isRating: function() {
                                    return this.type === "RatingField"
                                },
                                isAttachment: function() {
                                    return this.type === "AttachmentField"
                                },
                                isDateField: function() {
                                    return this.type === "DateField"
                                },
                                isGoodsField: function() {
                                    return this.type === "GoodsField"
                                },
                                isBasicGoodsField: function() {
                                    return this.type === "BasicGoodsField"
                                },
                                isTimeField: function() {
                                    return this.type === "TimeField"
                                },
                                isMobileField: function() {
                                    return this.type === "MobileField"
                                },
                                isLikert: function() {
                                    return this.type === "LikertField"
                                },
                                isCascade: function() {
                                    return this.type === "CascadeDropDown"
                                },
                                hasChildField: function() {
                                    return this.type === "ChildField" || this.type === "FORMREFCustomerField"
                                },
                                _unselectChoicesExceptLast: function(e) {
                                    var t;
                                    return t = e.where({
                                        selected: !0
                                    }),
                                    $.each(t,
                                    function(e, n) {
                                        if (e < t.length - 1) return n.set("selected", !1)
                                    })
                                },
                                _resetAdditionalAttriubtes: function(e) {
                                    var t, n;
                                    e == null && (e = {}),
                                    this.errorMessage = "",
                                    this.hasChoices() ? (this.textChoiceList.length === 0 && this.textChoiceList.add([{},
                                    {},
                                    {}], e), ((n = this.type) === "RadioButton" || n === "DropDown" || n === "LikertField") && this._unselectChoicesExceptLast(this.textChoiceList), this.get("choices_layout") || this.set({
                                        choices_layout: "column"
                                    },
                                    {
                                        silent: !0
                                    })) : this.hasImageChoices() ? (this.type === "ImageRadioButton" && this._unselectChoicesExceptLast(this.imageChoiceList), this.get("choices_layout") || this.set({
                                        choices_layout: "side_by_side"
                                    },
                                    {
                                        silent: !0
                                    })) : this.isRating() ? (this.textChoiceList.length === 0 && this.textChoiceList.add([{
                                        value: 1
                                    },
                                    {
                                        value: 2
                                    },
                                    {
                                        value: 3
                                    }], e), this.set("rating_type", this.get("rating_type") || "star")) : this.isAttachment() ? this.set("max_size", this.get("max_size") || 10) : this.isTimeField() ? (this.get("include_second") == null && this.set("include_second", !1), this.get("predefined_value") === "" && this.set("predefined_value", {})) : this.isAddress() ? this.predefinedValue = new GoldenData.Address(this.get("predefined_value")) : this.isBasicGoodsField() ? this.goodsItemList.length === 0 && this.goodsItemList.add([{
                                        name: "\u5546\u54c1\u4e00"
                                    },
                                    {
                                        name: "\u5546\u54c1\u4e8c"
                                    },
                                    {
                                        name: "\u5546\u54c1\u4e09"
                                    }], e) : this.isCascade() ? this.textChoiceList.isEmpty() && this.textChoiceList.add([{
                                        value: "\u9009\u98791",
                                        sub_choices: [{
                                            value: "\u4e8c\u7ea7\u9009\u98791"
                                        },
                                        {
                                            value: "\u4e8c\u7ea7\u9009\u98792"
                                        }]
                                    },
                                    {
                                        value: "\u9009\u98792",
                                        sub_choices: [{
                                            value: "\u4e8c\u7ea7\u9009\u98791"
                                        },
                                        {
                                            value: "\u4e8c\u7ea7\u9009\u98792"
                                        }]
                                    }]) : (this.textChoiceList.reset(), this.imageChoiceList.reset(), this.statementList.reset()),
                                    this.isLikert() && this.statementList.length === 0 && this.statementList.add([{},
                                    {},
                                    {}], e),
                                    this.isNew() && this.type === "TelephoneField" && !this.get("notes") && this.set("notes", "\u5206\u9694\u8bf7\u7528-\u6216\u7a7a\u683c\uff0c\u56fd\u9645\u7535\u8bdd\u8bf7\u52a0+"),
                                    t = _.any(["collapse_on_mobile", "inventory_label", "unit"],
                                    function(e) {
                                        return function(t) {
                                            return _.isUndefined(e.get(t))
                                        }
                                    } (this)),
                                    (this.isGoodsField() || this.isBasicGoodsField()) && t && this.set({
                                        collapse_on_mobile: !0,
                                        inventory_label: null,
                                        unit: null
                                    });
                                    if ((this.hasChoices() || this.hasImageChoices() || this.isCascade()) && !this.isLikert() && _.isUndefined(this.get("random_choices"))) return this.set("random_choices", !1)
                                },
                                _resetType: function(e) {
                                    return this.type = /\w+$/.exec(e)[0]
                                },
                                choiceList: function() {
                                    if (this.hasChoices()) return this.textChoiceList;
                                    if (this.hasImageChoices()) return this.imageChoiceList
                                },
                                initialize: function() {
                                    var e;
                                    this._resetType(this.get("_type")),
                                    this.textChoiceList = new GoldenData.TextChoiceList,
                                    this.imageChoiceList = new GoldenData.ImageChoiceList,
                                    this.goodsItemList = new GoldenData.GoodsItemList,
                                    this.statementList = new GoldenData.StatementList;
                                    this.fieldList = new GoldenData.FieldList(this.get("children"));
                                    if (this.hasChoices() || this.isRating() || this.isCascade()) this.textChoiceList = new GoldenData.TextChoiceList(this.get("choices"));
                                    this.hasImageChoices() && (this.imageChoiceList = new GoldenData.ImageChoiceList(this.get("choices")));
                                    if (this.isGoodsField() || this.isBasicGoodsField()) this.goodsItemList = new GoldenData.GoodsItemList(this.get("goods_items"));
                                    this.isLikert() && (this.statementList = new GoldenData.StatementList(this.get("statements"))),
                                    this._resetAdditionalAttriubtes();
                                    if (this.isNew()) {
                                        if (this.get("notes") === "") {
                                            var notes = "";
                                            if ("TextField TextArea NumberField EmailField MobileField".indexOf(this.type) != -1) notes = "\u8bf7\u8f93\u5165";
                                            else if ("DateField DateTimeField TimeField TextField".indexOf(this.type) != -1) notes = "\u8bf7\u9009\u62e9";
                                            this.set({
                                                notes: notes
                                            })
                                        }
                                        this.get("label") === "" && (e = function() {
                                            switch (this.type) {
                                            case "ImageRadioButton":
                                                return "\u5fae\u4fe1\u626b\u7801";
                                            case "ImageCheckBox":
                                                return "\u8bf4\u660e\u9879";
                                            case "SectionBreak":
                                                return "\u5206\u8282";
                                            case "ImageField":
                                                return "\u56fe\u7247";
                                            case "EquationField":
                                                return "\u8ba1\u7b97\u5f0f";
                                            case "TelephoneField":
                                                return "\u7535\u8bdd";
                                            case "CheckBox":
                                                return "\u591a\u9879\u9009\u62e9";
                                            case "DropDown":
                                                return "\u4e0b\u62c9\u6846";
                                            case "NumberField":
                                                return "\u6570\u5b57";
                                            case "CityField":
                                                return "\u7701\u5e02\u533a";
                                            case "DateTimeField":
                                                return "\u65e5\u671f\u65f6\u95f4";
                                            case "CascadeDropDown":
                                                return "\u4e24\u7ea7\u4e0b\u62c9\u6846";
                                            case "TextField":
                                                return "\u5355\u884c\u6587\u5b57";
                                            case "TextArea":
                                                return "\u591a\u884c\u6587\u5b57";
                                            case "RadioButton":
                                                return "\u5355\u9879\u9009\u62e9";
                                            case "CRMCustomerField":
                                                return "CRM\u5ba2\u6237";
                                            case "GeoField":
                                                return "\u5730\u7406\u4f4d\u7f6e";
                                            case "EmailField":
                                                return "\u90ae\u7bb1";
                                            case "AddressField":
                                                return "\u5730\u5740";
                                            case "DateField":
                                                return "\u65e5\u671f";
                                            case "TimeField":
                                                return "\u65f6\u95f4";
                                            case "RatingField":
                                                return "\u8bc4\u5206";
                                            case "AccessoryField":
                                                return "\u9644\u4ef6";
                                            case "MobileField":
                                                return "\u624b\u673a";
                                            case "StatisticsField":
                                                return "\u7edf\u8ba1";
                                            case "MEMBERCustomerField":
                                                return "\u901a\u8baf\u5f55\u6210\u5458";
                                            case "DEPTCustomerField":
                                                return "\u90e8\u95e8";
                                            case "FORMREFCustomerField":
                                                return "\u8868\u5355\u5173\u8054";
                                            case "Datasource":
                                                return "\u6570\u636e\u6e90";
                                            case "ChildField":
                                                return "\u5b50\u8868\u5355"
                                            }
                                        }.call(this));
                                        if (e) return this.set({
                                            label:
                                            e
                                        })
                                    }
                                },
                                _invalidOnNumberField: function(e, t, n, r) {
                                    var i;
                                    return r == null && (r = !1),
                                    i = n.on === e && t[e],
                                    r ? i && (!GoldenData.isNumber(t[e]) || t[e] <= 0) : i && !GoldenData.isNumber(t[e])
                                },
                                _invalidOnContentLength: function(e, t, n, r) {
                                    return n.on === e && t[e] && t[e].length > r
                                },
                                validate: function(e, t) {
                                    t || (t = {});
                                    if (t.on === "label" && e._type !== "Fields::SectionBreak" && $.trim(e.label) === "") return "\u6807\u7b7e\u4e0d\u80fd\u4e3a\u7a7a";
                                    if (this._invalidOnNumberField("range_min", e, t)) return "\u6700\u5c0f\u503c\u5fc5\u987b\u4e3a\u6570\u5b57";
                                    if (this._invalidOnNumberField("range_max", e, t)) return "\u6700\u5927\u503c\u5fc5\u987b\u4e3a\u6570\u5b57";
                                    if (this._invalidOnNumberField("minimum_length", e, t)) return "\u6700\u5c11\u9009\u51e0\u9879\u5fc5\u987b\u4e3a\u6570\u5b57";
                                    if (this._invalidOnNumberField("maximum_length", e, t)) return "\u6700\u591a\u9009\u51e0\u9879\u5fc5\u987b\u4e3a\u6570\u5b57";
                                    if (this._invalidOnContentLength("inventory_label", e, t, 2)) return "\u5e93\u5b58\u6807\u7b7e\u6700\u591a2\u4e2a\u5b57";
                                    if (this._invalidOnContentLength("unit", e, t, 2)) return "\u5e93\u5b58\u5355\u4f4d\u6700\u591a2\u4e2a\u5b57"
                                },
                                toJSON: function(e) {
                                    var t, n, r, i;
                                    e == null && (e = !0),
                                    t = {};
                                    if (this.get("_id") == undefined) {
                                        isAddField = true;
                                        this.set("_id", "fo" + uuid().replace(/-/g, ""))
                                    }
                                    this.set({
                                        "_type": "Fields::" + this.type
                                    });
                                    if (this.hasChoices()) t.choices = this.textChoiceList.toJSON(),
                                    i = $.grep(t.choices,
                                    function(e, t) {
                                        return e.selected
                                    }),
                                    n = i.length > 0 ? i[0] : t.choices[0],
                                    t.selectedChoice = n.value;
                                    else if (this.isRating() || this.isCascade()) t.choices = this.textChoiceList.toJSON();
                                    else if (this.hasChildField) {
                                        if (!this.get("line_row")) this.set({
                                            "line_row": 1
                                        });
                                        t.children = this.fieldList.toJSON()
                                    }
                                    if (this.type == "EquationField" || this.type == "NumberField" || this.type == "StatisticsField") {
                                        if (this.get("accurate_num") == undefined) this.set("accurate_num", 2);
                                        if (this.type == "StatisticsField" && !this.get("calculator")) this.set("calculator", "")
                                    }
                                    return this.isAddress() && (t.predefined_value = this.predefinedValue.toJSON()),
                                    this.set(t, {
                                        silent: !0
                                    }),
                                    r = _.clone(this.attributes),
                                    e && r._type !== "Fields::SectionBreak" && $.trim(r.label) === "" && (r.label = "\u672a\u547d\u540d"),
                                    r
                                },
                                resetErrorMessage: function(e) {
                                    var t;
                                    if (this.error) return t = "",
                                    e !== this.error.origin_type && "Fields::" + e !== this.error.origin_type && (t = "\u6b64\u5b57\u6bb5\u5df2\u6709\u6570\u636e\uff0c\u4e0d\u80fd\u518d\u4fee\u6539\u7c7b\u578b\uff0c\u8bf7\u91cd\u7f6e\u4e3a" + this.error.origin_type_name),
                                    this.errorMessage = t
                                },
                                updateType: function(e, t) {
                                    var n, r, i;
                                    return r = this.isAddress() || this.hasChoices() || this.isTimeField() || e === "Fields::EmailField",
                                    i = this.type,
                                    this._resetType(e),
                                    _.each(this.imageChoiceList.models,
                                    function(e) {
                                        return function(t, n, r) {
                                            return t.type = "Image" + e.type
                                        }
                                    } (this)),
                                    this._resetAdditionalAttriubtes({
                                        silent: !0
                                    }),
                                    i === "BasicGoodsField" && this.isGoodsField() && this.goodsItemList.reset(),
                                    n = {
                                        _type: e
                                    },
                                    r && (n.predefined_value = ""),
                                    n.validations = [],
                                    this.get("grids_to_occupy") && parseInt(this.get("grids_to_occupy")) < t && (n.grids_to_occupy = null),
                                    n.unique = false,
                                    this.set(n),
                                    this.set("_id", "fo" + uuid().replace(/-/g, "")),
                                    GoldenData.fieldEditView.render(this),
                                    this.resetErrorMessage(e)
                                }
                            }),
                            $(document).on("click", "#predefined_choices_modal .modal-footer .btn-primary, #multiple_choices_modal .modal-footer .btn-primary",
                            function() {
                                if (GoldenData.fieldEditView) return GoldenData.fieldEditView.addChoices(this)
                            }),
                            $(document).on("click", "#multiple_statements_modal .modal-footer .btn-primary",
                            function() {
                                if (GoldenData.fieldEditView) return GoldenData.fieldEditView.addStatements(this)
                            }),
                            $(document).on("click", "#predefined_choices_modal li[data-choices]",
                            function() {
                                var e;
                                return e = $(this).data("choices"),
                                $("#predefined_choices_modal ul li").removeClass("selected"),
                                $(this).addClass("selected"),
                                $("#predefined_choices_modal textarea").val(e.join("\n")),
                                GoldenData.focusToEnd($("#predefined_choices_modal textarea"))
                            }),
                            $("#predefined_choices_modal").on("shown",
                            function() {
                                return GoldenData.focusToEnd($(this).find("textarea"))
                            }),
                            $(document).on("click", "#mobile_white_list_modal .modal-footer .btn-primary",
                            function() {
                                return GoldenData.fieldEditView.updateMobileWhiteList(this)
                            }),
                            $(document).on("ready page:load",
                            function() {
                                return $("#mobile_white_list_modal").on("shown",
                                function() {
                                    var e, t;
                                    return e = $(this).find("textarea"),
                                    t = GoldenData.fieldEditView.model.get("white_list_values") || [],
                                    e.val(t.join("\n")),
                                    GoldenData.focusToEnd(e)
                                })
                            }),
                            $(document).on("click", "#choices_quota_modal .modal-footer .btn-primary",
                            function() {
                                if (GoldenData.fieldEditView) return GoldenData.fieldEditView.updateChoicesQuota(this)
                            }),
                            $("#choices_quota_modal").on("hidden",
                            function() {
                                return $(this).find("tbody").empty()
                            }),
                            GoldenData.FieldEditView = Backbone.View.extend({
                                events: {
                                    "click .set_equationField": "updateEquationField",
                                    "focus [data-upgrade-modal]": "showUpgradeModal",
                                    "mousedown [data-upgrade-modal]": "showUpgradeModal",
                                    "change [data-field-key]": "update",
                                    "click [data-field-key\x3d'choices_layout']": "updateChoiceLayout",
                                    "click .set_choices_quota": "updateChoicesQuotaModal",
                                    "click .add_multiple_choices": "addExistingChoices",
                                    "click .add-other-choice": "addOtherChoice",
                                    "click .add_multiple_statements": "addExistingStatements",
                                    "click [data-field-key\x3d'validations'][value\x3d'presence']": "togglePrivateField",
                                    "click [data-field-key\x3d'private']": "togglePresenceValidation",
                                    "change select#predefined_value_type": "updatePredefinedValueType",
                                    "change [data-field-key\x3d'include_second']": "toggleSecond",
                                    "click [data-inline-input]": "preventDefaultEvent",
                                    "click input:checkbox[data-target]": "triggerTargetValue",
                                    "change .cascade_choices": "parseAndSetCascadeChoices",
                                    "click .data-source-set": "dataSourceSet",
                                    "click .data-source-item": "dataSourceSet",
                                    "click .pick-form-data": "pickForm",
                                    "click .pick-form-field": "pickField",
                                    "click .set-reffilter": "setReffilter",
                                    "click .set-field-options": "setFieldOption",
                                    "click .set-field-relate": "setFieldRelate",
                                    "change .statistics_ui .set-parent-key": "updateParentKey",
                                    "change .statistics_ui .set-child-key": "updatechildKey",
                                    "change .set-ref-query": "updateRefQuery"
                                },
                                updateRefQuery: function(e) {
                                    var $this = $(e.target);
                                    var ref_cfg = this.model.get("ref_cfg");
                                    if (typeof ref_cfg == "string") ref_cfg = JSON.parse(ref_cfg);
                                    if ($this[0].checked) ref_cfg.queryCommit = 1;
                                    else ref_cfg.queryCommit = 0;
                                    this.model.set("ref_cfg", ref_cfg)
                                },
                                updateParentKey: function(e) {
                                    var $this = $(e.target);
                                    this.model.set("calculator", "");
                                    if ($this.val()) {
                                        var parentKey = $this.val();
                                        var fields = statisticRelation;
                                        var childs = [];
                                        $.each(fields,
                                        function(i, field) {
                                            if (field._id == parentKey) childs = field.childs
                                        });
                                        var option = '\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e';
                                        $.each(childs,
                                        function(i, field) {
                                            option += '\x3coption value\x3d"' + field._id + '"\x3e' + field.label + "\x3c/option\x3e"
                                        });
                                        this.$el.find(".set-child-key").html(option)
                                    }
                                },
                                updatechildKey: function(e) {
                                    var $this = $(e.target);
                                    if ($this.val()) this.model.set("calculator", this.$el.find(".set-parent-key").val() + "|" + $this.val());
                                    else this.model.set("calculator", "")
                                },
                                setFieldRelate: function() {
                                    this.model.toJSON();
                                    if (!isVipGold(interfaceCode.INTERFACE_CODE_FORM)) {
                                        _alertGoldVip("\u8be5\u529f\u80fd");
                                        return
                                    }
                                    var model = this.model;
                                    var choices = this.model.get("choices");
                                    var id = this.model.get("_id");
                                    var fieldList = GoldenData.fieldList.toJSON();
                                    var Coll = Backbone.Collection.extend();
                                    var collection = new Coll(choices);
                                    var $dialog = $('\x3cdiv class\x3d"pop_wrap7" style\x3d"width: 600px; display: block;"\x3e' + '\x3cdiv class\x3d"SS_tit"\x3e \x3cspan\x3e\u663e\u793a\u903b\u8f91\u8bbe\u7f6e\x3c/span\x3e\x3ci class\x3d"btnclose"\x3e\u00d7\x3c/i\x3e \x3c/div\x3e' + '\x3cdiv class\x3d"pop_wrap6_main clearfix"\x3e' + '\x3cdiv class\x3d"fl relate-left"\x3e\x3cdiv class\x3d"relate-desc"\x3e\u5f53\u9009\u62e9\u672c\u5b57\u6bb5\u9009\u9879\uff1a\x3c/div\x3e' + '\x3cdiv class\x3d"left_content"\x3e\x3c/div\x3e' + "\x3c/div\x3e" + '\x3cdiv class\x3d"fl relate-right"\x3e\x3cdiv class\x3d"relate-desc"\x3e\u5219\u663e\u793a\u4ee5\u4e0b\u5b57\u6bb5\uff1a\x3c/div\x3e' + '\x3cdiv class\x3d"relate-line"\x3e\x3c/div\x3e' + '\x3cul class\x3d"relate-show-ul"\x3e\x3cli \x3e\x3cspan\x3e\u5b57\u6bb51\x3c/span\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\x3c/label\x3e\x3c/li\x3e\x3cli\x3e\x3cspan\x3e\u5b57\u6bb52\x3c/span\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\x3c/li\x3e\x3c/ul\x3e' + "\x3c/div\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"SS_btn" style\x3d"margin-top:0;"\x3e \x3cinput type\x3d"button" value\x3d"\u786e\u5b9a" class\x3d"btn orangeBtn twoBtn mr10 mb0"\x3e\x3c/div\x3e' + "\x3c/div\x3e");
                                    var leftView = Backbone.View.extend({
                                        tagName: "ul",
                                        className: "relate-sel-ul",
                                        collection: collection,
                                        events: {
                                            "click li": function(e) {
                                                this.$el.find("li").removeClass("active");
                                                var $this = $(e.target).addClass("active");
                                                var cid = $this.attr("cid");
                                                var model = this.collection.get(cid);
                                                var relate_show_ids = model.get("relate_show_ids") || [];
                                                var html = "",
                                                flag = true;
                                                _.each(fieldList,
                                                function(field, i) {
                                                    html += "\x3cli \x3e\x3cspan\x3e" + field.label + '\x3c/span\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" ' + (flag ? "disabled": "") + (relate_show_ids.indexOf(field._id) != -1 ? " checked": "") + ' value\x3d"' + field._id + '"\x3e\x3c/label\x3e\x3c/li\x3e';
                                                    if (field._id == id) flag = false
                                                });
                                                $dialog.find(".relate-show-ul").html(html);
                                                $dialog.find('.relate-show-ul input[type\x3d"checkbox"]').on("change",
                                                function() {
                                                    var result = [];
                                                    $dialog.find('.relate-show-ul input[type\x3d"checkbox"]:checked').each(function() {
                                                        result.push(this.value)
                                                    });
                                                    model.set("relate_show_ids", result)
                                                })
                                            }
                                        },
                                        render: function() {
                                            var _this = this;
                                            _.each(this.collection.models,
                                            function(model, i) {
                                                _this.$el.append('\x3cli cid\x3d"' + model.cid + '"\x3e' + model.get("value") + "\x3c/li\x3e")
                                            });
                                            return this
                                        }
                                    });
                                    $dialog.find(".left_content").html((new leftView).render().el);
                                    $dialog.find(".relate-sel-ul li:eq(0)").click();
                                    $dialog.find(".btnclose").click(function() {
                                        window.top.$("#overlayDiv").hide();
                                        $dialog.remove()
                                    });
                                    $dialog.find(".SS_btn input").click(function() {
                                        var choices = collection.toJSON();
                                        model.textChoiceList = new GoldenData.TextChoiceList(choices);
                                        model.toJSON();
                                        $dialog.find(".btnclose").click()
                                    });
                                    window.top.$("#overlayDiv").show();
                                    window.top.$("body").append($dialog)
                                },
                                setFieldOption: function() {
                                    var children = this.model.get("children");
                                    if (children.length == 0) {
                                        _top_alert("\u8bf7\u5148\u6dfb\u52a0\u5b50\u5b57\u6bb5", false);
                                        return
                                    }
                                    var _model = this.model;
                                    var ref_id = this.model.get("ref_id");
                                    var ref_title = this.model.get("ref_title");
                                    var _id = this.model.get("_id"),
                                    label = this.model.get("label");
                                    var formField = formAllField[ref_id];
                                    if (!formField) {
                                        _top_alert("\u5173\u8054\u7684\u8868\u5355\u6ca1\u6709\u67e5\u8be2\u5230\u5b57\u6bb5", false);
                                        return
                                    }
                                    var options = this.model.get("options");
                                    options = options == undefined || options == "[]" ? [] : options;
                                    var $dialog = $('\x3cdiv class\x3d"pop_wrap7" style\x3d"width: 600px; display: block;"\x3e' + '\x3cdiv class\x3d"SS_tit"\x3e \x3cspan\x3e\u5173\u8054\u914d\u7f6e\x3c/span\x3e\x3ci class\x3d"btnclose"\x3e\u00d7\x3c/i\x3e \x3c/div\x3e' + '\x3cdiv class\x3d"pop_wrap6_main clearfix"\x3e' + '\x3cdiv class\x3d"form dialog-data-source" style\x3d"height:330px;"\x3e' + '\x3cdiv class\x3d"field_item clearfix"\x3e' + '\x3cdiv class\x3d"fl field_item_dsname" style\x3d"width:220px;"\x3e' + '\u5173\u8054\u8868\u5355\u5b57\u6bb5\x3cspan class\x3d"c999"\x3e\uff08\u76ee\u6807\u5b57\u6bb5\uff09\x3c/span\x3e' + "\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dskey tipsBox" style\x3d"width:120px;padding:0;text-align:left;position:relative;"\x3e\u8fd0\u7b97\u7b26\u53f7 ' + '\x3ci class\x3d"fa-question-circle dropdown-tip-tog"\x3e\x3c/i\x3e\x3cdiv style\x3d"display:none;z-index:1111;" class\x3d""\x3e\x3cdiv class\x3d"formref-dialog-wrap"\x3e\x3cb\x3e\x3cem\x3e\x3c/em\x3e\x3c/b\x3e' + '\x3cp class\x3d"p10 pt5 c666 f12 lh20"\x3e\u8fd0\u7b97\u7b26\u53f7\u5305\u62ec\u201c\u589e\u52a0\u201d\u201c\u51cf\u5c11\u201d\u201c\u66f4\u65b0\u4e3a\u201d\u4e09\u79cd\u8fd0\u7b97\u5f62\u5f0f\x3cbr\x3e' + "\u2460\u201c\u589e\u52a0\u201d\uff1a\u76ee\u6807\u5b57\u6bb5\u7684\u503c\u589e\u52a0\u6e90\u5b57\u6bb5\u7684\u503c\x3cbr\x3e" + "\u2461\u201c\u51cf\u5c11\u201d\uff1a\u76ee\u6807\u5b57\u6bb5\u7684\u503c\u51cf\u5c11\u6e90\u5b57\u6bb5\u7684\u503c\x3cbr\x3e" + "\u2462\u201c\u66f4\u65b0\u4e3a\u201d\uff1a\u76ee\u6807\u5b57\u6bb5\u7684\u503c\u53d8\u4e3a\u6e90\u5b57\u6bb5\u7684\u503c\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dsv" style\x3d"width:150px;text-align:left;"\x3e\u5b50\u5b57\u6bb5\x3cspan class\x3d"c999"\x3e\uff08\u6e90\u5b57\u6bb5\uff09\x3c/div\x3e' + "\x3c/div\x3e" + '\x3cdiv class\x3d"ds-field-list"\x3e\x3c/div\x3e' + "\x3c/div\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"SS_btn" style\x3d"margin-top:0;"\x3e \x3cinput type\x3d"button" value\x3d"\u786e\u5b9a" class\x3d"btn orangeBtn twoBtn mr10 mb0"\x3e\x3c/div\x3e' + "\x3c/div\x3e");
                                    var model = Backbone.Model.extend({
                                        defaults: {
                                            type: "",
                                            formrefName: label,
                                            refKey: "",
                                            refName: "",
                                            childKey: "",
                                            childName: "",
                                            childType: "",
                                            formrefKey: _id,
                                            forbidMinus: false
                                        }
                                    });
                                    var Coll = Backbone.Collection.extend({
                                        model: model
                                    });
                                    if (options.length == 0) options = [{}];
                                    var collection = new Coll(options);
                                    var viewItem = Backbone.View.extend({
                                        className: "field_item clearfix",
                                        render: function(model) {
                                            this.model = model;
                                            this.el.innerHTML = '\x3cdiv class\x3d"fl field_item_dsname" style\x3d"width:200px;padding-top:0;"\x3e\x3cselect style\x3d"width:200px;"\x3e' + fromFieldSelectStr(formField, model.get("refKey")) + "\x3c/select\x3e\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dskey" style\x3d"width:100px;"\x3e\x3cselect style\x3d"width:100px;"\x3e' + eqSelectStr(model.get("type"), model.get("childType")) + "\x3c/select\x3e\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dsv"\x3e\x3cselect style\x3d"width:150px;"\x3e' + childrenSelectStr(children, model.get("childKey"), model.get("childType")) + '\x3c/select\x3e\x3cspan class\x3d"field-dsitem-del"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e';
                                            this.el.id = model.cid;
                                            return this
                                        }
                                    });
                                    function childrenSelectStr(children, val, type) {
                                        var html = '\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e';
                                        if (type) type = /\w+$/.exec(type)[0];
                                        $.each(children,
                                        function(i, ele) {
                                            ele._type = /\w+$/.exec(ele._type)[0];
                                            var bo = childrenSelectLogic(type, ele._type);
                                            if (bo) html += '\x3coption value\x3d"' + ele._id + '"' + (ele._id == val ? "selected\x3dselected": "") + "\x3e" + ele.label + "\x3c/option\x3e"
                                        });
                                        if (type == "NumberField" || type == "RatingField") {
                                            html += '\x3coption value\x3d"0"' + ("0" === val ? "selected\x3dselected": "") + "\x3e0\x3c/option\x3e";
                                            html += '\x3coption value\x3d"1"' + ("1" === val ? "selected\x3dselected": "") + "\x3e1\x3c/option\x3e"
                                        }
                                        if (type == "DateField" || type == "TimeField" || type == "DateTimeField") html += '\x3coption value\x3d"NOW()"' + ("NOW()" === val ? "selected\x3dselected": "") + "\x3e\u7cfb\u7edf\u65f6\u95f4\x3c/option\x3e";
                                        if ((type == "TextField" || type == "TextArea") && !from_open_form) html += '\x3coption value\x3d"CREATOR()"' + ("CREATOR()" === val ? "selected\x3dselected": "") + "\x3e\u63d0\u5355\u4eba\x3c/option\x3e";
                                        return html
                                    }
                                    function eqSelectStr(val, type) {
                                        var html = '\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e';
                                        var eqs = [{
                                            value: "setEq",
                                            name: "\u66f4\u65b0\u4e3a"
                                        }];
                                        if (type.indexOf("EquationField") !== -1 || type.indexOf("NumberField") !== -1) {
                                            eqs.unshift({
                                                value: "minusEq",
                                                name: "\u51cf\u5c11"
                                            });
                                            eqs.unshift({
                                                value: "plusEq",
                                                name: "\u589e\u52a0"
                                            })
                                        }
                                        $.each(eqs,
                                        function(i, ele) {
                                            html += '\x3coption value\x3d"' + ele.value + '"' + (ele.value == val ? "selected\x3dselected": "") + "\x3e" + ele.name + "\x3c/option\x3e"
                                        });
                                        return html
                                    }
                                    function fromFieldSelectStr(formField, val) {
                                        var html = '\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e';
                                        var keys = _.pluck(collection.toJSON(), "refKey");
                                        $.each(formField,
                                        function(i, ele) {
                                            if (keys.indexOf(i) !== -1 && i !== val || ele._type == "Fields::EquationField") return;
                                            html += '\x3coption _type\x3d"' + /\w+$/.exec(ele._type)[0] + '" value\x3d"' + i + '"' + (i == val ? "selected\x3dselected": "") + "\x3e" + ele.label + "\x3c/option\x3e"
                                        });
                                        return html
                                    }
                                    var view = Backbone.View.extend({
                                        collection: collection,
                                        events: {
                                            "click .ds-add": function(e) {
                                                this.collection.add({})
                                            },
                                            "click .field-dsitem-del": function(e) {
                                                var _this = $(e.target);
                                                var cid = _this.parents(".field_item")[0].id;
                                                _this.parents(".field_item").remove();
                                                this.collection.remove(this.collection.get(cid));
                                                this.initSelect()
                                            },
                                            "change .field_item_dsname select": function(e) {
                                                var _this = $(e.target);
                                                var $field_item = _this.parents(".field_item");
                                                var cid = $field_item[0].id;
                                                var model = this.collection.get(cid);
                                                var refKey = _this.val();
                                                var $option = _this.find("option:selected");
                                                var childType = $option.attr("_type");
                                                var refName = $option.text();
                                                model.set({
                                                    childKey: "",
                                                    childType: childType,
                                                    refName: refName,
                                                    type: "",
                                                    refKey: refKey
                                                });
                                                var eqStr = eqSelectStr("", childType);
                                                $field_item.find(".field_item_dskey select").html(eqStr);
                                                var formfStr = childrenSelectStr(children, "", childType);
                                                $field_item.find(".field_item_dsv select").html(formfStr)
                                            },
                                            "change .field_item_dskey select": function(e) {
                                                var _this = $(e.target);
                                                var $field_item = _this.parents(".field_item");
                                                var cid = $field_item[0].id;
                                                var model = this.collection.get(cid);
                                                var type = _this.val();
                                                model.set({
                                                    type: type
                                                })
                                            },
                                            "change .field_item_dsv select": function(e) {
                                                var _this = $(e.target);
                                                var $field_item = _this.parents(".field_item");
                                                var cid = $field_item[0].id;
                                                var model = this.collection.get(cid);
                                                var childKey = _this.val();
                                                var childName = _this.find("option:selected").text();
                                                model.set({
                                                    childKey: childKey,
                                                    childName: childName
                                                })
                                            }
                                        },
                                        initSelect: function() {},
                                        initialize: function() {
                                            this.listenTo(this.collection, "add", this.render);
                                            this.render()
                                        },
                                        render: function() {
                                            var str = "";
                                            var models = this.collection.models;
                                            $.each(models,
                                            function(i, model) {
                                                str += (new viewItem).render(model).el.outerHTML
                                            });
                                            str += '\x3cdiv\x3e\x3ca style\x3d"cursor:pointer;" class\x3d"ds-add"\x3e\u6dfb\u52a0\x3c/a\x3e\x3c/div\x3e';
                                            this.el.innerHTML = str;
                                            $dialog.find(".ds-field-list").html(this.$el);
                                            this.delegateEvents();
                                            return this
                                        }
                                    });
                                    new view;
                                    $dialog.find(".btnclose").click(function() {
                                        window.top.$("#overlayDiv").hide();
                                        $dialog.remove()
                                    });
                                    $dialog.find(".SS_btn input").click(function() {
                                        if (collection.where({
                                            childKey: ""
                                        }).length > 0) {
                                            _top_alert("\u5b50\u5b57\u6bb5\u503c\u4e0d\u80fd\u6709\u7a7a\u503c", false);
                                            return
                                        }
                                        if (collection.where({
                                            type: ""
                                        }).length > 0) {
                                            _top_alert("\u8fd0\u7b97\u7b26\u53f7\u503c\u4e0d\u80fd\u6709\u7a7a\u503c", false);
                                            return
                                        }
                                        if (collection.where({
                                            refKey: ""
                                        }).length > 0) {
                                            _top_alert("\u5173\u8054\u8868\u5355\u5b57\u6bb5\u503c\u4e0d\u80fd\u6709\u7a7a\u503c", false);
                                            return
                                        }
                                        _model.set({
                                            "options": collection.toJSON()
                                        });
                                        $dialog.find(".btnclose").click()
                                    });
                                    window.top.$("#overlayDiv").show();
                                    window.top.$("body").append($dialog)
                                },
                                setReffilter: function() {
                                    var ref_cfg = this.model.get("ref_cfg");
                                    var ref_id = this.model.get("ref_id");
                                    var _model = this.model;
                                    var _this = this;
                                    if (typeof ref_cfg == "string") ref_cfg = JSON.parse(ref_cfg);
                                    var filter_fields = ref_cfg.filter_fields;
                                    if (!formField) {
                                        _top_alert("\u8bf7\u5148\u9009\u62e9\u5173\u8054\u8868\u5355", false);
                                        return
                                    }
                                    var fields = formField[ref_id];
                                    if (!fields) {
                                        _top_alert("\u8be5\u8868\u5355\u6ca1\u6709\u53ef\u9009\u62e9\u7684\u5b57\u6bb5", false);
                                        return
                                    }
                                    var $dialog = $('\x3cdiv class\x3d"pop_wrap7" style\x3d"width: 600px; display: block;"\x3e' + '\x3cdiv class\x3d"SS_tit"\x3e \x3cspan\x3e\u9009\u62e9\u6570\u636e\u8303\u56f4\x3c/span\x3e\x3ci class\x3d"btnclose"\x3e\u00d7\x3c/i\x3e \x3c/div\x3e' + '\x3cdiv class\x3d"pop_wrap6_main clearfix"\x3e' + '\x3cdiv class\x3d"form dialog-data-source" style\x3d"height:330px;"\x3e' + '\x3cdiv class\x3d"field_item clearfix"\x3e' + '\x3cdiv class\x3d"fl field_item_dsname" style\x3d"width:220px;"\x3e' + "\u5b57\u6bb5" + "\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dskey" style\x3d"width:120px;padding:0;text-align:left;"\x3e\u6761\u4ef6\x3c/div\x3e' + '\x3cdiv class\x3d"fl field_item_dsv" style\x3d"width:100px;text-align:left;"\x3e\u6570\u636e\u503c\x3c/div\x3e' + "\x3c/div\x3e" + '\x3cdiv class\x3d"ds-field-list"\x3e\x3cdiv class\x3d"list-contain-op"\x3e' + '\x3c/div\x3e\x3c/div\x3e\x3cdiv\x3e\x3ca style\x3d"cursor:pointer;" class\x3d"ds-add"\x3e\u6dfb\u52a0\u5b57\u6bb5\x3c/a\x3e\x3c/div\x3e' + "\x3c/div\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"SS_btn" style\x3d"margin-top:0;"\x3e \x3cinput type\x3d"button" value\x3d"\u786e\u5b9a" class\x3d"btn orangeBtn twoBtn mr10 mb0"\x3e\x3c/div\x3e' + "\x3c/div\x3e");
                                    var collection = Backbone.Collection.extend();
                                    var coll = new collection;
                                    coll.on("add",
                                    function(model) {
                                        $dialog.find(".list-contain-op").append((new view({
                                            model: model
                                        })).render().el)
                                    });
                                    function formFieldSelect(fields, value) {
                                        var html = '\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e';
                                        for (e in fields) html += '\x3coption value\x3d"' + e + '"' + (value == e ? "selected\x3d'selected'": "") + "\x3e" + fields[e] + "\x3c/option\x3e";
                                        return html
                                    }
                                    var view = Backbone.View.extend({
                                        tagName: "div",
                                        className: "field_item clearfix",
                                        events: {
                                            "click .field-dsitem-del": "deleteField",
                                            "change .field_item_dskey select": "changeCondition",
                                            "change .field_item_dsname select": "changeField",
                                            "change .field_item_dsv input": "changeInput"
                                        },
                                        initialize: function() {},
                                        render: function() {
                                            var html = '\x3cdiv class\x3d"fl field_item_dsname" style\x3d"width:200px;padding-top:0;"\x3e\x3cselect style\x3d"width:200px;"\x3e' + formFieldSelect(fields, this.model.get("filter_field")) + "\x3c/select\x3e\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dskey" style\x3d"width:100px;"\x3e\x3cselect style\x3d"width:100px;"\x3e' + controlFilterCondition(this.model.get("filter_field"), ref_id, this.model.get("filter_condition")) + "\x3c/select\x3e\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dsv"\x3e\x3cinput style\x3d"width:150px;" type\x3d"text" class\x3d"form-text" value\x3d"' + this.model.get("filter_value") + '"/\x3e\x3cspan class\x3d"field-dsitem-del"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e';
                                            this.$el.html(html);
                                            return this
                                        },
                                        deleteField: function() {
                                            coll.remove(this.model);
                                            this.remove()
                                        },
                                        changeCondition: function(e) {
                                            this.model.set({
                                                "filter_condition": $(e.target).val()
                                            })
                                        },
                                        changeField: function(e) {
                                            this.model.set({
                                                "filter_field": $(e.target).val()
                                            });
                                            this.render()
                                        },
                                        changeInput: function(e) {
                                            this.model.set({
                                                "filter_value": $(e.target).val()
                                            })
                                        }
                                    });
                                    if (filter_fields.length == 0) coll.add({
                                        filter_field: "",
                                        filter_condition: "",
                                        filter_value: ""
                                    });
                                    else coll.add(filter_fields);
                                    $dialog.find(".btnclose").click(function() {
                                        window.top.$("#overlayDiv").hide();
                                        $dialog.remove()
                                    });
                                    $dialog.find(".ds-add").click(function() {
                                        coll.add({
                                            filter_field: "",
                                            filter_condition: "",
                                            filter_value: ""
                                        })
                                    });
                                    $dialog.find(".SS_btn input").click(function() {
                                        if (coll.where({
                                            filter_field: ""
                                        }).length > 0) {
                                            _top_alert("\u8bf7\u68c0\u67e5\u5b57\u6bb5\u503c\u662f\u5426\u6709\u7a7a\u503c", false);
                                            return
                                        }
                                        if (coll.where({
                                            filter_condition: ""
                                        }).length > 0) {
                                            _top_alert("\u8bf7\u68c0\u67e5\u6761\u4ef6\u503c\u662f\u5426\u6709\u7a7a\u503c", false);
                                            return
                                        }
                                        if (coll.where({
                                            filter_value: ""
                                        }).length > 0) {
                                            _top_alert("\u8bf7\u68c0\u67e5\u6570\u636e\u503c\u662f\u5426\u6709\u7a7a\u503c", false);
                                            return
                                        }
                                        ref_cfg.filter_fields = coll.toJSON();
                                        _model.set("ref_cfg", ref_cfg);
                                        _this.$el.find('[name\x3d"field[ref_cfg]"]').val(JSON.stringify(ref_cfg));
                                        _this.render(_model);
                                        $dialog.find(".btnclose").click()
                                    });
                                    window.top.$("#overlayDiv").show();
                                    window.top.$("body").append($dialog)
                                },
                                pickForm: function() {
                                    var _id = this.model.get("_id");
                                    var $input = this.$('[name\x3d"field[ref_title]"]');
                                    choseSelectForm($input, _id)
                                },
                                pickField: function() {
                                    var _this = this;
                                    var ref_id = this.model.get("ref_id");
                                    var title = this.model.get("ref_title") || "";
                                    var ref_cfg = this.model.get("ref_cfg");
                                    var _model = this.model;
                                    if (typeof ref_cfg == "string") ref_cfg = JSON.parse(ref_cfg);
                                    if (!ref_id || ref_id == "") window.top._top_alert("\u8bf7\u5148\u9009\u62e9\u5173\u8054\u8868\u5355", false);
                                    var show_fields = ref_cfg.show_fields;
                                    var main_field = ref_cfg.main_field;
                                    if (!formField) {
                                        _top_alert("\u8bf7\u5148\u9009\u62e9\u5173\u8054\u8868\u5355", false);
                                        return
                                    }
                                    var fields = formField[ref_id];
                                    if (!fields) {
                                        _top_alert("\u8be5\u8868\u5355\u6ca1\u6709\u53ef\u9009\u62e9\u7684\u5b57\u6bb5", false);
                                        return
                                    }
                                    var $dialog = $('\x3cdiv class\x3d"pop_wrap7" style\x3d"width: 600px; display: block;"\x3e' + '\x3cdiv class\x3d"SS_tit"\x3e \x3cspan\x3e\u9009\u62e9\u5173\u8054\u5b57\u6bb5\x3c/span\x3e\x3ci class\x3d"btnclose"\x3e\u00d7\x3c/i\x3e \x3c/div\x3e' + '\x3cdiv class\x3d"pop_wrap6_main clearfix"\x3e' + '\x3cdiv class\x3d"dialog-data-source" style\x3d"height:330px;"\x3e' + '\x3cdiv class\x3d"field_item clearfix"\x3e' + '\x3cdiv class\x3d"fl field_item_dsname" style\x3d"width:350px;"\x3e' + title + "\x3c/div\x3e" + '\x3cdiv class\x3d"fl field_item_dskey" style\x3d"width:90px;padding:0;text-align:center;"\x3e\u5173\u8054\u5b57\u6bb5\x3c/div\x3e' + '\x3cdiv class\x3d"fl field_item_dsv" style\x3d"width:90px;text-align:center;"\x3e\u4f5c\u4e3a\u4e3b\u5b57\u6bb5\x3c/div\x3e' + "\x3c/div\x3e" + '\x3cdiv class\x3d"ds-field-list" style\x3d"line-height:32px;"\x3e' + "\x3c/div\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"SS_btn" style\x3d"margin-top:0;"\x3e \x3cinput type\x3d"button" value\x3d"\u786e\u5b9a" class\x3d"btn orangeBtn twoBtn mr10 mb0"\x3e\x3c/div\x3e' + "\x3c/div\x3e");
                                    var collection = Backbone.Collection.extend({
                                        setFalse: function() {
                                            var models = this.where({
                                                isMain: true
                                            });
                                            _.each(models,
                                            function(model) {
                                                model.set({
                                                    "isMain": false
                                                },
                                                {
                                                    silent: false
                                                })
                                            })
                                        }
                                    });
                                    var view = Backbone.View.extend({
                                        tagName: "div",
                                        template: _.template('\x3cdiv class\x3d"fl field_item_dsname" style\x3d"width:350px;"\x3e{{label}}\x3c/div\x3e' + '\x3cdiv class\x3d"fl field_item_dskey" style\x3d"width:90px;padding:0;text-align:center;"\x3e\x3clabel class\x3d"block"\x3e\x3cinput type\x3d"checkbox" {{isRef?"checked":""}}  value\x3d"{{_id}}"\x3e\x3c/label\x3e\x3c/div\x3e' + '\x3cdiv class\x3d"fl field_item_dsv" style\x3d"width:90px;text-align:center;"\x3e\x3clabel class\x3d"block"\x3e\x3cinput name\x3d"main_field" {{isMain?"checked":""}}  {{isRef?"":"disabled"}} type\x3d"radio" value\x3d"{{_id}}"\x3e\x3c/label\x3e\x3c/div\x3e'),
                                        events: {
                                            "change input[type\x3dcheckbox]": "changeIsRef",
                                            "change input[type\x3dradio]": "changeIsMain"
                                        },
                                        changeIsRef: function(e) {
                                            if (e.target.checked) this.model.set("isRef", true);
                                            else this.model.set({
                                                "isRef": false,
                                                "isMain": false
                                            })
                                        },
                                        changeIsMain: function(e) {
                                            if (e.target.checked) {
                                                coll.setFalse();
                                                this.model.set({
                                                    "isMain": true
                                                },
                                                {
                                                    silent: false
                                                })
                                            } else this.model.set({
                                                "isMain": false
                                            },
                                            {
                                                silent: false
                                            })
                                        },
                                        initialize: function() {
                                            this.listenTo(this.model, "change", this.render)
                                        },
                                        render: function() {
                                            this.$el.html(this.template(this.model.toJSON()));
                                            return this
                                        }
                                    });
                                    var coll = new collection;
                                    for (e in fields) coll.add({
                                        label: fields[e],
                                        _id: e,
                                        isMain: main_field == e ? true: false,
                                        isRef: show_fields.indexOf(e) !== -1 ? true: false
                                    });
                                    _.each(coll.models,
                                    function(model, i) {
                                        $dialog.find(".ds-field-list").append((new view({
                                            model: model
                                        })).render().el)
                                    });
                                    $dialog.find(".btnclose").click(function() {
                                        window.top.$("#overlayDiv").hide();
                                        $dialog.remove()
                                    });
                                    $dialog.find(".SS_btn input").click(function() {
                                        var ref = coll.where({
                                            "isRef": true
                                        });
                                        var main = coll.where({
                                            "isMain": true
                                        });
                                        var show_fields = [];
                                        if (main.length == 0) {
                                            _top_alert("\u8bf7\u9009\u62e9\u4e3b\u5b57\u6bb5", false);
                                            return
                                        }
                                        var main_field = main[0].get("_id");
                                        _.each(ref,
                                        function(model) {
                                            show_fields.push(model.get("_id"))
                                        });
                                        ref_cfg.show_fields = show_fields;
                                        ref_cfg.main_field = main_field;
                                        _model.set({
                                            "ref_cfg": ref_cfg
                                        });
                                        _model.trigger("change");
                                        _this.render(_model);
                                        _this.$el.find('[name\x3d"field[ref_cfg]"]').val(JSON.stringify(ref_cfg));
                                        $dialog.find(".btnclose").click()
                                    });
                                    window.top.$("#overlayDiv").show();
                                    window.top.$("body").append($dialog)
                                },
                                updateEquationField: function() {
                                    var $dialog = $('\x3cdiv class\x3d"pop_wrap7" style\x3d"width: 600px; display: block;"\x3e' + '\x3cdiv class\x3d"SS_tit"\x3e \x3cspan\x3e\u8ba1\u7b97\u5f0f\u8bbe\u7f6e\x3c/span\x3e\x3ci class\x3d"btnclose"\x3e\u00d7\x3c/i\x3e \x3c/div\x3e' + '\x3cdiv class\x3d"form-dialog-tmain"\x3e' + '\x3cdiv\x3e\u8ba1\u7b97\u5f0f\x3cspan class\x3d"c999"\x3e\uff08\u53ef\u76f4\u63a5\u8f93\u5165\u6570\u5b57\u5e38\u91cf\uff09\x3c/span\x3e\x3c/div\x3e' + '\x3cdiv class\x3d"form-title-input" onpaste\x3d"preventPaste(event)" tabindex\x3d"1"  contenteditable\x3d"true" placeholder\x3d""\x3e\x3c/div\x3e' + '\x3cdiv class\x3d"clearfix pb20 form-title-set"\x3e' + '\x3cdiv class\x3d"fl"\x3e' + '\x3cdiv style\x3d"padding:15px 0 8px"\x3e\u53ef\u9009\u5b57\u6bb5\x3c/div\x3e' + '\x3cdiv class\x3d"form-title-setl"\x3e' + "\x3cul\x3e" + '\x3cdiv  class\x3d"c999 pl10" \x3e\u6ca1\u6709\u53ef\u9009\u62e9\u5b57\u6bb5\x3c/div\x3e' + "\x3c/ul\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"fl ml20"\x3e' + '\x3cdiv style\x3d"padding:15px 0 8px"\x3e\u8fd0\u7b97\u7b26\x3c/div\x3e' + '\x3cdiv class\x3d"form-title-setr"\x3e' + '\x3cul class\x3d"calculate"\x3e' + '\x3cinput type\x3d"button"value\x3d"+"\x3e' + '\x3cinput type\x3d"button" value\x3d"-"\x3e' + '\x3cinput type\x3d"button" value\x3d"*"\x3e' + '\x3cinput type\x3d"button" value\x3d"/"\x3e' + '\x3cinput type\x3d"button" value\x3d"("\x3e' + '\x3cinput type\x3d"button" value\x3d")"\x3e' + "\x3c/ul\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"SS_btn" style\x3d"margin-top:0;"\x3e \x3cinput type\x3d"button" value\x3d"\u786e\u5b9a" class\x3d"btn orangeBtn twoBtn mr10 mb0"\x3e \x3c/div\x3e' + "\x3c/div\x3e");
                                    var $li = "";
                                    var arr = [];
                                    var calculator = this.model.get("calculator") || "";
                                    var model = this.model;
                                    var $el = this.$el;
                                    var FieldList_data = GoldenData.fieldList;
                                    var parentCid = model.parentCid;
                                    if (model.isChild) {
                                        var parentModel = GoldenData.fieldList.get(parentCid);
                                        FieldList_data = parentModel.fieldList;
                                        if (parentModel.get("_type") == "Fields::FORMREFCustomerField") {
                                            var ref_id = parentModel.get("ref_id");
                                            var ref_cfg = parentModel.get("ref_cfg");
                                            if (typeof ref_cfg == "string") ref_cfg = JSON.parse(ref_cfg);
                                            if (ref_cfg) {
                                                var show_fields = ref_cfg.show_fields;
                                                if (formFieldFilter && ref_id) {
                                                    if (!formField[ref_id]) loadFormFields(ref_id);
                                                    var formData = formFieldFilter[ref_id] || {};
                                                    _.each(show_fields,
                                                    function(e, i) {
                                                        var data = formData[e];
                                                        if (data && (data._type == "NumberField" || data._type == "StatisticsField")) {
                                                            $li += '\x3cinput type\x3d"button" attrid\x3d"' + e + '" value\x3d"' + data.label + '"\x3e';
                                                            arr.push({
                                                                _id: e,
                                                                label: data.label
                                                            })
                                                        }
                                                    })
                                                }
                                            }
                                        }
                                    }
                                    $.each(FieldList_data.where({
                                        _type: "Fields::NumberField"
                                    }),
                                    function(i, e) {
                                        $li += '\x3cinput type\x3d"button" attrid\x3d"' + e.get("_id") + '" value\x3d"' + e.get("label") + '"\x3e';
                                        arr.push({
                                            _id: e.get("_id"),
                                            label: e.get("label")
                                        })
                                    });
                                    $.each(FieldList_data.where({
                                        _type: "Fields::StatisticsField"
                                    }),
                                    function(i, e) {
                                        $li += '\x3cinput type\x3d"button" attrid\x3d"' + e.get("_id") + '" value\x3d"' + e.get("label") + '"\x3e';
                                        arr.push({
                                            _id: e.get("_id"),
                                            label: e.get("label")
                                        })
                                    });
                                    $.each(arr,
                                    function(i, e) {
                                        0;
                                        var temp = '\x3cspan attrid\x3d"' + e._id + '" contenteditable\x3d"false"\x3e' + e.label + "\x3c/span\x3e";
                                        calculator = calculator.replace(new RegExp(e._id, "g"), temp)
                                    });
                                    $dialog.find(".form-title-input").html(calculator + "\x26nbsp;");
                                    if ($li == "") $li = '\x3cdiv  class\x3d"c999 pl10" \x3e\u6ca1\u6709\u53ef\u9009\u62e9\u5b57\u6bb5\x3c/div\x3e';
                                    $dialog.find(".form-title-setl ul").html($li);
                                    $dialog.find(".form-title-setl input").click(function(e) {
                                        e.preventDefault();
                                        var text = $(this).val();
                                        var attrid = $(this).attr("attrid");
                                        $dialog.find(".form-title-input").focus();
                                        window.top.pasteHtmlAtCaret('\x3cspan attrid\x3d"' + attrid + '" contenteditable\x3d"false"\x3e' + text + "\x3c/span\x3e\x26nbsp;")
                                    });
                                    $dialog.find(".form-title-setr input").click(function(e) {
                                        e.preventDefault();
                                        var text = $(this).val();
                                        $dialog.find(".form-title-input").focus();
                                        window.top.pasteHtmlAtCaret(text)
                                    });
                                    $dialog.find(".btnclose").click(function() {
                                        window.top.$("#overlayDiv").hide();
                                        $dialog.remove()
                                    });
                                    $dialog.find(".SS_btn input").click(function() {
                                        var copy = $dialog.find(".form-title-input").clone();
                                        var text = copy.text().replace(/\s/g, "");
                                        copy.find("span").each(function(i, e) {
                                            $(e).replaceWith($(e).attr("attrid"))
                                        });
                                        var result = copy.text().replace(/\s/g, "");
                                        model.set({
                                            calculator: result,
                                            notes: text
                                        });
                                        $el.find('[name\x3d"field[notes]"]').val(text);
                                        $dialog.find(".btnclose").click()
                                    });
                                    window.top.$("#overlayDiv").show();
                                    window.top.$("body").append($dialog)
                                },
                                dataSourceSet: function() {
                                    var ref_cfg = this.model.get("ref_cfg");
                                    var ref_type = this.model.get("ref_type");
                                    var ref_url = this.model.get("ref_url");
                                    if (!ref_url) {
                                        _alert("\u63d0\u793a", "\u8bf7\u5148\u586b\u5199\u94fe\u63a5\u5730\u5740");
                                        return
                                    }
                                    if (!ref_type) {
                                        _alert("\u63d0\u793a", "\u8bf7\u5148\u9009\u62e9\u7c7b\u578b");
                                        return
                                    }
                                    if (!ref_cfg) {
                                        _alert("\u63d0\u793a", "\u94fe\u63a5\u5730\u5740\u65e0\u6548");
                                        return
                                    }
                                    if (typeof ref_cfg == "string") ref_cfg = JSON.parse(ref_cfg);
                                    this.append_top_dialog(ref_type, ref_cfg)
                                },
                                triggerChange: function(data) {
                                    var ref_cfg = this.model.get("ref_cfg");
                                    var ref_type = this.model.get("ref_type");
                                    var ref_url = this.model.get("ref_url");
                                    if (typeof ref_cfg == "string") ref_cfg = JSON.parse(ref_cfg);
                                    ref_cfg.datasource_fields = data;
                                    var $ref = this.$el.find('[name\x3d"field[ref_cfg]"]');
                                    $ref.val(JSON.stringify(ref_cfg));
                                    var $showField = this.$el.find(".showField");
                                    $showField.html(builtshow_fields_ds(ref_cfg, ref_url, ref_type));
                                    $ref.trigger("change")
                                },
                                append_top_dialog: function(ref_type, ref_cfg) {
                                    var __this = this;
                                    var $dialog = $('\x3cdiv class\x3d"pop_wrap7" style\x3d"width: 740px; display: block;"\x3e' + '\x3cdiv class\x3d"SS_tit"\x3e \x3cspan\x3e\u914d\u7f6e\u5b57\u6bb5\x3c/span\x3e\x3ci class\x3d"btnclose"\x3e\u00d7\x3c/i\x3e \x3c/div\x3e' + '\x3cdiv class\x3d"pop_wrap6_main clearfix"\x3e' + '\x3cdiv class\x3d"form dialog-data-source"\x3e' + '\x3cdiv class\x3d"field_item clearfix"\x3e' + '\x3cdiv class\x3d"fl field_item_dsname"\x3e\u5b57\u6bb5\u540d\u79f0\x3cspan class\x3d"mustInput"\x3e *\x3c/span\x3e\x3c/div\x3e' + '\x3cdiv class\x3d"fl field_item_dskey"\x3e\u5b57\u6bb5\u952e\u503c\x3cspan class\x3d"mustInput"\x3e *\x3c/span\x3e\x3c/div\x3e' + '\x3cdiv class\x3d"fl field_item_dsv"\x3e\u5b57\u6bb5\u5c5e\u6027\x3c/div\x3e' + "\x3c/div\x3e" + '\x3cdiv class\x3d"ds-field-list"\x3e' + "\x3c/div\x3e" + "\x3c/div\x3e" + "\x3c/div\x3e" + '\x3cdiv class\x3d"SS_btn" style\x3d"margin-top:0;"\x3e \x3cinput type\x3d"button" value\x3d"\u786e\u5b9a" class\x3d"btn orangeBtn twoBtn mr10 mb0"\x3e\x3c/div\x3e' + "\x3c/div\x3e");
                                    if (ref_cfg.datasource_fields.length == 1) if (ref_type == "DSRadio" || ref_type == "DSSelect" || ref_type == "DSCheckBox") ref_cfg.datasource_fields = [{
                                        field_key: "",
                                        field_name: "",
                                        field_type: "IdShow"
                                    },
                                    {
                                        field_key: "",
                                        field_name: "",
                                        field_type: "MainField"
                                    }];
                                    else if (ref_type == "DSCascadeDropDown") ref_cfg.datasource_fields = [{
                                        field_key: "",
                                        field_name: "",
                                        field_type: "IdShow"
                                    },
                                    {
                                        field_key: "",
                                        field_name: "",
                                        field_type: "MainField"
                                    },
                                    {
                                        field_key: "",
                                        field_name: "",
                                        field_type: "ParentId"
                                    }];
                                    else if (ref_type == "DSDatasource") ref_cfg.datasource_fields = [{
                                        field_key: "",
                                        field_name: "",
                                        field_type: "IdShow"
                                    },
                                    {
                                        field_key: "",
                                        field_name: "",
                                        field_type: "MainField"
                                    }];
                                    var selectKeys = ref_cfg.datasource_dict;
                                    function selectHtml(key, selectKeys) {
                                        var html = "\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e";
                                        for (var id = 0; id < selectKeys.length; id++) if (key == selectKeys[id]) html = html.concat("\x3coption selected\x3d'selected' value\x3d'" + key + "'\x3e" + key + "\x3c/option\x3e");
                                        else html = html.concat("\x3coption value\x3d'" + selectKeys[id] + "'\x3e" + selectKeys[id] + "\x3c/option\x3e");
                                        return html
                                    }
                                    var Coll = Backbone.Collection.extend();
                                    var collection = new Coll(ref_cfg.datasource_fields);
                                    var viewItem = Backbone.View.extend({
                                        className: "field_item clearfix",
                                        render: function(model) {
                                            this.model = model;
                                            var field_type = model.get("field_type");
                                            var str = "";
                                            if (field_type === "Id") str = '\x3cdiv class\x3d"fl field_item_dsv"\x3e\u4e3b\u952e\x3clabel\x3e\x3cinput style\x3d"margin:0 5px;" type\x3d"checkbox"\x3e\u5728\u5e94\u7528\u7aef\u663e\u793a\x3c/label\x3e\x3c/div\x3e';
                                            else if (field_type === "IdShow") str = '\x3cdiv class\x3d"fl field_item_dsv"\x3e\u4e3b\u952e\x3clabel\x3e\x3cinput style\x3d"margin:0 5px;" type\x3d"checkbox" checked\x3e\u5728\u5e94\u7528\u7aef\u663e\u793a\x3c/label\x3e\x3c/div\x3e';
                                            else if (field_type === "MainField") str = '\x3cdiv class\x3d"fl field_item_dsv"\x3e\u4e3b\u5b57\u6bb5\x3c/div\x3e';
                                            else if (field_type === "ParentId") str = '\x3cdiv class\x3d"fl field_item_dsv"\x3e\u5173\u8054\u4e3b\u952e\x3c/div\x3e';
                                            else if (field_type === "ShowField" || field_type === "ImageField") str = '\x3cdiv class\x3d"fl field_item_dsv"\x3e\x3cselect style\x3d"width:110px;"\x3e\x3coption value\x3d"ShowField" ' + ("ShowField" == field_type ? "selected": "") + '\x3e\u663e\u793a\u5b57\u6bb5\x3c/option\x3e\x3coption value\x3d"ImageField" ' + ("ImageField" == field_type ? "selected": "") + '\x3e\u56fe\u7247\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"field-dsitem-del"\x3e\x3cspan\x3e\x3c/div\x3e';
                                            this.el.innerHTML = '\x3cdiv class\x3d"fl field_item_dsname"\x3e\x3cinput type\x3d"text" style\x3d"width:318px;" class\x3d"form-text" value\x3d"' + model.get("field_name") + '"\x3e\x3c/div\x3e' + '\x3cdiv class\x3d"fl field_item_dskey"\x3e\x3cselect style\x3d"width:160px;"\x3e' + selectHtml(model.get("field_key"), selectKeys) + "\x3c/select\x3e\x3c/div\x3e" + str;
                                            this.el.id = model.cid;
                                            return this
                                        }
                                    });
                                    var view = Backbone.View.extend({
                                        collection: collection,
                                        events: {
                                            "click input[type\x3dcheckbox]": function(e) {
                                                var _this = $(e.target);
                                                var cid = _this.parents(".field_item")[0].id;
                                                if (_this[0].checked) this.collection.get(cid).set("field_type", "IdShow");
                                                else this.collection.get(cid).set("field_type", "Id")
                                            },
                                            "click .field-dsitem-del": function(e) {
                                                var _this = $(e.target);
                                                var cid = _this.parents(".field_item")[0].id;
                                                _this.parents(".field_item").remove();
                                                this.collection.remove(this.collection.get(cid));
                                                this.initSelect()
                                            },
                                            "change .field_item_dskey select": function(e) {
                                                var _this = $(e.target);
                                                var cid = _this.parents(".field_item")[0].id;
                                                this.collection.get(cid).set("field_key", _this.val());
                                                this.initSelect()
                                            },
                                            "change .field_item_dsv select": function(e) {
                                                var _this = $(e.target);
                                                var cid = _this.parents(".field_item")[0].id;
                                                this.collection.get(cid).set("field_type", _this.val())
                                            },
                                            "input .field_item_dsname input": function(e) {
                                                var _this = $(e.target);
                                                var cid = _this.parents(".field_item")[0].id;
                                                this.collection.get(cid).set("field_name", _this.val())
                                            },
                                            "click .ds-add": function(e) {
                                                this.collection.add({
                                                    field_key: "",
                                                    field_name: "",
                                                    field_type: "ShowField"
                                                })
                                            }
                                        },
                                        initSelect: function() {
                                            var selects = selectKeys;
                                            var fields = this.collection.pluck("field_key");
                                            var surfields = _.difference(selects, fields);
                                            var optionhtml = "";
                                            $.each(surfields,
                                            function(i, e) {
                                                optionhtml += "\x3coption value\x3d'" + e + "'\x3e" + e + "\x3c/option\x3e"
                                            });
                                            this.$el.find(".field_item_dskey select option").not(":selected").remove();
                                            this.$el.find(".field_item_dskey select").append(optionhtml)
                                        },
                                        initialize: function() {
                                            this.listenTo(this.collection, "add", this.render);
                                            this.render()
                                        },
                                        render: function() {
                                            var str = "";
                                            var models = this.collection.models;
                                            $.each(models,
                                            function(i, model) {
                                                str += (new viewItem).render(model).el.outerHTML
                                            });
                                            if (ref_type == "DSDatasource") str += '\x3cdiv\x3e\x3ca style\x3d"cursor:pointer;" class\x3d"ds-add"\x3e\u6dfb\u52a0\u65b0\u5b57\u6bb5\x3c/a\x3e\x3c/div\x3e';
                                            this.el.innerHTML = str;
                                            $dialog.find(".ds-field-list").html(this.$el);
                                            this.delegateEvents();
                                            this.initSelect();
                                            return this
                                        }
                                    });
                                    new view;
                                    $dialog.find(".btnclose").click(function() {
                                        window.top.$("#overlayDiv").hide();
                                        $dialog.remove()
                                    });
                                    $dialog.find(".SS_btn input").click(function() {
                                        if (collection.where({
                                            field_key: ""
                                        }).length > 0) {
                                            _top_alert("\u5b57\u6bb5\u952e\u503c\u4e0d\u80fd\u4e3a\u7a7a", false);
                                            return
                                        }
                                        if (collection.where({
                                            field_name: ""
                                        }).length > 0) {
                                            _top_alert("\u5b57\u6bb5\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a", false);
                                            return
                                        }
                                        __this.triggerChange(collection.toJSON());
                                        $dialog.find(".btnclose").click()
                                    });
                                    window.top.$("#overlayDiv").show();
                                    window.top.$("body").append($dialog)
                                },
                                _renderTextChoicesEditView: function() {
                                    this.model.textChoiceList.each(function(e) {
                                        return function(t) {
                                            e.$(".choices").append((new GoldenData.ChoiceContainerEditView({
                                                model: t
                                            })).render().el);
                                            if (t.get("_type") === "OtherChoice") return e.$(".add-other-choice").parent().hide()
                                        }
                                    } (this));
                                    if (this.model.textChoiceList.length === 1) return this.$(".choices .choice .del_choice").hide()
                                },
                                _renderStatementsEditView: function() {
                                    this.model.statementList.each(function(e) {
                                        return function(t) {
                                            return e.$(".statements").append((new GoldenData.StatementContainerEditView({
                                                model: t
                                            })).render().el)
                                        }
                                    } (this));
                                    if (this.model.statementList.length === 1) return this.$(".statements .statement .delete").hide()
                                },
                                render: function(e) {
                                    var t, n, r, i, s, o, u, a;
                                    $(".datepicker:gt(1), .autosizejs:gt(0)").remove(),
                                    $(".accordion-toggle[href\x3d#field_settings]").parent(".accordion-heading").removeClass("no-field"),
                                    this.model = e,
                                    i = _.template($("#" + e.type + "_edit_template").html()),
                                    $(this.el).html(i(this.model.toJSON(!1))),
                                    $("#_field_type").text(this.$('input[name\x3d"field[type]"]').val()),
                                    $("#field_settings .accordion-inner").append(this.$el),
                                    e.hasChoices() && this._renderTextChoicesEditView(),
                                    e.isAddress() && this.$(".address").html((new GoldenData.AddressEditView({
                                        model: e.predefinedValue
                                    })).render().el),
                                    e.isRating() && this.$(".rating").html((new GoldenData.RatingEditView({
                                        model: e
                                    })).render().el),
                                    e.isDateField() && (new GoldenData.DatePicker(this.el), this.$("#predefined_value_type").val(e.get("predefined_value")), ((u = e.get("predefined_value")) === "today" || u === "yesterday" || u === "tomorrow") && this.$('[data-field-key\x3d"predefined_value"]').val(""));
                                    if (e.isTimeField()) {
                                        e.get("include_second") && this.$("[data-field-key\x3d'predefined_value'][data-sub-key\x3d'second']").prev().andSelf().show(),
                                        r = e.get("predefined_value"),
                                        a = ["hour", "minute", "second"];
                                        for (s = 0, o = a.length; s < o; s++) n = a[s],
                                        this.$("[data-field-key\x3d'predefined_value'][data-sub-key\x3d'" + n + "']").val(r[n])
                                    }
                                    return e.isMobileField() && this._renderMobileWhiteListEditView(),
                                    e.isLikert() && this._renderStatementsEditView(),
                                    e.isCascade() && (t = e.textChoiceList.formatWithCascade(), this.$("textarea.cascade_choices").text(t).autosize()),
                                    this.$("input").placeholder()
                                },
                                _attributeValue: function(e) {
                                    var t, n, r, i, s;
                                    if (e.data("sub-key")) {
                                        n = {},
                                        s = this.$("[data-field-key\x3d" + e.data("field-key") + "]:visible");
                                        for (r = 0, i = s.length; r < i; r++) t = s[r],
                                        n[$(t).data("sub-key")] = $(t).val();
                                        return n
                                    }
                                    return e.attr("type") === "checkbox" ? e.attr("multiple") ? $.map($(this.el).find("[name\x3d'" + e.attr("name") + "']:checked"),
                                    function(e) {
                                        return $(e).val()
                                    }) : e.is(":checked") : e.val()
                                },
                                update: function(e) {
                                    var t, n, r, i;
                                    r = $(e.target);
                                    if (r.data("upgrade-modal")) return this.preventDefaultEvent(e);
                                    t = r.data("field-key"),
                                    n = {},
                                    n[t] = this._attributeValue(r),
                                    r.removeClass("error"),
                                    r.nextAll(".error-message[data-attr\x3d'" + t + "']").remove(),
                                    this.model.set(n, {
                                        validate: !0,
                                        on: t
                                    }),
                                    GoldenData.showInlineErrorIfHave(r, this.model.validationError, t);
                                    if (r.is("[data-inline-input]") && n[t] && !this.model.validationError) return i = r.siblings("input:checkbox"),
                                    i.attr("checked", !0),
                                    i.is("[data-field-key]") && i.change(),
                                    i.parent().next(".config").show()
                                },
                                updateChoiceLayout: function(e) {
                                    return this.model.set({
                                        choices_layout: $(e.target).data("value")
                                    })
                                },
                                adjustPosition: function() {
                                    return GoldenData.adjustViewPosition("#field_settings", "#form_preview")
                                },
                                _getValuesFromBatchEdit: function(e) {
                                    var t, n;
                                    return t = $(e).parents(".modal"),
                                    n = t.find("textarea").val(),
                                    _.compact($.map(n.split("\n"),
                                    function(e) {
                                        return $.trim(e)
                                    }))
                                },
                                _addToListFromBatchEdit: function(e, t, n) {
                                    var r, i, s;
                                    return i = $(e).parents(".modal"),
                                    s = this._getValuesFromBatchEdit(e),
                                    r = _.map(s,
                                    function(e, r) {
                                        var i, s, o;
                                        return i = (s = (o = t.at(r)) != null ? o.toJSON() : void 0) != null ? s: {},
                                        i[n] = e,
                                        i._type = "Choice",
                                        i
                                    }),
                                    r.length === 0 && r.push({}),
                                    t.reset(r),
                                    i.modal("hide"),
                                    i.find("textarea").val(""),
                                    i.find(".selected").removeClass("selected")
                                },
                                addChoices: function(e) {
                                    var t, n;
                                    return n = this.model.textChoiceList.where({
                                        _type: "OtherChoice"
                                    }),
                                    t = n.length > 0,
                                    this.$(".choices").empty(),
                                    this._addToListFromBatchEdit(e, this.model.textChoiceList, "value"),
                                    t && this.model.textChoiceList.add(n),
                                    this._renderTextChoicesEditView()
                                },
                                addStatements: function(e) {
                                    return this.$(".statements").empty(),
                                    this._addToListFromBatchEdit(e, this.model.statementList, "label"),
                                    this._renderStatementsEditView()
                                },
                                _renderMobileWhiteListEditView: function() {
                                    var e, t;
                                    return t = this.model.get("white_list_values") || [],
                                    e = t.length,
                                    e === 0 && this.model.set("validations", _.without(this.model.get("validations"), "white_list_limit")),
                                    this.$(".white_list_count_text").text(e > 0 ? "\uff08\u5df2\u8bbe" + e + "\u4e2a\uff09": ""),
                                    this.$(".set-white-list").text(e > 0 ? "\u4fee\u6539": "\u8bbe\u5b9a\u88ab\u5141\u8bb8\u7684\u624b\u673a\u53f7"),
                                    this.$('input[data-field-key\x3d"validations"][value\x3d"white_list_limit"]').attr("checked", _.contains(this.model.get("validations"), "white_list_limit"))
                                },
                                updateMobileWhiteList: function(e) {
                                    return this.model.set("white_list_values", this._getValuesFromBatchEdit(e)),
                                    this.model.get("white_list_values").length > 0 && this.model.set("validations", _.union(this.model.get("validations"), ["white_list_limit"])),
                                    this._renderMobileWhiteListEditView(),
                                    $("#mobile_white_list_modal").modal("hide")
                                },
                                updateChoicesQuota: function() {
                                    return this.model.choiceList().each(function(e) {
                                        return e.set({
                                            quota: e.get("quota_temp")
                                        })
                                    }),
                                    $("#choices_quota_modal").modal("hide")
                                },
                                updateChoicesQuotaModal: function() {
                                    var e;
                                    return e = $("#choices_quota_modal tbody").empty(),
                                    this.model.choiceList().each(function(t) {
                                        return e.append((new GoldenData.ChoiceQuotaEditView({
                                            model: t
                                        })).render().el)
                                    })
                                },
                                addExistingChoices: function() {
                                    var e, t;
                                    return e = this.model.textChoiceList.where({
                                        _type: "OtherChoice"
                                    }),
                                    t = this.model.textChoiceList.clone().remove(e).pluck("value"),
                                    $("#multiple_choices_modal textarea").val(_.compact(t).join("\n"))
                                },
                                addExistingStatements: function() {
                                    var e;
                                    return e = this.model.statementList.pluck("label"),
                                    $("#multiple_statements_modal textarea").val(_.compact(e).join("\n"))
                                },
                                addOtherChoice: function(e) {
                                    return this.model.textChoiceList.add(new GoldenData.OtherChoice),
                                    this.render(this.model),
                                    $(".add-other-choice").parent().hide(),
                                    e.preventDefault()
                                },
                                togglePrivateField: function(e) {
                                    if ($(e.target).is(":checked")) return $("[data-field-key\x3dprivate]").removeAttr("checked").change()
                                },
                                togglePresenceValidation: function(e) {
                                    if ($(e.target).is(":checked")) return $("[data-field-key\x3d'validations'][value\x3d'presence']").removeAttr("checked").change()
                                },
                                updatePredefinedValueType: function() {
                                    var predefined = this.$("#predefined_value_type").val();
                                    var $value = this.$('[data-field-key\x3d"predefined_value"]');
                                    if (predefined == "") $value.parents(".date-field-container").show();
                                    else $value.parents(".date-field-container").hide();
                                    this.model.set({
                                        predefined_value: predefined
                                    })
                                },
                                toggleSecond: function(e) {
                                    var t;
                                    return t = this.$("[data-field-key\x3d'predefined_value'][data-sub-key\x3d'second']").prev().andSelf(),
                                    $(e.target).is(":checked") ? t.show() : (t.hide(), this.$("[data-field-key\x3d'predefined_value'][data-sub-key\x3d'second']").val("").change())
                                },
                                preventDefaultEvent: function(e) {
                                    return e.preventDefault(),
                                    e.stopPropagation()
                                },
                                showUpgradeModal: function(e) {
                                    var t;
                                    return this.preventDefaultEvent(e),
                                    t = $(e.target),
                                    $("#" + t.data("upgrade-modal")).modal("show"),
                                    t.blur(),
                                    window.focus()
                                },
                                triggerTargetValue: function(e) {
                                    var t, n, r, i, s, o, u;
                                    i = $(e.target);
                                    if (i.data("upgrade-modal")) return this.preventDefaultEvent(e);
                                    n = i.data("target"),
                                    t = i.is(":checked");
                                    if (_.isArray(n)) {
                                        u = [];
                                        for (s = 0, o = n.length; s < o; s++) r = n[s],
                                        u.push(this._updateTargetAttribute(r, t));
                                        return u
                                    }
                                    return this._updateTargetAttribute(n, t)
                                },
                                _updateTargetAttribute: function(e, t) {
                                    var n, r;
                                    return r = this.$("[data-field-key\x3d" + e + "]"),
                                    t ? (r.val() && r.change(), r.parent().next(".config").show()) : (n = {},
                                    n[e] = null, this.model.set(n), r.parent().next(".config").hide())
                                },
                                parseAndSetCascadeChoices: function(e) {
                                    function rst(a, b) {
                                        var map = {};
                                        for (var i = 0; i < a.length; i++) map[a[i]["value"]] = a[i]["_id"];
                                        for (var i = 0; i < b.length; i++) if (map[b[i]["value"]]) b[i]["_id"] = map[b[i]["value"]]
                                    }
                                    var t, n, r, i, s;
                                    i = $(e.target),
                                    i.removeClass("error"),
                                    i.nextAll(".error-message").remove(),
                                    s = _.compact($.map(i.val().split("\n"),
                                    function(e) {
                                        return $.trim(e)
                                    })),
                                    t = [],
                                    n = null,
                                    _.each(s,
                                    function(e) {
                                        var r;
                                        if (e[0] !== "-" || !n) return n = {
                                            value: e,
                                            sub_choices: []
                                        },
                                        t.push(n);
                                        r = $.trim(e.replace(/^-/, ""));
                                        if (r) return n.sub_choices.push({
                                            value: r
                                        })
                                    }),
                                    r = _.select(t,
                                    function(e) {
                                        return e.sub_choices.length === 0
                                    });
                                    rst(this.model.textChoiceList.toJSON(), t);
                                    this.model.textChoiceList.reset(_.difference(t, r));
                                    if (r.length > 0) return i.parent().append("\x3cspan class\x3d'error-message'\x3e\u9009\u9879\u4e2d\u7684" + _.map(r,
                                    function(e) {
                                        return e.value
                                    }).join("\u3001") + "\u4e0d\u5305\u542b\u4e8c\u7ea7\u9009\u9879\uff0c\u5c06\u88ab\u5ffd\u7565\x3c/span\x3e")
                                }
                            }),
                            GoldenData.FieldDeleteModalView = Backbone.View.extend({
                                el: "#delete_field_confirm_modal",
                                events: {
                                    "click .delete-field": "deleteField"
                                },
                                render: function(e) {
                                    return this.model = e,
                                    $(this.el).modal("show")
                                },
                                deleteField: function() {
                                    return GoldenData.form.remove(this.model),
                                    $(this.el).modal("hide")
                                }
                            }),
                            GoldenData.FieldCShowView = Backbone.View.extend({
                                className: "list-edit-child",
                                initialize: function() {
                                    this.listenTo(this.model, "change", this.render);
                                    this.listenTo(this.model, "remove", this.remove);
                                    this.listenTo(this.model.textChoiceList, "add remove reset", this.render)
                                },
                                render: function() {
                                    var fn = _.template($("#" + this.model.type + "_show_template_child").html() || "");
                                    var e = this.model.toJSON();
                                    this.model.isDateField() && (e.predefined_value = GoldenData.formatDate(GoldenData.parseDate(this.model.get("predefined_value"))));
                                    var html = fn(e);
                                    if (this.tagName == "tr") html = "\x3ctd\x3e" + html + "\x3c/td\x3e";
                                    $(this.el).html(html).data("cid", this.model.cid);
                                    if (this.model.isRating()) this.$(".rating").html((new GoldenData.RatingShowView({
                                        model: this.model
                                    })).render().el);
                                    if (this.model.hasChoices()) this._renderTextChoices(this.model.textChoiceList);
                                    return this
                                },
                                _textChoiceViewAttrs: function(e) {
                                    var t;
                                    return t = {},
                                    e.type === "DropDown" ? t.tagName = "option": e.get("_type") === "OtherChoice" ? (t.tagName = "div", t.className = "other-choice-area") : (t.tagName = "label", t.className = e.type.indexOf("CheckBox") > -1 ? "checkbox": "radio"),
                                    t
                                },
                                _renderTextChoices: function(e) {
                                    return this.model.type === "DropDown" && this.$(".choices").append("\x3coption\x3e\u8bf7\u9009\u62e9\x3c/option\x3e"),
                                    e.each(function(e) {
                                        return function(t) {
                                            var n, r;
                                            t.type = e.model.type,
                                            r = {
                                                model: t.set({
                                                    group: e.model.cid
                                                })
                                            },
                                            $.extend(r, e._textChoiceViewAttrs(t)),
                                            n = (new GoldenData.ChoiceContainerShowView(r)).render().el,
                                            e.$(".choices").append(n);
                                            if (t.get("_type") === "OtherChoice" && t.type === "DropDown") {
                                                e.$(".controls").append("\x3cinput type\x3d'text' name\x3d'field[choices]_other' class\x3d'input-medium other-choice hide'\x3e");
                                                if (t.get("selected")) return e.$(".controls .other-choice").show()
                                            }
                                        }
                                    } (this))
                                }
                            }),
                            GoldenData.FieldShowView = Backbone.View.extend({
                                tagName: "div",
                                className: "field",
                                events: {
                                    "click .control-group": "edit",
                                    "click .delete": "delete",
                                    "click .delete-childf": "deleteChildf",
                                    "click .duplicate": "duplicate",
                                    "click .add-field .toggle": "show",
                                    "click .add-field .available-fields": "hide",
                                    "click .new-field": "addChild",
                                    "click .list-edit-child": "editChild"
                                },
                                show: function(e) {
                                    this.$el.find(".add-field .toggle").hide();
                                    this.$el.find(".add-field .available-fields").show()
                                },
                                hide: function(e) {
                                    e.stopPropagation();
                                    this.$el.find(".add-field .toggle").show();
                                    this.$el.find(".add-field .available-fields").hide()
                                },
                                addChild: function(e) {
                                    var $this = $(e.target).parents(".new-field");
                                    var type = $this.data("field-type");
                                    if (!type) return;
                                    if (!this.model.fieldList) this.model.fieldList = new GoldenData.FieldList;
                                    var n = 0;
                                    if (this.model.fieldList.length > 0) n = this.model.fieldList.last().get("position");
                                    this.model.fieldList.add({
                                        position: n + 1,
                                        _type: type
                                    });
                                    this._renderChildField(this.model.fieldList);
                                    var model = this.model.fieldList.last();
                                    this._renderEditView(model);
                                    this.$(".list-edit-child:last").addClass("edit-child");
                                    GoldenData.fieldEditView.adjustPosition()
                                },
                                _renderEditView: function(model) {
                                    model.isChild = true;
                                    model.parentCid = this.model.cid;
                                    $(".sidebar").show();
                                    $(".sidebar .dropdown").hide();
                                    $("#form_preview .editing").removeClass("editing");
                                    GoldenData.fieldEditView.$("input, textarea").blur();
                                    GoldenData.fieldEditView.render(model);
                                    GoldenData.accordionOpen("#field_settings");
                                    GoldenData.fieldEditView.adjustPosition();
                                    $(".set_choices_quota").hide().next().hide();
                                    $(".set-field-relate").parents(".field").hide()
                                },
                                editChild: function(e) {
                                    e.stopPropagation();
                                    var $this = $(e.target);
                                    $(".list-edit-child").removeClass("edit-child");
                                    var cid = $this.parents(".list-edit-child").addClass("edit-child").data("cid");
                                    if (!cid) return;
                                    var model = this.model.fieldList.get(cid);
                                    this._renderEditView(model)
                                },
                                initialize: function() {
                                    return this.listenTo(this.model, "change", this.render),
                                    this.listenTo(this.model, "remove", this.remove),
                                    this.listenTo(this.model.textChoiceList, "add remove reset", this.render),
                                    this.listenTo(this.model.imageChoiceList, "add remove", this.render),
                                    this.listenTo(this.model.statementList, "add remove reset", this.render)
                                },
                                _lengthLabelHint: function() {
                                    var e, t, n, r, i, s;
                                    return t = [],
                                    n = this.model.get("maximum_length"),
                                    r = this.model.get("minimum_length"),
                                    e = _.contains(["TextField", "TextArea"], this.model.type),
                                    i = e ? "\u8bf7\u8f93\u5165": "\u8bf7\u9009\u62e9",
                                    s = e ? "\u4e2a\u5b57\u7b26": "\u9879",
                                    n > 0 && r > 0 ? Math.floor(n) === Math.floor(r) ? t.push("" + i + Math.floor(n) + s) : t.push("" + i + Math.floor(r) + "-" + Math.floor(n) + s) : (r > 0 && t.push("" + i + "\u6700\u5c11" + Math.floor(r) + s), n > 0 && t.push("" + i + "\u6700\u591a" + Math.floor(n) + s)),
                                    t
                                },
                                _rangeLabelHint: function() {
                                    var e, t, n;
                                    return e = [],
                                    n = this.model.get("range_min"),
                                    t = this.model.get("range_max"),
                                    n && t ? e.push("\u8bf7\u8f93\u5165" + Math.floor(n) + "-" + Math.floor(t) + "\u4e4b\u95f4\u7684\u6570\u5b57 ") : n ? e.push("\u8bf7\u8f93\u5165" + Math.floor(n) + "\u53ca\u4ee5\u4e0a\u7684\u6570\u5b57 ") : t && e.push("\u8bf7\u8f93\u5165\u4e0d\u5927\u4e8e" + Math.floor(t) + "\u7684\u6570\u5b57"),
                                    e
                                },
                                _labelHint: function() {
                                    var e, t;
                                    return e = [],
                                    e.push(this._lengthLabelHint()),
                                    e.push(this._rangeLabelHint()),
                                    t = _.flatten(e),
                                    t.length > 0 ? "\uff08" + t.join("\uff0c") + "\uff09": ""
                                },
                                _textChoiceViewAttrs: function(e) {
                                    var t;
                                    return t = {},
                                    e.type === "DropDown" ? t.tagName = "option": e.get("_type") === "OtherChoice" ? (t.tagName = "div", t.className = "other-choice-area") : (t.tagName = "label", t.className = e.type.indexOf("CheckBox") > -1 ? "checkbox": "radio"),
                                    t
                                },
                                _renderChildField: function(list) {
                                    var $tr = this.$("table tr").empty();
                                    var tagName = this.model.get("line_row") == "1" ? "tr": "td";
                                    if (this.model.get("line_row") == "1") $tr = this.$("table tbody").empty();
                                    if (this.model.type == "FORMREFCustomerField") try {
                                        var ref_cfg = this.model.get("ref_cfg");
                                        var ref_id = this.model.get("ref_id");
                                        var html = builtshow_fields_table(this.model, ref_id, ref_cfg, tagName);
                                        $tr.append(html)
                                    } catch(e$78) {
                                        console.log("\u5173\u8054\u5b57\u6bb5\u5f02\u5e38")
                                    }
                                    list.each(function(model) {
                                        $tr.append((new GoldenData.FieldCShowView({
                                            tagName: tagName,
                                            model: model
                                        })).render().el)
                                    });
                                    this._initSortableFields()
                                },
                                _initSortableFields: function() {
                                    var _this = this;
                                    var list = this.model.fieldList;
                                    var line_row = this.model.get("line_row") == "1" ? "y": "x";
                                    this.$("tbody").sortable({
                                        forcePlaceholderSize: true,
                                        items: ".list-edit-child",
                                        axis: line_row,
                                        scroll: true,
                                        update: function() {
                                            _this.$("tbody .list-edit-child").each(function(i, e) {
                                                var cid = $(e).data("cid");
                                                list.get(cid).set({
                                                    "position": i + 1
                                                })
                                            });
                                            list.sort()
                                        }
                                    })
                                },
                                _renderTextChoices: function(e) {
                                    return this.model.type === "DropDown" && this.$(".choices").append("\x3coption\x3e\u8bf7\u9009\u62e9\x3c/option\x3e"),
                                    e.each(function(e) {
                                        return function(t) {
                                            var n, r;
                                            t.type = e.model.type,
                                            r = {
                                                model: t.set({
                                                    group: e.model.cid
                                                })
                                            },
                                            $.extend(r, e._textChoiceViewAttrs(t)),
                                            n = (new GoldenData.ChoiceContainerShowView(r)).render().el,
                                            e.$(".choices").append(n);
                                            if (t.get("_type") === "OtherChoice" && t.type === "DropDown") {
                                                e.$(".controls").append("\x3cinput type\x3d'text' name\x3d'field[choices]_other' class\x3d'input-medium other-choice hide'\x3e");
                                                if (t.get("selected")) return e.$(".controls .other-choice").show()
                                            }
                                        }
                                    } (this))
                                },
                                render: function() {
                                    var e, t, n, r, i;
                                    this.model.errorMessage || (this.model.errorMessage = ""),
                                    i = _.template($("#" + this.model.type + "_show_template").html()),
                                    e = this.model.toJSON(),
                                    this.model.isDateField() && (e.predefined_value = GoldenData.formatDate(GoldenData.parseDate(this.model.get("predefined_value")))),
                                    e.labelHint = this._labelHint(),
                                    e.errorMessage = this.model.errorMessage,
                                    $(this.el).html(i(e)).data("cid", this.model.cid),
                                    this.model.type === "SectionBreak" && this.$el.addClass("section-break"),
                                    this.model.get("private") && this.$(".icons").append('\x3ci class\x3d"fa fa-lock"\x3e\x3c/i\x3e'),
                                    this.model.get("grids_to_occupy") && this.$(".icons").append("\x3ci class\x3d'icon-grid-" + this.model.get("grids_to_occupy") + "'\x3e\x3c/i\x3e"),
                                    this.model.hasChoices() && (this._renderTextChoices(this.model.textChoiceList), this.model.get("choices_layout") === "side_by_side" && this.$(".choices \x3e label, .other-choice-area").addClass("inline"));
                                    if (this.model.hasChildField()) this._renderChildField(this.model.fieldList);
                                    return this.model.isAddress() && this.$(".address").html((new GoldenData.AddressShowView({
                                        model: this.model.predefinedValue
                                    })).render().el),
                                    this.model.isRating() && this.$(".rating").html((new GoldenData.RatingShowView({
                                        model: this.model
                                    })).render().el),
                                    this.model.isTimeField() && (n = this.$("[name\x3d'date[second]']").prev().andSelf(), this.model.get("include_second") ? n.show() : n.hide(), t = this.model.get("predefined_value"), this.$("[name\x3d'date[hour]']").val(t.hour), this.$("[name\x3d'date[minute]']").val(t.minute), this.$("[name\x3d'date[second]']").val(t.second)),
                                    this.model.isMobileField() && this.model.get("sms_verification") && this.$(".controls").after("\x3cdiv class\x3d'input-prepend'\x3e\x3cspan class\x3d'add-on'\x3e\u53d1\u9001\u9a8c\u8bc1\u77ed\u4fe1\x3c/span\x3e\x3cinput type\x3d'text' class\x3d'verification-token' placeholder\x3d'\u9a8c\u8bc1\u7801' disabled\x3d'disabled'\x3e\x3c/div\x3e"),
                                    this.model.isCascade() && this.$(".choices").append("\x3coption\x3e\u8bf7\u9009\u62e9\x3c/option\x3e"),
                                    this.$("input, select, textarea").not("[readonly]").attr("disabled", !0),
                                    GoldenData.fieldEditView.adjustPosition(),
                                    this
                                },
                                edit: function(e) {
                                    $(".list-edit-child").removeClass("edit-child");
                                    return $(".sidebar").show(),
                                    $(".sidebar .dropdown").show(),
                                    this.$(".list-edit-child").removeClass("edit-child"),
                                    $("#form_preview .editing").removeClass("editing"),
                                    GoldenData.form && GoldenData.form.headerView.render(),
                                    $(this.el).addClass("editing"),
                                    GoldenData.fieldEditView.$("input, textarea").blur(),
                                    GoldenData.fieldEditView.render(this.model),
                                    GoldenData.accordionOpen("#field_settings"),
                                    GoldenData.fieldEditView.adjustPosition(),
                                    fieldExtendInfo(this.model)
                                },
                                "delete": function() {
                                    GoldenData.hideTooltip();
                                    var model = this.model;
                                    if (this.model.type == "ChildField" || this.model.type == "FORMREFCustomerField") {
                                        var str = "\u8868\u5355\u5173\u8054";
                                        if (model.type == "ChildField") str = "\u5b50\u8868\u5355";
                                        _confirm("\u63d0\u793a", "\u5220\u9664" + str + "\u5b57\u6bb5\u540e\uff0c\u76f8\u5173\u7684\u8bbe\u7f6e\u9879\u5c06\u88ab\u6e05\u9664\uff0c\u786e\u5b9a\u5220\u9664\u5417\uff1f", "\u786e\u5b9a|\u53d6\u6d88", {
                                            ok: function() {
                                                GoldenData.form.remove(model);
                                                $(".tooltip.top").remove()
                                            }
                                        });
                                        return
                                    }
                                    this.model.get("has_data") ? GoldenData.fieldDeleteModalView.render(this.model) : GoldenData.form.remove(this.model)
                                },
                                deleteChildf: function(e) {
                                    e.stopPropagation();
                                    var cid = $(e.target).parents(".list-edit-child").data("cid");
                                    var model = this.model.fieldList.get(cid);
                                    this.model.fieldList.remove(model);
                                    $(e.target).parents(".list-edit-child").remove();
                                    $(".sidebar").hide();
                                    GoldenData.fieldEditView.$el.empty()
                                },
                                duplicate: function(e) {
                                    var t;
                                    return GoldenData.hideTooltip(),
                                    t = $(e.target).data("upgrade-modal"),
                                    t ? $("#" + t).modal("show") : GoldenData.form.duplicate(this.model)
                                }
                            }),
                            GoldenData.FieldList = Backbone.Collection.extend({
                                model: mainModel,
                                comparator: function(e) {
                                    return e.get("position")
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r, i;
                            return i = function(e) {
                                var t;
                                return t = /^1\d{10}$/,
                                t.test(e)
                            },
                            t = function(e, t) {
                                return e.addClass("disabled"),
                                e.text(t)
                            },
                            n = function(e) {
                                return e.removeClass("disabled"),
                                e.text(l("%resend"))
                            },
                            e = function(r, i) {
                                return i > 0 ? (t(r, l("%resend") + (" (" + i + ")")), i--, setTimeout(function() {
                                    return e(r, i)
                                },
                                1E3)) : n(r)
                            },
                            r = function(e) {
                                var t, n;
                                return n = $.trim(e.val()),
                                t = e.attr("name").match(/\[(.+)\]$/)[1],
                                [n, t]
                            },
                            $(document).on("click", "[data-role\x3d'verification_sender'] a.btn:not(.disabled):not(.preview)",
                            function() {
                                var s, o, u, a, f, c;
                                return $(this).prev(".field_with_errors").find("input").unwrap(),
                                $(this).parent().nextAll().remove(),
                                c = r($(this).parents("[data-role\x3d'verification_sender']").find(".mobile")),
                                u = c[0],
                                a = c[1],
                                i(u) ? (t($(this), l("%sendingSMS")), f = {
                                    mobile: u,
                                    field_api_code: a
                                },
                                s = $(this).closest("form").find("[name\x3d'authenticity_token']").val(), o = {
                                    field_verification: f,
                                    authenticity_token: s,
                                    form_id: $(this).data("form-id")
                                },
                                $.post($(this).data("url"), o,
                                function(t) {
                                    return function(n) {
                                        return e($(t), 60),
                                        $(t).parent().after(n)
                                    }
                                } (this)).fail(function(e) {
                                    return function(t) {
                                        return $(e).prev("input").wrap("\x3cdiv class\x3d'field_with_errors'\x3e\x3c/div\x3e"),
                                        $(e).parent().after("\x3cdiv class\x3d'error-message'\x3e" + t.responseText + "\x3c/div\x3e"),
                                        n($(e))
                                    }
                                } (this))) : ($(this).prev("input").wrap("\x3cdiv class\x3d'field_with_errors'\x3e\x3c/div\x3e"), $(this).parent().after("\x3cdiv class\x3d'error-message'\x3e" + l("%warn_wrong_mobile_number") + "\x3c/div\x3e"))
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r, i, s, o, u, a;
                            return $(document).on("page:load ready",
                            function() {
                                return $('a[data-toggle\x3d"tab"]').on("shown",
                                function(e) {
                                    var t;
                                    return t = $(this).attr("href"),
                                    $("" + t + " .field.editing dl").click(),
                                    $(e.target).attr("href") === "#field_rule" ? $(".sidebar.redirect-rule-setting").addClass("hide") : $(".sidebar.field-rule-setting").addClass("hide"),
                                    GoldenData.resetButtonPosition("#rules_preview .buttons")
                                })
                            }),
                            $(document).on("click", "#add_redirect_rule_toggle",
                            function() {
                                return GoldenData.formRedirectRules.newRule({
                                    _type: "redirect_rule"
                                })
                            }),
                            $(document).on("click", "#save_redirect_rules",
                            function() {
                                return GoldenData.formRedirectRules.save()
                            }),
                            $(document).on("click", "#add_field_rule_toggle",
                            function() {
                                return GoldenData.formFieldRules.newRule({
                                    _type: "field_rule"
                                })
                            }),
                            $(document).on("click", "#save_field_rules",
                            function() {
                                return GoldenData.formFieldRules.save()
                            }),
                            u = Backbone.Model.extend({
                                defaults: {
                                    trigger: "",
                                    condition: ""
                                },
                                validateBase: function(e) {
                                    if (e.target === "") return "\u8bf7\u9009\u62e9\u89e6\u53d1\u5b57\u6bb5";
                                    if (e.condition === "") return "\u8bf7\u9009\u62e9\u89e6\u53d1\u6761\u4ef6"
                                }
                            }),
                            e = u.extend({
                                defaults: {
                                    targets: []
                                },
                                constructor: function(e) {
                                    return this.defaults = _.extend(this.defaults, u.prototype.defaults),
                                    u.prototype.constructor.apply(this, [e])
                                },
                                validate: function(e) {
                                    var t;
                                    t = u.prototype.validateBase.apply(this, [e]);
                                    if (t) return t;
                                    if (e.targets.length < 1) return "\u8bf7\u9009\u62e9\u88ab\u89e6\u53d1\u7684\u5b57\u6bb5"
                                }
                            }),
                            i = u.extend({
                                defaults: {
                                    redirect_url: ""
                                },
                                constructor: function(e) {
                                    return this.defaults = _.extend(this.defaults, u.prototype.defaults),
                                    u.prototype.constructor.apply(this, [e])
                                },
                                validate: function(e) {
                                    var t;
                                    t = u.prototype.validateBase.apply(this, [e]);
                                    if (t) return t;
                                    if (e.redirect_url === "") return "\u8bf7\u8bbe\u7f6e\u8df3\u8f6c\u7684\u7f51\u5740"
                                }
                            }),
                            n = Backbone.Collection.extend({
                                model: e
                            }),
                            o = Backbone.Collection.extend({
                                model: i
                            }),
                            a = Backbone.View.extend({
                                events: {
                                    "click .trigger li": "selectTrigger",
                                    "click .condition li": "selectCondtion"
                                },
                                _initTriggerViewBase: function(e, t) {
                                    var n;
                                    return e == null && (e = null),
                                    t == null && (t = null),
                                    n = this.$(".trigger li[data-api-code\x3d'" + e + "']"),
                                    this.$(".trigger .selected").removeClass("selected"),
                                    n.addClass("selected"),
                                    this.$(".condition ul").empty(),
                                    _.each(n.data("choices"),
                                    function(e) {
                                        return this.$(".condition ul").append("\x3cli data-value\x3d'" + e + "'\x3e" + e + "\x3c/li\x3e")
                                    }),
                                    this.$(".condition li[data-value\x3d'" + t + "']").addClass("selected")
                                },
                                selectCondtion: function(e) {
                                    var t;
                                    this.$(".condition .selected").removeClass("selected"),
                                    t = $(e.target),
                                    t.addClass("selected");
                                    if (this.model) return this.model.set({
                                        condition: t.data("value")
                                    })
                                },
                                renderBase: function(e) {
                                    return this.$el.closest(".sidebar").removeClass("hide"),
                                    this.model = e
                                }
                            }),
                            t = a.extend({
                                el: "#field_rule_setting",
                                events: {
                                    "change .targets input:checkbox": "updateTargets"
                                },
                                constructor: function(e) {
                                    return this.events = _.extend(this.events, a.prototype.events),
                                    a.prototype.constructor.apply(this, [e])
                                },
                                _hideTriggerFromTargets: function(e) {
                                    var t;
                                    this.$(".targets li.no-targets-available").remove(),
                                    this.$(".targets li:hidden").show(),
                                    this.$(".targets input:disabled").removeAttr("disabled"),
                                    t = this.$(".targets input[value\x3d'" + e + "']").parents("li").prevAll().andSelf(),
                                    t.hide(),
                                    t.find("input").attr("disabled", !0).attr("checked", !1);
                                    if (this.$(".targets li:visible").length === 0) return this.$(".targets").append("\x3cli class\x3d'no-targets-available'\x3e\u6ca1\u6709\u53ef\u4f9b\u63a7\u5236\u7684\u5b57\u6bb5\uff0c\u56e0\u4e3a\u201c" + GoldenData.formFieldRules.fields[e] + "\u201d\u662f\u8be5\u8868\u5355\u6700\u540e\u4e00\u4e2a\u5b57\u6bb5\x3c/li\x3e")
                                },
                                _initTriggerView: function(e, t) {
                                    return e == null && (e = null),
                                    t == null && (t = null),
                                    a.prototype._initTriggerViewBase.apply(this, [e, t]),
                                    this._hideTriggerFromTargets(e)
                                },
                                selectTrigger: function(e) {
                                    var t, n;
                                    n = $(e.target).data("api-code"),
                                    this.model.set({
                                        trigger: n
                                    });
                                    if (this.model.hasChanged("trigger")) return this._initTriggerView(n),
                                    t = _.without(this.model.get("targets"), n),
                                    this.model.set({
                                        condition: "",
                                        targets: t
                                    })
                                },
                                updateTargets: function() {
                                    var e;
                                    return e = _.map(this.$(".targets input:checked"),
                                    function(e) {
                                        return $(e).val()
                                    }),
                                    this.model.set({
                                        targets: e
                                    })
                                },
                                render: function(e) {
                                    return a.prototype.renderBase.apply(this, [e]),
                                    this._initTriggerView(e.get("trigger"), e.get("condition")),
                                    this.$(".targets input:checked").attr("checked", !1),
                                    _.each(e.get("targets"),
                                    function(e) {
                                        return this.$(".targets input[value\x3d'" + e + "']").attr("checked", !0)
                                    })
                                }
                            }),
                            s = a.extend({
                                el: "#redirect_rule_setting",
                                events: {
                                    "change input[name\x3dredirect_url]": "updateRedirectUrl"
                                },
                                constructor: function(e) {
                                    return this.events = _.extend(this.events, a.prototype.events),
                                    a.prototype.constructor.apply(this, [e])
                                },
                                _initTriggerView: function(e, t) {
                                    return e == null && (e = null),
                                    t == null && (t = null),
                                    a.prototype._initTriggerViewBase.apply(this, [e, t]),
                                    this.$("input[name\x3dredirect_url]").val(this.model.get("redirect_url"))
                                },
                                selectTrigger: function(e) {
                                    var t;
                                    t = $(e.target).data("api-code"),
                                    this.model.set({
                                        trigger: t
                                    });
                                    if (this.model.hasChanged("trigger")) return a.prototype._initTriggerViewBase.apply(this, [t])
                                },
                                updateRedirectUrl: function(e) {
                                    return this.model.set({
                                        redirect_url: $(e.target).val()
                                    })
                                },
                                render: function(e) {
                                    return a.prototype.renderBase.apply(this, [e]),
                                    this._initTriggerView(e.get("trigger"), e.get("condition"))
                                }
                            }),
                            r = Backbone.View.extend({
                                tagName: "div",
                                className: "field",
                                events: {
                                    "click dl": "edit",
                                    "click .delete": "delete",
                                    "click .duplicate": "duplicate"
                                },
                                _resetType: function(e) {
                                    if (e === "field_rule" || e === "FieldRule") this.type = "field_rule";
                                    if (e === "redirect_rule" || e === "RedirectRule") return this.type = "redirect_rule"
                                },
                                initialize: function(e) {
                                    return this.model.on("change", this.render, this),
                                    this.model.on("remove", this.remove, this),
                                    this.ruleList = e.ruleList,
                                    this._resetType(this.model.get("_type"))
                                },
                                render: function() {
                                    var e, t;
                                    return t = _.template($("#" + this.type + "_show_template").html()),
                                    e = this.model.toJSON(),
                                    e.triggerLabel = this.ruleList.fields[e.trigger],
                                    e.targetsLabels = _.map(e.targets,
                                    function(e) {
                                        return function(t) {
                                            return e.ruleList.fields[t]
                                        }
                                    } (this)).join("\x3cbr/\x3e"),
                                    $(this.el).html(t(e)),
                                    this.model.isValid() ? this.$el.removeClass("error") : this.$el.addClass("error"),
                                    this
                                },
                                edit: function() {
                                    return $("#" + this.type + " .editing").removeClass("editing"),
                                    this.$el.addClass("editing"),
                                    this.ruleList.ruleEditView.render(this.model),
                                    GoldenData.adjustViewPosition("#" + this.type + "_setting", "#rules_preview")
                                },
                                "delete": function() {
                                    return this.ruleList.remove(this.model)
                                },
                                duplicate: function() {
                                    return this.ruleList.duplicate(this.model)
                                }
                            }),
                            GoldenData.FormFieldRules = function() {
                                function e(e, i, u) {
                                    this.formToken = e,
                                    this.fields = i,
                                    this.type = u,
                                    this.type === "field_rule" ? (this.ruleList = new n, this.ruleEditView = new t) : this.type === "redirect_rule" && (this.ruleList = new o, this.ruleEditView = new s),
                                    this.ruleList.on("add",
                                    function(e) {
                                        return function(t, n) {
                                            var i, s;
                                            if (t.get("_type") === "field_rule" || t.get("_type") === "FieldRule") e.type = "field_rule";
                                            if (t.get("_type") === "redirect_rule" || t.get("_type") === "RedirectRule") e.type = "redirect_rule";
                                            $("#rules_preview ." + e.type + ".no-field-alert:visible").hide(),
                                            e.type === "field_rule" ? s = new r({
                                                model: t,
                                                ruleList: GoldenData.formFieldRules
                                            }) : e.type === "redirect_rule" && (s = new r({
                                                model: t,
                                                ruleList: GoldenData.formRedirectRules
                                            })),
                                            $("#" + e.type + " .rules .field").length === 0 ? $("#" + e.type + " .rules").append(s.render().el) : (i = n.indexOf(t), $("#" + e.type + " .rules .field:nth-child(" + i + ")").after(s.render().el));
                                            if (!t.get("_id")) return s.$("dl").trigger("click")
                                        }
                                    } (this)),
                                    this.ruleList.on("remove",
                                    function(e, t) {
                                        return t.length === 0 && $("#rules_preview .no-field-alert:hidden").show(),
                                        $(".sidebar").addClass("hide")
                                    })
                                }
                                return e.prototype.newRule = function(e) {
                                    return e == null && (e = {}),
                                    this.ruleList.push(e)
                                },
                                e.prototype.save = function() {
                                    var e;
                                    return e = "/forms/" + this.formToken + "/rules/save_" + this.type + "s",
                                    $.ajax(e, {
                                        type: "patch",
                                        data: {
                                            rules: this.ruleList.toJSON()
                                        },
                                        success: function(e) {
                                            return function() {
                                                return showFlashNotification("\u89c4\u5219\u4fdd\u5b58\u6210\u529f\uff01"),
                                                $("#save_" + e.type + "s").html($("#save_" + e.type + "s").data("enabled-with")),
                                                $("#save_" + e.type + "s").removeClass("disabled")
                                            }
                                        } (this)
                                    })
                                },
                                e.prototype.remove = function(e) {
                                    return GoldenData.hideTooltip(),
                                    this.ruleList.remove(e)
                                },
                                e.prototype.duplicate = function(e) {
                                    var t, n;
                                    return GoldenData.hideTooltip(),
                                    t = _.omit(e.attributes, ["_id"]),
                                    n = this.ruleList.indexOf(e) + 1,
                                    this.ruleList.add(t, {
                                        at: n
                                    })
                                },
                                e
                            } ()
                        })
                    }.call(this),
                    function() {
                        window.GoldenData || (window.GoldenData = {}),
                        GoldenData.validateAttachment = function(e, t) {
                            if (e.name.substr(0, 1) === ".") return l("%warn_system_file");
                            if (e.name.length > 200) return l("%file_name_too_long");
                            if (/.*\.(exe|bat)$/gi.test(e.name)) return l("%warn_exec_file");
                            if (e.size && e.size > t) return l("%warn_oversize", {
                                maxSize: GoldenData.numberToHumanSize(t)
                            })
                        },
                        $(function() {
                            var e, t, n, r, i, s, o;
                            return n = function(e) {
                                var t;
                                return t = e.find("input:file"),
                                t.replaceWith(t.val("").clone(!0))
                            },
                            i = function(e, t, n) {
                                var r, i;
                                return t == null && (t = ""),
                                n == null && (n = null),
                                (i = e.find("[data-role\x3dcancel]").data("jqXHR")) != null && i.abort(),
                                r = e.find(".status"),
                                r.find(".file-name").removeClass("error").text(t),
                                r.find(".file-name + .error").remove(),
                                $.support.xhrFormDataFileUpload ? (r.find(".progress-bar .bar").addClass("initial").text("0%").css("width", "auto"), r.find(".progress-statistics .total").text(n != null ? n: "0 KB")) : (r.find(".text-status, .progress-bar").remove(), r.find(".progress-container").prepend("\x3cdiv class\x3d'text-status'\x3e" + l("%uploading") + "\x3c/div\x3e")),
                                e.find(".select-area .preview").empty(),
                                e.find("input[data-role\x3dattachment_id]").val(""),
                                o( - 1)
                            },
                            r = function(e) {
                                if (e) return n(e),
                                i(e),
                                e.find(".status").hide()
                            },
                            s = function(e, t) {
                                return e.find("input[data-role\x3dattachment_id]").val(""),
                                $.support.xhrFormDataFileUpload ? e.find(".status .progress-bar .bar").addClass("initial").text("0%").css("width", "auto") : e.find(".status .text-status").remove(),
                                e.find(".status .file-name").addClass("error").after("\x3cspan class\x3d'error'\x3e" + l("%bracket", {
                                    content: t
                                }) + "\x3c/span\x3e")
                            },
                            o = function(e) {
                                var t, n, r;
                                return t = $(".submit-field input.submit"),
                                n = ((r = t.data("fileUploading")) != null ? r: 0) + e,
                                t.data("fileUploading", n),
                                GoldenData.updateSubmitBtn()
                            },
                            t = function(e) {
                                return e.find("[data-role\x3dcancel]").on("click",
                                function() {
                                    return r(e)
                                }),
                                e.find(".select-area label").on("dragleave",
                                function() {
                                    return $(this).removeClass("drag-over")
                                }),
                                e.find("input:file:not(.origin-file-input)").fileupload({
                                    dataType: "json",
                                    dropZone: e.find(".select-area label"),
                                    paramName: "file",
                                    url: "https://up.qbox.me/",
                                    dragover: function() {
                                        return e.find(".select-area label").addClass("drag-over")
                                    },
                                    drop: function() {
                                        return e.find(".select-area label").removeClass("drag-over")
                                    },
                                    add: function(t, n) {
                                        var r, u, a;
                                        n.context = e,
                                        u = n.files[0],
                                        i(n.context, u.name, GoldenData.numberToHumanSize(u.size)),
                                        a = n.context.find(".status").show(),
                                        a.find(".progress-bar.invisible").removeClass("invisible"),
                                        r = GoldenData.validateAttachment(u, $(this).data("max-size"));
                                        if (r) return s(n.context, r);
                                        if (!n.context.hasClass("preview")) return n.formData = {
                                            accept: "text/plain; charset\x3dutf-8",
                                            token: GoldenData.xhrUploadToken,
                                            "x:field_api_code": n.context.closest(".field[data-api-code]").data("api-code")
                                        },
                                        $.support.xhrFormDataFileUpload || (n.formData.token = GoldenData.iframeUploadToken, n.formData["x:auth_token"] = n.context.closest("form").find("[name\x3dauthenticity_token]").val()),
                                        a.find("[data-role\x3dcancel]").data({
                                            jqXHR: n.submit()
                                        }),
                                        o(1)
                                    },
                                    progress: function(e, t) {
                                        var n, r, i;
                                        return i = t.context.find(".status"),
                                        n = parseInt(t.loaded / t.total * 100, 10),
                                        r = Math.min(n, 99) + "%",
                                        i.find(".progress-bar .bar").removeClass("initial").text(r).css("width", r)
                                    },
                                    done: function(e, t) {
                                        var r, i, o, u;
                                        return n(t.context),
                                        o = t.result,
                                        o ? o.errors ? (r = _.isArray(o.errors) ? o.errors.join(l("%common_separator")) : o.errors, s(t.context, r)) : ($.support.xhrFormDataFileUpload ? t.context.find(".status .progress-bar .bar").text("100%").css("width", "100%") : t.context.find(".status .progress-container .text-status").text(l("%upload_done")), t.context.find("input[data-role\x3dattachment_id]").val(o.attachment_id), i = (u = o.image_url) != null ? u: GoldenData.attachmentImage, t.context.find(".select-area .preview").html("\x3cimg src\x3d'" + i + "'\x3e")) : s(t.context, l("%upload_failed_401"))
                                    },
                                    fail: function(e, t) {
                                        var n, r;
                                        return (r = t.jqXHR.status) === 401 ? n = l("%upload_failed_" + t.jqXHR.status) : (n = l("%upload_failed", {
                                            status: t.jqXHR.status
                                        }), t.jqXHR.status !== 0 && $.post("/p/a/failure", {
                                            url: url(),
                                            status: t.jqXHR.status,
                                            message: t.jqXHR.responseText,
                                            file_name: t.files[0].name,
                                            authenticity_token: t.context.closest("form").find("[name\x3dauthenticity_token]").val(),
                                            user_agent: navigator.userAgent
                                        })),
                                        s(t.context, n)
                                    },
                                    always: function() {
                                        return o( - 1)
                                    }
                                })
                            },
                            e = function(e) {
                                var t, n;
                                if (e.find("[data-role\x3dattachment]").length > 0) return GoldenData.isMobile ? (t = $(window).width() - 30, n = t - e.find("[data-role\x3dattachment] .select-area").outerWidth() - 10) : n = e.find("[data-role\x3dattachment]").outerWidth() - 112,
                                e.find("[data-role\x3dattachment] .status").width(n)
                            },
                            GoldenData.initializeFileUploads = function(n) {
                                return e($(n)),
                                $.each($(n).find("[data-role\x3dattachment]"),
                                function(e, n) {
                                    return t($(n))
                                })
                            },
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                return GoldenData.initializeFileUploads(document)
                            }),
                            $(window).on("resize",
                            function() {
                                return e($(document))
                            })
                        })
                    }.call(this),
                    function() {
                        var e = [].indexOf ||
                        function(e) {
                            for (var t = 0,
                            n = this.length; t < n; t++) if (t in this && this[t] === e) return t;
                            return - 1
                        };
                        $(document).on("page:load ready",
                        function() {
                            var e;
                            $(".icon-filter-data").clickover({
                                animation: !1,
                                html: !0,
                                container: "body",
                                tip_id: "filter_data",
                                content: function() {
                                    return $(".filter-data").html()
                                },
                                onShown: function() {
                                    var e, t, n, r;
                                    r = $("#filter_data .fields li");
                                    for (t = 0, n = r.length; t < n; t++) e = r[t],
                                    GoldenData.filterParams.contains($(e).data("api-code")) && $(e).addClass("selected");
                                    return $("#filter_data .fields li.selected").length > 0 ? $("#filter_data .fields li.selected:first").click() : $("#filter_data .fields li:first").click()
                                },
                                onHidden: function() {
                                    return GoldenData.filterParams.reset()
                                }
                            }),
                            new GoldenData.EntriesColumnsFilter,
                            $("#entries .icon-filter-column").clickover({
                                animation: !1,
                                container: "body",
                                html: !0,
                                tip_id: "filter_column",
                                content: function() {
                                    return $("#entries .column-filter").html()
                                },
                                onShown: function() {
                                    return new GoldenData.EntriesColumnsFilter
                                }
                            }),
                            e = function(e) {
                                var t, n, r, i, s;
                                return $(".select-date-failed").hide(),
                                i = $("#date_range_picker .start-date").data("date"),
                                r = $("#date_range_picker .end-date").data("date"),
                                e && (t = e.date, n = "" + t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate(), $(e.currentTarget).hasClass("start-date") ? ($("#date_range_picker .start-date").data("date", n), i = n) : $(e.currentTarget).hasClass("end-date") && ($("#date_range_picker .end-date").data("date", n), r = n)),
                                new Date(i) > new Date(r) ? ($(".select-date-failed").show(), $("#date_range_picker #submit_date_range").addClass("disabled")) : (s = $(".date-range-display.search-input").data("suffix-text") || "", $(".date-range-display.search-input").val("" + i + " \u81f3 " + r + " " + s), $("#date_range_picker #submit_date_range").removeClass("disabled"))
                            },
                            $(".date-range-display").clickover({
                                trigger: "click",
                                animation: !1,
                                html: !0,
                                placement: "bottom",
                                container: $(".date-range-display").data("date-range-container"),
                                tip_id: "date_range_picker",
                                content: $(".date-range").html(),
                                onShown: function() {
                                    return e(),
                                    $("#date_range_picker [data-role\x3d'date-picker']").datepicker({
                                        language: "zh-CN",
                                        autoclose: !1,
                                        startDate: $("#date_range_picker [data-role\x3d'date-picker']").data("date-startdate"),
                                        endDate: $("#date_range_picker [data-role\x3d'date-picker']").data("date-enddate")
                                    }).on("changeDate",
                                    function(t) {
                                        return e(t)
                                    })
                                }
                            });
                            if (url("?query")) return $("input.search-content").focus().val("")
                        }),
                        $(function() {
                            var t, n, r;
                            return GoldenData.FilterParams = function() {
                                function t(e, t) {
                                    this.allowMulti = e,
                                    this.data = t != null ? t: {},
                                    this.data || (this.data = {}),
                                    this.initialData = $.extend(!0, {},
                                    this.data),
                                    this.eventHandlers = {}
                                }
                                return t.prototype.trigger = function(e) {
                                    var t;
                                    t = this.eventHandlers[e];
                                    if (t != null && typeof t == "function") return t(this)
                                },
                                t.prototype.on = function(e, t) {
                                    return this.eventHandlers[e] = t
                                },
                                t.prototype._detectChange = function(e) {
                                    var t;
                                    t = $.extend(!0, {},
                                    this.data),
                                    e();
                                    if (!_.isEqual(t, this.data)) return this.trigger("change")
                                },
                                t.prototype.reset = function() {
                                    return this._detectChange(function(e) {
                                        return function() {
                                            return e.data = $.extend(!0, {},
                                            e.initialData)
                                        }
                                    } (this))
                                },
                                t.prototype._values = function(e, t) {
                                    if (!t) return this.data[e];
                                    if (this.data[e]) return this.data[e][t]
                                },
                                t.prototype.add = function(t, n, r) {
                                    return this._detectChange(function(i) {
                                        return function() {
                                            var s;
                                            if (!i.allowMulti) return i.data = {},
                                            n ? (i.data[t] = {},
                                            i.data[t][n] = r) : i.data[t] = r;
                                            if (n) {
                                                if (!i.data[t] || !i.data[t][n]) return (s = i.data)[t] || (s[t] = {}),
                                                i.data[t][n] = [r];
                                                if (e.call(i.data[t][n], r) < 0) return i.data[t][n].push(r)
                                            } else {
                                                if (!i.data[t]) return i.data[t] = [r];
                                                if (e.call(i.data[t], r) < 0) return i.data[t].push(r)
                                            }
                                        }
                                    } (this))
                                },
                                t.prototype.remove = function(e, t, n) {
                                    return n == null && (n = null),
                                    this._detectChange(function(r) {
                                        return function() {
                                            if (r.allowMulti) {
                                                n ? r.data[e] && r.data[e][n] && (r.data[e][n] = t ? _.without(r.data[e][n], t) : [], r.data[e][n].length === 0 && delete r.data[e][n]) : r.data[e] = _.without(r.data[e], t);
                                                if (_.isEmpty(r.data[e])) return delete r.data[e]
                                            } else if (r.contains(e, t, n)) return delete r.data[e]
                                        }
                                    } (this))
                                },
                                t.prototype.contains = function(t, n, r) {
                                    var i;
                                    return r == null && (r = null),
                                    i = this._values(t, r),
                                    n ? this.allowMulti ? e.call(i != null ? i: [], n) >= 0 : (i != null ? i.toString() : void 0) === n: !_.isEmpty(i)
                                },
                                t
                            } (),
                            n = function(e, n, r) {
                                return r == null && (r = 1),
                                t(r),
                                $.each(n,
                                function(t, n) {
                                    var i, s, o, u, a, f;
                                    return _.isObject(n) ? (s = n.value, i = (f = n.text) != null ? f: n.value, a = n.sub_choices) : s = i = n,
                                    o = $("\x3cli data-api-code\x3d'" + e + "' data-value\x3d'" + s + "'\x3e\x3cspan class\x3d'choice'\x3e" + i + "\x3c/span\x3e\x3cspan class\x3d'clear-filter-item'\x3eX\x3c/span\x3e\x3c/li\x3e"),
                                    _.isEmpty(a) ? (o.addClass("last-level"), r === 2 ? u = $("#filter_data .items.level-1 ul li.current").data("value") : null, GoldenData.filterParams.contains(e, s, u) && o.addClass("selected")) : (o.data("sub-choices", a), GoldenData.filterParams.contains(e, null, s) && o.addClass("selected")),
                                    $("#filter_data .items.level-" + r + " ul").append(o)
                                })
                            },
                            t = function(e) {
                                return $("#filter_data .items.level-" + e + " ul").empty()
                            },
                            r = function(e) {
                                return e.siblings(".current").removeClass("current"),
                                e.addClass("current")
                            },
                            $(document).on("click", "#filter_data .fields li",
                            function() {
                                var e, t;
                                r($(this)),
                                $("#filter_data .items ul").empty(),
                                e = $(this).data("api-code"),
                                n(e, $(this).data("choices"), 1);
                                if ($(this).data("total-level") === 1) return $("#filter_data .level-2").addClass("hide"),
                                $("#filter_data .arrow").css({
                                    marginLeft: -11
                                });
                                $("#filter_data .level-2").removeClass("hide"),
                                $("#filter_data .arrow").css({
                                    marginLeft: -107
                                }),
                                t = $("#filter_data .items.level-1 li.selected:first");
                                if (t.length > 0) return r(t),
                                n(t.data("api-code"), t.data("sub-choices"), 2)
                            }),
                            $(document).on("click", "#filter_data .items.level-1 li",
                            function() {
                                return _.isEmpty($(this).data("sub-choices")) ? ($("#filter_data .items.level-1 li.current").removeClass("current"), t(2), GoldenData.filterParams.allowMulti || ($("#filter_data .fields li.selected").removeClass("selected"), $("#filter_data .items li.selected").removeClass("selected")), $(this).addClass("selected"), $("#filter_data .fields li.current").addClass("selected"), GoldenData.filterParams.add($(this).data("api-code"), null, $(this).data("value"))) : (r($(this)), n($(this).data("api-code"), $(this).data("sub-choices"), 2))
                            }),
                            $(document).on("click", "#filter_data .items.level-2 li",
                            function() {
                                var e;
                                return GoldenData.filterParams.allowMulti || ($("#filter_data .fields li.selected").removeClass("selected"), $("#filter_data .items li.selected").removeClass("selected")),
                                $(this).addClass("selected"),
                                e = $("#filter_data .items.level-1 li.current"),
                                e.addClass("selected"),
                                $("#filter_data .fields li.current").addClass("selected"),
                                GoldenData.filterParams.add($(this).data("api-code"), e.data("value"), $(this).data("value"))
                            }),
                            $(document).on("click", "#filter_data .items.level-2 span.clear-filter-item",
                            function() {
                                var e, t, n, r;
                                return n = $(this).parent("li"),
                                t = n.data("api-code"),
                                e = $("#filter_data .items.level-1 li.current"),
                                r = e.data("value"),
                                GoldenData.filterParams.remove(t, n.data("value").toString(), r),
                                n.removeClass("selected"),
                                GoldenData.filterParams.contains(t, null, r) || $("#filter_data .items.level-1 li.current").removeClass("selected"),
                                GoldenData.filterParams.contains(t) || $("#filter_data .fields li.current").removeClass("selected"),
                                !1
                            }),
                            $(document).on("click", "#filter_data .items.level-1 span.clear-filter-item",
                            function() {
                                var e;
                                return e = $(this).parent("li"),
                                _.isEmpty(e.data("sub-choices")) ? GoldenData.filterParams.remove(e.data("api-code"), e.data("value").toString()) : GoldenData.filterParams.remove(e.data("api-code"), null, e.data("value").toString()),
                                e.removeClass("selected"),
                                $("#filter_data .items.level-2 li.selected").removeClass("selected"),
                                GoldenData.filterParams.data[e.data("api-code")] || $("#filter_data .fields li.current").removeClass("selected"),
                                !1
                            }),
                            $(document).on("click", "#submit_filter",
                            function() {
                                var e;
                                return e = GoldenData.extractExistedQueryParams(),
                                e = $.extend(e, GoldenData.filterParams.data),
                                Turbolinks.visit("" + $(".filter-data").data("base-url") + "?" + $.param(e))
                            }),
                            $(document).on("click", "#entries .submit-date, .reports_page .submit-date",
                            function() {
                                var e;
                                return $(this).hasClass("disabled") ? !1 : (e = GoldenData.extractExistedQueryParams(), e.start = $("#date_range_picker .start-date").data("date"), e.end = $("#date_range_picker .end-date").data("date"), Turbolinks.visit("" + $(".filter-data").data("base-url") + "?" + $.param(e)))
                            }),
                            $(document).on("click", "#entries .search a, .reports_page .search a",
                            function(e) {
                                var t, n, r, i;
                                if ($(this).hasClass("disabled")) return;
                                return n = GoldenData.extractExistedQueryParams(),
                                r = $.trim($("input.search-content").val()),
                                r ? n.query = r: delete n.query,
                                t = $(e.target).data("url"),
                                i = $.isEmptyObject(n) ? t: "" + t + "?" + $.param(n),
                                Turbolinks.visit(i)
                            }),
                            $(document).on("keydown", "input.search-content",
                            function(e) {
                                if (e.keyCode === 13) return $(this).closest(".search").find(".fa-search").click()
                            })
                        })
                    }.call(this),
                    function() {
                        var e;
                        e = function(e) {
                            switch (e) {
                            case "warning":
                                return "fa fa-exclamation-circle";
                            case "error":
                                return "fa fa-times-circle";
                            default:
                                return "fa fa-check-circle"
                            }
                        },
                        window.showFlashNotification = function(t, n) {
                            n == null && (n = "success");
                            if ($.trim(t) === "") return;
                            return $(".notifications").empty().notify({
                                message: {
                                    html: "\x3ci class\x3d'" + e(n) + "'\x3e\x3c/i\x3e " + t
                                },
                                type: n,
                                closable: !1,
                                fadeOut: {
                                    enabled: !0,
                                    delay: 2E3
                                }
                            }).show()
                        },
                        window.showStaticNotification = function(t, n, r) {
                            if ($.trim(n) === "") return;
                            return $(t).empty().notify({
                                message: {
                                    html: "\x3ci class\x3d'" + e(r) + "'\x3e\x3c/i\x3e " + n
                                },
                                type: r,
                                closable: !1,
                                fadeOut: {
                                    enabled: !1
                                }
                            }).show()
                        },
                        $(document).on("page:load ready",
                        function() {
                            var e;
                            e = $(".notifications").data("message");
                            if (e) return showFlashNotification(e.notice),
                            showFlashNotification(e.alert, "error")
                        })
                    }.call(this),
                    function() {
                        var e = [].indexOf ||
                        function(e) {
                            for (var t = 0,
                            n = this.length; t < n; t++) if (t in this && this[t] === e) return t;
                            return - 1
                        };
                        window.GoldenData || (window.GoldenData = {}),
                        $(function() {
                            var t, n, r;
                            return r = function(e) {
                                var t, n;
                                return t = $("[name\x3d'entry[" + e + "]']:visible").filter(":radio:checked, :not(:radio)"),
                                ((n = t.data("value")) != null ? n.toString() : void 0) || t.val()
                            },
                            n = function() {
                                function e(e) {
                                    this.apiCode = e,
                                    this.targets = [],
                                    this.element = $("[name\x3d'entry[" + this.apiCode + "]']"),
                                    this.elementContainer = $(".field[data-api-code\x3d'" + this.apiCode + "']")
                                }
                                return e.prototype._informTargets = function(e) {
                                    var t, n, r, i, s;
                                    i = this.targets,
                                    s = [];
                                    for (n = 0, r = i.length; n < r; n++) t = i[n],
                                    s.push(t.set(this.apiCode, e));
                                    return s
                                },
                                e.prototype.run = function() {
                                    return this.element.on("change",
                                    function(e) {
                                        return function(t) {
                                            e._informTargets(r(e.apiCode));
                                            if (!$(t.target).hasClass("with-other-choice")) return t.stopPropagation()
                                        }
                                    } (this)),
                                    this.elementContainer.on("change.formLogic",
                                    function(e) {
                                        return function() {
                                            return e._informTargets(r(e.apiCode))
                                        }
                                    } (this))
                                },
                                e
                            } (),
                            t = function() {
                                function t(e, t) {
                                    var n;
                                    this.apiCode = e,
                                    this.triggerConditions = t,
                                    this.element = $("[name^\x3d'entry[" + this.apiCode + "]']"),
                                    this.elementContainer = $(".field[data-api-code\x3d'" + this.apiCode + "']");
                                    for (n in this.triggerConditions) this.set(n, r(n))
                                }
                                return t.prototype._onElementContainerShowHide = function() {
                                    return this.elementContainer.trigger("change.formLogic"),
                                    GoldenData.recalcFormHeight()
                                },
                                t.prototype.set = function(t, n) {
                                    var r, i, s, o;
                                    s = (o = this.elementContainer.data("triggered-by")) != null ? o: [],
                                    n && e.call(this.triggerConditions[t], n) >= 0 ? e.call(s, t) < 0 && s.push(t) : s = _.without(s, t),
                                    this.elementContainer.data("triggered-by", s),
                                    r = this.elementContainer.is(":visible"),
                                    i = s.length > 0,
                                    i && !r && (this.elementContainer.show(), this.elementContainer.trigger("shown.logic"), this.elementContainer.find("textarea").autosize().blur(), this.element.attr("disabled", !1), this._onElementContainerShowHide());
                                    if (!i && r) return this.elementContainer.hide(),
                                    this.elementContainer.trigger("hidden.logic"),
                                    this.element.attr("disabled", !0),
                                    this._onElementContainerShowHide()
                                },
                                t
                            } (),
                            GoldenData.FormLogic = function() {
                                function e(e) {
                                    var r, i, s, o, u;
                                    this.triggers = {},
                                    this.targets = {};
                                    for (r in e) {
                                        s = e[r],
                                        (o = this.targets)[r] || (o[r] = new t(r, s));
                                        for (i in s)(u = this.triggers)[i] || (u[i] = new n(i)),
                                        this.triggers[i].targets.push(this.targets[r])
                                    }
                                }
                                return e.prototype.run = function() {
                                    var e, t, n, r;
                                    n = this.triggers,
                                    r = [];
                                    for (e in n) t = n[e],
                                    r.push(t.run());
                                    return r
                                },
                                e
                            } ()
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return GoldenData.FormSymbol = Backbone.Model.extend({
                                initialize: function(t, n) {
                                    var r;
                                    this.url = n.url,
                                    this.set("shouldSave", n.shouldSave),
                                    r = new e({
                                        model: this
                                    });
                                    if (this.get("form_id")) return r.render()
                                }
                            }),
                            e = Backbone.View.extend({
                                initialize: function() {
                                    return this.form_id = this.model.get("form_id"),
                                    this.shouldSave = this.model.get("shouldSave")
                                },
                                el: "#config_panel",
                                events: {
                                    "click .icons": "updateIcon",
                                    "click .colors": "updateColor"
                                },
                                updateIcon: function(e) {
                                    return this._updateModel(e, "icon")
                                },
                                updateColor: function(e) {
                                    return this._updateModel(e, "background_color")
                                },
                                _updateModel: function(e, t) {
                                    var n, r;
                                    return r = $(e.target),
                                    r.parents(".icons, .colors").find(".active").removeClass("active"),
                                    r.parent().addClass("active"),
                                    n = {},
                                    n[t] = r.data("value"),
                                    this.model.set(n),
                                    this._updateUI(r.data("index"), t === "icon"),
                                    this.shouldSave ? this.save() : ($(".template-info #template_symbol_icon").val(this.model.get("icon")), $(".template-info #template_symbol_background_color").val(this.model.get("background_color")))
                                },
                                _updateUI: function(e, t) {
                                    var n;
                                    return n = this.model.get("icon"),
                                    n && t && $("#" + this.form_id).find(".symbol i").attr("class", "" + n),
                                    e && $("#" + this.form_id).find(".cover").attr("class", "cover color-" + e),
                                    $("#" + this.form_id + "[data-symbol-type\x3d'templates']").css("background-color", "" + this.model.get("background_color")),
                                    $("#" + this.form_id).data("symbol", this.model.toJSON())
                                },
                                save: function() {
                                    if (this.form_id) return this.model.unset("shouldSave"),
                                    this.model.save({
                                        symbol: this.model.toJSON()
                                    })
                                },
                                render: function() {
                                    var e, t, n, r;
                                    return t = (n = $("#" + this.form_id)) != null ? n.data("symbol").icon: void 0,
                                    e = (r = $("#" + this.form_id)) != null ? r.data("color-index") : void 0,
                                    this.$(".icons, .colors").find(".active").removeClass("active"),
                                    this.$(".icons i[data-value\x3d'" + t + "']").parent().addClass("active"),
                                    this.$(".colors .color[data-index\x3d'" + e + "']").parent().addClass("active")
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return GoldenData.initFormSettingClickover = function() {
                                return $(".form .setting").clickover({
                                    animation: !1,
                                    content: function() {
                                        return $("#config_panel_template").html()
                                    },
                                    onShown: function() {
                                        var e, t, n;
                                        return e = this.$element.parent(),
                                        n = $(".popover"),
                                        e.data("symbol-setting") ? this.$tip.find(".form-symbol-container").removeClass("hide") : this.$tip.find(".form-symbol-container").addClass("hide"),
                                        this.$element.hasClass("cover-setting") && (t = (e.index() + 2) % 5 === 0, t ? (n.removeClass("normal-popover"), n.addClass("right-column-popover")) : (n.removeClass("right-column-popover"), n.addClass("normal-popover"))),
                                        $(".popover .config-panel").attr("id", "config_panel"),
                                        $(".popover a.archive-action").attr("href", "" + e.data("archive-url")),
                                        GoldenData.formSymbol = new GoldenData.FormSymbol(e.data("symbol"), {
                                            url: "/" + e.data("symbol-type") + "/" + e.data("symbol").form_id + "/symbol",
                                            shouldSave: e.data("should-save")
                                        }),
                                        this.$element.data("disable-tagging") ? this.$tip.find(".tag-action").remove() : GoldenData.initFormTagList(this.$tip, e.data("symbol").form_id),
                                        n.hover($.noop,
                                        function() {
                                            return $("body").click()
                                        })
                                    },
                                    onHidden: function() {
                                        return $("#forms_section").data("new-tag-added") ? $.get("/forms_section", {},
                                        function(e) {
                                            return $("#forms_section").html(e),
                                            $("#forms_section").trigger("ajax:complete"),
                                            $("#forms_section").removeData("new-tag-added")
                                        }) : GoldenData.updateFormBlocks($(".dashboard .active a[data-toggle\x3d'tab']"))
                                    }
                                })
                            },
                            $(document).on("click", "#forms_section .tag-tab",
                            function() {
                                var e;
                                return e = $(".tab-content .tab-pane.active").data("tag-id"),
                                $.ajax({
                                    url: "/user_setting/update_active_tag",
                                    type: "patch",
                                    data: "tag_id\x3d" + e
                                }),
                                $("#forms_section .tag-tab").removeClass("active"),
                                $("#forms_section a[data-tag\x3d" + e + "]").closest(".tag-tab").addClass("active")
                            }),
                            $(document).on("page:load ready ajax:complete", GoldenData.initFormSettingClickover)
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n;
                            return t = function(e) {
                                var t;
                                return t = {
                                    revert: 240,
                                    distance: 5,
                                    scroll: !0,
                                    tolerance: "intersect",
                                    stop: function(e, t) {
                                        return t.item.css("z-index", "")
                                    }
                                },
                                GoldenData.isLowVersionBrowser || (t.opacity = .5),
                                e.sortable(t),
                                e.disableSelection()
                            },
                            e = function(e, t) {
                                return e.addClass("error"),
                                $(".error-message").html(t),
                                $(".error-message").show(),
                                !1
                            },
                            n = function(e, t) {
                                var n, r;
                                return t == null && (t = null),
                                e.val(e.val().replace(/\s+/g, "")),
                                n = e.val(),
                                n === "" ? "\u6807\u7b7e\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a": t == null ? "": (r = null, $(t.find(".tag-name:visible")).each(function() {
                                    if ($(this).text() === n) return r = $(this)
                                }), r != null ? "\u6807\u7b7e\u540d\u79f0\u4e0d\u80fd\u91cd\u590d": "")
                            },
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                var e, t;
                                return t = $("#forms_section .other-tags-container"),
                                e = $("#forms_section .create-by-me .tag-tab.active"),
                                e.length > 0 && e[0].offsetTop > 30 ? t.addClass("active") : t.removeClass("active"),
                                $("#forms_section .other-tags").clickover({
                                    animation: !1,
                                    html: !0,
                                    width: 100,
                                    class_name: "other-tags-popover clickover",
                                    content: function() {
                                        return $("#other_tags_panel_template").html()
                                    },
                                    onShown: function() {
                                        return $("#forms_section .create-by-me .tag-tab").each(function(e, t) {
                                            var n;
                                            n = $($(".other-tags-popover ul li")[e]),
                                            $(t).hasClass("active") ? n.addClass("active") : n.removeClass("active"),
                                            n.find(".count").html($(t).find(".count").html()),
                                            t.offsetTop < 5 ? n.hide() : ($(".other-tags-popover ul").is(":visible") || $(".other-tags-popover ul").show(), n.show());
                                            if ($(".other-tags-popover ul li:visible").length === 0) return $(".other-tags-popover ul").hide()
                                        })
                                    }
                                })
                            }),
                            $(document).on("click", ".edit-tags-modal li.view .tag-remove",
                            function() {
                                var e;
                                return e = $(this).closest("li"),
                                e.remove()
                            }),
                            $(document).on("dblclick", ".edit-tags-modal li.view",
                            function() {
                                var e;
                                if ($(".error-message").is(":visible")) return;
                                return e = $(this),
                                e.removeClass("view"),
                                e.addClass("edit"),
                                e.find(".tag-edit").focus()
                            }),
                            $(document).on("blur", ".edit-tags-modal li.edit .tag-edit",
                            function(t) {
                                var r, i;
                                return r = $(this).closest("li"),
                                i = n($(this), $(r.closest("ul"))),
                                i === "" ? ($(".error-message").html(""), $(".error-message").hide(), r.removeClass("edit"), r.addClass("view"), r.find(".tag-name").text($(this).val())) : e($(this), i)
                            }),
                            $(document).on("keypress", ".edit-tags-modal li.edit .tag-edit",
                            function(e) {
                                if (e.keyCode === 13) return e.preventDefault(),
                                $(e.target).blur()
                            }),
                            $(document).on("ajax:complete", "#edit_tags_modal",
                            function(e, t) {
                                var n;
                                return t.status === 200 ? ($(this).modal("hide"), $("#forms_section").html(t.responseText)) : ($(this).children(".modal-body").html(t.responseText), n = $(this).find(".modal-footer .btn.disabled"), n.html(n.data("enabled-with")), n.removeClass("disabled"))
                            }),
                            $(document).on("hide", "#edit_tags_modal",
                            function() {
                                return $.get("/user_form_tags/edit_all",
                                function(e) {
                                    return function(t) {
                                        return $(e).find(".modal-body").html(t)
                                    }
                                } (this))
                            }),
                            $("#edit_tags_modal form").livequery(function() {
                                return t($(this).find("ul"))
                            }),
                            GoldenData.initFormTagList = function(e, t) {
                                var n, r, i, s, o, u, a, f, l, c;
                                i = e.closest(".form"),
                                s = $("#form_tag_setting");
                                if (s.length > 0) s.hide();
                                else {
                                    n = $("#forms_section .owned-forms").data("tags"),
                                    s = $("\x3cdiv id\x3d'form_tag_setting' class\x3d'hide'\x3e\x3c/div\x3e"),
                                    r = i.data("tag-ids"),
                                    s.html($("#manage_form_tags_template").html());
                                    for (l = 0, c = n.length; l < c; l++) a = n[l],
                                    _.contains(r, a.id) && s.find("li[data-tag-id\x3d" + a.id + "]").addClass("selected");
                                    e.append(s)
                                }
                                return s.data("form-id", t),
                                f = e.find(".tag-action"),
                                o = function() {
                                    return (i.index() + 2) % 5 === 0 || (i.index() + 2) % 5 === 4
                                },
                                u = o(),
                                f.addClass(u ? "arrow-left": "arrow-right"),
                                f.hover(function() {
                                    return s.css({
                                        bottom: -1
                                    }),
                                    u ? s.css({
                                        left: -(s.outerWidth() + 1)
                                    }) : s.css({
                                        left: e.outerWidth() - 1
                                    }),
                                    s.show(),
                                    f.addClass("active")
                                },
                                function() {
                                    return delay(300,
                                    function() {
                                        if (!s.data("hover")) return s.hide(),
                                        f.removeClass("active")
                                    })
                                }),
                                s.hover(function() {
                                    return $(this).data("hover", !0)
                                },
                                function() {
                                    return $(this).removeData("hover"),
                                    $(this).hide(),
                                    f.removeClass("active")
                                })
                            },
                            $(document).on("keypress", ".form-tags-container .tag-input",
                            function(e) {
                                if (e.keyCode === 13) return e.preventDefault(),
                                $(e.target).closest(".form-tags-container").find(".create-tag").click()
                            }),
                            $(document).on("click", ".form-tags-container .create-tag",
                            function() {
                                var e, t, n, r, i;
                                return e = $($(this).closest(".form-tags-container")),
                                i = $(e.find(".tag-input")),
                                i.val(i.val().replace(/\s+/g, "")),
                                r = i.val(),
                                r === "" && (t = "\u6807\u7b7e\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),
                                t != null ? (e.find(".error-message").remove(), i.closest(".add-tag-container").append("\x3cdiv class\x3d'error-message'\x3e" + t + "\x3c/div\x3e")) : (n = !1, $(e.find(".tag-name")).each(function() {
                                    var e;
                                    if ($(this).text() === r) return e = $(this).closest("li"),
                                    e.hasClass("selected") || e.click(),
                                    n = !0
                                }), n || $.ajax({
                                    url: "/user_form_tags",
                                    data: {
                                        name: r,
                                        form_id: e.closest(".form").attr("id")
                                    },
                                    type: "post",
                                    complete: function(e) {
                                        var n;
                                        return e.status === 400 ? (n = JSON.parse(e.responseText), t = _.flatten(n).join("\uff1b "), i.closest(".add-tag-container").append("\x3cdiv class\x3d'error-message'\x3e" + t + "\x3c/div\x3e")) : ($("#forms_section").data("new-tag-added", !0), $("#form_tag_setting").html(e.responseText), i = $("#form_tag_setting .tag-input"), i.focus())
                                    }
                                }), e.find(".error-message").remove(), i.val(""))
                            }),
                            $(document).on("click", ".form-tags-container li",
                            function() {
                                var e, t, n;
                                return e = $($(this).closest(".form-tags-container")),
                                n = $(this).data("tag-id"),
                                $(this).toggleClass("selected"),
                                t = $(this).hasClass("selected"),
                                $.ajax({
                                    url: "/update_form_tag",
                                    data: {
                                        form_id: e.closest(".form").attr("id"),
                                        tag_id: n,
                                        checked: t
                                    },
                                    type: "patch",
                                    complete: function(e) {
                                        var t, n;
                                        if (e.status !== 400) return t = JSON.parse(e.responseText),
                                        n = t.tags || [],
                                        _.each(n,
                                        function(e) {
                                            var t;
                                            return t = $("[data-tag\x3d" + e.id + "]"),
                                            t.find(".count").html(e.count),
                                            t.data("need-update", !0)
                                        })
                                    }
                                })
                            }),
                            $(document).on("click", ".other-tags-popup .edit-tags-link",
                            function() {
                                return $(".other-tags-popover").hide()
                            }),
                            $(document).on("click", ".form-tags-container .edit-tags-link",
                            function() {
                                return $("body").click()
                            }),
                            $(document).on("click", "#edit_tags_modal .btn-primary",
                            function(e) {
                                return $(this).parents(".modal").find(".modal-body form").submit(),
                                e.stopPropagation()
                            })
                        })
                    }.call(this), _.templateSettings = {
                        interpolate: /\{\{(.+?)\}\}/g
                    },
                    String.toLocaleString({
                        en: {
                            "%rechoose": "rechoose",
                            "%delete": "delete",
                            "%warn_system_file": "system file is not allowed",
                            "%warn_exec_file": "EXE/BAT format file is not allowed",
                            "%file_name_too_long": "file name is too long",
                            "%warn_oversize": "file size is over {{maxSize}}",
                            "%warn_wrong_mobile_number": "please enter correct mobile number of mainland China",
                            "%total": "total",
                            "%download": "download",
                            "%sold_out": "sold out",
                            "%common_separator": ", ",
                            "%resend": "resend SMS",
                            "%sendingSMS": "sending SMS",
                            "%warn_geo_cannot_get_location": "Can't get your location!",
                            "%warn_geo_permission_denied": "You denied the request for Geolocation.",
                            "%warn_geo_position_unavailable": "Location information is unavailable.",
                            "%warn_geo_timeout": "The request to get your location timed out.",
                            "%warn_geo_unknown_error": "An unknown error occurred.",
                            "%geo_coord": "Longitude:{{long}},Latitude:{{lat}}",
                            "%geo_address": "{{address}}",
                            "%geo_choose": "Choose location",
                            "%geo_locate": "Get current location",
                            "%geo_locating": "Locating...",
                            "%geo_no_address": "No address information. ",
                            "%select_prompt": "Please select",
                            "%no_geo_data": "There is no data for this field currently.",
                            "%bracket": " ({{content}})",
                            "%upload_failed": "failed {{status}}, please contact system admin",
                            "%upload_failed_401": "failed, please refresh page and try again",
                            "%uploading": "Uploading...",
                            "%upload_done": "Uploading finished!"
                        },
                        "zh-CN": {
                            "%rechoose": "\u8bf7\u91cd\u65b0\u9009\u62e9",
                            "%delete": "\u522a\u9664",
                            "%warn_system_file": "\u7981\u6b62\u4e0a\u4f20\u7cfb\u7edf\u6587\u4ef6",
                            "%warn_exec_file": "\u7981\u6b62\u4e0a\u4f20EXE\u3001BAT\u683c\u5f0f\u7684\u6587\u4ef6",
                            "%file_name_too_long": "\u6587\u4ef6\u540d\u8fc7\u957f",
                            "%warn_oversize": "\u6587\u4ef6\u8d85\u8fc7\u4e86{{maxSize}}",
                            "%warn_wrong_mobile_number": "\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u4e2d\u56fd\u5927\u9646\u624b\u673a\u53f7\u7801",
                            "%total": "\u5408\u8ba1",
                            "%download": "\u4e0b\u8f7d",
                            "%sold_out": "\u5df2\u552e\u7a7a",
                            "%common_separator": "\u3001",
                            "%resend": "\u91cd\u65b0\u53d1\u9001",
                            "%sendingSMS": "\u6b63\u5728\u53d1\u9001\u77ed\u4fe1",
                            "%warn_geo_cannot_get_location": "\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01",
                            "%warn_geo_permission_denied": "\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u8bf7\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u4f4d\u7f6e\u5171\u4eab\u6743\u9650",
                            "%warn_geo_position_unavailable": "\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u4f4d\u7f6e\u4fe1\u606f\u4e0d\u53ef\u7528",
                            "%warn_geo_timeout": "\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u83b7\u53d6\u7ecf\u7eac\u5ea6\u8d85\u65f6",
                            "%warn_geo_unknown_error": "\u65e0\u6cd5\u5b9a\u4f4d\u60a8\u7684\u4f4d\u7f6e\uff01\u672a\u77e5\u9519\u8bef",
                            "%geo_coord": "\u7ecf\u5ea6:{{long}}\uff0c\u7eac\u5ea6:{{lat}}",
                            "%geo_address": "{{address}}",
                            "%geo_choose": "\u83b7\u53d6\u5730\u7406\u4f4d\u7f6e",
                            "%geo_locate": "\u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e",
                            "%geo_locating": "\u83b7\u53d6\u4f4d\u7f6e\u4e2d...",
                            "%geo_no_address": "\u65e0\u6cd5\u83b7\u53d6\u5730\u5740\u3002",
                            "%select_prompt": "\u8bf7\u9009\u62e9",
                            "%no_geo_data": "\u8be5\u5730\u7406\u4f4d\u7f6e\u5b57\u6bb5\u6682\u65e0\u6570\u636e\u3002",
                            "%bracket": "\uff08{{content}}\uff09",
                            "%upload_failed": "\u4e0a\u4f20\u5931\u8d25{{status}}\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458",
                            "%upload_failed_401": "\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\uff0c\u5e76\u57281\u5c0f\u65f6\u5185\u91cd\u65b0\u4e0a\u4f20",
                            "%uploading": "\u4e0a\u4f20\u4e2d...",
                            "%upload_done": "\u4e0a\u4f20\u6210\u529f\uff01"
                        }
                    });
                    var l = function(e, t) {
                        return t == null && (t = {}),
                        _.template(e.toLocaleString(), t)
                    }; String.locale = "zh-CN",
                    function() {
                        var e, t;
                        t = !0,
                        e = function(e, t, n) {
                            return $(".rating-group i").removeClass("icon-heart-light icon-star-light"),
                            $(".rating-group[data-field-id\x3d" + e + "] i").removeClass("fa fa-" + t + " fa-" + t + "-o"),
                            n === "" ? $(".rating-group[data-field-id\x3d" + e + "] i").addClass("fa fa-" + t + "-o") : ($(".rating-group[data-field-id\x3d" + e + "] i:lt(" + n + ")").addClass("fa fa-" + t), $(".rating-group[data-field-id\x3d" + e + "] i:gt(" + (n - 1) + ")").addClass("fa fa-" + t + "-o"))
                        },
                        $(document).on("click", ".rating-group i",
                        function() {
                            var n, r, i;
                            return t = !1,
                            n = $(this).parents(".rating-group").data("field-id"),
                            r = $(this).parents(".rating-group").data("rating-type"),
                            i = $(this).data("value"),
                            $("#entry_" + n).val($(this).data("value")),
                            e(n, r, i)
                        }),
                        $(document).on("hover", ".rating-group i",
                        function() {
                            var e, n, r;
                            if (t && !$.browser.msie) return e = $(this).parents(".rating-group").data("field-id"),
                            n = $(this).parents(".rating-group").data("rating-type"),
                            r = $(this).data("value"),
                            $(".rating-group[data-field-id\x3d" + e + "] i:lt(" + r + ")").removeClass("fa fa-" + n + "-o"),
                            $(".rating-group[data-field-id\x3d" + e + "] i:lt(" + r + ")").addClass("fa fa-" + n + " icon-" + n + "-light"),
                            $(".rating-group[data-field-id\x3d" + e + "] i:gt(" + (r - 1) + ")").addClass("fa fa-" + n + "-o"),
                            $(".rating-group[data-field-id\x3d" + e + "] i:gt(" + (r - 1) + ")").removeClass("icon-" + n + "-light")
                        }),
                        $(document).on("mouseleave", ".rating-group",
                        function() {
                            var n;
                            return n = $("#entry_" + $(this).data("field-id")).val(),
                            e($(this).data("field-id"), $(this).data("rating-type"), n),
                            t = !0
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return e = function(e, t) {
                                var n;
                                return n = $(e).parents(".controls").find("input.other-choice"),
                                $(e).find(".other-choice-item").is(":selected") ? (n.show(), n.removeClass("hide"), t && n.focus(), n.parents(".ui-input-text").show()) : (n.hide(), n.addClass("hide"), n.parents(".ui-input-text").hide())
                            },
                            GoldenData.initialDropdownOtherChoice = function(t, n) {
                                return $(t).find(".controls select.with-other-choice").each(function() {
                                    return e(this, n)
                                })
                            },
                            $(document).on("ready page:load",
                            function() {
                                var t;
                                return t = function(e) {
                                    return function(e, t) {
                                        return $(t).parents(".other-choice-area").find("input." + e)
                                    }
                                } (this),
                                $(document).on("click", ".other-choice-input",
                                function() {
                                    var e;
                                    e = t("other_choice", this);
                                    if (!e.is(":checked")) {
                                        e.click();
                                        if (e.checkboxradio != null) return $("input[type\x3dradio], input[type\x3dcheckbox]").checkboxradio("refresh")
                                    }
                                }),
                                $(document).on("click", "input.other_choice",
                                function() {
                                    $(this).checkboxradio != null && $(this).checkboxradio("refresh");
                                    if ($(this).is(":checked")) return t("other-choice-input", this).focus()
                                }),
                                GoldenData.initialDropdownOtherChoice(document, !1),
                                $(document).on("change", "form .field .controls select.with-other-choice",
                                function() {
                                    return e($(this), !0)
                                }),
                                $(".entry form, #new_entry").on("submit",
                                function() {
                                    return $(this).find("input.other_choice").each(function() {
                                        if (!$(this).is(":checked")) return t("other-choice-input", this).val("")
                                    }),
                                    $(this).find("option.other-choice-item").each(function() {
                                        if (!$(this).is(":selected")) return $(this).parents(".controls").find("input.other-choice").val("")
                                    })
                                })
                            })
                        })
                    }.call(this), !
                    function(e) {
                        var t, n;
                        GoldenData.LightboxOptions = function() {
                            this.fileLoadingImage = GoldenData.fileLoadingImage,
                            this.fileCloseImage = GoldenData.fileCloseImage,
                            this.resizeDuration = 0,
                            this.fadeDuration = 0,
                            this.labelImage = "\u56fe\u7247",
                            this.labelOf = "/"
                        },
                        GoldenData.Lightbox = function(t) {
                            this.options = t,
                            this.album = [],
                            this.currentImageIndex = void 0
                        },
                        GoldenData.Lightbox.prototype.enable = function() {
                            var t = this;
                            return e("body").on("click", "a[rel^\x3dlightbox], area[rel^\x3dlightbox]",
                            function(n) {
                                return t.start(e(n.currentTarget)),
                                !1
                            })
                        },
                        GoldenData.Lightbox.prototype.build = function() {
                            var t, n = this;
                            e("\x3cdiv\x3e", {
                                id: "lightboxOverlay"
                            }).after(e("\x3cdiv/\x3e", {
                                id: "lightbox"
                            }).append(e("\x3cdiv/\x3e", {
                                "class": "lb-outerContainer"
                            }).append(e("\x3cdiv/\x3e", {
                                "class": "lb-container"
                            }).append(e("\x3cimg/\x3e", {
                                "class": "lb-image"
                            }), e("\x3cdiv/\x3e", {
                                "class": "lb-nav"
                            }).append(e("\x3ca/\x3e", {
                                "class": "lb-prev"
                            }), e("\x3ca/\x3e", {
                                "class": "lb-next"
                            })), e("\x3cdiv/\x3e", {
                                "class": "lb-loader"
                            }).append(e("\x3ca/\x3e", {
                                "class": "lb-cancel"
                            }).append(e("\x3cimg/\x3e", {
                                src: this.options.fileLoadingImage
                            }))))), e("\x3cdiv/\x3e", {
                                "class": "lb-dataContainer"
                            }).append(e("\x3cdiv/\x3e", {
                                "class": "lb-data"
                            }).append(e("\x3cdiv/\x3e", {
                                "class": "lb-details"
                            }).append(e("\x3cspan/\x3e", {
                                "class": "lb-caption"
                            }), e("\x3cspan/\x3e", {
                                "class": "lb-number"
                            })), e("\x3cdiv/\x3e", {
                                "class": "lb-closeContainer"
                            }).append(e("\x3ca/\x3e", {
                                "class": "lb-close"
                            }).append(e("\x3cimg/\x3e", {
                                src: this.options.fileCloseImage
                            }))))))).appendTo(e("body")),
                            e("#lightboxOverlay").hide().on("click",
                            function(e) {
                                return n.end(),
                                !1
                            }),
                            t = e("#lightbox"),
                            t.hide().on("click",
                            function(t) {
                                return e(t.target).attr("id") === "lightbox" && n.end(),
                                !1
                            }),
                            t.find(".lb-outerContainer").on("click",
                            function(t) {
                                return e(t.target).attr("id") === "lightbox" && n.end(),
                                !1
                            }),
                            t.find(".lb-prev").on("click",
                            function(e) {
                                return n.changeImage(n.currentImageIndex - 1),
                                !1
                            }),
                            t.find(".lb-next").on("click",
                            function(e) {
                                return n.changeImage(n.currentImageIndex + 1),
                                !1
                            }),
                            t.find(".lb-loader, .lb-close").on("click",
                            function(e) {
                                return n.end(),
                                !1
                            })
                        },
                        GoldenData.Lightbox.prototype.start = function(t) {
                            var n, r, i, s, o, u, a, f, l;
                            e(window).on("resize", this.sizeOverlay),
                            e("select, object, embed").css({
                                visibility: "hidden"
                            }),
                            e("#lightboxOverlay").width(e(document).width()).height(e(document).height()).fadeIn(this.options.fadeDuration),
                            this.album = [],
                            o = 0;
                            if (t.attr("rel") === "lightbox") this.album.push({
                                link: t.attr("href"),
                                title: t.attr("title")
                            });
                            else {
                                l = e(t.prop("tagName") + '[rel\x3d"' + t.attr("rel") + '"]');
                                for (s = 0, f = l.length; s < f; s++) i = l[s],
                                this.album.push({
                                    link: e(i).attr("href"),
                                    title: e(i).attr("title")
                                }),
                                e(i).attr("href") === t.attr("href") && (o = s)
                            }
                            r = e(window),
                            a = r.scrollTop() + r.height() / 10,
                            u = r.scrollLeft(),
                            n = e("#lightbox"),
                            n.css({
                                top: a + "px",
                                left: u + "px"
                            }).fadeIn(this.options.fadeDuration),
                            this.changeImage(o)
                        },
                        GoldenData.Lightbox.prototype.changeImage = function(t) {
                            var n, r, i, s = this;
                            this.disableKeyboardNav(),
                            r = e("#lightbox"),
                            n = r.find(".lb-image"),
                            this.sizeOverlay(),
                            e("#lightboxOverlay").fadeIn(this.options.fadeDuration),
                            e(".loader").fadeIn("slow"),
                            r.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),
                            r.find(".lb-outerContainer").addClass("animating"),
                            i = new Image,
                            i.onload = function() {
                                return n.attr("src", s.album[t].link),
                                n.width = i.width,
                                n.height = i.height,
                                s.sizeContainer(i.width, i.height)
                            },
                            i.src = this.album[t].link,
                            this.currentImageIndex = t
                        },
                        GoldenData.Lightbox.prototype.sizeOverlay = function() {
                            return e("#lightboxOverlay").width(e(document).width()).height(e(document).height())
                        },
                        GoldenData.Lightbox.prototype.sizeContainer = function(t, n) {
                            var r, i, s, o, u, a, f, l, c, h, p, d = this;
                            i = e("#lightbox"),
                            s = i.find(".lb-outerContainer"),
                            p = s.outerWidth(),
                            h = s.outerHeight(),
                            r = i.find(".lb-container"),
                            f = parseInt(r.css("padding-top"), 10),
                            a = parseInt(r.css("padding-right"), 10),
                            o = parseInt(r.css("padding-bottom"), 10),
                            u = parseInt(r.css("padding-left"), 10);
                            var v = e(window).width() - u - a;
                            t > v && (n = v * n / t, t = v);
                            var m = e(window).height() * .8 - f - o;
                            n > m && (t = m * t / n, n = m),
                            c = t + u + a,
                            l = n + f + o,
                            c !== p && l !== h ? s.animate({
                                width: c,
                                height: l
                            },
                            this.options.resizeDuration, "swing") : c !== p ? s.animate({
                                width: c
                            },
                            this.options.resizeDuration, "swing") : l !== h && s.animate({
                                height: l
                            },
                            this.options.resizeDuration, "swing"),
                            setTimeout(function() {
                                i.find(".lb-dataContainer").width(c),
                                i.find(".lb-prevLink").height(l),
                                i.find(".lb-nextLink").height(l),
                                d.showImage()
                            },
                            this.options.resizeDuration)
                        },
                        GoldenData.Lightbox.prototype.showImage = function() {
                            var t;
                            t = e("#lightbox"),
                            t.find(".lb-loader").hide(),
                            t.find(".lb-image").fadeIn("slow"),
                            this.updateNav(),
                            this.updateDetails(),
                            this.preloadNeighboringImages(),
                            this.enableKeyboardNav()
                        },
                        GoldenData.Lightbox.prototype.updateNav = function() {
                            var t;
                            t = e("#lightbox"),
                            t.find(".lb-nav").show(),
                            this.currentImageIndex > 0 && t.find(".lb-prev").show(),
                            this.currentImageIndex < this.album.length - 1 && t.find(".lb-next").show()
                        },
                        GoldenData.Lightbox.prototype.updateDetails = function() {
                            var t, n = this;
                            t = e("#lightbox"),
                            typeof this.album[this.currentImageIndex].title != "undefined" && this.album[this.currentImageIndex].title !== "" && t.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast"),
                            t.find(".lb-outerContainer").removeClass("animating"),
                            t.find(".lb-dataContainer").fadeIn(this.resizeDuration,
                            function() {
                                return n.sizeOverlay()
                            })
                        },
                        GoldenData.Lightbox.prototype.preloadNeighboringImages = function() {
                            var e, t;
                            this.album.length > this.currentImageIndex + 1 && (e = new Image, e.src = this.album[this.currentImageIndex + 1].link),
                            this.currentImageIndex > 0 && (t = new Image, t.src = this.album[this.currentImageIndex - 1].link)
                        },
                        GoldenData.Lightbox.prototype.enableKeyboardNav = function() {
                            e(document).on("keyup.keyboard", e.proxy(this.keyboardAction, this))
                        },
                        GoldenData.Lightbox.prototype.disableKeyboardNav = function() {
                            e(document).off(".keyboard")
                        },
                        GoldenData.Lightbox.prototype.keyboardAction = function(e) {
                            var t, n, r, i, s;
                            t = 27,
                            n = 37,
                            r = 39,
                            s = e.keyCode,
                            i = String.fromCharCode(s).toLowerCase(),
                            s === t || i.match(/x|o|c/) ? this.end() : i === "p" || s === n ? this.currentImageIndex !== 0 && this.changeImage(this.currentImageIndex - 1) : (i === "n" || s === r) && this.currentImageIndex !== this.album.length - 1 && this.changeImage(this.currentImageIndex + 1)
                        },
                        GoldenData.Lightbox.prototype.end = function() {
                            return this.disableKeyboardNav(),
                            e(window).off("resize", this.sizeOverlay),
                            e("#lightbox").fadeOut(this.options.fadeDuration),
                            e("#lightboxOverlay").fadeOut(this.options.fadeDuration),
                            e("select, object, embed").css({
                                visibility: "visible"
                            })
                        }
                    } (window.jQuery),
                    function() {
                        $(function() {
                            return $(document).on("page:load ready",
                            function() {
                                var e;
                                return e = {
                                    fileLoadingImage: GoldenData.fileLoadingImage,
                                    fileCloseImage: GoldenData.fileCloseImage
                                },
                                e = _.extend({},
                                new GoldenData.LightboxOptions, e),
                                GoldenData.lightbox = new GoldenData.Lightbox(e),
                                GoldenData.lightbox.enable(),
                                GoldenData.lightbox.build()
                            }),
                            $(document).on("change", ".choices.image-choices input",
                            function() {
                                return $(this).closest(".image-choices").children(".radio.active").removeClass("active"),
                                $(this).closest(".radio, .checkbox").toggleClass("active")
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n;
                            return e = function() {
                                function e(e) {
                                    var t, n, r, i, s;
                                    n = e.sku,
                                    this.fieldApiCode = e.fieldApiCode,
                                    this.goodsValue = e.goodsValue,
                                    n == null && (n = {}),
                                    this.specification = (r = n.specification) != null ? r: {},
                                    this.price = parseFloat((i = n.price) != null ? i: e.price),
                                    t = (s = n.inventory) != null ? s: e.inventory,
                                    this.inventory = t != null ? parseInt(t) : null
                                }
                                return e.prototype.priceDisplay = function() {
                                    return "\x26yen;" + this.price.toFixed(2)
                                },
                                e.prototype.inventoryDisplay = function(e, t) {
                                    return this.inventory == null ? "": this.inventory > 0 ? "" + e + " " + this.inventory + " " + t: l("%sold_out")
                                },
                                e
                            } (),
                            t = function() {
                                function t(e, t) {
                                    this.$el = e,
                                    this.shoppingCart = t,
                                    this.initialPriceDisplay = this.$el.find(".price").html(),
                                    this.initialInventoryDisplay = this.$el.find(".inventory").html(),
                                    this._initializeCurrentSpecification(),
                                    this._initializeGoodsSKUs(),
                                    this._bindOnDimensionChangeEvent(),
                                    this._bindOnIncreaseDecreaseClickEvent(),
                                    this._bindOnNumberChangeEvent(),
                                    this._bindShowHideEvent(),
                                    (this.$el.is(":visible") || this._mobileGoodsVisible()) && this._updateCurrentGoodsSKU()
                                }
                                return t.prototype._addGoodsSKU = function(t, n, r, i, s) {
                                    var o;
                                    return r == null && (r = null),
                                    i == null && (i = null),
                                    s == null && (s = null),
                                    o = new e({
                                        fieldApiCode: t,
                                        goodsValue: n,
                                        sku: r,
                                        price: i,
                                        inventory: s
                                    }),
                                    this.goodsSKUs.push(o)
                                },
                                t.prototype._initializeGoodsSKUs = function() {
                                    var e, t, n, r, i, s, o, u, a;
                                    this.goodsSKUs = [],
                                    r = this.$el.find("input.number"),
                                    e = r.data("field-api-code"),
                                    t = r.data("goods-value"),
                                    o = this.$el.find(".dimensions").data("skus");
                                    if (!_.isEmpty(o)) for (u = 0, a = o.length; u < a; u++) s = o[u],
                                    this._addGoodsSKU(e, t, s);
                                    if (this.goodsSKUs.length === 0) return i = r.data("goods-price"),
                                    n = r.data("inventory"),
                                    this._addGoodsSKU(e, t, null, i, n),
                                    this._updateNumberInput(),
                                    this._updateDecreaseIncreaseBtn(0)
                                },
                                t.prototype._matchedGoodsSKU = function() {
                                    return _.find(this.goodsSKUs,
                                    function(e) {
                                        return function(t) {
                                            return _.isEqual(t.specification, e.currentSpecification)
                                        }
                                    } (this))
                                },
                                t.prototype._updateNumberInput = function() {
                                    var e, t;
                                    return t = this.$el.find("input.number"),
                                    e = this._matchedGoodsSKU(),
                                    t.attr("disabled", e == null || e.inventory != null && e.inventory === 0)
                                },
                                t.prototype._updateDecreaseIncreaseBtn = function(e) {
                                    var t, n, r;
                                    r = this._matchedGoodsSKU(),
                                    n = $(this.$el.find(".increase")),
                                    t = $(this.$el.find(".decrease")),
                                    r == null || r.inventory != null && r.inventory <= e ? n.addClass("disabled") : n.removeClass("disabled"),
                                    e > 0 ? t.removeClass("disabled") : t.addClass("disabled");
                                    if ($.browser.msie && parseInt($.browser.version, 10) <= 9) return n.html(n.html()),
                                    t.html(t.html())
                                },
                                t.prototype._updatePriceAndInventoryDisplay = function() {
                                    var e;
                                    return e = this._matchedGoodsSKU(),
                                    e != null ? (this.$el.find(".price").html(e.priceDisplay()), this.$el.find(".inventory").html(e.inventoryDisplay(this.$el.data("inventory-label"), this.$el.data("unit")))) : (this.$el.find(".price").html(this.initialPriceDisplay), this.$el.find(".inventory").html(this.initialInventoryDisplay))
                                },
                                t.prototype._bindOnDimensionChangeEvent = function() {
                                    var e;
                                    return e = this,
                                    this.$el.find(".dimension-options input:radio").change(function() {
                                        var t, n;
                                        return t = e.$el.find("input.number"),
                                        t.val(0).change(),
                                        $(this).closest(".dimension-options").find("label.selected").removeClass("selected"),
                                        n = $(this).closest(".dimension-options").find("input:radio:checked"),
                                        n.next("label").addClass("selected"),
                                        e.currentSpecification[n.data("dimension")] = n.val(),
                                        e._updatePriceAndInventoryDisplay(),
                                        e._updateNumberInput(),
                                        e._updateDecreaseIncreaseBtn(0)
                                    }),
                                    this.$el.find(".dimension-options label").click(function() {
                                        return $("#" + $(this).attr("for")).attr("checked", !0).change()
                                    })
                                },
                                t.prototype._bindOnIncreaseDecreaseClickEvent = function() {
                                    var e;
                                    return e = this,
                                    this.$el.find(".number-container a").click(function(t) {
                                        var n, r, i;
                                        if ($(this).hasClass("disabled")) return ! 1;
                                        t.preventDefault(),
                                        r = e._matchedGoodsSKU();
                                        if (r != null) {
                                            i = e._currentNumber(),
                                            n = $(this).is(".increase") ? i + 1 : i - 1;
                                            if (n >= 0 && !(r.inventory != null && n > r.inventory)) return e.$el.find("input.number").val(n).trigger("change")
                                        }
                                    })
                                },
                                t.prototype._bindOnNumberChangeEvent = function() {
                                    var e;
                                    return e = this,
                                    this.$el.find("input.number").on("keydown",
                                    function(e) {
                                        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13]) !== -1 || e.keyCode >= 35 && e.keyCode <= 40) return;
                                        if ((e.shiftKey || e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105)) return e.preventDefault()
                                    }),
                                    this.$el.find("input.number").change(function() {
                                        var t, n;
                                        return t = $(this).val(),
                                        t && $.isNumeric(t) && t > 0 ? $(this).val(parseInt(t)) : $(this).val(0),
                                        n = e._matchedGoodsSKU(),
                                        n != null && n.inventory != null && t > n.inventory && $(this).val(n.inventory),
                                        e._updateDecreaseIncreaseBtn(t),
                                        e._addCurrentGoodsSKUsToShoppingCart()
                                    })
                                },
                                t.prototype._bindShowHideEvent = function() {
                                    return this.$el.on("shown.logic",
                                    function(e) {
                                        return function() {
                                            return e._addCurrentGoodsSKUsToShoppingCart()
                                        }
                                    } (this)),
                                    this.$el.on("hidden.logic",
                                    function(e) {
                                        return function() {
                                            return e._updateShoppingCart(0)
                                        }
                                    } (this))
                                },
                                t.prototype._addCurrentGoodsSKUsToShoppingCart = function(e) {
                                    return e == null && (e = !1),
                                    this._updateShoppingCart(this._currentNumber(), e)
                                },
                                t.prototype._updateShoppingCart = function(e, t) {
                                    var n;
                                    n = this._matchedGoodsSKU();
                                    if (n != null) return this.shoppingCart.updateGoodsSKUNumber(n, e, t),
                                    e > 0 ? this.$el.addClass("active") : this.$el.removeClass("active")
                                },
                                t.prototype._updateCurrentGoodsSKU = function() {
                                    return this._addCurrentGoodsSKUsToShoppingCart(!0),
                                    this._updatePriceAndInventoryDisplay(),
                                    this._updateNumberInput(),
                                    this._updateDecreaseIncreaseBtn(this._currentNumber())
                                },
                                t.prototype._initializeCurrentSpecification = function() {
                                    var e, t, n, r, i;
                                    this.currentSpecification = {},
                                    r = this.$el.find(".dimensions input:radio:checked"),
                                    i = [];
                                    for (t = 0, n = r.length; t < n; t++) e = r[t],
                                    i.push(this.currentSpecification[$(e).data("dimension")] = $(e).val());
                                    return i
                                },
                                t.prototype._currentNumber = function() {
                                    return parseInt(this.$el.find("input.number").val())
                                },
                                t.prototype._mobileGoodsVisible = function() {
                                    return GoldenData.isMobile && this.$el.parents(".field [data-role\x3dcollapsible]").is(":visible")
                                },
                                t
                            } (),
                            n = function() {
                                function e() {
                                    this.goodsList = [],
                                    this.eventHandlers = {}
                                }
                                return e.prototype.on = function(e, t) {
                                    return this.eventHandlers[e] = t
                                },
                                e.prototype.trigger = function(e) {
                                    var t;
                                    t = this.eventHandlers[e];
                                    if (t != null && typeof t == "function") return t(this)
                                },
                                e.prototype.updateGoodsSKUNumber = function(e, t, n) {
                                    var r;
                                    n == null && (n = !1),
                                    r = _.find(this.goodsList,
                                    function(t) {
                                        return _.isEqual(t.goodsSKU, e)
                                    }),
                                    r != null && this.goodsList.splice(_.indexOf(this.goodsList, r), 1),
                                    t > 0 && this.goodsList.push({
                                        goodsSKU: e,
                                        number: t
                                    });
                                    if (!n) return this.trigger("change")
                                },
                                e.prototype.totalPrice = function() {
                                    var e, t, n, r, i;
                                    t = 0,
                                    i = this.goodsList;
                                    for (n = 0, r = i.length; n < r; n++) e = i[n],
                                    t += e.goodsSKU.price * e.number;
                                    return t
                                },
                                e.prototype._findGoodsByFieldApiCode = function(e) {
                                    return _.filter(this.goodsList,
                                    function(t) {
                                        return t.goodsSKU.fieldApiCode === e
                                    })
                                },
                                e.prototype.clearOnField = function(e) {
                                    var t, n, r, i;
                                    i = this._findGoodsByFieldApiCode(e);
                                    for (n = 0, r = i.length; n < r; n++) t = i[n],
                                    this.goodsList.splice(this.goodsList.indexOf(t), 1);
                                    return this.trigger("change")
                                },
                                e
                            } (),
                            GoldenData.initGoods = function(e) {
                                var r, i, s, o, u, a, f, c;
                                o = new n,
                                r = function(e) {
                                    var t;
                                    return t = $(".field[data-api-code\x3d'" + e + "'] .control-label"),
                                    $.trim(t.clone().children().remove().end().text())
                                },
                                i = function(e) {
                                    var t, n, r;
                                    return t = $(".field[data-api-code\x3d'" + e.fieldApiCode + "'] [data-goods-value\x3d'" + e.goodsValue + "']").parents("[data-role\x3dgoods]"),
                                    n = $.trim(t.find(".name").text()),
                                    r = t.find(".dimensions input:radio:checked").map(function(e, t) {
                                        return $.trim($(t).next("label").text())
                                    }).get().join(l("%common_separator")),
                                    r === "" ? "" + n + "\uff1a": "" + n + "\uff08" + r + "\uff09\uff1a"
                                },
                                u = function(e, t) {
                                    var n, s, o, u, a, f, c, h, p, d, v, m;
                                    t == null && (t = "update");
                                    if (_.isEmpty(e.goodsList)) $("#shopping_cart").empty();
                                    else {
                                        p = $("\x3cdiv class\x3d'content'\x3e\x3c/div\x3e"),
                                        m = e.goodsList;
                                        for (d = 0, v = m.length; d < v; d++) u = m[d],
                                        f = u.goodsSKU,
                                        o = f.fieldApiCode,
                                        n = p.find(".field[data-api-code\x3d'" + o + "']"),
                                        n.length > 0 ? (s = n, a = s.find("ul")) : (s = $("\x3cdiv class\x3d'field' data-api-code\x3d'" + o + "'\x3e\x3c/div\x3e"), s.append("\x3cdiv class\x3d'field-label'\x3e" + r(o) + "\uff1a\x3c/div\x3e "), a = $("\x3cul\x3e\x3c/ul\x3e"), s.append(a), p.append(s)),
                                        c = $("\x3cli\x3e\x3c/li\x3e"),
                                        c.append("\x3cspan class\x3d'goods-name'\x3e" + i(f) + "\x3c/span\x3e"),
                                        c.append("\x3cspan class\x3d'price-number'\x3e\x26yen;" + f.price.toFixed(2) + " \x26times; " + u.number + "\x3c/span\x3e"),
                                        a.append(c);
                                        p.append("\x3cdiv class\x3d'summary'\x3e" + l("%total") + "\x26yen; \x3cspan class\x3d'total-price'\x3e" + e.totalPrice().toFixed(2) + "\x3c/span\x3e\x3c/div\x3e"),
                                        $("#shopping_cart").html(p)
                                    }
                                    return h = _.isEmpty(e.goodsList) && $("[data-role\x3dgoods]").closest(".control-group").find(".control-label:visible").length > 0,
                                    $(".submit-field.alipay input.submit").data("no-goods-selected", h),
                                    GoldenData.updateSubmitBtn(),
                                    GoldenData.recalcFormHeight()
                                };
                                if ($(e).find("[data-role\x3dgoods]").length > 0) {
                                    o.on("change", u),
                                    c = $(e).find("[data-role\x3dgoods]");
                                    for (a = 0, f = c.length; a < f; a++) s = c[a],
                                    new t($(s), o);
                                    return u(o, "init"),
                                    $(e).on("hidden.logic", ".field[data-api-code]",
                                    function() {
                                        return o.clearOnField($(this).data("api-code"))
                                    }),
                                    $(e).on("shown.logic", ".field[data-api-code]",
                                    function() {
                                        return $(this).find("[data-role\x3dgoods] input.number[value!\x3d0]").trigger("change")
                                    })
                                }
                            },
                            $(document).on("ready page:load",
                            function() {
                                return GoldenData.initGoods(document)
                            }),
                            $(document).on("ajax:complete", "form:not(#submission_password_form)",
                            function() {
                                return GoldenData.initGoods(document)
                            })
                        })
                    }.call(this),
                    function() {
                        var e = function(e, t) {
                            return function() {
                                return e.apply(t, arguments)
                            }
                        };
                        window.GoldenData || (window.GoldenData = {}),
                        $(function() {
                            var t, n, r, i, s;
                            return i = function(e) {
                                e.find(".geo-field-chooser").removeClass("disabled"),
                                e.find(".geo-field-chooser span").text(l("%geo_choose"));
                                if (e.hasClass("mobile")) return e.find(".btn.geo-field-chooser").val(l("%geo_locate"))
                            },
                            t = function() {
                                function e(e) {
                                    this.auth_token = e
                                }
                                return e.prototype.geocode = function(e, t) {
                                    if (!e.latLng) return;
                                    return $.get("/u/address_from_geo", {
                                        lat: e.latLng.lat,
                                        lng: e.latLng.lng,
                                        authenticity_token: this.auth_token
                                    }).done(function(e) {
                                        return t(e, "success")
                                    }).fail(function(e, n) {
                                        return t(e.responseText, n)
                                    })
                                },
                                e
                            } (),
                            n = function() {
                                function n(n, r) {
                                    this.$el = n,
                                    this.options = r != null ? r: {},
                                    this.initialGoogleMap = e(this.initialGoogleMap, this),
                                    this.initGoogleMapEvent = e(this.initGoogleMapEvent, this),
                                    this.updateGoogleMap = e(this.updateGoogleMap, this),
                                    this.searchLocation = e(this.searchLocation, this),
                                    this.showAddress = e(this.showAddress, this),
                                    this.updateMap = e(this.updateMap, this),
                                    this.currentLocation = e(this.currentLocation, this),
                                    this.options = $.extend({
                                        staticMap: !1,
                                        withGoogleMap: !0,
                                        useBaidu: !1
                                    },
                                    this.options),
                                    this.auth_token = this.$el.closest("form").find("[name\x3dauthenticity_token]").val(),
                                    this.geocoder = this.options.useBaidu ? new t(this.auth_token) : new google.maps.Geocoder,
                                    this.options.withGoogleMap && (this.initialGoogleMap(this.$el.find(".google-map-container")[0]), this.options.staticMap || this.initGoogleMapEvent())
                                }
                                return n.prototype.currentLocation = function(e) {
                                    var t, n, r, s, o, u, a;
                                    return e == null && (e = {}),
                                    n = 0,
                                    u = function(t) {
                                        return function(n) {
                                            return t.updateMap(n, 14, e)
                                        }
                                    } (this),
                                    o = function(e) {
                                        return function() {
                                            return alert(l("%warn_geo_cannot_get_location")),
                                            i(e.$el)
                                        }
                                    } (this),
                                    r = function(e) {
                                        return function() {
                                            var t, n;
                                            return n = function(e) {
                                                var t;
                                                return t = {
                                                    lat: e.coords.latitude,
                                                    lng: e.coords.longitude
                                                },
                                                u(t)
                                            },
                                            t = function(t) {
                                                t == null && (t = null);
                                                if (a()) return;
                                                if (t) switch (t.code) {
                                                case t.PERMISSION_DENIED:
                                                    alert(l("%warn_geo_permission_denied"));
                                                    break;
                                                case t.POSITION_UNAVAILABLE:
                                                    alert(l("%warn_geo_position_unavailable"));
                                                    break;
                                                case t.TIMEOUT:
                                                    alert(l("%warn_geo_timeout"));
                                                    break;
                                                default:
                                                    alert(l("%warn_geo_unknown_error"))
                                                }
                                                return i(e.$el)
                                            },
                                            navigator.geolocation ? navigator.geolocation.getCurrentPosition(n, t, {
                                                timeout: 5E3,
                                                maximumAge: 0
                                            }) : t()
                                        }
                                    } (this),
                                    s = function(t) {
                                        return function() {
                                            var n;
                                            return n = function() {
                                                if (a()) return;
                                                return o()
                                            },
                                            $.get("/u/address_from_ip", {
                                                authenticity_token: t.auth_token
                                            }).done(function(r) {
                                                if (!r) return n();
                                                t.$el.find(".geo-map-address").text(r),
                                                t.$el.find("input[name$\x3d'[address]']").val(r);
                                                if (e.onComplete) return e.onComplete()
                                            }).fail(n)
                                        }
                                    } (this),
                                    t = [r, s],
                                    a = function() {
                                        var e;
                                        e = t[n];
                                        if (!e) return;
                                        return n++,
                                        e.call()
                                    },
                                    a()
                                },
                                n.prototype.updateMap = function(e, t, n) {
                                    return t == null && (t = null),
                                    n == null && (n = {}),
                                    this.googleMap && this.updateGoogleMap(e, t),
                                    this.showAddress(e, n),
                                    this.$el.find(".geo-map-coord").text(l("%geo_coord", {
                                        lat: e.lat.toFixed(8),
                                        "long": e.lng.toFixed(8)
                                    })),
                                    this.$el.find("input[name$\x3d'[latitude]']").val(e.lat),
                                    this.$el.find("input[name$\x3d'[longitude]']").val(e.lng)
                                },
                                n.prototype._getAddress = function(e, n) {
                                    if (this.geocoder instanceof t) {
                                        if (n === "success" && e) return e
                                    } else if (n === google.maps.GeocoderStatus.OK && e[0]) return $.trim(e[0].formatted_address.replace(/\u90ae\u653f\u7f16\u7801.*/, ""))
                                },
                                n.prototype._googleLatLng = function(e) {
                                    return new google.maps.LatLng(e.lat, e.lng)
                                },
                                n.prototype._latLngFromGoogleLatLng = function(e) {
                                    return {
                                        lat: e.lat(),
                                        lng: e.lng()
                                    }
                                },
                                n.prototype.showAddress = function(e, t) {
                                    var n;
                                    return t == null && (t = {}),
                                    n = this.options.useBaidu ? e: this._googleLatLng(e),
                                    this.geocoder.geocode({
                                        latLng: n
                                    },
                                    function(n) {
                                        return function(r, i) {
                                            var s;
                                            s = n._getAddress(r, i),
                                            s ? (n.$el.find(".geo-map-address").text(l("%geo_address", {
                                                address: s
                                            })), n.$el.find("input[name$\x3d'[address]']").val(s)) : n.$el.find(".geo-map-address").text(l("%geo_no_address") + l("%geo_coord", {
                                                "long": e.lng,
                                                lat: e.lat
                                            }));
                                            if (t.onComplete) return t.onComplete()
                                        }
                                    } (this))
                                },
                                n.prototype.searchLocation = function(e) {
                                    return this.geocoder.geocode({
                                        address: e
                                    },
                                    function(e) {
                                        return function(t, n) {
                                            if (n === google.maps.GeocoderStatus.OK) return e.updateMap(e._latLngFromGoogleLatLng(t[0].geometry.location))
                                        }
                                    } (this))
                                },
                                n.prototype.updateGoogleMap = function(e, t) {
                                    var n;
                                    return n = this._googleLatLng(e),
                                    t && this.googleMap.setZoom(t),
                                    this.googleMap.setCenter(n),
                                    this.marker.setPosition(n)
                                },
                                n.prototype.initGoogleMapEvent = function() {
                                    return google.maps.event.addListener(this.googleMap, "click",
                                    function(e) {
                                        return function(t) {
                                            return e.updateMap(e._latLngFromGoogleLatLng(t.latLng))
                                        }
                                    } (this)),
                                    google.maps.event.addListener(this.marker, "dragend",
                                    function(e) {
                                        return function(t) {
                                            return e.updateMap(e._latLngFromGoogleLatLng(t.latLng))
                                        }
                                    } (this))
                                },
                                n.prototype.initialGoogleMap = function(e) {
                                    var t;
                                    return t = {
                                        zoom: 4,
                                        mapTypeId: google.maps.MapTypeId.ROADMAP,
                                        streetViewControl: !1,
                                        zoomControlOptions: {
                                            position: google.maps.ControlPosition.LEFT_TOP
                                        }
                                    },
                                    this.googleMap = new google.maps.Map(e, t),
                                    this.marker = new google.maps.Marker({
                                        position: this.googleMap.getCenter(),
                                        map: this.googleMap,
                                        animation: google.maps.Animation.Drop,
                                        draggable: !this.options.staticMap
                                    })
                                },
                                n
                            } (),
                            r = function() {
                                function t(t) {
                                    this.$container = t,
                                    this.initialEvents = e(this.initialEvents, this),
                                    this.initialExistedPosition = e(this.initialExistedPosition, this),
                                    this.initialMap = e(this.initialMap, this),
                                    this.mobile = this.$container.hasClass("mobile"),
                                    this.initialMap(),
                                    this.initialEvents()
                                }
                                return t.prototype.initialMap = function() {
                                    return i(this.$container),
                                    this.initialExistedPosition()
                                },
                                t.prototype.initialExistedPosition = function() {
                                    var e, t;
                                    e = this.$container.find("input[name$\x3d'[latitude]']").val(),
                                    t = this.$container.find("input[name$\x3d'[longitude]']").val();
                                    if (e && t) return this.geo === void 0 && (this.geo = new n(this.$container, {
                                        useBaidu: this.mobile
                                    })),
                                    this.geo.updateMap({
                                        lat: parseFloat(e),
                                        lng: parseFloat(t)
                                    },
                                    14)
                                },
                                t.prototype.initialEvents = function() {
                                    return this.$container.find(".geo-field-chooser").click(function(e) {
                                        return function() {
                                            return e.mobile && (e.$container.find(".geo-field-chooser").addClass("disabled"), e.$container.find(".geo-field-chooser").val(l("%geo_locating"))),
                                            e.geo === void 0 && (e.geo = new n(e.$container, {
                                                withGoogleMap: !e.mobile,
                                                useBaidu: e.mobile
                                            })),
                                            e.mobile ? e.geo.currentLocation({
                                                onComplete: function() {
                                                    return e.$container.find(".geo-map-container").show(),
                                                    e.$container.find(".geo-field-chooser").removeClass("disabled").val(l("%geo_locate")).hide(),
                                                    GoldenData.recalcFormHeight()
                                                }
                                            }) : (e.geo.currentLocation(), e.$container.find(".geo-field-chooser").hide(), e.$container.find(".geo-map-container").show(), GoldenData.recalcFormHeight())
                                        }
                                    } (this)),
                                    this.$container.find(".clear-location-btn").click(function(e) {
                                        return function() {
                                            return e.$container.find(".geo-field-chooser").show(),
                                            e.$container.find(".geo-map-container").hide(),
                                            e.$container.find("input[name$\x3d'[latitude]']").val(""),
                                            e.$container.find("input[name$\x3d'[longitude]']").val(""),
                                            e.$container.find("input[name$\x3d'[address]']").val(""),
                                            GoldenData.recalcFormHeight()
                                        }
                                    } (this)),
                                    this.$container.find(".modify-location-btn").click(function(e) {
                                        return function() {
                                            return e.$container.find(".clear-location-btn").click(),
                                            e.$container.find(".geo-field-chooser").click()
                                        }
                                    } (this)),
                                    this.$container.find(".map-search-btn").click(function(e) {
                                        return function() {
                                            var t;
                                            t = e.$container.find(".map-search").val();
                                            if (t) return e.geo.searchLocation(t)
                                        }
                                    } (this)),
                                    this.$container.find(".current-location-btn").click(function(e) {
                                        return function() {
                                            return e.geo.currentLocation()
                                        }
                                    } (this))
                                },
                                t
                            } (),
                            GoldenData.initGeoView = function() {
                                var e, t, n, i, s;
                                i = $("[data-role\x3dgeo]"),
                                s = [];
                                for (t = 0, n = i.length; t < n; t++) e = i[t],
                                s.push(new r($(e)));
                                return s
                            },
                            s = function(e, t) {
                                var n, r, i, s;
                                i = parseFloat(e.data("latitude")),
                                s = parseFloat(e.data("longitude"));
                                if (i && s) return t.updateGoogleMap({
                                    lat: i,
                                    lng: s
                                },
                                14);
                                n = e.data("address");
                                if (n) return r = new google.maps.Geocoder,
                                r.geocode({
                                    address: n
                                },
                                function(e, n) {
                                    var r, i;
                                    if (n === google.maps.GeocoderStatus.OK) return r = e[0].geometry.location,
                                    i = {
                                        lat: r.lat(),
                                        lng: r.lng()
                                    },
                                    t.updateGoogleMap(i, 14)
                                })
                            },
                            GoldenData.initStaticGeoView = function() {
                                var e, t, r, i, o, u;
                                o = $("[data-role\x3dstatic-geomap]"),
                                u = [];
                                for (r = 0, i = o.length; r < i; r++) e = o[r],
                                t = new n($(e), {
                                    staticMap: !0
                                }),
                                u.push(s($(e).find(".google-map-container"), t));
                                return u
                            },
                            $(".map-search").on("keypress",
                            function(e) {
                                if (e.keyCode === 13) return $(this).parent(".geo-map-action").find(".map-search-btn").click()
                            })
                        })
                    }.call(this),
                    function() {}.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r, i;
                            return n = function(e, t) {
                                var n;
                                return n = this.$(e),
                                t ? (n.slideDown(), n.find("input, select").attr("disabled", !1)) : (n.slideUp(), n.find("input, select").attr("disabled", !0))
                            },
                            t = function() {
                                function e(e) {
                                    this.attrs = e
                                }
                                return e.prototype.validate = function() {
                                    var e, t;
                                    t = GoldenData.parseDate(this.attrs.start_date),
                                    t && (t.setHours(this.attrs.start_hour), t.setMinutes(this.attrs.start_minute)),
                                    e = GoldenData.parseDate(this.attrs.end_date),
                                    e && (e.setHours(this.attrs.end_hour), e.setMinutes(this.attrs.end_minute));
                                    if (t && e && t > e) return this.errorMessage = "\u7ed3\u675f\u65f6\u95f4\u4e0d\u80fd\u65e9\u4e8e\u5f00\u59cb\u65f6\u95f4"
                                },
                                e.prototype.isValid = function() {
                                    return this.validate(),
                                    !this.errorMessage
                                },
                                e
                            } (),
                            e = Backbone.View.extend({
                                el: "#form_setting form",
                                events: {
                                    "change input:checkbox[data-role\x3dclose_rule]": "toggleCloseRuleConfig",
                                    "change .close-rules input:not(:checkbox), input:text, select": "validateCloseRule",
                                    "click input:radio[name\x3d'form_setting[entry_submit]']": "toggleSuccessConfig",
                                    "click input:radio[name\x3d'form_setting[entry_submit]'][value\x3d'redirect']": "showUpgradeModal",
                                    "change input:checkbox[name\x3d'form_setting[hide_login_and_signup]']": "onChangeLoginSignupConfig",
                                    "click input:radio[name\x3d'form_setting[result_authority]']": "toggleResultAuthorityConfig",
                                    "click input:radio[name\x3d'form_setting[result_search_authority]']": "toggleResultSearchAuthorityConfig",
                                    "change input:checkbox[name\x3d'form_setting[send_entry_data]']": "toggleEntryPostConfig",
                                    "change input:checkbox[name\x3d'form_setting[share_scope][]']": "toggleSharedFieldsStatus",
                                    "change #form_setting_entry_post_url": "validateEntryPostUrl",
                                    "click .add-time-period": "addTimePeriod",
                                    "click .del-time-period": "deleteTimePeriod"
                                },
                                initialize: function() {
                                    return this.errors = {},
                                    this.$("textarea[data-counter-rel], input[data-counter-rel]").charLimiter(),
                                    this._toggleHint(this.$('[name\x3d"form_setting[hide_login_and_signup]"]')),
                                    this.timePeriodsCount = this.$(".time-periods").data("initial-count")
                                },
                                _toggleConfig: function(e, t, n) {
                                    var r;
                                    r = e.parents("label").next(".config");
                                    if (e.is(":checked")) {
                                        r.slideDown();
                                        if (t) return t(r)
                                    } else {
                                        r.slideUp();
                                        if (n) return n(r)
                                    }
                                },
                                _updateSubmitBtn: function(e) {
                                    return $.isEmptyObject(this.errors) ? e.find("input:submit").attr("disabled", !1) : e.find("input:submit").attr("disabled", !0)
                                },
                                _closeRuleValidate: function(e, t, n) {
                                    n == null && (n = !0);
                                    switch (e) {
                                    case "ByTimeRangeCloseRule":
                                        return this._validateByTimeRangeCloseRule(t, n);
                                    case "ByEntriesCloseRule":
                                        return this._validateByEntriesCloseRule(t, n);
                                    case "DailyRepeatCloseRule":
                                        return this._validateDailyRepeatCloseRule(t, n)
                                    }
                                },
                                _validateByTimeRangeCloseRule: function(e, t) {
                                    var n, r, i, s, o;
                                    n = {},
                                    o = ["start_date", "start_hour", "start_minute", "end_date", "end_hour", "end_minute"];
                                    for (i = 0, s = o.length; i < s; i++) r = o[i],
                                    n[r] = this.$("[name\x3d'form_setting[close_rules][ByTimeRangeCloseRule][" + r + "]']").val();
                                    return this._validateOnTimePeriod(n, "ByTimeRangeCloseRule", e, t)
                                },
                                _validateDailyRepeatCloseRule: function(e, t) {
                                    var n, r, i, s, o, u;
                                    r = e.closest("li"),
                                    n = {
                                        start_date: "today",
                                        end_date: "today"
                                    },
                                    u = ["start_hour", "start_minute", "end_hour", "end_minute"];
                                    for (s = 0, o = u.length; s < o; s++) i = u[s],
                                    n[i] = r.find("[data-role\x3d" + i + "]").val();
                                    return this._validateOnTimePeriod(n, "DailyRepeatCloseRule", e, t)
                                },
                                _validateOnTimePeriod: function(e, n, r, i) {
                                    var s;
                                    return s = new t(e),
                                    s.isValid() ? delete this.errors[n] : (i && GoldenData.showInlineErrorIfHave(r, s.errorMessage), this.errors[n] = s.errorMessage)
                                },
                                _validateByEntriesCloseRule: function(e, t) {
                                    var n, r;
                                    return r = this.$("[name\x3d'form_setting[close_rules][ByEntriesCloseRule][limit]']").val(),
                                    r === "" || GoldenData.isNumber(r) ? delete this.errors.ByEntriesCloseRule: (n = "\u6570\u636e\u91cf\u5fc5\u987b\u4e3a\u6570\u5b57", t && GoldenData.showInlineErrorIfHave(e, n), this.errors.ByEntriesCloseRule = n)
                                },
                                _resetNumberFieldWhenInvalidOnHtml5: function(e) {
                                    if (e.val() === "") return e.val("")
                                },
                                _clearErrorMessage: function(e) {
                                    var t;
                                    return t = e.parents(".config"),
                                    t.find(".error").removeClass("error"),
                                    t.find(".error-message").remove()
                                },
                                _validateByEntryPostUrl: function(e) {
                                    var t;
                                    return this._clearErrorMessage(e),
                                    GoldenData.validateURL(e.val()) ? delete this.errors.EntryPostUrl: (t = "\u8bf7\u8f93\u5165\u5408\u6cd5\u7684URL\u5730\u5740", GoldenData.showInlineErrorIfHave(e, t, !0), this.errors.EntryPostUrl = t)
                                },
                                toggleCloseRuleConfig: function(e) {
                                    var t, n;
                                    return t = $(e.target),
                                    n = t.val(),
                                    this._toggleConfig(t,
                                    function(e) {
                                        return function() {
                                            return e._closeRuleValidate(n, t, !1)
                                        }
                                    } (this),
                                    function(e) {
                                        return function() {
                                            delete e.errors[n];
                                            if (n === "ByEntriesCloseRule") return e._resetNumberFieldWhenInvalidOnHtml5(e.$("[name\x3d'form_setting[close_rules][ByEntriesCloseRule][limit]']"))
                                        }
                                    } (this)),
                                    this._updateSubmitBtn(t.closest(".content-section"))
                                },
                                validateEntryPostUrl: function(e) {
                                    var t;
                                    return t = $(e.target),
                                    this._validateByEntryPostUrl(t),
                                    this._updateSubmitBtn(t.closest("form"))
                                },
                                validateCloseRule: function(e) {
                                    var t, n, r;
                                    return n = $(e.target),
                                    this._clearErrorMessage(n),
                                    t = n.parents(".config"),
                                    r = t.prev().find("input:checkbox").val(),
                                    this._closeRuleValidate(r, n),
                                    this._updateSubmitBtn(n.closest(".content-section"))
                                },
                                toggleSuccessConfig: function() {
                                    var e;
                                    e = this.$("input[name\x3d'form_setting[entry_submit]']:checked").val();
                                    if ($("#success_redirect_modal").length > 0 && e === "redirect") return;
                                    return this.$(".config[data-value]").hide(),
                                    this.$(".config[data-value\x3d'" + e + "']").show()
                                },
                                showUpgradeModal: function(e) {
                                    if ($("#success_redirect_modal").length > 0) return e.preventDefault(),
                                    e.stopPropagation(),
                                    $("#success_redirect_modal").modal("show")
                                },
                                _toggleHint: function(e) {
                                    return e.is(":checked") ? e.siblings(".hint").show() : e.siblings(".hint").hide()
                                },
                                onChangeLoginSignupConfig: function(e) {
                                    if (!$(e.target).parent().data("upgrade-modal")) return this._toggleHint($(e.target))
                                },
                                toggleResultAuthorityConfig: function(e) {
                                    var t, r;
                                    r = $(e.target),
                                    t = this.$(".share-fields input[value\x3dentries], .share-fields input[value\x3dreports]");
                                    switch (r.val()) {
                                    case "public":
                                        return n("#result_view_password", !1),
                                        $(".visible-share-public:visible").length === 0 && t.attr("checked", !0).trigger("change"),
                                        this.$(".visible-share-public").slideDown();
                                    case "protected":
                                        return n("#result_view_password", !0),
                                        $(".visible-share-public:visible").length === 0 && t.attr("checked", !0).trigger("change"),
                                        this.$(".visible-share-public").slideDown();
                                    default:
                                        return n("#result_view_password", !1),
                                        this.$(".visible-share-public").slideUp(),
                                        t.attr("checked", !1).trigger("change")
                                    }
                                },
                                toggleFieldList: function(e) {
                                    var t;
                                    return t = $(e.target),
                                    this._toggleConfig(t, null, null)
                                },
                                toggleResultSearchAuthorityConfig: function(e) {
                                    return n($(".visible-search-public"), $(e.target).val() === "public")
                                },
                                toggleSharedFieldsStatus: function(e) {
                                    var t, n;
                                    return t = $(e.target).val() === "entries" ? $("#share_entry_fields .checkbox") : $("#share_report_fields .checkbox"),
                                    n = $(e.target).attr("checked"),
                                    n ? t.removeClass("disabled") : t.addClass("disabled"),
                                    t.find("input").attr("disabled", !n)
                                },
                                toggleEntryPostConfig: function(e) {
                                    var t;
                                    return t = $(e.target),
                                    t.parent().data("upgrade-modal") || this._toggleConfig(t,
                                    function(e) {
                                        return function() {
                                            return e._validateByEntryPostUrl($("#form_setting_entry_post_url"))
                                        }
                                    } (this),
                                    function(e) {
                                        return function() {
                                            return delete e.errors.EntryPostUrl
                                        }
                                    } (this)),
                                    this._updateSubmitBtn(t.closest("form"))
                                },
                                addTimePeriod: function(e) {
                                    var t;
                                    return t = _.template($("#time_period_edit_template").html()),
                                    $(e.target).closest("li").after(t({
                                        index: this.timePeriodsCount
                                    })),
                                    this.timePeriodsCount += 1,
                                    this.$(".time-periods li .del-time-period.hide").removeClass("hide")
                                },
                                deleteTimePeriod: function(e) {
                                    e.stopPropagation(),
                                    $(e.target).closest("li").remove();
                                    if (this.$(".time-periods li").length === 1) return this.$(".time-periods li .del-time-period").addClass("hide")
                                }
                            }),
                            $(document).on("ajax:complete", "#form_setting form",
                            function(e, t, n) {
                                var r;
                                return r = $(this).find("[name\x3d'form_setting[target]']").val(),
                                $("#" + r).html(t.responseText),
                                n === "success" ? showFlashNotification("\u8bbe\u7f6e\u4fdd\u5b58\u6210\u529f") : showFlashNotification("\u8bbe\u7f6e\u4fdd\u5b58\u5931\u8d25", "error")
                            }),
                            $(document).on("ajax:complete", "#form_setting .form-status",
                            function(e, t) {
                                var n;
                                e.stopPropagation(),
                                $(this).html(t.responseText),
                                $("#form_setting .close-rules input:checked[data-role\x3dclose_rule]").attr("checked", !1).change(),
                                n = $(this).find(".form-status-notification").data("message");
                                if (n) return showFlashNotification(n.notice)
                            }),
                            $(document).on("ajax:complete", "#form_setting .payment-setting-action",
                            function(e, t, n) {
                                if (n === "success") return $("#tab_pay").html(t.responseText)
                            }),
                            $(document).on("ajax:complete", "#form_setting  .notification-rule-action",
                            function(e, t, n) {
                                if (n === "success") return $(this).closest(".notification-setting").find(".rules").html(t.responseText)
                            }),
                            $(document).on("ajax:complete", "#form_setting  .cancel-schedule",
                            function(e, t, n) {
                                if (n === "success") return $(this).closest(".notification-setting").find(".schedule-history").html(t.responseText)
                            }),
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                if ($("#form_setting").length > 0) return GoldenData.formSetting = new e
                            }),
                            $(document).on("click", ".copy-target:enabled",
                            function() {
                                return $(this).select()
                            }),
                            $(document).on("ready page:load ajax:complete",
                            function() {
                                var e, t, n, r, i;
                                r = $("a[data-role\x3dcopy]:visible:not(.disabled)"),
                                i = [];
                                for (t = 0, n = r.length; t < n; t++) e = r[t],
                                i.push(GoldenData.initializeZclip(e));
                                return i
                            }),
                            $(document).on("shown", "#form_publish a[href\x3d'#tab_embedded'], #form_publish a[href\x3d'#tab_weixin'], #form_setting a[href\x3d'#tab_results']",
                            function() {
                                var e, t, n, r, i;
                                r = $("a[data-role\x3dcopy]:visible:not(.disabled)"),
                                i = [];
                                for (t = 0, n = r.length; t < n; t++) e = r[t],
                                i.push(GoldenData.initializeZclip(e));
                                return i
                            }),
                            $(document).on("click", "a[data-role\x3dcopy], .zclip",
                            function() {
                                if (!ZeroClipboard.clients[1].movie) return showFlashNotification("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u76f4\u63a5\u590d\u5236\uff0c\u8bf7\u624b\u52a8\u590d\u5236\uff01", "error")
                            }),
                            $(document).on("change", "input[name\x3d'form_setting[submission_authority]']",
                            function() {
                                var e;
                                e = $("input[name\x3d'form_setting[submission_authority]']:checked").val();
                                switch (e) {
                                case "public":
                                    n("#submission_password", !1),
                                    n("#sub_authority_of_public", !0),
                                    $(".form-submission .enabled-on-public").show();
                                    if ($("input[name\x3d'form_setting[sub_submission_authority]']:checked").length === 0) return $("#form_setting_sub_submission_authority_public").attr("checked", !0);
                                    break;
                                case "protected":
                                    return n("#submission_password", !0),
                                    n("#sub_authority_of_public", !1),
                                    $(".form-submission .enabled-on-public").show();
                                default:
                                    return n("#submission_password", !1),
                                    n("#sub_authority_of_public", !1),
                                    $(".form-submission .enabled-on-public").hide()
                                }
                            }),
                            $(document).on("keyup", ".extended-attribute",
                            function() {
                                var e, t;
                                return t = $(this).val(),
                                t = t.replace(/\s+/g, ""),
                                t ? e = $(".extended_url").val().replace("attribute_placeholder", encodeURIComponent(t)) : e = $("#published_form_link_2").val(),
                                $("#published_form_extended_link").val(e),
                                $(".open-extended-url").attr("href", e)
                            }),
                            r = function(e) {
                                var t, n, r, i, s, o, u;
                                r = $(e.closest(".condition-setting").find(".condition-value")),
                                r.hide(),
                                n = $(e.find("option:selected")).data("choices");
                                if ((n != null ? n.length: void 0) > 0) {
                                    i = e.closest(".condition-setting").find(".select-input"),
                                    i.html("");
                                    for (o = 0, u = n.length; o < u; o++) t = n[o],
                                    s = t === r.val() ? "selected": "",
                                    i.append("\x3coption value\x3d'" + t + "' " + s + "\x3e" + t + "\x3c/option\x3e");
                                    return i.show()
                                }
                                return e.closest(".condition-setting").find(".text-input").show()
                            },
                            $(document).on("change", ".advanced-notification-modal select[name\x3d'advanced_notifications_rule[is_all]']",
                            function() {
                                n(".condition-setting", $(this).val() === "false");
                                if ($(this).val() === "false") return r($(".advanced-notification-modal select[name\x3d'advanced_notifications_rule[condition_key]']"))
                            }),
                            $(document).on("change", "select[name\x3d'advanced_notifications_rule[is_scheduled]']",
                            function() {
                                var e;
                                n(".scheduled-selector", $(this).val() === "true"),
                                e = $(this).parents(".modal.dialog").find(".modal-footer .submit");
                                if ($(this).val() !== "true") return $(".scheduled-feature").hide(),
                                e.removeClass("disabled");
                                $(".scheduled-feature").show();
                                if ($(this).data("need-upgrade")) return e.addClass("disabled")
                            }),
                            $(document).on("change", "select[name\x3d'advanced_notifications_rule[schedule_rule][date_offset_action]']",
                            function() {
                                return $(this).val() !== "that_day" ? $(".scheduled-offset").show() : $(".scheduled-offset").hide()
                            }),
                            $(document).on("change", ".advanced-notification-modal select[name\x3d'advanced_notifications_rule[is_specified_recipient]']",
                            function() {
                                switch ($(this).val()) {
                                case "true":
                                    return n(".recipient_input", !0),
                                    n(".recipient_api_code_input", !1);
                                case "false":
                                    return n(".recipient_api_code_input", !0),
                                    n(".recipient_input", !1)
                                }
                            }),
                            $(document).on("change", ".advanced-notification-modal select[name\x3d'advanced_notifications_rule[condition_key]']",
                            function() {
                                return r($(this))
                            }),
                            $(".advanced-notification-modal").on("shown.bs.modal",
                            function() {
                                return setTimeout(function() {
                                    return $("textarea[name\x3d'advanced_notifications_rule[content]']").placeholder()
                                },
                                10)
                            }),
                            $(".advanced-notification-modal .modal-body form").livequery(function() {
                                return r($(this).find("select[name\x3d'advanced_notifications_rule[condition_key]']"))
                            }),
                            $(".field-placeholder").livequery(function() {
                                return $("textarea.message").autosize(),
                                $(".field-placeholder").clickover({
                                    animation: !1,
                                    tip_id: function() {
                                        return "content_setting"
                                    },
                                    content: function() {
                                        return $(".all-fields").html()
                                    }
                                }).on("shown",
                                function(e) {
                                    return e.stopPropagation()
                                }).on("hidden",
                                function(e) {
                                    return e.stopPropagation()
                                })
                            }),
                            $(document).on("click", ".content .field-placeholder-selector li",
                            function() {
                                var e;
                                return e = $(this).closest(".content").find("textarea.message"),
                                e.val() === "" ? e.val($(this).text()).click() : e.insertAtCursor($(this).text()).click()
                            }),
                            i = function() {
                                var e, t, n;
                                return t = {},
                                $("#payment_redirect_exception_rules [data-role\x3dcascade]").each(function() {
                                    var e, n;
                                    n = $(this).find("[data-role\x3dlevel_1]").val(),
                                    e = $(this).find("[data-role\x3dlevel_2]").val();
                                    if (e) return t["" + n + ":" + e] = e
                                }),
                                n = $("#payment_redirect_exception_rules").next(".summary"),
                                e = _.values(t),
                                e.length > 0 ? (n.show(), n.find(".content").text(e.join("\u3001")), n.find(".count").text(e.length)) : n.hide()
                            },
                            $(document).on("change", "#payment_redirect_exception_rules select[data-role\x3dlevel_1]",
                            function() {
                                return $(this).closest("li").find("select[data-role\x3dlevel_2]").trigger("change")
                            }),
                            $(document).on("change", "#payment_redirect_exception_rules select[data-role\x3dlevel_2]", i),
                            $(document).on("click", "#payment_redirect_exception_rules .add-new",
                            function() {
                                var e, t, n;
                                return n = _.template($("#payment_redirect_exception_rule_template").html()),
                                e = $("#payment_redirect_exception_rules").data("number"),
                                t = $(n({
                                    index: e
                                })),
                                $(this).closest("li").before(t),
                                GoldenData.initCascadeSelector(t),
                                $("#payment_redirect_exception_rules").data("number", e + 1)
                            }),
                            $(document).on("click", "#payment_redirect_exception_rules .delete",
                            function() {
                                return $(this).closest("li").remove(),
                                i()
                            }),
                            $(document).on("click", ".payment-setting-action.edit",
                            function() {
                                return $(".payment-edit-container").slideDown(function() {
                                    return $(this).find("input, select").removeAttr("disabled")
                                })
                            }),
                            $(document).on("change", "input:checkbox[name\x3d'form_setting[success_redirect_fields][]']",
                            function() {
                                if ($(this).is(":checked") && $(this).closest(".fields-list").find("input:checked").length > 3) return $(this).attr("checked", !1),
                                $("#success_redirect_fields_too_many_modal").modal("show")
                            }),
                            $(document).on("page:load ready",
                            function() {
                                return $("#weixin_collect_way .weixin-preview").tooltip({
                                    html: !0,
                                    animation: !1,
                                    placement: "top",
                                    title: function() {
                                        var e;
                                        return e = $(this).data("image-path"),
                                        $("\x3cimg src\x3d'" + e + "'\x3e")
                                    }
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n;
                            return $(document).on("ready page:load",
                            function() {
                                return GoldenData.resetButtonPosition("#form_preview .buttons, #theme_preview .buttons, #rules_preview .buttons")
                            }),
                            $(window).on("scroll resize",
                            function() {
                                return GoldenData.resetButtonPosition("#form_preview .buttons, #theme_preview .buttons, #rules_preview .buttons")
                            }),
                            window.renderForm = function(e, t) {
                                var n, r;
                                return GoldenData.form = new GoldenData.Form(e, {
                                    urlRoot: t
                                }),
                                $("#form_header .legend").click(),
                                $(document).on("click",
                                function() {
                                    return $("#add_field.add-field .available-fields").hide(),
                                    $("#add_field.add-field .toggle").show(),
                                    $(".texthtml_first .add-field .available-fields").hide(),
                                    $(".texthtml_first .add-field .toggle").show()
                                }),
                                $(document).on("click", "#add_field.add-field .toggle",
                                function(e) {
                                    return $("#add_field.add-field .toggle").hide(),
                                    $("#add_field.add-field .available-fields").show(),
                                    e.stopPropagation()
                                }),
                                $(document).on("click", ".texthtml_first .add-field .toggle",
                                function(e) {
                                    var $p = $(e.target).parents(".add-field");
                                    return $p.find(".toggle").hide(),
                                    $p.find(".available-fields").show(),
                                    e.stopPropagation()
                                }),
                                n = function(e) {
                                    return !! $(e.target).not(".popover.gdguide") && !$(e.target).parents().hasClass("gdguide-tooltip")
                                },
                                r = function(e) {
                                    return $(e.target).parents(".tooltip").size() === 0
                                },
                                $("#form_design #add_field .new-field").click(function(e) {
                                    var t;
                                    if (n(e) && r(e)) return t = $(this).data("upgrade-modal"),
                                    t ? $("#" + t).modal("show") : GoldenData.form.add({
                                        _type: $(this).data("field-type")
                                    })
                                }),
                                $("#save_form").click(function() {
                                    if (!$(this).hasClass("disabled")) return GoldenData.form.saveAll()
                                }),
                                $(document).on("click", "#fields_editing .accordion-group .accordion-toggle",
                                function(e) {
                                    e.preventDefault();
                                    if (!$(this).parents(".accordion-heading").is(".active")) return GoldenData.accordionOpen($(this).attr("href"))
                                }),
                                $(document).on("click", ".dropdown-menu [data-field-type]",
                                function() {
                                    return GoldenData.fieldEditView.model.updateType($(this).data("field-type"), $(this).data("minimum-grids"))
                                })
                            },
                            $(document).on("ajax:complete", "#add_form_manager_form",
                            function(e, t, n) {
                                if (n === "success") return $("#form_managers").html(t.responseText)
                            }),
                            $(document).on("click", ".archived_content  tbody  tr",
                            function(e) {
                                if (!$(e.target).is("a")) return Turbolinks.visit($(this).data("url"))
                            }),
                            $(document).on("click", ".reports_page .expand-filter",
                            function() {
                                var e;
                                return e = $(".reports_page .filter-content .expandable"),
                                $(this).find("i").toggle(),
                                e.hasClass("hide") ? e.slideDown().removeClass("hide") : e.slideUp().addClass("hide")
                            }),
                            $(document).on("click", ".reports_page .filter-content .field-choices a",
                            function() {
                                return $(".reports_page .loading").removeClass("hide"),
                                $(".reports_page .main_content").append('\x3cdiv class\x3d"cover"\x3e\x3c/div\x3e')
                            }),
                            n = function(e) {
                                var t;
                                return t = "\x3cdiv class\x3d\"each-choice selected-choice\"\x3e\n  \x3cspan class\x3d'choice-label'\x3e" + e.parents("li").find(".field-label span:first").text() + "\x3c/span\x3e\n  \x3cspan\x3e:\x26nbsp;\x3c/span\x3e\n  \x3cspan class\x3d'choice-value'\x3e" + e.find(".choice-value").text() + "\x3c/span\x3e\n  \x3ca class\x3d'clear-filter' href\x3d'" + e.data("clear-url") + "'\x3eX\x3c/a\x3e\n\x3c/div\x3e",
                                $(".selected-filter .field-choices").html(t)
                            },
                            $(document).on("ajax:send", ".reports_page .filter-content .expandable",
                            function(e) {
                                var t;
                                return t = $(e.target).parents(".each-choice"),
                                $(".field-choices .selected").removeClass("selected"),
                                t.find("a").addClass("selected"),
                                n(t),
                                $(".selected-filter .field-label").removeClass("hide"),
                                $(".selected-filter .no-criteria-hint").addClass("hide")
                            }),
                            $(document).on("ajax:complete", ".reports_page .filter-content",
                            function(e, t, n) {
                                return $(".reports_page .main_content").html(t.responseText),
                                $(".reports_page .loading").addClass("hide")
                            }),
                            $(document).on("click", ".save-before-visit",
                            function(e) {
                                return e.preventDefault(),
                                GoldenData.form.saveAll(!1),
                                Turbolinks.visit($(this).attr("href"))
                            }),
                            t = function(e) {
                                return $(".form-overview").append('\x3cdiv class\x3d"cover"\x3e\x3c/div\x3e'),
                                $(".loading[data-target\x3d" + e + "]").show()
                            },
                            $(document).on("click", "#clone",
                            function() {
                                var e;
                                return e = $(this).attr("id"),
                                t(e)
                            }),
                            $(document).on("click", "#image_upload_label",
                            function(e) {
                                if ($.browser.mozilla) return $("#image_upload:not(:disabled)").click()
                            }),
                            $(document).on("click", ".validations label.checkbox input[type!\x3dcheckbox]",
                            function(e) {
                                return e.preventDefault(),
                                $(this).parent().find(":checkbox").attr("checked", !0).change()
                            }),
                            $(document).on("click", ".archived_content .unarchive-action",
                            function() {
                                return $.cookie("active_archived_tab_id", $(".tab-content .tab-pane.active").attr("id"))
                            }),
                            $(document).on("click", ".today-number a",
                            function() {
                                return $.cookie("entries_of_today", !0, {
                                    path: $(this).attr("href")
                                })
                            }),
                            $(document).on("change keyup", ".modal.input-confirm .confirm-input",
                            function() {
                                return $(this).closest(".modal").find(".btn.confirm").attr("disabled", $.trim($(this).val()) !== $(this).data("confirm-content").toString())
                            }),
                            $(document).on("click", ".modal.input-confirm .submit.confirm:enabled",
                            function() {
                                if ($(this).data("url")) return $.ajax({
                                    url: $(this).data("url"),
                                    type: $(this).data("type"),
                                    beforeSend: function(e) {
                                        return function(n) {
                                            return $(e).closest(".modal").modal("hide"),
                                            t($(e).data("target"))
                                        }
                                    } (this),
                                    complete: function(e) {
                                        return function(t, n) {
                                            return Turbolinks.visit($(e).data("redirect-url"))
                                        }
                                    } (this)
                                })
                            }),
                            e = function() {
                                return $("#change_prefer_report").clickover({
                                    animation: !1,
                                    html: !0,
                                    tip_id: "report_field_clickover",
                                    content: function() {
                                        return $("#change_prefer_report + .report-fields").html()
                                    }
                                })
                            },
                            $(document).on("page:load ready", e),
                            $(document).on("ajax:send", "#report_field_clickover",
                            function() {
                                return $(".form-overview .report-summary .main-content").html("\x3ch3\x3e\u62a5\u8868\u52a0\u8f7d\u4e2d...\x3c/h3\x3e\x3cdiv id\x3d'reports_container'\x3e\x3cdiv class\x3d'empty-message'\x3e\x3c/div\x3e\x3c/div\x3e"),
                                $("#report_field_clickover").hide()
                            }),
                            $(document).on("ajax:complete", "#report_field_clickover",
                            function(t, n) {
                                return $(".form-overview .report-summary").html(n.responseText),
                                e(),
                                setTimeout(GoldenData.showReport, 10)
                            }),
                            $(document).on("change", "#expand_entries_modal select[name\x3dentries_count]",
                            function() {
                                var e, t;
                                return e = $(this).closest("form"),
                                t = $(this).val() / 1E4 * $(this).data("price"),
                                e.find(".actual_price").val(t).text("" + t + " \u5143"),
                                e.find(".total-count").text("" + (parseInt($(this).val()) + e.data("current-limit")) + " \u6761"),
                                GoldenData.updatePaymentSubmitInfo(e)
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return $(document).on("click", ".guide-form a.gdguide-btn",
                            function() {
                                return GoldenData.gdguideWrapper.resetCookie()
                            }),
                            $(document).on("click", ".gdoverlay, #entries_nav.gdguide, .gdguide-tooltip",
                            function() {
                                return ! 1
                            }),
                            e = function() {
                                function e(e, t, n, r) {
                                    var i;
                                    this.currentElement = e,
                                    this.nextElement = t,
                                    this.targetClickElememt = n,
                                    this.options = r,
                                    this.options = $.extend({
                                        delayTime: 0,
                                        highlightElement: this.currentElement
                                    },
                                    this.options),
                                    this.targetClickElememt && (i = this.targetClickElememt.match(/guide_done$/) ? this.targetClickElememt: "" + this.targetClickElememt + ".guide-ready", $(document).on("click", i,
                                    function(t) {
                                        return function() {
                                            t.options.resetCookie && GoldenData.gdguideWrapper.resetCookie(),
                                            $(e).popover("destroy");
                                            if (t.nextElement) return GoldenData.gdguideWrapper.findGuideByCurrentElment(t.nextElement).show(),
                                            delay(t.options.delayTime,
                                            function() {
                                                return $("html, body").animate({
                                                    scrollTop: $(t.nextElement).offset().top - 100
                                                },
                                                500),
                                                $(t.targetClickElememt).removeClass("guide-ready")
                                            });
                                            $(".gdoverlay").remove(),
                                            $(".gdguide").removeClass("gdguide");
                                            if (t.options.targetClickCallback) return t.options.targetClickCallback()
                                        }
                                    } (this)))
                                }
                                return e.prototype.show = function() {
                                    var e;
                                    $(".gdoverlay").remove(),
                                    $("body").find(".gdoverlay").length === 0 && $(this.currentElement).after("\x3cdiv class\x3d'gdoverlay'\x3e"),
                                    $(".gdguide").removeClass("gdguide"),
                                    $(this.options.highlightElement).addClass("gdguide"),
                                    this.options.beforeCallback && this.options.beforeCallback(),
                                    e = $(this.currentElement).data("placement") != null ? $(this.currentElement).data("placement") : "top",
                                    $(this.currentElement).popover({
                                        trigger: "manual",
                                        animation: !1,
                                        html: !0,
                                        placement: e,
                                        container: this.currentElement,
                                        content: $("" + this.currentElement + "_gdguide").html()
                                    }),
                                    $(this.currentElement).popover("show"),
                                    $(this.targetClickElememt).focus(),
                                    $("" + this.currentElement + " .popover").addClass("gdguide-tooltip");
                                    if (this.options.afterCallback) return this.options.afterCallback()
                                },
                                e
                            } (),
                            GoldenData.GdguideWrapper = function() {
                                function e(e) {
                                    this.guides = e
                                }
                                return e.prototype.init = function() {
                                    return $.removeCookie("gdguide", {
                                        path: "/"
                                    }),
                                    this
                                },
                                e.prototype.resetCookie = function() {
                                    return $.cookie("gdguide", !0, {
                                        path: "/"
                                    })
                                },
                                e.prototype.start = function() {
                                    return this.guides[0].show(),
                                    _.each(this.guides,
                                    function(e) {
                                        return $(e.targetClickElememt).addClass("guide-ready")
                                    })
                                },
                                e.prototype.findGuideByCurrentElment = function(e) {
                                    return _.find(this.guides,
                                    function(t) {
                                        return t.currentElement === e
                                    })
                                },
                                e
                            } (),
                            GoldenData.gdguideWrapper = new GoldenData.GdguideWrapper([new e("#form_header", "#add_field_toggle", "#form_header_gdguide_done"), new e("#add_field_toggle", "#add_text_field", "#add_field_toggle"), new e("#add_text_field", "#edit_text_title", "#add_text_field", {
                                delayTime: 500
                            }), new e("#edit_text_title", "#form_edit_button_container", "#edit_text_title_gdguide_done"), new e("#form_edit_button_container", "#publish_nav", "#save_form", {
                                resetCookie: !0,
                                beforeCallback: function() {
                                    return $("#form_edit_button_container.gdguide #preview_form").addClass("disabled"),
                                    $("#form_edit_button_container.gdguide #preview_form").unbind("click")
                                }
                            }), new e("#publish_nav", null, "#publish_nav"), new e("#entries_nav", "#template_center", "#entries_nav_gdguide_done", {
                                highlightElement: "#form_publish,.subnav a",
                                afterCallback: function() {
                                    return $(".subnav a.gdguide").addClass("disabled")
                                }
                            }), new e("#template_center", null, "#template_center")])
                        })
                    }.call(this),
                    function() {
                        var e = function(e, t) {
                            return function() {
                                return e.apply(t, arguments)
                            }
                        };
                        window.GoldenData || (window.GoldenData = {}),
                        $(function() {
                            var t;
                            return t = function() {
                                function t(t) {
                                    this.$container = t,
                                    this.selectMarker = e(this.selectMarker, this),
                                    this.initialExistedPositions = e(this.initialExistedPositions, this),
                                    this.initialGoogleMap = e(this.initialGoogleMap, this),
                                    this.initialMap = e(this.initialMap, this),
                                    this.mobile = $("body").hasClass("mobile"),
                                    this.initialMap()
                                }
                                return t.prototype.initialMap = function() {
                                    return this.initialGoogleMap()
                                },
                                t.prototype.initialGoogleMap = function() {
                                    var e;
                                    return this.geoMapDom = this.$container.find(".google-map-container")[0],
                                    this.coordsList = $(this.geoMapDom).data("coordinates"),
                                    this.coordsList.length === 0 ? $(this.geoMapDom).closest(".geo-map-container").html("\x3cdiv class\x3d'no-geo-data'\x3e" + l("%no_geo_data") + "\x3c/div\x3e") : (this.fieldApiCode = $(this.geoMapDom).data("api-code"), this.urlPrefix = $(this.geoMapDom).data("url-prefix"), e = {
                                        zoom: 4,
                                        mapTypeId: google.maps.MapTypeId.ROADMAP,
                                        streetViewControl: !1,
                                        zoomControlOptions: {
                                            position: google.maps.ControlPosition.LEFT_TOP
                                        }
                                    },
                                    this.googleMap = new google.maps.Map(this.geoMapDom, e), this.initialExistedPositions())
                                },
                                t.prototype.initialExistedPositions = function() {
                                    var e;
                                    return this.defaultIcon = new google.maps.MarkerImage("/assets/map_marker_default.png", null, null, null, new google.maps.Size(22, 22)),
                                    this.selectedIcon = new google.maps.MarkerImage("/assets/map_marker_selected.png", null, null, null, new google.maps.Size(22, 22)),
                                    e = new google.maps.LatLngBounds,
                                    _.each(this.coordsList,
                                    function(t) {
                                        return function(n, r) {
                                            var i, s, o, u;
                                            i = n.latitude,
                                            s = n.longitude,
                                            u = new google.maps.LatLng(parseFloat(i), parseFloat(s)),
                                            o = new google.maps.Marker({
                                                position: u,
                                                map: t.googleMap,
                                                animation: google.maps.Animation.Drop,
                                                title: n.address,
                                                icon: t.defaultIcon
                                            }),
                                            e.extend(u);
                                            if (t.fieldApiCode != null && t.urlPrefix != null) {
                                                google.maps.event.addListener(o, "click",
                                                function() {
                                                    return t.selectMarker(o, n.entry_id)
                                                });
                                                if (r === 0) return t.selectMarker(o, n.entry_id)
                                            }
                                        }
                                    } (this)),
                                    this.googleMap.fitBounds(e)
                                },
                                t.prototype.selectMarker = function(e, t) {
                                    var n; ! this.selectedMarker || this.selectedMarker.setIcon(this.defaultIcon),
                                    e.setIcon(this.selectedIcon),
                                    e.setZIndex(google.maps.Marker.MAX_ZINDEX + 1),
                                    this.selectedMarker && this.selectedMarker.setZIndex(google.maps.Marker.MAX_ZINDEX),
                                    this.selectedMarker = e,
                                    this.$container.find(".selected-geo-address").text(this.selectedMarker.getTitle());
                                    if (!this.mobile) return n = "" + this.urlPrefix + "/" + t + "/entry_for_geo_report",
                                    $.get(n, {
                                        id: t,
                                        field_api_code: this.fieldApiCode
                                    },
                                    function(e) {
                                        return function(t) {
                                            return e.$container.find(".geo-entry-container").html(t),
                                            e.$container.find(".selected-geo-entry").scrollTop(0)
                                        }
                                    } (this))
                                },
                                t
                            } (),
                            GoldenData.initGeoReportView = function() {
                                var e, n;
                                return e = function() {
                                    var e, n, r, i, s;
                                    i = $(".geo-reports .geo-map-container"),
                                    s = [];
                                    for (n = 0, r = i.length; n < r; n++) e = i[n],
                                    s.push(new t($(e)));
                                    return s
                                },
                                n = $(".results_content .title .results_nav"),
                                $("body").hasClass("mobile") && (n = $('.mobile [data-role\x3d"navbar"] .results_nav')),
                                n.length > 0 && !n.hasClass("active") ? n.find("a").click(function() {
                                    return setTimeout(e, 10)
                                }) : e()
                            }
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r, i, s, o, u, a, f;
                            return f = function(e) {
                                return $.trim(e.get("label")) === ""
                            },
                            n = Backbone.Model.extend({
                                defaults: {
                                    label: ""
                                },
                                key: function() {
                                    var e;
                                    return (e = this.get("value")) != null ? e: this.get("label")
                                },
                                matchedByKey: function(e) {
                                    return this.key() === e
                                }
                            }),
                            r = Backbone.Collection.extend({
                                model: n,
                                valid: function() {
                                    return this.reject(f)
                                }
                            }),
                            i = Backbone.View.extend({
                                tagName: "li",
                                events: {
                                    change: "update",
                                    "click .del-option": "removeOption",
                                    "click .add-option": "addOption"
                                },
                                render: function() {
                                    var e;
                                    return e = _.template($("#goods_dimension_option_template").html()),
                                    this.$el.html(e(this.model.toJSON())),
                                    this
                                },
                                update: function(e) {
                                    return this.model.set({
                                        label: $(e.target).val()
                                    })
                                },
                                removeOption: function(e) {
                                    return this.model.list.remove(this.model),
                                    this.model.list.length === 1 && this.$el.siblings().find(".del-option").hide(),
                                    this.remove(),
                                    e.preventDefault()
                                },
                                addOption: function() {
                                    var e, t;
                                    return this.$(".del-option:hidden").show(),
                                    e = this.model.list.indexOf(this.model),
                                    t = new n,
                                    this.model.list.add(t, {
                                        at: e + 1
                                    }),
                                    this.$el.after((new i({
                                        model: t
                                    })).render().$el)
                                }
                            }),
                            e = Backbone.Model.extend({
                                defaults: {
                                    label: ""
                                },
                                initialize: function() {
                                    var e;
                                    this.dimensionOptions = new r,
                                    this.dimensionOptions.on("add",
                                    function(e) {
                                        return function(t, n) {
                                            return t.list = n,
                                            t.on("change",
                                            function() {
                                                return e.trigger("change")
                                            })
                                        }
                                    } (this)),
                                    this.dimensionOptions.on("remove",
                                    function(e) {
                                        return function() {
                                            return e.trigger("change")
                                        }
                                    } (this)),
                                    _.each(this.get("options"),
                                    function(e) {
                                        return function(t) {
                                            return e.dimensionOptions.add(t)
                                        }
                                    } (this)),
                                    e = [];
                                    while (this.dimensionOptions.length < 3) e.push(this.dimensionOptions.add({}));
                                    return e
                                },
                                isEmpty: function() {
                                    return f(this) || this.dimensionOptions.all(f)
                                },
                                key: function() {
                                    var e;
                                    return (e = this.get("api_code")) != null ? e: this.get("label")
                                },
                                matchedByKey: function(e) {
                                    return this.key() === e
                                },
                                toJSON: function() {
                                    var e;
                                    return e = _.clone(this.attributes),
                                    e.options = _.map(this.dimensionOptions.valid(),
                                    function(e) {
                                        return e.toJSON()
                                    }),
                                    e
                                }
                            }),
                            t = Backbone.Collection.extend({
                                model: e,
                                valid: function() {
                                    return this.reject(function(e) {
                                        return e.isEmpty()
                                    })
                                }
                            }),
                            s = Backbone.View.extend({
                                events: {
                                    "change .dimension-label": "update"
                                },
                                render: function(e) {
                                    var t;
                                    return this.setElement($("#goods_dimensions_modal .goods-dimensions .goods-dimension:nth-child(" + (e + 1) + ")")),
                                    this.$(".dimension-label").val(this.model.get("label")),
                                    t = this.$("ul"),
                                    this.model.dimensionOptions.each(function(e) {
                                        return t.append((new i({
                                            model: e
                                        })).render().$el)
                                    }),
                                    this
                                },
                                update: function(e) {
                                    return this.model.set({
                                        label: $(e.target).val()
                                    })
                                }
                            }),
                            o = Backbone.Model.extend({
                                defaults: {
                                    price: 0,
                                    inventory: null,
                                    specification: {}
                                },
                                validate: function(e, t) {
                                    if (t.on === "price" && !GoldenData.isNumber(e.price)) return "\u4ef7\u683c\u5fc5\u987b\u4e3a\u975e\u7a7a\u6570\u5b57";
                                    if (t.on === "inventory" && $.trim(e.inventory) !== "") if (!GoldenData.isNumber(e.inventory) || parseInt(e.inventory) < 0) return "\u5e93\u5b58\u5fc5\u987b\u4e3a\u975e\u8d1f\u6570\u5b57\u6216\u4e3a\u7a7a"
                                },
                                isMatched: function(e) {
                                    var t, n;
                                    return _.isEmpty(e) ? !0 : (n = _.keys(this.get("specification")), t = _.keys(e), t.length > n.length ? _.isEqual(this.get("specification"), _.pick(e, n)) : t.length === n.length ? e[n[0]] === this.get("specification")[n[0]] : _.isEqual(e, _.pick(this.get("specification"), t)))
                                }
                            }),
                            u = Backbone.Collection.extend({
                                model: o,
                                initialize: function() {
                                    return GoldenData.dimensions.each(function(e) {
                                        return function(t) {
                                            return e.listenTo(t, "change", e._updateModels)
                                        }
                                    } (this))
                                },
                                _matchedSKU: function(e) {
                                    var t;
                                    return t = this.find(function(t) {
                                        return t.isMatched(e)
                                    }),
                                    t != null ? t: this.first()
                                },
                                _buildSKUsWithoutDimension: function() {
                                    return this._newSKUattrs({})
                                },
                                _buildSKUsWith1Dimension: function(e) {
                                    var t, n, r, i, s, o, u;
                                    t = e.key(),
                                    r = [],
                                    u = e.dimensionOptions.valid();
                                    for (s = 0, o = u.length; s < o; s++) n = u[s],
                                    i = {},
                                    i[t] = n.key(),
                                    r.push(this._newSKUattrs(i));
                                    return r
                                },
                                _buildSKUsWith2Dimensions: function(e, t) {
                                    var n, r, i, s, o, u, a, f, l, c, h, p;
                                    n = e.key(),
                                    i = t.key(),
                                    o = [],
                                    h = e.dimensionOptions.valid();
                                    for (a = 0, l = h.length; a < l; a++) {
                                        r = h[a],
                                        p = t.dimensionOptions.valid();
                                        for (f = 0, c = p.length; f < c; f++) s = p[f],
                                        u = {},
                                        u[n] = r.key(),
                                        u[i] = s.key(),
                                        o.push(this._newSKUattrs(u))
                                    }
                                    return o
                                },
                                _newSKUattrs: function(e) {
                                    var t, n;
                                    return n = this._matchedSKU(e),
                                    t = n.pick("price", "inventory"),
                                    t.specification = e,
                                    t
                                },
                                _updateModels: function() {
                                    var e, t;
                                    return e = GoldenData.dimensions.valid(),
                                    t = function() {
                                        switch (e.length) {
                                        case 0:
                                            return this._buildSKUsWithoutDimension();
                                        case 1:
                                            return this._buildSKUsWith1Dimension(e[0]);
                                        case 2:
                                            return this._buildSKUsWith2Dimensions(e[0], e[1]);
                                        default:
                                            return this.models.map(function(e) {
                                                return e.clone()
                                            })
                                        }
                                    }.call(this),
                                    this.reset(t)
                                }
                            }),
                            a = Backbone.View.extend({
                                tagName: "tr",
                                events: {
                                    change: "update"
                                },
                                initialize: function() {
                                    return this.model.view = this
                                },
                                render: function() {
                                    var e, t, n, r, i, s;
                                    this.$el.empty(),
                                    i = this.model.get("specification");
                                    for (e in i) r = i[e],
                                    t = GoldenData.dimensions.find(function(t) {
                                        return t.matchedByKey(e)
                                    }),
                                    n = t.dimensionOptions.find(function(e) {
                                        return e.matchedByKey(r)
                                    }),
                                    this.$el.append("\x3ctd data-dim-key\x3d'" + e + "' data-option-key\x3d'" + r + "'\x3e" + n.get("label") + "\x3c/td\x3e");
                                    return this.$el.append("\x3ctd\x3e\x3cinput type\x3d'text' class\x3d'input-medium' name\x3d'price' value\x3d'" + this.model.get("price") + "'\x3e\x3c/td\x3e"),
                                    this.$el.append("\x3ctd\x3e\x3cinput type\x3d'text' class\x3d'input-medium' name\x3d'inventory' value\x3d'" + ((s = this.model.get("inventory")) != null ? s: "") + "'\x3e\x3c/td\x3e"),
                                    this
                                },
                                update: function(e) {
                                    var t, n;
                                    n = $(e.target),
                                    n.removeClass("error"),
                                    n.nextAll(".error-message").remove(),
                                    t = {},
                                    t[n.attr("name")] = n.val(),
                                    this.model.set(t, {
                                        validate: !0,
                                        on: n.attr("name")
                                    });
                                    if (this.model.validationError) return GoldenData.showInlineErrorIfHave(n, this.model.validationError),
                                    $("#goods_dimensions_modal .btn-primary").addClass("disabled");
                                    if ($("#goods_dimensions_modal .skus input.error").length === 0) return $("#goods_dimensions_modal .btn-primary").removeClass("disabled")
                                }
                            }),
                            GoldenData.GoodsDimensionsContainerView = Backbone.View.extend({
                                el: "#goods_dimensions_modal .goods-dimensions",
                                initialize: function() {
                                    return this.dimensions = new t(this.model.get("dimensions")),
                                    GoldenData.dimensions = this.dimensions
                                },
                                validDimensionArray: function() {
                                    return this.dimensions.valid()
                                },
                                validDimensions: function() {
                                    return new t(this.validDimensionArray())
                                },
                                render: function() {
                                    this.$("ul").empty(),
                                    this.$(".dimension-label").val("");
                                    while (this.dimensions.length < 2) this.dimensions.add(new e);
                                    return this.dimensions.each(function(e, t) {
                                        return (new s({
                                            model: e
                                        })).render(t)
                                    }),
                                    this
                                }
                            }),
                            GoldenData.SKUsContainerView = Backbone.View.extend({
                                el: "#goods_dimensions_modal .skus table",
                                initialize: function() {
                                    return this.skus = new u(this.model.get("skus")),
                                    this.skus.isEmpty() && this.skus.add(this.model.pick("price", "inventory")),
                                    this.listenTo(this.skus, "reset", this.render)
                                },
                                _mergeCells: function() {
                                    var e, t, n, r, i, s;
                                    t = _.groupBy(this.$("tr td:first-child"),
                                    function(e) {
                                        return $(e).data("option-key")
                                    }),
                                    n = 1,
                                    s = [];
                                    for (r in t) i = t[r],
                                    n % 2 === 0 && $(i).parent("tr").addClass("even"),
                                    e = $(i[0]),
                                    e.attr("rowspan", i.length),
                                    $(_.rest(i)).remove(),
                                    s.push(n += 1);
                                    return s
                                },
                                render: function() {
                                    var e, t, n, r, i, s;
                                    n = _.template($("#skus_table_template").html()),
                                    this.$el.html(n),
                                    t = this.$("thead th:first"),
                                    s = GoldenData.dimensions.valid();
                                    for (r = 0, i = s.length; r < i; r++) e = s[r],
                                    t.before("\x3cth\x3e" + e.get("label") + "\x3c/th\x3e");
                                    return this.skus.each(function(e) {
                                        return function(t) {
                                            return e.$("tbody").append((new a({
                                                model: t
                                            })).render().$el)
                                        }
                                    } (this)),
                                    this._mergeCells(),
                                    this
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n;
                            return t = Backbone.Model.extend({
                                defaults: {
                                    name: "",
                                    price: 0,
                                    position: 1E4,
                                    value: "",
                                    description: "",
                                    inventory: null,
                                    predefined_number: null,
                                    predefined_specification: null
                                },
                                initialize: function() {
                                    return this.on("change:dimensions",
                                    function(e) {
                                        return function() {
                                            var t, n, r;
                                            if (_.isObject(e.get("predefined_specification"))) return t = function() {
                                                var e, t, r, i, s;
                                                r = this.get("dimensions"),
                                                s = [];
                                                for (e = 0, t = r.length; e < t; e++) n = r[e],
                                                s.push((i = n.api_code) != null ? i: n.label);
                                                return s
                                            }.call(e),
                                            r = _.pick(e.get("predefined_specification"), t),
                                            e.set({
                                                predefined_specification: r
                                            })
                                        }
                                    } (this))
                                },
                                updateInventory: function() {
                                    var e, t;
                                    return t = this.get("skus"),
                                    e = _.every(t,
                                    function(e) {
                                        return GoldenData.isNumber(e.inventory)
                                    }),
                                    e ? this.set({
                                        inventory: _.reduce(t,
                                        function(e, t) {
                                            var n;
                                            return e + parseInt((n = t.inventory) != null ? n: 0)
                                        },
                                        0)
                                    }) : this.set({
                                        inventory: null
                                    })
                                },
                                priceRange: function() {
                                    var e, t, n, r;
                                    r = this.get("skus");
                                    if (r != null) return n = _.map(r,
                                    function(e) {
                                        return parseFloat(e.price)
                                    }),
                                    t = _.min(n),
                                    e = _.max(n),
                                    e > t ? "" + t.toFixed(2) + "\u8d77": t.toFixed(2)
                                },
                                validate: function(e, t) {
                                    t || (t = {});
                                    if (t.on === "name" && $.trim(e.name) === "") return "\u5546\u54c1\u540d\u4e0d\u80fd\u4e3a\u7a7a";
                                    if (t.on === "price" && !GoldenData.isNumber(e.price)) return "\u4ef7\u683c\u5fc5\u987b\u4e3a\u975e\u7a7a\u6570\u5b57";
                                    if (t.on === "inventory" && $.trim(e.inventory) !== "") if (!GoldenData.isNumber(e.inventory) || parseInt(e.inventory) < 0) return "\u5e93\u5b58\u5fc5\u987b\u4e3a\u975e\u8d1f\u6570\u5b57\u6216\u4e3a\u7a7a";
                                    if (t.on === "predefined_number" && $.trim(e.predefined_number) !== "") if (!GoldenData.isNumber(e.predefined_number) || parseInt(e.predefined_number) < 0) return "\u9ed8\u8ba4\u6570\u91cf\u5fc5\u987b\u4e3a\u975e\u8d1f\u6570\u5b57\u6216\u4e3a\u7a7a"
                                },
                                toJSON: function(e) {
                                    var t;
                                    return e == null && (e = !0),
                                    t = _.clone(this.attributes),
                                    e && $.trim(t.name) === "" && (t.name = "\u5546\u54c1\u540d"),
                                    t
                                },
                                isPreSelecting: function(e, t) {
                                    return this.get("predefined_specification") == null ? !1 : this.get("predefined_specification")[e] === t
                                }
                            }),
                            GoldenData.GoodsItemList = Backbone.Collection.extend({
                                model: t
                            }),
                            n = Backbone.View.extend({
                                className: "goods-item",
                                events: {
                                    "change input,textarea": "update",
                                    "change .default-settings select": "updatePredefinedSpecification",
                                    "click .del_item": "deleteItem",
                                    "click .add_item": "addItem",
                                    click: "expand",
                                    "click .update-goods-dimensions": "renderDimensionsView",
                                    "click .clear-goods-dimensions": "clearGoodsDimensions",
                                    "edit .goods-image": "changeGoodsImage"
                                },
                                templateId: "goods_item_edit_template",
                                initialize: function() {
                                    return this.listenTo(this.model, "change:skus",
                                    function(e) {
                                        return function() {
                                            return e.model.updateInventory(),
                                            e.render()
                                        }
                                    } (this))
                                },
                                _updateWhenSKUExists: function() {
                                    if (!_.isEmpty(this.model.get("skus"))) {
                                        this.$("[data-field-key\x3dprice]").replaceWith("\x3cspan class\x3d'price'\x3e" + this.model.priceRange() + "\x3c/span\x3e");
                                        if (this.model.get("inventory") != null) return this.$("[data-field-key\x3dinventory]").replaceWith("\x3cspan class\x3d'inventory'\x3e" + this.model.get("inventory") + "\x3c/span\x3e")
                                    }
                                },
                                _updateWhenDimensionExists: function() {
                                    var e, t;
                                    if (!_.isEmpty(this.model.get("dimensions"))) return t = this.$(".update-goods-dimensions").text("\u4fee\u6539\u8be6\u7ec6\u89c4\u683c"),
                                    t.after(" | \x3ca href\x3d'javascript:void(0)' class\x3d'clear-goods-dimensions'\x3e\u6e05\u9664\u89c4\u683c\x3c/a\x3e"),
                                    e = _.map(this.model.get("dimensions"),
                                    function(e) {
                                        return function(t) {
                                            var n, r, i, s, o, u, a, f, l, c, h;
                                            n = (f = t.api_code) != null ? f: t.label,
                                            r = $("\x3clabel\x3e\u9ed8\u8ba4" + t.label + "\x3c/label\x3e"),
                                            o = $("\x3cselect data-dim-key\x3d'" + n + "'\x3e"),
                                            o.append("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e"),
                                            l = t.options;
                                            for (u = 0, a = l.length; u < a; u++) s = l[u],
                                            i = (c = s.value) != null ? c: s.label,
                                            o.append("\x3coption value\x3d'" + i + "'\x3e" + s.label + "\x3c/option\x3e");
                                            return o.val((h = e.model.get("predefined_specification")) != null ? h[n] : void 0),
                                            r.after(o)
                                        }
                                    } (this)),
                                    this.$(".default-settings").prepend(e)
                                },
                                render: function() {
                                    var e;
                                    return e = _.template($("#" + this.templateId).html()),
                                    this.$el.html(e(this.model.toJSON(!1))).data("cid", this.model.cid),
                                    this._updateWhenSKUExists(),
                                    this._updateWhenDimensionExists(),
                                    this.$("input, textarea").placeholder(),
                                    this
                                },
                                expand: function(e) {
                                    $(".goods-item.expand").removeClass("expand"),
                                    $(this.el).addClass("expand");
                                    if ($(e.target).hasClass("goods-item")) return $(this.el).find("input.goods-name").focus()
                                },
                                deleteItem: function(e) {
                                    return GoldenData.fieldEditView.model.goodsItemList.remove(this.model),
                                    this.remove(),
                                    e.preventDefault()
                                },
                                addItem: function(e) {
                                    return e.preventDefault()
                                },
                                update: function(e) {
                                    var t, n, r;
                                    return r = $(e.target),
                                    r.removeClass("error"),
                                    r.nextAll(".error-message").remove(),
                                    t = {},
                                    n = r.data("field-key"),
                                    t[n] = r.val(),
                                    this.model.set(t, {
                                        validate: !0,
                                        on: n
                                    }),
                                    r.hasClass("goods-name") && this.$("span.goods-name").text(r.val()),
                                    GoldenData.showInlineErrorIfHave(r, this.model.validationError),
                                    e.stopPropagation()
                                },
                                updatePredefinedSpecification: function(e) {
                                    var t, n, r;
                                    n = $(e.target),
                                    t = (r = this.model.get("predefined_specification")) != null ? r: {},
                                    t[n.data("dim-key")] = n.val(),
                                    this.model.set({
                                        predefined_specification: t
                                    });
                                    if (!this.model.hasChanged()) return this.model.trigger("change")
                                },
                                changeGoodsImage: function(e, t) {
                                    this.model.trigger("change");
                                    if (!t.errors) return this.model.set({
                                        large_path: t.image_large_path,
                                        new_value: t.attachment_id
                                    })
                                },
                                renderDimensionsView: function() {
                                    var e, t;
                                    return $("#goods_dimensions_modal").find("#apply_to_all").attr("checked", !1),
                                    e = (new GoldenData.GoodsDimensionsContainerView({
                                        model: this.model
                                    })).render(),
                                    t = (new GoldenData.SKUsContainerView({
                                        model: this.model
                                    })).render(),
                                    $("#goods_dimensions_modal .btn-primary").removeClass("disabled").off("click").on("click",
                                    function(n) {
                                        return function() {
                                            var r, i, s;
                                            if (!$("#goods_dimensions_modal .btn-primary").hasClass("disabled")) return $("#goods_dimensions_modal").modal("hide"),
                                            r = e.validDimensions().toJSON(),
                                            s = _.isEmpty(r) ? [] : t.skus.toJSON(),
                                            i = $("#goods_dimensions_modal").find("#apply_to_all").is(":checked"),
                                            i ? GoldenData.fieldEditView.model.goodsItemList.each(function(e) {
                                                return e.set({
                                                    dimensions: r,
                                                    skus: s
                                                })
                                            }) : n.model.set({
                                                dimensions: r,
                                                skus: s
                                            })
                                        }
                                    } (this))
                                },
                                clearGoodsDimensions: function() {
                                    return this.model.set({
                                        dimensions: [],
                                        skus: [],
                                        predefined_specification: null
                                    })
                                }
                            }),
                            GoldenData.GoodsImageSelectionEditView = Backbone.View.extend({
                                initialize: function() {
                                    return this.listenTo(this.model.goodsItemList, "add",
                                    function(e) {
                                        return this.render(e)
                                    })
                                },
                                events: {
                                    "add .goods-items": "updateGoodsItemList"
                                },
                                _initSortableItems: function() {
                                    return this.sortableItems = this.$(".goods-items").sortable({
                                        items: "\x3e .goods-item",
                                        handle: ".sort",
                                        forcePlaceholderSize: !0,
                                        scroll: !0,
                                        placeholder: "sortable-placeholder",
                                        axis: "y",
                                        update: function(e) {
                                            return function(t, n) {
                                                var r, i, s, o, u, a;
                                                i = $.map(e.$(".goods-item"),
                                                function(e) {
                                                    return $(e).data("cid")
                                                }),
                                                a = [];
                                                for (s = o = 0, u = i.length; o < u; s = ++o) r = i[s],
                                                e.model.goodsItemList.get(r).set({
                                                    position: s + 1
                                                },
                                                {
                                                    silent: !0
                                                }),
                                                a.push(e.model.trigger("change"));
                                                return a
                                            }
                                        } (this)
                                    })
                                },
                                render: function(e) {
                                    var t, r;
                                    return e == null && (e = null),
                                    this.$el.html("\x3cdiv class\x3d'goods-items clearfix'\x3e\x3c/div\x3e"),
                                    t = _.sortBy(this.model.goodsItemList.toArray(),
                                    function(e) {
                                        return e.get("position")
                                    }),
                                    _.each(t,
                                    function(e) {
                                        return function(t) {
                                            return e.$(".goods-items").append((new n({
                                                model: t
                                            })).render().el)
                                        }
                                    } (this)),
                                    r = _.template($("#upload_goods_items_form_template").html()),
                                    this.$el.append(r(this.model.toJSON())),
                                    Modernizr.draganddrop || delay(1,
                                    function() {
                                        return $("#image_upload_label span").text("\u70b9\u6b64\u6dfb\u52a0\u5546\u54c1\u56fe\u7247")
                                    }),
                                    this._initSortableItems(),
                                    this
                                },
                                updateGoodsItemList: function(e, t) {
                                    if (!t.errors) return this.model.goodsItemList.add({
                                        name: removeFileSuffix(t.file_name),
                                        large_path: t.image_large_path,
                                        value: t.attachment_id
                                    },
                                    {
                                        silent: t.leftCount > 0
                                    });
                                    if (t.leftCount === 0) return this.model.trigger("change")
                                }
                            }),
                            GoldenData.GoodsItemShowView = Backbone.View.extend({
                                initialize: function() {
                                    return this.model.on("change", this.render, this),
                                    this.model.on("remove", this.remove, this)
                                },
                                templateId: "goods_item_show_template",
                                _updateViewBySKUs: function() {
                                    var e, t, n, r, i, s, o, u, a, f, l, c, h, p, d;
                                    if (!_.isEmpty(this.model.get("skus"))) {
                                        this.$(".price-inventory .price").html("\x26yen;" + this.model.priceRange()),
                                        n = $("\x3cdiv class\x3d'dimensions'\x3e\x3c/div\x3e"),
                                        c = this.model.get("dimensions");
                                        for (u = 0, f = c.length; u < f; u++) {
                                            t = c[u],
                                            n.append("\x3cdiv class\x3d'dimension-label'\x3e" + t.label + "\uff1a\x3c/div\x3e"),
                                            o = $("\x3cdiv class\x3d'dimension-options'\x3e\x3c/div\x3e"),
                                            n.append(o),
                                            e = (h = t.api_code) != null ? h: t.label,
                                            p = t.options;
                                            for (a = 0, l = p.length; a < l; a++) s = p[a],
                                            i = (d = s.value) != null ? d: s.label,
                                            r = $("\x3clabel\x3e\x3c/label\x3e").text(s.label),
                                            this.model.isPreSelecting(e, i) && r.addClass("selected"),
                                            o.append(r)
                                        }
                                        return this.$(".description").after(n)
                                    }
                                },
                                render: function() {
                                    var e, t, n;
                                    return e = this.model.toJSON(),
                                    t = this.model.get("price"),
                                    e.price = (GoldenData.isNumber(t) ? parseFloat(t) : 0).toFixed(2),
                                    e.inventory === "" && (e.inventory = null),
                                    e.inventoryLabel = this.inventoryLabel,
                                    e.unit = this.unit,
                                    n = _.template($("#" + this.templateId).html()),
                                    $(this.el).html(n(e)),
                                    this.$el.addClass("goods-item"),
                                    this._updateViewBySKUs(),
                                    this
                                },
                                updateWords: function(e, t) {
                                    return this.inventoryLabel = e,
                                    this.unit = t,
                                    this
                                }
                            }),
                            e = n.extend({
                                className: "goods-item basic-goods-item",
                                templateId: "basic_goods_item_edit_template",
                                addItem: function(e) {
                                    var n, r, i, s;
                                    return i = GoldenData.fieldEditView.model.goodsItemList,
                                    n = this.model.get("position"),
                                    i.each(function(e) {
                                        var t;
                                        t = e.get("position");
                                        if (t > n) return e.set("position", t + 1)
                                    }),
                                    s = this.model.get("position") + 1,
                                    r = new t({
                                        position: s
                                    }),
                                    i.add(r),
                                    e.preventDefault()
                                }
                            }),
                            GoldenData.BasicGoodsItemShowView = GoldenData.GoodsItemShowView.extend({
                                templateId: "basic_goods_item_show_template"
                            }),
                            GoldenData.GoodsContainerEditView = GoldenData.GoodsImageSelectionEditView.extend({
                                render: function(t) {
                                    var n;
                                    return this.$el.html("\x3cdiv class\x3d'goods-items clearfix'\x3e\x3c/div\x3e"),
                                    n = _.sortBy(this.model.goodsItemList.toArray(),
                                    function(e) {
                                        return e.get("position")
                                    }),
                                    _.each(n,
                                    function(n) {
                                        return function(r) {
                                            var i;
                                            return i = new e({
                                                model: r
                                            }),
                                            n.$(".goods-items").append(i.render().el),
                                            delay(1,
                                            function() {
                                                if (r === t) return i.$el.click()
                                            })
                                        }
                                    } (this)),
                                    this._initSortableItems(),
                                    this
                                }
                            })
                        }),
                        $(".goods-image-edit").livequery(function() {
                            var e, t, n, r;
                            return r = function() {
                                return $(this).attr("disabled", !0)
                            },
                            n = function() {
                                return $(this).attr("disabled", !1)
                            },
                            e = $(this).parents(".goods-image"),
                            t = $(this).parents(".goods-item").find(".goods-image-error-message"),
                            $(this).fileupload({
                                dataType: "json",
                                add: function(i, s) {
                                    var o;
                                    return r(),
                                    t.empty(),
                                    o = $("#" + $(this).data("progress-bar")),
                                    $.each(s.files,
                                    function(r, i) {
                                        var u, a;
                                        u = GoldenData.validateFile(i, 5E6, /.*\.(jpg|jpeg|png|gif)$/gi);
                                        if (u.length !== 0) return $(".progress-bar[data-filename\x3d'" + s.filename + "']").parent(".progress-container").remove(),
                                        n(),
                                        showStaticNotification(t, "\u56fe\u7247\u4e0a\u4f20: " + u + "\uff0c\u8bf7\u91cd\u9009", "error");
                                        a = _.template(o.html()),
                                        s.context = a({
                                            name: i.name
                                        }),
                                        s.filename = i.name,
                                        e.append(s.context),
                                        s.submit();
                                        if ($.browser.msie) return $(".progress-bar[data-filename\x3d'" + s.filename + "'] .bar").progressbar()
                                    })
                                },
                                progress: function(e, t) {
                                    var n;
                                    if (t.context) return n = parseInt(t.loaded / t.total * 95, 10),
                                    $(".progress-bar[data-filename\x3d'" + t.filename + "'] .bar").css("width", n + "%")
                                },
                                always: function(r, i) {
                                    return i.result.errors ? (n(), i.result.errors.file ? $.each(i.result.errors.file,
                                    function(n, r) {
                                        var s;
                                        return s = r.indexOf("\u5df2\u8d85") < 0 ? "\u56fe\u7247\u4e0a\u4f20\uff1a" + r + "\uff0c\u8bf7\u91cd\u9009": r,
                                        showStaticNotification(t, s, "error"),
                                        $(".progress-bar[data-filename\x3d'" + i.filename + "']").parent(".progress-container").remove(),
                                        e.find("img").addClass("error-upload")
                                    }) : (showStaticNotification(t, i.result.errors, "error"), $(".progress-bar[data-filename\x3d'" + i.filename + "']").parent(".progress-container").remove(), e.find("img").addClass("error-upload"))) : ($(".progress-bar[data-filename\x3d'" + i.filename + "'] .bar").css("width", "100%"), $(".progress-bar[data-filename\x3d'" + i.filename + "']").parent(".progress-container").remove(), e.find("img").replaceWith("\x3cimg src\x3d'" + i.result.image_large_path + "'\x3e")),
                                    e.trigger("edit", i.result),
                                    n()
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        var e;
                        e = function(e, t) {
                            return setTimeout(t, e)
                        },
                        $(".help-center-tooltip").livequery(function() {
                            var t, n, r;
                            return t = $(this).data("help-name"),
                            n = $(this).data("help-url"),
                            r = $('\x3cdiv class\x3d"help-center-popup"\x3e\x3c/div\x3e'),
                            !!t && !!n && r.append($("\x3ca class\x3d'specific-help-link' href\x3d'" + n + "' target\x3d'_blank'\x3e" + t + "\x3c/a\x3e")),
                            r.append($("")),
                            $(this).tooltip({
                                trigger: "manual",
                                animation: !1,
                                html: !0,
                                container: "body",
                                title: r
                            }),
                            $(this).hover(function() {
                                return $(this).tooltip("show"),
                                $("body").find(".tooltip:last").hover(function(e) {
                                    return function() {
                                        return $(e).data("hover", !0)
                                    }
                                } (this),
                                function(e) {
                                    return function() {
                                        return $(e).removeData("hover"),
                                        $(e).tooltip("hide")
                                    }
                                } (this)),
                                $("body").find(".tooltip:last").find("a").click(function(e) {
                                    return function() {
                                        return $(e).removeData("hover"),
                                        $(e).tooltip("hide")
                                    }
                                } (this))
                            },
                            function() {
                                return e(100,
                                function(e) {
                                    return function() {
                                        if (!$(e).data("hover")) return $(e).tooltip("hide")
                                    }
                                } (this))
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return GoldenData.ImageChoiceContainerEditView = Backbone.View.extend({
                                className: "image-choice",
                                events: {
                                    "change input,textarea": "update",
                                    "mousedown input[type\x3d'radio']:checked": "uncheckChoice",
                                    "keydown input[type\x3d'radio']:checked": "uncheckChoice",
                                    "click .del_choice": "deleteChoice"
                                },
                                render: function() {
                                    var e, t, n;
                                    return t = GoldenData.fieldEditView.model.type.replace("Image", ""),
                                    e = "single",
                                    t === "CheckBox" && (e = "multiple"),
                                    n = _.template($("#" + e + "_image_choice_edit_template").html()),
                                    this.model.choiceType = e,
                                    $(this.el).html(n(this.model.toJSONWithChoiceType())).data("cid", this.model.cid),
                                    this
                                },
                                deleteChoice: function(e) {
                                    return GoldenData.fieldEditView.model.imageChoiceList.remove(this.model),
                                    e.preventDefault(),
                                    this.remove()
                                },
                                update: function(e) {
                                    var t;
                                    return GoldenData.updateChoice(e, this.model),
                                    this.model.type !== "ImageCheckBox" && (t = this.model, _.each(GoldenData.fieldEditView.model.imageChoiceList.models,
                                    function(e) {
                                        if (e.cid !== t.cid) return e.set("selected", !1)
                                    })),
                                    this.model.trigger("image.changed")
                                },
                                uncheckChoice: function(e) {
                                    var t;
                                    return t = $(e.target),
                                    setTimeout(function(n) {
                                        return function() {
                                            return t.removeAttr("checked"),
                                            n.update(e)
                                        }
                                    } (this), 150)
                                }
                            }),
                            GoldenData.ImageSelectionContainerEditView = Backbone.View.extend({
                                initialize: function() {
                                    return this.model.imageChoiceList.on("add", this.render, this),
                                    this.model.imageChoiceList.on("image.changed", this.update, this)
                                },
                                events: {
                                    "add .image-choices": "update_choice_list"
                                },
                                _initSortableFields: function() {
                                    return this.sortableFields = this.$(".image-choices").sortable({
                                        items: "\x3e .image-choice",
                                        handle: ".sort",
                                        forcePlaceholderSize: !0,
                                        scroll: !0,
                                        placeholder: "sortable-placeholder",
                                        axis: "y",
                                        update: function(e) {
                                            return function(t, n) {
                                                var r, i, s, o, u, a;
                                                i = $.map(e.$(".image-choice"),
                                                function(e) {
                                                    return $(e).data("cid")
                                                }),
                                                a = [];
                                                for (s = o = 0, u = i.length; o < u; s = ++o) r = i[s],
                                                e.model.imageChoiceList.get(r).set({
                                                    position: s + 1
                                                },
                                                {
                                                    silent: !0
                                                }),
                                                a.push(e.model.trigger("change"));
                                                return a
                                            }
                                        } (this)
                                    })
                                },
                                render: function() {
                                    var e, t;
                                    return this.$el.html("\x3cdiv class\x3d'image-choices clearfix' data-field-type\x3d'Image" + this.model.type + "'\x3e\x3c/div\x3e"),
                                    e = _.sortBy(this.model.imageChoiceList.toArray(),
                                    function(e) {
                                        return e.get("position")
                                    }),
                                    _.each(e,
                                    function(e) {
                                        return function(t) {
                                            return e.$(".image-choices").append((new GoldenData.ImageChoiceContainerEditView({
                                                model: t
                                            })).render().el)
                                        }
                                    } (this)),
                                    t = _.template($("#upload_image_choices_form_template").html()),
                                    this.$el.append(t(this.model.toJSON())),
                                    Modernizr.draganddrop || delay(1,
                                    function() {
                                        return $("#image_upload_label span").text("\u70b9\u6b64\u6dfb\u52a0\u56fe\u7247\u9009\u9879")
                                    }),
                                    this._initSortableFields(),
                                    this
                                },
                                update: function() {
                                    return this.model.trigger("change")
                                },
                                update_choice_list: function(e, t) {
                                    var n;
                                    if (!t.errors) return n = new GoldenData.ImageChoice({
                                        name: removeFileSuffix(t.file_name),
                                        large_path: t.image_large_path,
                                        value: t.attachment_id
                                    }),
                                    n.type = "Image" + this.model.type,
                                    this.model.imageChoiceList.add(n, {
                                        silent: t.leftCount > 0
                                    });
                                    if (t.leftCount === 0) return this.model.trigger("change")
                                }
                            })
                        }),
                        $("#image_upload").livequery(function() {
                            var e, t, n, r;
                            return r = function() {
                                return $("#image_upload").attr("disabled", !0),
                                $("#image_upload_label span.normal").hide(),
                                $("#image_upload_label span.replace").show()
                            },
                            n = function() {
                                return $("#image_upload").attr("disabled", !1),
                                $("#image_upload_label span.normal").show(),
                                $("#image_upload_label span.replace").hide()
                            },
                            t = $(this).parents("#image_choices, #goods_items").find(".message"),
                            e = $(this).parents("form").prev(".image-choices, .goods-items"),
                            $(this).fileupload({
                                dataType: "json",
                                dropZone: $(".image-upload-area"),
                                dragover: function(e) {
                                    return $(".image-upload-area").addClass("drag-over"),
                                    $(".drop-zone .drop-here").show(),
                                    $(".drop-zone .drag-here").hide()
                                },
                                add: function(i, s) {
                                    var o;
                                    return r(),
                                    t.empty(),
                                    o = $("#" + $(this).data("progress-bar")),
                                    e.data("outstanding-image-count", s.originalFiles.length),
                                    s.originalFiles.length > 5 ? (showStaticNotification(t, "\u6bcf\u6b21\u8bf7\u4e0d\u8981\u9009\u62e9\u8d85\u8fc75\u5f20\u56fe\u7247\uff0c\u53ef\u4f20\u591a\u6b21\u3002", "warning"), n(), !1) : $.each(s.files,
                                    function(r, i) {
                                        var u, a, f, l;
                                        u = GoldenData.validateFile(i, 5E6, /.*\.(jpg|jpeg|png|gif)$/gi);
                                        if (u.length !== 0) return n(),
                                        $(".image-upload-area").removeClass("drag-over"),
                                        showStaticNotification(t, "" + i.name + ": " + u + "\uff0c\u8bf7\u91cd\u9009", "error");
                                        f = (l = e.data("field-type")) != null ? l.replace("Image", "") : void 0,
                                        a = _.template(o.html()),
                                        s.context = a({
                                            name: i.name,
                                            type: f
                                        }),
                                        s.filename = i.name,
                                        e.append(s.context),
                                        s.submit();
                                        if ($.browser.msie) return $(".progress-bar[data-filename\x3d'" + s.filename + "'] .bar").progressbar()
                                    })
                                },
                                start: function(e) {
                                    return $(".image-upload-area").removeClass("drag-over")
                                },
                                progress: function(e, t) {
                                    var n;
                                    if (t.context) return n = parseInt(t.loaded / t.total * 95, 10),
                                    $(".progress-bar[data-filename\x3d'" + t.filename + "'] .bar").css("width", n + "%")
                                },
                                always: function(r, i) {
                                    var s;
                                    return i.result.errors ? (n(), i.result.errors.file ? $.each(i.result.errors.file,
                                    function(e, n) {
                                        var r;
                                        return r = n.indexOf("\u5df2\u8d85") < 0 ? "" + i.filename + "\uff1a" + n + "\uff0c\u8bf7\u91cd\u9009": n,
                                        showStaticNotification(t, r, "error"),
                                        $(".progress-bar[data-filename\x3d'" + i.filename + "']").closest(".image-choice, .goods-item").remove()
                                    }) : (showStaticNotification(t, i.result.errors, "error"), $(".progress-bar[data-filename\x3d'" + i.filename + "']").closest(".image-choice, .goods-item").remove())) : ($(".progress-bar[data-filename\x3d'" + i.filename + "'] .bar").css("width", "100%"), $(".progress-bar[data-filename\x3d'" + i.filename + "']").parent(".progress-container").replaceWith("\x3cimg src\x3d'" + i.result.image_large_path + "'\x3e")),
                                    s = e.data("outstanding-image-count"),
                                    e.data("outstanding-image-count", s - 1),
                                    i.result.leftCount = s - 1,
                                    e.trigger("add", i.result)
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return $(document).on("click", "#specify_header_row:not(.disabled)",
                            function() {
                                var e;
                                return e = $("#form_header_row_number").val(),
                                $(this).attr("href", "" + $(this).attr("href") + "?header_row\x3d" + e),
                                $(this).data("url", "" + $(this).data("url") + "?header_row\x3d" + e)
                            }),
                            GoldenData.FieldsExample = function() {
                                function e(e, t, n) {
                                    var r;
                                    this.data = e,
                                    this.fieldSelector = t,
                                    this.exampleSelector = n,
                                    this.render(this.fieldSelector, this.exampleSelector, this.data),
                                    r = this,
                                    $(this.fieldSelector).find("select").on("change",
                                    function() {
                                        return r.render($(this).parent(), r.exampleSelector, r.data)
                                    })
                                }
                                return e.prototype.render = function(e, t, n) {
                                    return $(e).each(function() {
                                        var e, r;
                                        return e = $(this).parent(),
                                        r = $(this).find("select").val(),
                                        e.find(t).html(n[r])
                                    })
                                },
                                e
                            } (),
                            $(document).on("drop dragover",
                            function(e) {
                                return e.preventDefault()
                            }),
                            $(document).on("ready page:load",
                            function() {
                                var e, t;
                                return $(".import-excel .progress .bar").progressbar({
                                    done: function() {
                                        return $(".import-excel .progress-bar").remove(),
                                        $(".import-excel .import-summary").show()
                                    }
                                }),
                                e = function() {
                                    return $(".drop-zone").removeClass("drag-over"),
                                    $(".drop-zone .drop-here").hide(),
                                    $(".drop-zone .drag-here").show()
                                },
                                $(".drop-zone").on("dragleave", e),
                                t = function(e) {
                                    return $(".introduction").hide(),
                                    $(".upload-failed .messages").empty(),
                                    $.each(e,
                                    function(e, t) {
                                        return $(".upload-failed .messages").append("\x3cli\x3e" + t + "\x3c/li\x3e")
                                    }),
                                    $(".upload-failed").show()
                                },
                                $(".import-excel.new-form .form_import_from").fileupload({
                                    dataType: "json",
                                    dropZone: $(".drop-zone"),
                                    add: function(n, r) {
                                        return $.each(r.files,
                                        function(n, i) {
                                            var s;
                                            return s = GoldenData.validateFile(i, 1E6, /.*\.(xls|xlsx)$/),
                                            s.length === 0 ? r.submit() : (e(), t(s))
                                        })
                                    },
                                    start: function(t) {
                                        return e(),
                                        $("#uploaded_file_status").modal("show")
                                    },
                                    progress: function(e, t) {
                                        var n;
                                        return n = parseInt(t.loaded / t.total * 100, 10),
                                        $("#uploaded_file_status .progress .bar").css("width", "" + n + "%")
                                    },
                                    always: function(e, n) {
                                        return n.result.error ? setTimeout(function() {
                                            return $("#uploaded_file_status").modal("hide"),
                                            t(n.result.messages),
                                            $("#uploaded_file_status .progress .bar").css("width", "0%")
                                        },
                                        1E3) : setTimeout(function() {
                                            return Turbolinks.visit(n.result.redirect_url)
                                        },
                                        1E3)
                                    },
                                    dragover: function(e) {
                                        return $(".drop-zone").addClass("drag-over"),
                                        $(".drop-zone .drop-here").show(),
                                        $(".drop-zone .drag-here").hide()
                                    }
                                }),
                                $(".import-excel.excel-append").livequery(function() {
                                    return $(".import-excel.excel-append .form_import_from").fileupload({
                                        dataType: "json",
                                        dropZone: $(".drop-zone"),
                                        add: function(n, r) {
                                            return $.each(r.files,
                                            function(n, i) {
                                                var s;
                                                return s = GoldenData.validateFile(i, 1E6, /.*\.(xls|xlsx)$/),
                                                s.length === 0 ? r.submit() : (e(), t(s))
                                            })
                                        },
                                        start: function(t) {
                                            return e(),
                                            $(".upload-area").hide(),
                                            $(".progress-bar-container").show()
                                        },
                                        progress: function(e, t) {
                                            var n;
                                            return n = parseInt(t.loaded / t.total * 100, 10),
                                            $(".progress-bar-container .progress .bar").css("width", "" + n + "%")
                                        },
                                        always: function(e, n) {
                                            return n.result.error ? setTimeout(function() {
                                                return $(".upload-area").show(),
                                                t(n.result.messages),
                                                $(".progress-bar-container").hide(),
                                                $(".progress-bar-container .progress .bar").css("width", "0%")
                                            },
                                            1E3) : setTimeout(function() {
                                                return $.get(n.result.redirect_url,
                                                function(e) {
                                                    return $("#excel_append_modal .modal-body").html(e)
                                                })
                                            },
                                            1E3)
                                        },
                                        dragover: function(e) {
                                            return $(".drop-zone").addClass("drag-over"),
                                            $(".drop-zone .drop-here").show(),
                                            $(".drop-zone .drag-here").hide()
                                        }
                                    })
                                })
                            }),
                            $(document).on("click", ".import-excel.excel-append a:not(.submit):not(.leave-modal)",
                            function(e) {
                                return e.preventDefault(),
                                e.stopPropagation(),
                                $.get($(e.target).data("url"),
                                function(e) {
                                    return function(t) {
                                        return $(e).closest(".modal-body").html(t),
                                        $(".import-excel.excel-append .progress .bar").progressbar({
                                            done: function() {
                                                return $(".import-excel .progress-bar").remove(),
                                                $(".import-excel .import-summary").show()
                                            }
                                        })
                                    }
                                } (this))
                            }),
                            $(document).on("click", ".import-excel.excel-append .buttons a.submit",
                            function(e) {
                                return e.preventDefault(),
                                e.stopPropagation(),
                                $(this).closest("form").submit()
                            }),
                            $(document).on("ajax:complete", "#excel_append_modal",
                            function(e, t, n) {
                                return $(this).find(".modal-body").html(t.responseText),
                                $(".import-excel.excel-append .progress .bar").progressbar({
                                    done: function() {
                                        return $(".import-excel .progress-bar").remove(),
                                        $(".import-excel .import-summary").show()
                                    }
                                })
                            }),
                            $(document).on("change", ".import-summary .error input",
                            function() {
                                return $(this).parents(".error").find(".fa-info-circle").hide(),
                                $(this).parents(".error").removeClass("error")
                            }),
                            $(document).on("change keyup", "#form_header_row_number",
                            function() {
                                var e;
                                return e = parseInt($(this).val()),
                                isNaN(e) || e > $(this).attr("max") || e < $(this).attr("min") ? ($("#specify_header_row").addClass("disabled"), $(this).addClass("error")) : ($("#specify_header_row").removeClass("disabled"), $(this).removeClass("error"))
                            }),
                            $(document).on("hidden", "#excel_append_modal",
                            function(e) {
                                if (!$(e.target).hasClass("modal")) return;
                                return e.stopPropagation(),
                                $(this).find(".step.active").data("current-step") === 4 && Turbolinks.visit($(this).data("entries-url")),
                                $(this).removeData("modal").find(".modal-body .import-excel.excel-append").remove()
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n;
                            return e = function(e, t, n) {
                                if (t) return ga("send", "event", e, t, n)
                            },
                            n = function(t, n, r, i, s) {
                                return $(document).on(t, n,
                                function() {
                                    var t;
                                    return t = i,
                                    typeof i == "function" && (t = i($(this))),
                                    e(r, t, s)
                                })
                            },
                            t = function(e, t, r, i) {
                                return n("click", e, t, r, i)
                            },
                            t(".nav-bar .nav a", "\u7f51\u7ad9\u5bfc\u822a",
                            function(e) {
                                return "\u70b9\u51fb" + e.text()
                            }),
                            t(".main-section .button-signup", "\u6ce8\u518c", "\u70b9\u51fb\u9996\u9875\u5927\u6309\u94ae"),
                            t(".home-section.go-to-feature .button-signup", "\u6ce8\u518c", "\u70b9\u51fb\u9996\u9875\u5e95\u90e8\u6309\u94ae"),
                            t(".navbar-text .signup-link", "\u6ce8\u518c", "\u70b9\u51fb\u5bfc\u822a\u6309\u94ae"),
                            t(".feature-section.go-to-feature .button-signup", "\u6ce8\u518c", "\u70b9\u51fb\u529f\u80fd\u7279\u6027\u5e95\u90e8\u6309\u94ae"),
                            t(".site-plan .public-version .button", "\u6ce8\u518c", "\u70b9\u51fb\u5957\u9910\u6309\u94ae", "\u514d\u8d39\u7248"),
                            t(".site-plan .standard-version .button", "\u6ce8\u518c", "\u70b9\u51fb\u5957\u9910\u6309\u94ae", "\u6807\u51c6\u7248"),
                            t(".site-plan .ebusiness-version .button", "\u6ce8\u518c", "\u70b9\u51fb\u5957\u9910\u6309\u94ae", "\u62d3\u5c55\u7248"),
                            t(".site-plan .enterprise-version .button", "\u6ce8\u518c", "\u70b9\u51fb\u5957\u9910\u6309\u94ae", "\u4f01\u4e1a\u7248"),
                            t(".login-panel .invitation", "\u6ce8\u518c", "\u70b9\u51fb\u767b\u5f55\u754c\u9762\u6ce8\u518c\u94fe\u63a5"),
                            t(".navbar-text .login-link", "\u767b\u5f55", "\u70b9\u51fb\u5bfc\u822a\u6309\u94ae"),
                            t(".login-panel .login", "\u767b\u5f55", "\u901a\u8fc7\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55"),
                            t(".social-login .account-qq", "\u767b\u5f55", "\u901a\u8fc7QQ\u767b\u5f55"),
                            t(".social-login .account-sina", "\u767b\u5f55", "\u901a\u8fc7\u5fae\u535a\u767b\u5f55"),
                            t(".social-login .account-renren", "\u767b\u5f55", "\u901a\u8fc7\u4eba\u4eba\u767b\u5f55"),
                            t(".social-login .account-mingdao", "\u767b\u5f55", "\u901a\u8fc7\u660e\u9053\u767b\u5f55"),
                            t(".login-panel .forget-password", "\u5fd8\u8bb0\u5bc6\u7801", "\u70b9\u51fb\u5fd8\u8bb0\u5bc6\u7801"),
                            t(".top-nav a", "\u5e94\u7528\u5bfc\u822a",
                            function(e) {
                                return "\u70b9\u51fb" + e.text()
                            }),
                            t(".top-bar .upgrade-link", "\u5e94\u7528\u5bfc\u822a", "\u70b9\u51fb\u5347\u7ea7\u8d26\u6237"),
                            t(".top-bar .notification_center", "\u5e94\u7528\u5bfc\u822a", "\u70b9\u51fb\u901a\u77e5\u63d0\u9192"),
                            t(".top-bar .view-all", "\u5e94\u7528\u5bfc\u822a", "\u67e5\u770b\u5168\u90e8\u901a\u77e5"),
                            t(".top-bar .logout a", "\u5e94\u7528\u5bfc\u822a", "\u70b9\u51fb\u6ce8\u9500"),
                            t(".user-tags li.tag-tab a", "\u8868\u5355\u5bfc\u822a", "\u70b9\u51fb\u6807\u7b7e"),
                            t(".user-tags li.other-tags-container a.other-tags", "\u8868\u5355\u5bfc\u822a", "\u70b9\u51fb\u66f4\u591a\u6807\u7b7e"),
                            t(".other-tags-container .edit-tags-link", "\u8868\u5355\u5bfc\u822a", "\u7f16\u8f91\u6240\u6709\u6807\u7b7e"),
                            t(".form-search-container .search-content", "\u8868\u5355\u5bfc\u822a", "\u641c\u7d22\u8868\u5355"),
                            t(".links a.participated-forms-link", "\u8868\u5355\u5bfc\u822a", "\u67e5\u770b\u4e3a\u522b\u4eba\u586b\u7684\u8868\u5355"),
                            t(".links a.archived-forms-link", "\u8868\u5355\u5bfc\u822a", "\u67e5\u770b\u5df2\u5f52\u6863\u8868\u5355"),
                            t(".create-new .normal-create a", "\u8868\u5355\u7f16\u8f91", "\u70b9\u51fb\u521b\u5efa\u65b0\u8868\u5355"),
                            t(".create-new .template-create a", "\u8868\u5355\u7f16\u8f91", "\u70b9\u51fb\u4ece\u6a21\u677f\u521b\u5efa"),
                            t(".create-new .excel-create a", "\u8868\u5355\u7f16\u8f91", "\u70b9\u51fb\u4eceExcel\u521b\u5efa"),
                            t(".form-symbol-container .icons .form-item", "\u8868\u5355\u7f16\u8f91", "\u66f4\u6539\u8868\u5355\u5217\u8868\u56fe\u6807"),
                            t(".form-symbol-container .colors .form-item", "\u8868\u5355\u7f16\u8f91", "\u66f4\u6539\u8868\u5355\u5217\u8868\u80cc\u666f\u8272"),
                            t("#form_tag_setting .form-tags-container li", "\u8868\u5355\u7f16\u8f91", "\u66f4\u6539\u6807\u7b7e"),
                            t("#form_setting_popover .archive-action", "\u8868\u5355\u7f16\u8f91", "\u5f52\u6863\u8868\u5355", "\u5217\u8868\u9875\u9762"),
                            t(".forms-blocks .cover", "\u8868\u5355\u7f16\u8f91", "\u6253\u5f00\u8868\u5355"),
                            t(".form-overview .edit-form", "\u8868\u5355\u7f16\u8f91", "\u7f16\u8f91\u8868\u5355", "\u6982\u8ff0\u9875\u9762"),
                            t(".form-overview .copy-form", "\u8868\u5355\u7f16\u8f91", "\u590d\u5236\u8868\u5355", "\u6982\u8ff0\u9875\u9762"),
                            t(".form-overview .btn-add-entry", "\u8868\u5355\u7f16\u8f91", "\u6dfb\u52a0\u6570\u636e", "\u6982\u8ff0\u9875\u9762"),
                            t(".form-overview .archive-form-link", "\u8868\u5355\u7f16\u8f91", "\u5f52\u6863\u8868\u5355", "\u6982\u8ff0\u9875\u9762"),
                            t(".form-overview .unarchive-form-link", "\u8868\u5355\u7f16\u8f91", "\u53d6\u6d88\u5f52\u6863\u8868\u5355", "\u6982\u8ff0\u9875\u9762"),
                            t(".form-overview .clear-form-data-link", "\u8868\u5355\u7f16\u8f91", "\u6e05\u7a7a\u6570\u636e", "\u6982\u8ff0\u9875\u9762"),
                            t(".form-overview .delete-form-link", "\u8868\u5355\u7f16\u8f91", "\u5220\u9664\u8868\u5355", "\u6982\u8ff0\u9875\u9762"),
                            t(".form-nav .subnav a", "\u8868\u5355\u7f16\u8f91\u5bfc\u822a",
                            function(e) {
                                return "\u70b9\u51fb" + e.text()
                            }),
                            t("#copy_published_form_link .copy-link[data-role\x3dcopy]", "\u8868\u5355\u7f16\u8f91\u5bfc\u822a", "\u590d\u5236\u8868\u5355\u94fe\u63a5"),
                            t("#copy_published_form_link .open-link", "\u8868\u5355\u7f16\u8f91\u5bfc\u822a", "\u76f4\u63a5\u6253\u5f00"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::TextField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u5355\u884c\u6587\u5b57"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::TextArea"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u591a\u884c\u6587\u5b57"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::RadioButton"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u5355\u9879\u9009\u62e9"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::CheckBox"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u591a\u9879\u9009\u62e9"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::ImageRadioButton"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u56fe\u7247\u5355\u9009"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::ImageCheckBox"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u56fe\u7247\u591a\u9009"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::LikertField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u77e9\u9635\u5355\u9009"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::NumberField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u6570\u5b57"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::EmailField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u90ae\u7bb1"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::LinkField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u7f51\u5740"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::AddressField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u5730\u5740"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::GeoField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u5730\u7406\u4f4d\u7f6e"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::TelephoneField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u7535\u8bdd"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::MobileField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u624b\u673a"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::DateField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u65e5\u671f"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::TimeField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u65f6\u95f4"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::DropDown"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u4e0b\u62c9\u6846"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::CascadeDropDown"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u4e24\u7ea7\u4e0b\u62c9\u6846"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::RatingField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u8bc4\u5206"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::SectionBreak"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u5206\u8282"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::AttachmentField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u4e0a\u4f20\u6587\u4ef6"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::GoodsField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u914d\u56fe\u5546\u54c1"),
                            t('.add-field .new-field[data-field-type\x3d"Fields::BasicGoodsField"]', "\u5b57\u6bb5\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5", "\u65e0\u56fe\u5546\u54c1"),
                            t("#add_field_toggle", "\u5b57\u6bb5\u7f16\u8f91", "\u70b9\u51fb\u6dfb\u52a0\u65b0\u5b57\u6bb5"),
                            t(".field .action.delete", "\u5b57\u6bb5\u7f16\u8f91", "\u5220\u9664\u5b57\u6bb5"),
                            t(".field .action.duplicate", "\u5b57\u6bb5\u7f16\u8f91", "\u590d\u5236\u5b57\u6bb5"),
                            n("sortstop", "#form_preview .fields", "\u5b57\u6bb5\u7f16\u8f91", "\u5b57\u6bb5\u62d6\u52a8\u6392\u5e8f"),
                            t("#add_field_rule_toggle", "\u89c4\u5219\u7f16\u8f91", "\u6dfb\u52a0\u5b57\u6bb5\u89c4\u5219"),
                            t("#add_redirect_rule_toggle", "\u89c4\u5219\u7f16\u8f91", "\u6dfb\u52a0\u8df3\u8f6c\u89c4\u5219"),
                            t("#theme_editing a[href\x3d#web_theme_editing]", "\u6837\u5f0f\u7f16\u8f91", "\u9009\u62e9\u7f51\u9875\u9879"),
                            t("#theme_editing a[href\x3d#mobile_theme_editing]", "\u6837\u5f0f\u7f16\u8f91", "\u9009\u62e9\u624b\u673a\u9879"),
                            t("#web_image_templates .background-preview", "\u6837\u5f0f\u7f16\u8f91", "\u9009\u62e9\u7f51\u9875\u6a21\u677f", "\u56fe\u6848\u6a21\u677f"),
                            t("#web_texture_templates .background-preview", "\u6837\u5f0f\u7f16\u8f91", "\u9009\u62e9\u7f51\u9875\u6a21\u677f", "\u7eb9\u7406\u6a21\u677f"),
                            t("#web_color_templates .background-preview", "\u6837\u5f0f\u7f16\u8f91", "\u9009\u62e9\u7f51\u9875\u6a21\u677f", "\u8272\u5f69\u6a21\u677f"),
                            t("#mobile_image_templates .background-preview", "\u6837\u5f0f\u7f16\u8f91", "\u9009\u62e9\u624b\u673a\u6a21\u677f", "\u56fe\u6848\u6a21\u677f"),
                            t("#mobile_color_templates .background-preview", "\u6837\u5f0f\u7f16\u8f91", "\u9009\u62e9\u624b\u673a\u6a21\u677f", "\u8272\u5f69\u6a21\u677f"),
                            t("#header_image_form input[name\x3dheader_image]", "\u6837\u5f0f\u7f16\u8f91", "\u4fee\u6539\u9875\u7709\u56fe\u7247"),
                            t("#background_image_upload input[name\x3dbackground_image]", "\u6837\u5f0f\u7f16\u8f91", "\u4fee\u6539\u80cc\u666f\u56fe\u7247"),
                            t(".setting-ga-track-id input[type\x3dsubmit]", "\u8868\u5355\u8bbe\u7f6e", "GA\u8ddf\u8e2a\u6253\u5f00"),
                            t("#form_setting_entry_submit_show_message", "\u8868\u5355\u8bbe\u7f6e", "\u5c55\u793a\u6587\u5b57"),
                            t("#form_setting_entry_submit_redirect", "\u8868\u5355\u8bbe\u7f6e", "\u6253\u5f00\u5176\u4ed6\u7f51\u9875"),
                            t("#tab_success a.open-gen-code", "\u8868\u5355\u8bbe\u7f6e", "\u6253\u5f00\u786e\u8ba4\u7801"),
                            t(".setting-json-post input[type\x3dsubmit]", "\u8868\u5355\u8bbe\u7f6e",
                            function(e) {
                                return $("#form_setting_send_entry_data").is(":checked") ? "\u6253\u5f00JSON\u63a8\u9001": ""
                            }),
                            t("#add_role_modal a[data-role\x3ddata_maintainer], #add_role_modal a[data-role\x3dmanager]", "\u8868\u5355\u8bbe\u7f6e", "\u6253\u5f00\u56e2\u961f\u534f\u4f5c"),
                            t(".sms-notification-setting .add-notification", "\u8868\u5355\u8bbe\u7f6e", "\u6dfb\u52a0\u77ed\u4fe1\u63d0\u9192"),
                            t(".email-notification-setting .email-notification-toggle[data-toggle-value\x3dtrue]", "\u8868\u5355\u8bbe\u7f6e", "\u5f00\u542f\u90ae\u4ef6\u81ea\u52a8\u63a8\u9001\u63d0\u9192"),
                            t(".email-notification-setting .email-notification-toggle[data-toggle-value\x3dfalse]", "\u8868\u5355\u8bbe\u7f6e", "\u5173\u95ed\u90ae\u4ef6\u81ea\u52a8\u63a8\u9001\u63d0\u9192"),
                            t(".email-custom-notification-setting .add-notification", "\u8868\u5355\u8bbe\u7f6e", "\u6dfb\u52a0\u90ae\u4ef6\u63d0\u9192"),
                            t("#tab_print a", "\u8868\u5355\u53d1\u5e03", "\u6253\u5370\u8868\u5355"),
                            t("#tab_visit_url #copy_link_1", "\u8868\u5355\u53d1\u5e03", "\u590d\u5236\u7f51\u5740"),
                            t("#tab_visit_url .open-url", "\u8868\u5355\u53d1\u5e03", "\u76f4\u63a5\u6253\u5f00"),
                            t("#tab_visit_url #copy_link_2", "\u8868\u5355\u53d1\u5e03", "\u6269\u5c55\u5c5e\u6027\u590d\u5236\u7f51\u5740"),
                            t("#tab_visit_url .open-extended-url", "\u8868\u5355\u53d1\u5e03", "\u6269\u5c55\u5c5e\u6027\u76f4\u63a5\u6253\u5f00"),
                            t("#copy_script", "\u8868\u5355\u53d1\u5e03", "\u5d4c\u5165\u7f51\u9875Script\u590d\u5236\u4ee3\u7801"),
                            t("#copy_iframe_script", "\u8868\u5355\u53d1\u5e03", "\u5d4c\u5165\u7f51\u9875iFrame\u590d\u5236\u4ee3\u7801"),
                            t("#copy_wp_script", "\u8868\u5355\u53d1\u5e03", "\u5d4c\u5165Wordpress\u590d\u5236\u4ee3\u7801"),
                            t("#entries .btn-add-entry", "\u8868\u5355\u6570\u636e", "\u6dfb\u52a0\u6570\u636e"),
                            t("#entries .btn-excel-append", "\u8868\u5355\u6570\u636e", "\u4eceExcel\u8ffd\u52a0\u6570\u636e"),
                            t("#entries .search a", "\u8868\u5355\u6570\u636e", "\u641c\u7d22\u6570\u636e"),
                            t("#entries #submit_date_range", "\u8868\u5355\u6570\u636e", "\u6309\u65e5\u671f\u7b5b\u9009"),
                            t("#filter_data #submit_filter", "\u8868\u5355\u6570\u636e",
                            function(e) {
                                return $("#entries").length > 0 ? "\u7b5b\u9009": ""
                            }),
                            t("#entries .icon-audit-trail", "\u8868\u5355\u6570\u636e", "\u53d8\u66f4\u8bb0\u5f55"),
                            t("#entries .zoom-in", "\u8868\u5355\u6570\u636e", "\u5168\u5c4f\u67e5\u770b"),
                            t("#entries .footer .bulk-delete", "\u8868\u5355\u6570\u636e", "\u6279\u91cf\u5220\u9664"),
                            t("#entries .footer .export-to-excel", "\u8868\u5355\u6570\u636e", "\u5bfc\u51faExcel"),
                            t("#entries .footer a[href\x3d#share_result_modal]", "\u8868\u5355\u6570\u636e", "\u5206\u4eab\u7ed3\u679c"),
                            t(".reports_page .search a", "\u8868\u5355\u62a5\u8868", "\u641c\u7d22"),
                            t(".reports_page #submit_date_range", "\u8868\u5355\u62a5\u8868", "\u6309\u65e5\u671f\u7b5b\u9009"),
                            t("#filter_data #submit_filter", "\u8868\u5355\u62a5\u8868",
                            function(e) {
                                return $(".reports_page").length > 0 ? "\u7b5b\u9009": ""
                            }),
                            t(".template .search i", "\u6a21\u677f\u4e2d\u5fc3", "\u641c\u7d22\u6a21\u677f"),
                            t(".template .top-navbar ul a", "\u6a21\u677f\u4e2d\u5fc3",
                            function(e) {
                                return "\u67e5\u770b" + e.text()
                            }),
                            t(".profile .nav-tabs li:not(.profile-avatar) a", "\u4e2a\u4eba\u4e2d\u5fc3\u5bfc\u822a",
                            function(e) {
                                return "\u70b9\u51fb" + e.text()
                            }),
                            t("#change_avatar_modal #change_avatar", "\u8d26\u6237\u8bbe\u7f6e", "\u4fee\u6539\u5934\u50cf"),
                            t("#weixin .enable_weixin", "\u8d26\u6237\u8bbe\u7f6e", "\u5f00\u542f\u5fae\u4fe1\u589e\u5f3a\u5305")
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return GoldenData.Statement = Backbone.Model.extend({
                                defaults: {
                                    label: ""
                                },
                                toJSON: function(e) {
                                    var t;
                                    return e == null && (e = !0),
                                    t = _.clone(this.attributes),
                                    e && $.trim(t.label) === "" && (t.label = "\u9898\u76ee"),
                                    t
                                }
                            }),
                            GoldenData.StatementList = Backbone.Collection.extend({
                                model: GoldenData.Statement
                            }),
                            GoldenData.StatementContainerEditView = Backbone.View.extend({
                                tagName: "li",
                                className: "statement",
                                events: {
                                    "change input": "update",
                                    "click .delete": "deleteStatement",
                                    "click .add": "addStatement"
                                },
                                _resetPlaceHolder: function() {
                                    return this.$("input.placeholder, textarea.placeholder").focus(),
                                    this.$("input.placeholder, textarea.placeholder").trigger("phinit.placeholder")
                                },
                                render: function() {
                                    var e;
                                    return e = _.template($("#statement_edit_template").html()),
                                    $(this.el).html(e(this.model.toJSON(!1))),
                                    GoldenData.fieldEditView.$(".statements .delete").show(),
                                    this.$("input").placeholder(),
                                    this
                                },
                                update: function(e) {
                                    return GoldenData.updateChoice(e, this.model),
                                    e.stopPropagation()
                                },
                                deleteStatement: function(e) {
                                    e.preventDefault(),
                                    GoldenData.fieldEditView.model.statementList.remove(this.model),
                                    this._resetPlaceHolder(),
                                    this.remove();
                                    if (GoldenData.fieldEditView.model.statementList.length <= 1) return GoldenData.fieldEditView.$(".statements .delete").hide()
                                },
                                addStatement: function() {
                                    var e, t, n;
                                    return n = GoldenData.fieldEditView.model.statementList,
                                    e = _.indexOf(n.models, this.model) + 1,
                                    t = new GoldenData.Statement,
                                    n.add(t, {
                                        at: e
                                    }),
                                    this.$el.after((new GoldenData.StatementContainerEditView({
                                        model: t
                                    })).render().el),
                                    this._resetPlaceHolder()
                                }
                            }),
                            GoldenData.LikertShowView = Backbone.View.extend({
                                tagName: "table",
                                className: "table",
                                initialize: function() {
                                    return this.model.textChoiceList.each(function(e) {
                                        return function(t) {
                                            return e.listenTo(t, "change", e.render)
                                        }
                                    } (this)),
                                    this.model.statementList.each(function(e) {
                                        return function(t) {
                                            return e.listenTo(t, "change", e.render)
                                        }
                                    } (this))
                                },
                                _renderHead: function() {
                                    var e, t;
                                    return e = $("\x3cthead\x3e\x3c/thead\x3e"),
                                    t = $("\x3ctr\x3e\x3c/tr\x3e"),
                                    t.append("\x3cth\x3e\x3c/th\x3e"),
                                    this.model.textChoiceList.each(function(e) {
                                        return t.append("\x3cth\x3e" + (e.get("value") || "\u9009\u9879") + "\x3c/th\x3e")
                                    }),
                                    e.html(t)
                                },
                                _renderBody: function() {
                                    var e;
                                    return e = $("\x3ctbody\x3e\x3c/tbody\x3e"),
                                    this.model.statementList.each(function(t) {
                                        return function(n, r) {
                                            var i;
                                            return i = $("\x3ctr\x3e\x3c/tr\x3e"),
                                            i.append("\x3ctd\x3e" + (n.get("label") || "\u9898\u76ee") + "\x3c/td\x3e"),
                                            t.model.textChoiceList.each(function(e) {
                                                i.append("\x3ctd\x3e\x3cinput type\x3d'radio' value\x3d'" + (e.get("value") || "\u9009\u9879") + "' name\x3d'statement_" + r + "'\x3e\x3c/td\x3e");
                                                if (e.get("selected")) return i.find("input").attr("checked", !0)
                                            }),
                                            e.append(i)
                                        }
                                    } (this)),
                                    e
                                },
                                render: function() {
                                    return this.$el.html(this._renderHead()),
                                    this.$el.append(this._renderBody()),
                                    this.$("input").attr("disabled", !0),
                                    this
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return $(document).on("click", ".modal.dialog .modal-footer .submit",
                            function() {
                                return $(this).parents(".modal").find("form").submit()
                            }),
                            $(document).on("ajax:complete", ".modal.dialog",
                            function(e, t, n) {
                                var r, i, s;
                                if (t.status !== 200) return $(this).children(".modal-body").html(t.responseText);
                                $(this).modal("hide"),
                                $($(this).data("target")).html(t.responseText),
                                i = $($(this).data("target")).find(".flash-notification"),
                                r = i.data("message"),
                                s = i.data("show-type");
                                if (s === "static") {
                                    if (r) return showStaticNotification(i, r)
                                } else if (r) return showFlashNotification(r)
                            }),
                            $(document).on("hidden", ".modal.dialog",
                            function(e) {
                                e.stopPropagation();
                                if ($(e.target).is(".modal")) return $(this).removeData("modal").find(".modal-body form").remove()
                            }),
                            e = function(t, n) {
                                var r, i, s;
                                n == null && (n = 20),
                                r = (s = $(t).data("loop")) != null ? s: 0;
                                if (r > n) return;
                                return $(t).data("loop", r + 1),
                                $(t).find(".modal-body \x3e :not(.loading):not(.cover)").length > 0 ? (i = $(t).find(".modal-body .header"), i.length > 0 && $(t).find(".modal-header h3, .modal-header h4").html(i.html()), GoldenData.updateModalHeight(t), $(t).data("loop", 0)) : setTimeout(function() {
                                    return e(t)
                                },
                                20)
                            },
                            $(document).on("shown", ".modal.auto-height",
                            function(t) {
                                return t.stopPropagation(),
                                e(this)
                            })
                        })
                    }.call(this),
                    function() {
                        $(document).on("page:load ready",
                        function() {
                            return $("#change_per_page").clickover({
                                animation: !1,
                                container: "body",
                                tip_id: "per_page_choices_container",
                                content: function() {
                                    return $("#available_per_pages").html()
                                },
                                onShown: function() {
                                    return $("#per_page_choices_container a").click(function() {
                                        return $("#available_per_pages").click()
                                    })
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return $(document).on("change", ".charge-pay.pay-area input[name\x3damount]",
                            function() {
                                return $(".charge-pay.pay-area .selected").removeClass("selected"),
                                $(this).closest("label").addClass("selected"),
                                GoldenData.updatePaymentSubmitInfo($(this).closest("form"))
                            }),
                            $(document).on("page:load ready",
                            function() {
                                return $(".charge-pay.pay-area .amount-choice label:first-child input[name\x3damount]").attr("checked", !0).trigger("change")
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r, i, s, o, u;
                            return i = function(e) {
                                return $(".form-preview-with-theme .entry-container").height(e + 60),
                                $(".form-preview-with-theme .bg-image").height(e)
                            },
                            s = function() {
                                return $("#theme_preview .entry-container, #theme_preview .bg-image").height("auto")
                            },
                            o = function(e) {
                                return $(".form-preview-with-theme [class^\x3d'preview-in-']").hide(),
                                $(".form-preview-with-theme .preview-in-" + e).show(),
                                $(".form-preview-with-theme .zoom-in-top-bar span[data-preview-mode!\x3d" + e + "]").removeClass("active"),
                                $(".form-preview-with-theme .zoom-in-top-bar span[data-preview-mode\x3d" + e + "]").addClass("active"),
                                $(window).scrollTop(1)
                            },
                            u = function(e) {
                                return $("#form_preview_container, .form-preview-with-theme").find(".preview-in-mobile .entry-container").html("\x3cdiv class\x3d'mobile-container'\x3e\x3ciframe class\x3d'mobile-preview' frameborder\x3d'0'\x3e\x3c/iframe\x3e\x3c/div\x3e"),
                                GoldenData.writeContentToIframe(".form-preview-with-theme .mobile-preview", e)
                            },
                            n = function() {
                                var e;
                                return e = "\x3cdiv class\x3d'mobile-container'\x3e\x3cdiv class\x3d'need-change-browser'\x3e \x3cp\x3e\u5f53\u524d\u6d4f\u89c8\u5668\u65e0\u6cd5\u5b8c\u7f8e\u9884\u89c8\u8868\u5355\u5728\u624b\u673a\u4e0a\u7684\u5c55\u73b0\uff0c\u8bf7\u4f7f\u7528360\u6216\u641c\u72d7\u6d4f\u89c8\u5668\u7684\u6781\u901f\u6a21\u5f0f\uff0c\u6216\u8005\u4e0b\u8f7d\u5b89\u88c5\x3ca target\x3d'_blank' href\x3d'http://www.google.com/intl/zh-CN/chrome/browser/'\x3e\u8c37\u6b4cChrome\u6d4f\u89c8\u5668\x3c/a\x3e\uff0c\u6765\u83b7\u5f97\u6700\u4f73\u7684\u9884\u89c8\u6548\u679c\u3002 \x3c/p\x3e\x3c/div\x3e\x3c/div\x3e",
                                $("#form_preview_container, .form-preview-with-theme").find(".preview-in-mobile .entry-container").html(e),
                                o("mobile")
                            },
                            r = function(e) {
                                return e === "mobile" ? $.trim($(".form-preview-with-theme .preview-in-mobile .entry-container").html()) : $.trim($(".form-preview-with-theme .preview-in-web .bg-image").html())
                            },
                            t = function() {
                                return r("mobile") ? o("mobile") : $.ajax({
                                    url: "" + url() + "/preview",
                                    type: "post",
                                    contentType: "application/json",
                                    data: JSON.stringify({
                                        theme: {
                                            show_header_image: GoldenData.theme.header.get("show_image_on_mobile"),
                                            header_image_url: $(".banner-img img").attr("src"),
                                            header_background_color: GoldenData.theme.header.get("background_color")
                                        }
                                    }),
                                    processData: !1,
                                    success: function(e, t, n) {
                                        return u(n.responseText),
                                        o("mobile")
                                    }
                                })
                            },
                            e = function() {
                                return $('.platform-switch li.active a[data-toggle\x3d"tab"]').attr("href") === "#mobile_theme_editing" ? "mobile": "web"
                            },
                            $(document).on("click", "#preview_form:not(.disabled), #form_preview_container .zoom-in-top-bar span",
                            function() {
                                var e, t;
                                return t = $(this).data("preview-mode"),
                                r(t) ? o(t) : $(this).data("need-change-browser") === !0 ? n() : (e = GoldenData.form.toJSON(), e.fields = GoldenData.form.fieldList.toJSON(), $.ajax({
                                    url: "/forms/preview?mode\x3d" + t,
                                    type: "post",
                                    contentType: "application/json",
                                    data: JSON.stringify({
                                        form: e
                                    }),
                                    processData: !1,
                                    success: function(e, n, r) {
                                        t === "web" ? $("#form_preview_container .preview-in-web .bg-image").html(r.responseText) : u(r.responseText),
                                        o(t);
                                        if (!$("#form_preview_container .preview-content").hasClass("fullscreen")) return $("#form_preview_container .zoom a:first").trigger("click")
                                    }
                                }))
                            }),
                            $(document).on("click", "#theme_preview .zoom-in-top-bar span[data-preview-mode]",
                            function() {
                                var e;
                                return e = $(this).data("preview-mode"),
                                r(e) ? o(e) : $(this).data("need-change-browser") === !0 ? n() : t()
                            }),
                            $(document).on("click", "#preview_theme",
                            function() {
                                return $("#theme_preview .zoom-in").click(),
                                o(e())
                            }),
                            GoldenData.initializeZoom("#form_preview_container .preview-content", {
                                beforeZoomIn: function(e) {
                                    return $(".banner-img img") && (e += $(".banner-img img").height()),
                                    i(e),
                                    $("#form_preview_container").removeClass("hide"),
                                    $("#form_preview_container .zoom").show()
                                },
                                beforeZoomOut: function() {
                                    return $("#form_preview_container").addClass("hide"),
                                    $("#form_preview_container").find(".preview-in-web .bg-image, .preview-in-mobile .entry-container").html(""),
                                    $("#form_preview_container .zoom").hide()
                                }
                            }),
                            GoldenData.initializeZoom("#theme_preview .preview-content", {
                                beforeZoomIn: function(e) {
                                    return i(e),
                                    $("#theme_preview \x3e .buttons").hide(),
                                    $("#theme_preview").css("position", "static"),
                                    $("#theme_preview .zoom").show()
                                },
                                beforeZoomOut: function() {
                                    return s(),
                                    $("#theme_preview \x3e .buttons").show(),
                                    $("#theme_preview").css("position", "relative"),
                                    o(e()),
                                    $("#theme_preview .zoom").hide()
                                }
                            }),
                            $(document).on("ready page:load",
                            function() {
                                return $('.platform-switch a[data-toggle\x3d"tab"]').on("show",
                                function() {
                                    return $(this).attr("href") === "#mobile_theme_editing" ? $(this).data("need-change-browser") === !0 ? n() : t() : o("web")
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return $(document).on("page:change ready",
                            function() {
                                var e, t, n, r;
                                return e = ((n = $(".text.email").position()) != null ? n.left: void 0) + $(".text.email").width() + 8,
                                t = ((r = $(".text.email").position()) != null ? r.top: void 0) + 2,
                                $(".controls .warning").css("left", e),
                                $(".controls .warning").css("top", t),
                                $(".form-email-notifications [data-toggle\x3dtab]:first").click()
                            }),
                            $(document).on("click", "#save_password, #change_email, #change_nickname",
                            function() {
                                return $(this).parents(".modal").find("form").submit()
                            }),
                            $(document).on("ajax:complete", "#change_password_modal, #change_email_modal, #change_nickname_modal",
                            function(e, t, n) {
                                return t.status === 200 ? ($(this).modal("hide"), Turbolinks.visit(t.responseText)) : $(this).children(".modal-body").html(t.responseText)
                            }),
                            $(document).on("keydown", "#change_password_modal",
                            function(e) {
                                if (e.keyCode === 13) return $(e.target).parents(".modal").find("form").submit()
                            }),
                            $(document).on("change", ".complete-form #user_nick_name, .complete-form #email",
                            function() {
                                var e;
                                return e = $(this).parents(".controls"),
                                e.find(".error").remove(),
                                e.find(".field_with_errors").removeClass("field_with_errors")
                            }),
                            $(document).on("click", "#weibo, #qq_connect, #renren",
                            function() {
                                return $(".loading").show()
                            }),
                            $(".invoice-detail").livequery(function() {
                                return $(this).clickover({
                                    animation: !1,
                                    tip_id: function() {
                                        return "invoice-detail"
                                    },
                                    content: function() {
                                        return $(this).parent().find(".invoice-detail-popup").html()
                                    }
                                })
                            }),
                            $(document).on("page:change ready",
                            function() {
                                return $("#save_invoice").attr("disabled", !0),
                                $("#apply_invoice_modal").on("shown",
                                function() {
                                    return delay(1E3,
                                    function(e) {
                                        return function() {
                                            return $("#save_invoice").attr("disabled", !$(e).find(".invoice-confirm").is(":checked"))
                                        }
                                    } (this))
                                })
                            }),
                            $(document).on("change", "#apply_invoice_modal .invoice-confirm",
                            function() {
                                return $("#save_invoice").attr("disabled", !$(this).is(":checked"))
                            }),
                            $(document).on("click", "#sms_email_history .search",
                            function(e) {
                                var t, n, r;
                                return e.stopPropagation(),
                                e.preventDefault(),
                                n = $(this).closest(".search-area").find(".search-type option:selected").val(),
                                t = encodeURIComponent($(this).parent().find(".search-content").val()),
                                r = $(this).closest(".search-area").data("base-url") + ("\x26search_type\x3d" + n + "\x26search_content\x3d" + t),
                                Turbolinks.visit(r)
                            }),
                            $(document).on("keypress", "#sms_email_history .search-content",
                            function(e) {
                                if (e.keyCode === 13) return $(this).blur(),
                                $(this).closest(".search-area").find(".search").click()
                            }),
                            $(document).on("change", "#sms_email_history .search-type",
                            function() {
                                $(this).closest(".tab-pane").find(".search-input").addClass("hide"),
                                $(this).closest(".tab-pane").find("[data-type\x3d" + $(this).val() + "]").removeClass("hide");
                                if ($(this).val() === "form_name" && $(this).closest(".search-area").find(".form-names option").length === 0) return $.ajax({
                                    type: "get",
                                    dataType: "json",
                                    url: $(this).data("names-url"),
                                    data: {
                                        verb: $(this).closest(".tab-pane").attr("id")
                                    }
                                }).done(function(e) {
                                    return function(t) {
                                        return $(e).closest(".tab-pane").find(".form-names").empty().append("\x3coption\x3e------\u5168\u90e8\u8868\u5355------\x3c/option\x3e"),
                                        _.each(t.names,
                                        function(t, n, r) {
                                            return $(e).closest(".tab-pane").find(".form-names").append("\x3coption\x3e" + htmlSafe(t) + "\x3c/option\x3e")
                                        })
                                    }
                                } (this))
                            }),
                            $(document).on("change", "#sms_email_history .form-names",
                            function() {
                                var e, t, n;
                                return t = $(this).closest(".search-area").find(".search-type option:selected").val(),
                                e = encodeURIComponent($(this).closest(".search-area").find(".search-content[data-type\x3d" + t + "]").val()),
                                n = $(this).closest(".search-area").data("base-url") + ("\x26search_type\x3d" + t + "\x26search_content\x3d" + e),
                                Turbolinks.visit(n)
                            }),
                            $(document).on("click", "#sms_email_history .submit-date",
                            function() {
                                var e;
                                return $(this).hasClass("disabled") ? !1 : (e = {},
                                e.search_type = "sent_at", e.start = $("#date_range_picker .start-date").data("date"), e.end = $("#date_range_picker .end-date").data("date"), Turbolinks.visit("" + $(".search-area:visible").data("base-url") + "\x26" + $.param(e)))
                            }),
                            $(document).on("click", "#sms_notification tbody tr",
                            function() {
                                var e;
                                return e = $(this).data("content"),
                                $("#sms_notification_modal .recipient").text(e.recipient),
                                $("#sms_notification_modal .form-name").text(e.form_name),
                                $("#sms_notification_modal .content").text(e.content),
                                $("#sms_notification_modal").modal("show")
                            }),
                            $(document).on("click", "#email_notification tbody tr",
                            function() {
                                var e;
                                return e = $(this).data("content"),
                                $("#email_notification_modal .recipient").text(e.recipient),
                                $("#email_notification_modal .subject").text(e.subject),
                                $("#email_notification_modal .form-name").text(e.form_name),
                                $("#email_notification_modal .content").html("\x3cpre\x3e" + e.content + "\x3c/pre\x3e"),
                                $("#email_notification_modal").modal("show")
                            }),
                            $(document).on("change", ".form-email-notifications .tab-pane.active [type\x3dcheckbox]",
                            function(e) {
                                var t;
                                return t = $(this).attr("name"),
                                $(".form-email-notifications .tab-pane:not(.active) [type\x3dcheckbox][name\x3d'" + t + "']").attr("checked", $(this).is(":checked"))
                            }),
                            $(document).on("click", ".upgrade_enable_weixin",
                            function() {
                                var e;
                                return e = new Date,
                                e.setTime(e.getTime() + 3E5),
                                $.cookie("enable_weixin", !0, {
                                    path: "/",
                                    expires: e
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return GoldenData.RatingShowView = Backbone.View.extend({
                                render: function() {
                                    var e, t, n;
                                    n = this.model.get("rating_type"),
                                    e = "",
                                    t = this.model.get("choices").length;
                                    while (t--) e += "\x3ci class\x3d'fa fa-" + n + "-o'\x3e\x3c/i\x3e";
                                    return $(this.el).html(e),
                                    this
                                }
                            }),
                            GoldenData.RatingEditView = Backbone.View.extend({
                                events: {
                                    "change select": "update_max_ratings",
                                    "click .rating-type": "update_rating_type",
                                    "click .rating-type i": "trigger_parent"
                                },
                                render: function() {
                                    var e;
                                    return e = _.template($("#rating_template").html()),
                                    $(this.el).html(e(this.model.toJSON())),
                                    this
                                },
                                update_max_ratings: function(e) {
                                    var t, n, r, i, s;
                                    n = parseInt($(e.target).val()),
                                    this.model.textChoiceList.reset();
                                    for (i = s = 1; 1 <= n ? s <= n: s >= n; i = 1 <= n ? ++s: --s) this.model.textChoiceList.add({
                                        value: i
                                    });
                                    r = n >= 10 ? 2 : 1;
                                    if (r !== this.model.get("new_minimum_grids_to_occupy")) return t = {
                                        minimum_grids_to_occupy: r
                                    },
                                    this.model.get("grids_to_occupy") && parseInt(this.model.get("grids_to_occupy")) < r && (t.grids_to_occupy = null),
                                    this.model.set(t),
                                    GoldenData.fieldEditView.render(this.model)
                                },
                                update_rating_type: function(e) {
                                    var t, n, r;
                                    return r = $(e.target),
                                    n = {},
                                    t = r.data("field-key"),
                                    n[t] = r.data("value"),
                                    this.model.set(n)
                                },
                                trigger_parent: function(e) {
                                    return e.stopPropagation(),
                                    $(e.target).parent().click()
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r;
                            return GoldenData.charts = {},
                            $(document).on("click", ".btn.download",
                            function() {
                                var e;
                                e = GoldenData.charts[$(this).data("target")];
                                if (e) return e.exportChart()
                            }),
                            e = function() {
                                function e(e, t, n, r) {
                                    var i, s, o, u, a, f, l, c, h, p, d;
                                    r == null && (r = null),
                                    this.options = this.defaultOptions(),
                                    this.options.chart.renderTo = n,
                                    this.options.chart.type = t,
                                    s = $("#" + n).width(),
                                    a = $("#" + n).next().height(),
                                    this.options.chart.height = Math.min(s, a),
                                    f = {
                                        showInLegend: !1,
                                        name: "\u6570\u91cf",
                                        data: []
                                    },
                                    c = 0,
                                    i = [],
                                    d = e.choices;
                                    for (h = 0, p = d.length; h < p; h++) o = d[h],
                                    l = o[0],
                                    u = o[1],
                                    f.data.push({
                                        name: l,
                                        y: u
                                    }),
                                    i.push(l),
                                    c += u;
                                    this.options.series.push(f),
                                    this.options.plotOptions.series.dataLabels.formatter = function() {
                                        var e;
                                        return e = Highcharts.numberFormat(this.y * 100 / c, 1),
                                        "" + e + " %"
                                    },
                                    this.options.xAxis.categories = i,
                                    r && r(this.options)
                                }
                                return e.prototype.defaultOptions = function() {
                                    return {
                                        chart: {
                                            marginTop: 36,
                                            backgroundColor: GoldenData.isMobile ? "transparent": "#FFFFFF"
                                        },
                                        colors: ["#73a8c7", "#da6d4e", "#edb055", "#b1c95b", "#c3aad0"],
                                        credits: {
                                            enabled: !1
                                        },
                                        title: {
                                            text: null
                                        },
                                        xAxis: {
                                            labels: {
                                                style: {
                                                    fontFamily: "verdana"
                                                },
                                                useHTML: !0,
                                                formatter: function() {
                                                    return "\x3cspan\x3e" + this.value + "\x3c/span\x3e"
                                                }
                                            }
                                        },
                                        yAxis: {
                                            min: 0,
                                            labels: {
                                                enabled: !1,
                                                style: {
                                                    fontFamily: "verdana"
                                                }
                                            },
                                            title: {
                                                text: null
                                            },
                                            gridLineWidth: 0
                                        },
                                        exporting: {
                                            enabled: !1
                                        },
                                        tooltip: {
                                            borderRadius: 0,
                                            borderColor: "#333",
                                            shadow: !1,
                                            useHTML: !0
                                        },
                                        plotOptions: {
                                            bar: {
                                                shadow: !1
                                            },
                                            pie: {
                                                dataLabels: {
                                                    distance: 15,
                                                    style: {
                                                        fontFamily: "verdana"
                                                    }
                                                }
                                            },
                                            series: {
                                                pointWidth: 12,
                                                pointPadding: 0,
                                                groupPadding: 0,
                                                borderWidth: 0,
                                                colorByPoint: !0,
                                                dataLabels: {
                                                    enabled: !0
                                                }
                                            }
                                        },
                                        series: []
                                    }
                                },
                                e.prototype.render = function() {
                                    return GoldenData.charts[this.options.chart.renderTo] = new Highcharts.Chart(this.options)
                                },
                                e
                            } (),
                            t = function() {
                                function t(t, n) {
                                    this.chart = (new e(t, "bar", n,
                                    function(e) {
                                        return e.chart.height = $("#" + n).next().height()
                                    })).render()
                                }
                                return t
                            } (),
                            n = function() {
                                function t(t, n) {
                                    this.chart = (new e(t, "column", n,
                                    function(e) {
                                        e.xAxis.labels = {
                                            align: "right",
                                            rotation: -45,
                                            useHTML: !1,
                                            style: {
                                                fontFamily: "verdana"
                                            },
                                            formatter: function() {
                                                return this.value.length > 5 ? "" + this.value.slice(0, 5) + "...": this.value
                                            }
                                        },
                                        e.chart.height = $("#" + n).height();
                                        if ($("#" + n).hasClass("compact")) return e.chart.marginTop = 10
                                    })).render()
                                }
                                return t
                            } (),
                            r = function() {
                                function t(t, n) {
                                    this.chart = (new e(t, "pie", n,
                                    function(e) {
                                        return e.plotOptions.series.dataLabels.formatter = function() {
                                            var e;
                                            return e = this.point.name.length > 15 ? "" + this.point.name.slice(0, 15) + "...": this.point.name,
                                            "" + e + " " + Highcharts.numberFormat(this.percentage, 1) + " %"
                                        }
                                    })).render()
                                }
                                return t
                            } (),
                            GoldenData.ReportChart = function() {
                                function e(e) {
                                    var i, s, o, u, a;
                                    u = e.attr("id"),
                                    i = _.clone(e.data("report")),
                                    i.choices = _.pairs(i.choices),
                                    o = e.data("sort"),
                                    !o || (s = _.sortBy(i.choices,
                                    function(e) {
                                        return o === "down" ? -e[1] : e[1]
                                    }), i.choices = s),
                                    a = e.data("chart-type");
                                    switch (a) {
                                    case "column":
                                        new n(i, u);
                                        break;
                                    case "pie":
                                        new r(i, u);
                                        break;
                                    default:
                                        new t(i, u)
                                    }
                                }
                                return e
                            } (),
                            GoldenData.ReportLineChart = function() {
                                function e(e) {
                                    this.options = {
                                        chart: {
                                            renderTo: e.div_id,
                                            type: "line"
                                        },
                                        colors: ["#73a8c7", "#da6d4e", "#edb055", "#b1c95b", "#c3aad0"],
                                        credits: {
                                            enabled: !1
                                        },
                                        title: {
                                            text: e.title
                                        },
                                        legend: {
                                            borderRadius: 0
                                        },
                                        xAxis: {
                                            type: "datetime",
                                            dateTimeLabelFormats: {
                                                day: "%m-%d"
                                            }
                                        },
                                        yAxis: {
                                            title: {
                                                text: e.y_label
                                            },
                                            min: 0,
                                            allowDecimals: !1
                                        },
                                        tooltip: {
                                            xDateFormat: "%Y-%m-%d",
                                            borderRadius: 0,
                                            borderColor: "#333",
                                            shadow: !1,
                                            style: {
                                                lineHeight: "150%",
                                                padding: "8px"
                                            }
                                        },
                                        series: [{
                                            name: e.y_label,
                                            data: e.data,
                                            pointStart: e.start_date,
                                            pointInterval: 864E5
                                        }]
                                    }
                                }
                                return e.prototype.render = function() {
                                    return Highcharts.setOptions({
                                        global: {
                                            useUTC: !1
                                        }
                                    }),
                                    new Highcharts.Chart(this.options)
                                },
                                e
                            } (),
                            GoldenData.AdminReportLineChart = function() {
                                function e(e) {
                                    this.options = {
                                        chart: {
                                            renderTo: e.div_id
                                        },
                                        colors: ["#73a8c7", "#da6d4e", "#edb055", "#b1c95b", "#c3aad0"],
                                        credits: {
                                            enabled: !1
                                        },
                                        title: {
                                            text: e.title
                                        },
                                        legend: {
                                            borderRadius: 0
                                        },
                                        xAxis: {
                                            type: "datetime",
                                            dateTimeLabelFormats: {
                                                day: "%m-%d"
                                            }
                                        },
                                        yAxis: [{
                                            title: {
                                                text: e.y_label
                                            },
                                            min: 0,
                                            allowDecimals: !1
                                        },
                                        {
                                            title: {
                                                text: e.daily_y_label
                                            },
                                            min: 0,
                                            allowDecimals: !1,
                                            opposite: !0
                                        }],
                                        tooltip: {
                                            xDateFormat: "%Y-%m-%d",
                                            borderRadius: 0,
                                            borderColor: "#333",
                                            shadow: !1,
                                            style: {
                                                padding: "8px"
                                            }
                                        },
                                        series: [{
                                            type: "line",
                                            name: e.y_label,
                                            data: e.increment_data,
                                            pointStart: e.start_date,
                                            pointInterval: 864E5
                                        },
                                        {
                                            type: "column",
                                            name: e.daily_y_label,
                                            data: e.daily_data,
                                            pointStart: e.start_date,
                                            pointInterval: 864E5,
                                            yAxis: 1
                                        }],
                                        plotOptions: {
                                            series: {
                                                shadow: !1
                                            }
                                        }
                                    }
                                }
                                return e.prototype.render = function() {
                                    return Highcharts.setOptions({
                                        global: {
                                            useUTC: !1
                                        }
                                    }),
                                    new Highcharts.Chart(this.options)
                                },
                                e
                            } ()
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return $(document).on("click", ".chart-type-toggle .btn",
                            function() {
                                var e;
                                return e = $(this).parents(".field_content").find(".field_chart"),
                                e.data("chart-type", $(this).data("chart-type")),
                                new GoldenData.ReportChart(e)
                            }),
                            e = function(e, t) {
                                var n;
                                return n = e.clone().sort(function(e, n) {
                                    var r, i;
                                    return r = parseInt($(e).find(".c-value").html()),
                                    i = parseInt($(n).find(".c-value").html()),
                                    t === void 0 && (r = parseInt($(e).find(".c-value").data("index")), i = parseInt($(n).find(".c-value").data("index"))),
                                    t ? i - r: r - i
                                }),
                                n
                            },
                            $(document).on("click", ".data_count",
                            function() {
                                var t, n, r, i;
                                r = $(this),
                                n = $(r.closest("table").children("tbody")),
                                t = $(r.closest(".field_data").siblings(".field_chart")),
                                i = n.children("tr");
                                if (r.hasClass("sort")) return r.removeClass("sort").addClass("sort-down"),
                                n.html(e(i, !0)),
                                t.data("sort", "down"),
                                new GoldenData.ReportChart(t);
                                if (r.hasClass("sort-down")) return r.removeClass("sort-down").addClass("sort-up"),
                                n.html(e(i, !1)),
                                t.data("sort", "up"),
                                new GoldenData.ReportChart(t);
                                if (r.hasClass("sort-up")) return r.removeClass("sort-up").addClass("sort"),
                                n.html(e(i)),
                                t.removeData("sort"),
                                new GoldenData.ReportChart(t)
                            }),
                            GoldenData.showReport = function() {
                                if ($("#reports_container:visible").length > 0 && !$("#reports_container").data("charts-shown")) return $.each($(".field_chart[data-report]"),
                                function(e, t) {
                                    return new GoldenData.ReportChart($(t))
                                }),
                                $("#reports_container").data("charts-shown", !0)
                            },
                            $(document).on("page:load ready",
                            function() {
                                return setTimeout(GoldenData.showReport, 10)
                            }),
                            $(document).on("ajax:complete", ".reports_page .filter-content",
                            function() {
                                return setTimeout(GoldenData.showReport, 10)
                            }),
                            $(document).on("shown click", ".results_nav, [data-role\x3dnavbar] a",
                            function() {
                                return setTimeout(GoldenData.showReport, 10)
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return $(document).on("click", "#term",
                            function() {
                                return $("#registration_form input:submit").attr("disabled", $(this).attr("checked") !== "checked")
                            }),
                            e = function() {
                                if ($("#registration_form").length > 0) return validateForm("#registration_form", {
                                    rules: {
                                        email: {
                                            required: !0,
                                            email: !0,
                                            remote: "/identities/check_email"
                                        },
                                        password: "required",
                                        password_confirmation: {
                                            equalTo: "#registration_form input[name\x3d'password']"
                                        }
                                    },
                                    messages: {
                                        email: {
                                            required: "\u4e0d\u80fd\u4e3a\u7a7a",
                                            email: "\u683c\u5f0f\u4e0d\u5bf9",
                                            remote: "\u5df2\u88ab\u5360\u7528"
                                        },
                                        password: {
                                            required: "\u4e0d\u80fd\u4e3a\u7a7a"
                                        },
                                        password_confirmation: "\u4e0e\u5bc6\u7801\u4e0d\u7b26"
                                    }
                                })
                            },
                            e(),
                            $(window).bind("page:change", e),
                            $(document).on("click", ".register .bottom a",
                            function() {
                                return $(".login").toggle(),
                                $(".register.form").toggle(),
                                $(this).toggleClass("arrow-right").toggleClass("arrow-left")
                            }),
                            $(document).on("click", ".login .submit",
                            function() {
                                return $(".login form").submit()
                            }),
                            $(document).on("keydown",
                            function(e) {
                                if (e.keyCode === 13 && !!$("#login").val()) return $(".login-panel form").submit()
                            })
                        })
                    }.call(this),
                    function() {
                        var e;
                        e = function() {
                            function e() {}
                            return e.prototype.setEntry = function(e) {
                                return this.title = encodeURIComponent(e.title || document.title),
                                this.url = encodeURIComponent((e.url || document.location).replace("https://", "http://")),
                                this.pic = encodeURIComponent(e.pic || ""),
                                this.description = encodeURIComponent(e.description || "")
                            },
                            e.prototype.weibo = function() {
                                var e, t, n;
                                return e = 1843447738,
                                t = "http://v.t.sina.com.cn/share/share.php?appkey\x3d" + e + "\x26title\x3d" + this.title + "\x26url\x3d" + this.url + "\x26pic\x3d" + this.pic,
                                n = "width\x3d700,height\x3d480, top\x3d" + (screen.height - 430) / 2 + ", left\x3d" + (screen.width - 440) / 2 + ", toolbar\x3dno, menubar\x3dno, scrollbars\x3dno, location\x3dyes, resizable\x3d1, status\x3dno",
                                window.open(t, "\u5206\u4eab\u5230\u5fae\u535a", n)
                            },
                            e.prototype.qqmb = function() {
                                var e, t;
                                return e = "http://v.t.qq.com/share/share.php?title\x3d" + this.title + "\x26url\x3d" + this.url + "\x26pic\x3d" + this.pic,
                                t = "width\x3d600, height\x3d480, top\x3d" + (screen.height - 700) / 2 + ", left\x3d" + (screen.width - 580) / 2 + ", toolbar\x3dno, menubar\x3dno, scrollbars\x3dno, location\x3dyes, resizable\x3dno, status\x3dno",
                                window.open(e, "\u8f6c\u64ad\u5230\u817e\u8baf\u5fae\u535a", t)
                            },
                            e.prototype.qzone = function() {
                                var e, t, n;
                                return e = "" + this.title + " - " + this.description,
                                t = "http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title\x3d" + e + "\x26url\x3d" + this.url,
                                n = "width\x3d700, height\x3d600, top\x3d" + (screen.height - 700) / 2 + ", left\x3d" + (screen.width - 600) / 2 + ", toolbar\x3dno, menubar\x3dno, scrollbars\x3dno, location\x3dyes, resizable\x3dno, status\x3dno",
                                window.open(t, "\u5206\u4eab\u5230QZONE", n)
                            },
                            e.prototype.renren = function() {
                                var e, t;
                                return e = "http://widget.renren.com/dialog/share?title\x3d" + this.title + "\x26resourceUrl\x3d" + this.url + "\x26images\x3d" + this.pic + "\x26description\x3d" + this.description,
                                t = "width\x3d700, height\x3d600, top\x3d" + (screen.height - 700) / 2 + ", left\x3d" + (screen.width - 600) / 2 + ", toolbar\x3dno, menubar\x3dno, scrollbars\x3dno, location\x3dyes, resizable\x3dno, status\x3dno",
                                window.open(e, "\u5206\u4eab\u5230\u4eba\u4eba", t)
                            },
                            e
                        } (),
                        window.shareIt = new e
                    }.call(this),
                    function() {
                        $(function() {
                            return $(document).on("click", ".switch[data-toggle!\x3dmodal]",
                            function() {
                                var e, t;
                                return e = $(this).closest(".toggle-container"),
                                t = {},
                                t[e.data("toggle-attribute")] = $(this).data("toggle-value"),
                                $.ajax({
                                    url: e.data("url"),
                                    type: "patch",
                                    data: t,
                                    complete: function(t) {
                                        return function(n, r) {
                                            var i;
                                            if (n.status === 200) {
                                                e.parent(".content").html(n.responseText),
                                                e.data("toggle-attribute") === "weixin_notification_enabled" && ($(t).data("toggle-value") ? $(".section-weixin-custom .notification-content").slideDown() : $(".section-weixin-custom .notification-content").slideUp()),
                                                i = e.find(".message").data("message");
                                                if (i) return showFlashNotification(i.notice)
                                            }
                                        }
                                    } (this)
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return $(document).on("change", ".template .filter-select",
                            function() {
                                return Turbolinks.visit($(this).children("option:selected").data("url"))
                            }),
                            $(document).on("click", "#template_design_next_step",
                            function() {
                                return GoldenData.form.template_design_save_and_next()
                            }),
                            $(window).on("scroll resize",
                            function() {
                                return GoldenData.resetButtonPosition(".template-action")
                            }),
                            $(document).on("click", ".template .actions .title",
                            function() {
                                return $(this).parent().find("ul").toggleClass("hide")
                            }),
                            $(document).on("click", "#select_form_modal .disabled a",
                            function(e) {
                                return e.preventDefault()
                            }),
                            $(document).on("click", "#select_form_modal .form:not(.disabled) a",
                            function(e) {
                                return $("#select_form_modal").hide(),
                                $(".template").append('\x3cdiv class\x3d"cover"\x3e\x3c/div\x3e'),
                                $(".loading").show()
                            }),
                            $(document).on("click", "#template_reject_modal .modal-footer .btn-primary",
                            function() {
                                return $("#template_reject_modal form").submit()
                            }),
                            $(document).on("change", ".template.edit-info .industries input:checkbox",
                            function(e) {
                                if ($(this).is(":checked") && $(this).closest(".industries").find("input:checked").length > 3) return $(this).attr("checked", !1),
                                alert("\u6700\u591a\u53ef\u4ee5\u9009\u62e93\u4e2a\u884c\u4e1a")
                            }),
                            $(document).on("click", ".template .search i",
                            function() {
                                var e;
                                return e = $(this).data("url") + ("?key_word\x3d" + encodeURIComponent($(this).prev(".search-content").val())),
                                Turbolinks.visit(e)
                            }),
                            $(document).on("page:load ready",
                            function() {
                                return $.removeCookie("action_type"),
                                $(".template .search .search-content").on("keypress",
                                function(e) {
                                    if (e.keyCode === 13) return $(this).blur(),
                                    $(".template .search i").click()
                                })
                            }),
                            $(document).on("ajax:complete", ".template-action",
                            function(e, t, n) {
                                var r;
                                $(this).html(t.responseText),
                                r = $(this).find(".notification").data("message");
                                if (r) return showFlashNotification(r)
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r, i, s, o, u;
                            return $(document).on("click", "#save_theme",
                            function() {
                                if ($(this).data("need-upgrade")) return Turbolinks.visit("/upgrade");
                                if (GoldenData.theme) return GoldenData.theme.saveAll()
                            }),
                            u = function(e) {
                                var t, n, r, i, s, o;
                                o = $(".preview-in-mobile iframe").contents(),
                                r = o.find("header"),
                                s = o.find(".main-content"),
                                n = $(".preview-in-web .form-name").text();
                                if (! (e.choose_image && e.get("show_image_on_mobile") && e.hasImage)) return r.removeClass("header-image"),
                                r.removeAttr("style"),
                                t = $(".form-symbol .content i").attr("class"),
                                r.html("\x3ch1\x3e\x3ci class\x3d'" + t + "'\x3e\x3c/i\x3e " + n + "\x3c/h1\x3e"),
                                s.find("\x3e h1, form .mobile-separator").remove();
                                r.addClass("header-image"),
                                r.css({
                                    backgroundColor: e.get("background_color")
                                }),
                                i = $(".preview-in-web .banner-img img").attr("src"),
                                r.html($("\x3cimg src\x3d'" + i + "'\x3e")),
                                s.find("\x3e h1").length === 0 && s.prepend("\x3ch1\x3e" + n + "\x3c/h1\x3e");
                                if (s.find("form .form-name + .mobile-separator").length === 0) return s.find("form .form-name").after("\x3cdiv class\x3d'field mobile-separator'\x3e\x3chr\x3e\x3c/div\x3e")
                            },
                            GoldenData.Theme = Backbone.Model.extend({
                                idAttribute: "_id",
                                paramRoot: "theme",
                                initialize: function() {
                                    var t;
                                    return this.url = "/forms/" + this.get("form_id") + "/theme",
                                    this.wallpaper = new s(this.get("wallpaper")),
                                    this.typography = new r(this.get("typography")),
                                    this.header = new e(this.get("header")),
                                    this.header.hasImage = this.get("has_header_image?"),
                                    this.header.choose_image = this.header.hasImage,
                                    this.wallpaper.setCustomizedBgImage(this.get("background_image_url")),
                                    this.mobileWallpaper = new s(this.get("mobile_wallpaper")),
                                    this.canSave = !0,
                                    t = new n({
                                        model: this
                                    }),
                                    t.render()
                                },
                                _updateHeader: function() {
                                    return this.header.choose_image ? this.header.set({
                                        text: ""
                                    },
                                    {
                                        silent: !0
                                    }) : this.set("header_image_attachment_id", "")
                                },
                                saveAll: function() {
                                    return this.canSave ? (this._updateHeader(), this.save({
                                        theme: {
                                            wallpaper: this.wallpaper.toJSON(),
                                            header: this.header.toJSON(),
                                            typography: this.typography.toJSON(),
                                            mobile_wallpaper: this.mobileWallpaper.toJSON()
                                        }
                                    },
                                    {
                                        success: function(e, t) {
                                            return e.unset("header_image_attachment_id", {
                                                silent: !0
                                            }),
                                            e.unset("background_image_attachment_id", {
                                                silent: !0
                                            }),
                                            $("#save_theme").html($("#save_theme").data("enabled-with")),
                                            $("#save_theme").removeClass("disabled"),
                                            showFlashNotification("\u6837\u5f0f\u4fdd\u5b58\u6210\u529f\uff01")
                                        }
                                    })) : showFlashNotification("\u5f88\u62b1\u6b49\uff0c\u60a8\u4e0d\u80fd\u4f7f\u7528\u8be5\u6837\u5f0f", "error")
                                }
                            }),
                            s = Backbone.Model.extend({
                                defaults: {
                                    image_file_name: "",
                                    color: "",
                                    texture_file_name: "",
                                    alignment: "",
                                    repeated: !1
                                },
                                initialize: function() {
                                    return this.hasImage = !1,
                                    this.customizedBgImageUrl = null
                                },
                                setCustomizedBgImage: function(e) {
                                    var t;
                                    if (this.customizedBgImageUrl === e) return;
                                    this.customizedBgImageUrl = e,
                                    this.hasImage = !!e;
                                    if (!this.hasImage) return this.trigger("change");
                                    t = {
                                        image_file_name: ""
                                    },
                                    this.get("alignment") || (t.alignment = "center"),
                                    this.set(t);
                                    if (!this.hasChanged()) return this.trigger("change")
                                },
                                backgroundImage: function() {
                                    if (this.hasImage) return this.customizedBgImageUrl;
                                    if (this.get("image_file_name")) return "/assets/wallpaper/images/" + this.get("image_file_name")
                                },
                                textureImage: function() {
                                    return "/assets/wallpaper/textures/" + this.get("texture_file_name")
                                },
                                mobileBackgroundImage: function() {
                                    if (this.get("image_file_name")) return "/assets/wallpaper/mobile_images/" + this.get("image_file_name")
                                }
                            }),
                            o = Backbone.View.extend({
                                el: "#wallpaper",
                                events: {
                                    "change :not(:file)": "updateModel",
                                    "click [data-style-key\x3d'alignment']": "updateModel"
                                },
                                initialize: function() {
                                    return this.model.on("change", this.updatePreview, this)
                                },
                                render: function() {
                                    var e, t, n, r;
                                    return n = _.template($("#wallpaper_edit_template").html()),
                                    r = $.extend(this.model.toJSON(), {
                                        hasImage: this.model.hasImage
                                    }),
                                    $(this.el).html(n(r)),
                                    this.model.backgroundImage() && this.$(".front-layer .background-preview").html("\x3cimg src\x3d'" + this.model.backgroundImage() + "'\x3e"),
                                    t = this.$(".back-layer .background-preview"),
                                    this.model.get("texture_file_name") ? t.html("\x3cimg src\x3d'" + this.model.textureImage() + "'\x3e") : t.css({
                                        backgroundColor: this.model.get("color")
                                    }),
                                    e = this.$(".back-layer .background-edit"),
                                    e.find(".change-color").colorPicker({
                                        colors: colors,
                                        onColorChange: function(e) {
                                            return function(e, n) {
                                                return t.empty(),
                                                t.css({
                                                    background: n
                                                })
                                            }
                                        } (this)
                                    })
                                },
                                updateModel: function(e) {
                                    var t, n, r, i;
                                    return r = $(e.target),
                                    n = r.data("style-key"),
                                    i = function() {
                                        switch (n) {
                                        case "repeated":
                                            return r.is(":checked");
                                        case "alignment":
                                            return r.data("value");
                                        default:
                                            return r.val()
                                        }
                                    } (),
                                    t = {},
                                    t[n] = i,
                                    n === "color" && (t.texture_file_name = null),
                                    this.model.set(t)
                                },
                                updatePreview: function() {
                                    var e;
                                    this.model.get("color") && this.model.hasChanged("color") && $(".entry-container").css("background", this.model.get("color")),
                                    this.model.get("texture_file_name") && this.model.hasChanged("texture_file_name") && $(".entry-container").css("background", "url(" + this.model.textureImage() + ") repeat");
                                    if (this.model.backgroundImage()) {
                                        e = {};
                                        if (this.model.hasChanged("image_file_name") || this.model.customizedBgImageUrl) e.backgroundImage = "url(" + this.model.backgroundImage() + ")";
                                        return e.backgroundRepeat = this.model.get("repeated") ? "repeat": "no-repeat",
                                        this.model.get("alignment") && (e.backgroundPosition = "top " + this.model.get("alignment")),
                                        $(".preview-in-web .bg-image").css(e)
                                    }
                                    return $(".preview-in-web .bg-image").css({
                                        background: "none"
                                    })
                                }
                            }),
                            e = Backbone.Model.extend({
                                defaults: {
                                    text: "",
                                    color: "#000",
                                    background_color: "#FFF",
                                    show_image_on_mobile: !1
                                },
                                initialize: function() {
                                    return this.hasImage = !1,
                                    this.choose_image = !1
                                }
                            }),
                            t = Backbone.View.extend({
                                el: "#header",
                                events: {
                                    "change input:text, input:checkbox": "updateModel",
                                    "change input:radio[name\x3d'header-type']": "updateHeaderSettings"
                                },
                                initialize: function() {
                                    return this.model.on("change", this.updatePreview, this)
                                },
                                render: function() {
                                    var e, t;
                                    return t = _.template($("#header_edit_template").html()),
                                    e = $.extend(this.model.toJSON(), {
                                        choose_image: this.model.choose_image,
                                        hasImage: this.model.hasImage
                                    }),
                                    $(this.el).html(t(e)),
                                    this.$(".header-img").data("need-upgrade") && this.model.hasImage && showStaticNotification(".header-img-need-upgrade", "\u4f7f\u7528\u4e2a\u6027\u56fe\u7247\u8bf7\u5148\x3ca href\x3d'/upgrade'\x3e\u5347\u7ea7\u8d26\u6237\x3c/a\x3e", "error"),
                                    this.$(".header-text .color-inline").css({
                                        backgroundColor: this.model.get("color")
                                    }),
                                    this.$(".change-color").colorPicker({
                                        colors: colors
                                    })
                                },
                                updatePreview: function() {
                                    return this.model.hasChanged("text") && this.model.get("text") !== null && $(".preview-in-web .entry-container .banner .banner-text").html("" + this.model.get("text")),
                                    this.model.hasChanged("background_color") && $(".preview-in-web .entry-container .banner").css({
                                        backgroundColor: this.model.get("background_color")
                                    }),
                                    this.model.hasChanged("color") && $(".preview-in-web .entry-container .banner").css({
                                        color: this.model.get("color")
                                    }),
                                    u(this.model)
                                },
                                updateModel: function(e) {
                                    var t, n, r, i;
                                    return r = $(e.target),
                                    n = r.data("style-key"),
                                    i = r.is(":checkbox") ? r.is(":checked") : r.val(),
                                    t = {},
                                    t[n] = i,
                                    this.model.set(t)
                                },
                                _appendSelectors: function(e) {
                                    $(e).find(".banner-text").length === 0 && $(e).append("\x3cspan class\x3d'banner-text banner-content hide'\x3e\x3c/span\x3e");
                                    if ($(e).find(".banner-img").length === 0) return $(e).append("\x3cdiv class\x3d'banner-img banner-content hide'\x3e\x3c/div\x3e")
                                },
                                updateHeaderSettings: function(e) {
                                    var t;
                                    return t = this.$("input:radio[name\x3d'header-type']:checked").val(),
                                    $(".header-settings").hide(),
                                    $(".header-" + t + "-settings").show(),
                                    this._appendSelectors(".banner"),
                                    $(".banner-content").hide(),
                                    $(".banner .banner-" + t).show(),
                                    this.model.choose_image = t === "img",
                                    u(this.model),
                                    $(e.target).attr("checked", !0)
                                }
                            }),
                            r = Backbone.Model.extend({
                                defaults: {
                                    form_header: {
                                        "font-size": "18px",
                                        color: "#333"
                                    },
                                    form_description: {
                                        "font-size": "14px",
                                        color: "#999"
                                    },
                                    section_label: {},
                                    section_notes: {},
                                    field_label: {
                                        "font-size": "12px",
                                        color: "#333"
                                    },
                                    field_notes: {
                                        "font-size": "12px",
                                        color: "#555"
                                    }
                                }
                            }),
                            i = Backbone.View.extend({
                                el: "#typography",
                                events: {
                                    change: "updateModel",
                                    "click button[data-style-key\x3d'font-weight']": "updateModel"
                                },
                                initialize: function() {
                                    return this.model.on("change", this.updatePreview, this)
                                },
                                render: function() {
                                    var e, t, n, r, i, s;
                                    n = _.template($("#typography_edit_template").html()),
                                    $(this.el).html(n(this.model.toJSON())),
                                    s = ["form_header", "form_description", "field_label", "field_notes", "section_label", "section_notes"];
                                    for (r = 0, i = s.length; r < i; r++) e = s[r],
                                    t = this.model.get(e),
                                    this.$("." + e + " .font-size").val(t["font-size"]),
                                    this.$("." + e + " .change-color").css({
                                        backgroundColor: t.color
                                    });
                                    return this.$(".change-color").colorPicker({
                                        colors: colors
                                    })
                                },
                                updateModel: function(e) {
                                    var t, n, r, i, s, o;
                                    return s = $(e.target),
                                    s.data("style-key") || (s = s.parents("[data-style-key]").first()),
                                    n = s.data("section"),
                                    r = _.clone(this.model.get(n)),
                                    i = s.data("style-key"),
                                    o = function() {
                                        switch (i) {
                                        case "font-weight":
                                            return s.is(".active") ? "normal": "bold";
                                        default:
                                            return s.val()
                                        }
                                    } (),
                                    r[i] = o,
                                    t = {},
                                    t[n] = r,
                                    this.model.set(t)
                                },
                                updatePreview: function() {
                                    var e, t, n;
                                    t = $(".preview-in-web .entry-container form .form-name"),
                                    this.model.hasChanged("form_header") && t.css(this.model.get("form_header")),
                                    this.model.hasChanged("form_description") && $(".preview-in-web .entry-container form .form-description").css(this.model.get("form_description")),
                                    e = $(".preview-in-web .entry-container form .field:not(.section-break)"),
                                    this.model.hasChanged("field_label") && e.find("label.control-label").css(this.model.get("field_label")),
                                    this.model.hasChanged("field_notes") && e.find(".help-block").css(this.model.get("field_notes")),
                                    n = $(".preview-in-web .entry-container form .section-break"),
                                    this.model.hasChanged("section_label") && n.find("label").css(this.model.get("section_label"));
                                    if (this.model.hasChanged("section_notes")) return n.find(".help-block").css(this.model.get("section_notes"))
                                }
                            }),
                            n = Backbone.View.extend({
                                el: "#theme_editing",
                                events: {
                                    "click #web_theme_editing .theme-templates .template": "selectWebTemplate",
                                    "click #header #header_image_form .delete": "deleteHeaderImage",
                                    "click #wallpaper #background_image_upload .delete": "deleteBackgroundImage",
                                    "click #mobile_theme_editing #mobile_color_templates .template": "selectMobileColorTemplate",
                                    "click #mobile_theme_editing #mobile_image_templates .template": "selectMobileImageTemplate"
                                },
                                initialize: function() {
                                    return this.wallpaperEditView = new o({
                                        model: this.model.wallpaper
                                    }),
                                    this.headerEditView = new t({
                                        model: this.model.header
                                    }),
                                    this.typographyEditView = new i({
                                        model: this.model.typography
                                    }),
                                    this.model.on("change", this.updatePreview, this),
                                    this.model.mobileWallpaper.on("change", this.updateMobilePreview, this)
                                },
                                updatePreview: function() {
                                    var e, t, n;
                                    this.model.hasChanged("temp_header_image") && (t = this.model.get("temp_header_image"), n = $(".header-img").data("need-upgrade"), t === "" ? (n = !1, $(".preview-in-web .entry-container .banner .banner-img").empty(), $("#header_image_form .delete").hide(), $("#header_image_form .btn span").text("\u9009\u62e9\u56fe\u7247"), this.model.header.hasImage = !1) : ($(".preview-in-web .entry-container .banner .banner-img").html("\x3cimg src\x3d" + t + "\x3e"), $("#header_image_form .delete").show(), this.model.header.hasImage = !0), u(this.model.header), this._toggleUpgrade("header-image", n, ".header-img-need-upgrade", "\u4f7f\u7528\u4e2a\u6027\u56fe\u7247\u8bf7\u5148\x3ca href\x3d'/upgrade'\x3e\u5347\u7ea7\u8d26\u6237\x3c/a\x3e"));
                                    if (this.model.hasChanged("temp_background_image")) return e = this.model.get("temp_background_image"),
                                    n = $("#background_image_upload").data("need-upgrade"),
                                    e === "" && (n = !1),
                                    this.model.wallpaper.setCustomizedBgImage(e),
                                    this.wallpaperEditView.render(),
                                    this._toggleUpgrade("background-image", n, "#wallpaper .need-upgrade.message", "\u4f7f\u7528\u5b9a\u5236\u80cc\u666f\u56fe\u7247\u8bf7\u5148\x3ca href\x3d'/upgrade'\x3e\u5347\u7ea7\u8d26\u6237\x3c/a\x3e")
                                },
                                updateMobilePreview: function() {
                                    var e;
                                    e = $(".preview-in-mobile iframe").contents(),
                                    this.model.mobileWallpaper.get("color") && (e.find(".main-content").css("background", this.model.mobileWallpaper.get("color")), e.find("[data-role\x3dpage]").removeClass("image-background"), e.find(".fixed-background").css("backgroundImage", "none"));
                                    if (this.model.mobileWallpaper.get("image_file_name")) return e.find(".main-content").css("background", "transparent"),
                                    e.find("[data-role\x3dpage]").addClass("image-background"),
                                    e.find(".fixed-background").css("backgroundImage", "url(" + this.model.mobileWallpaper.mobileBackgroundImage() + ")")
                                },
                                render: function() {
                                    return $(".colorPicker-palette").remove(),
                                    this.wallpaperEditView.render(),
                                    this.headerEditView.render(),
                                    this.typographyEditView.render()
                                },
                                _toggleUpgrade: function(e, t, n, r) {
                                    var i;
                                    i = $("#save_theme"),
                                    i.data("need-upgrade", t);
                                    if (t) return showStaticNotification(n, r, "error"),
                                    i.data("original-disabled-with", i.data("disabled-with")),
                                    i.removeAttr("data-disabled-with").text("\u5347\u7ea7\u8d26\u6237"),
                                    i.data(e, !0),
                                    this.model.canSave = !1;
                                    $(n).empty(),
                                    i.data(e, !1);
                                    if (! (i.data("header-image") || i.data("template") || i.data("background-image"))) return i.attr("data-disabled-with", i.data("original-disabled-with")).text("\u4fdd\u5b58\u6837\u5f0f"),
                                    this.model.canSave = !0
                                },
                                selectWebTemplate: function(e) {
                                    var t, n, r;
                                    return this.deleteBackgroundImage(),
                                    t = $(e.target),
                                    t.data("template-id") || (t = t.parents("[data-template-id]")),
                                    this._toggleUpgrade("template", t.data("need-upgrade"), ".theme-need-upgrade", "\u4f7f\u7528\u4ed8\u8d39\u7528\u6237\u4e13\u4eab\u6a21\u677f\u8bf7\u5148\x3ca href\x3d'/upgrade'\x3e\u5347\u7ea7\u8d26\u6237\x3c/a\x3e"),
                                    n = t.data("template-id"),
                                    $("#web_theme_editing .theme-templates .template").removeClass("active"),
                                    t.addClass("active"),
                                    r = GoldenData.themeTemplates[n],
                                    this.model.wallpaper.set(r.wallpaper),
                                    this.model.header.set({
                                        color: r.header.color,
                                        background_color: r.header.background_color
                                    }),
                                    this.model.typography.set(r.typography),
                                    this.render()
                                },
                                _activeTemplateTarget: function(e) {
                                    var t;
                                    return t = $(e.target).parents(".template"),
                                    t.closest(".theme-template").find(".template.active").removeClass("active"),
                                    t.addClass("active"),
                                    t
                                },
                                selectMobileColorTemplate: function(e) {
                                    var t, n;
                                    return t = this._activeTemplateTarget(e),
                                    n = t.data("color"),
                                    this.model.mobileWallpaper.set({
                                        color: n,
                                        image_file_name: ""
                                    })
                                },
                                selectMobileImageTemplate: function(e) {
                                    var t, n;
                                    return t = this._activeTemplateTarget(e),
                                    n = GoldenData.themeTemplates[t.data("template-id")],
                                    this.model.mobileWallpaper.set({
                                        image_file_name: n.wallpaper.image_file_name,
                                        color: ""
                                    })
                                },
                                deleteHeaderImage: function() {
                                    return this._deleteImage("header_image")
                                },
                                deleteBackgroundImage: function() {
                                    return this._deleteImage("background_image")
                                },
                                _deleteImage: function(e) {
                                    var t;
                                    return t = {},
                                    t["temp_" + e] = "",
                                    t["" + e + "_attachment_id"] = "",
                                    this.model.set(t)
                                }
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e;
                            return e = function() {
                                var e, t;
                                e = $("#theme_design .banner-img img");
                                if (e.length !== 0) return t = $("#theme_design .banner-img").width() / 700,
                                $(e).css("height", "" + $(e).attr("height") * t + "px"),
                                $(e).css("width", "" + $(e).attr("width") * t + "px")
                            },
                            $(document).on("click", "#theme_design .zoom",
                            function() {
                                return e()
                            }),
                            $(document).on("page:load ready",
                            function() {
                                return e()
                            }),
                            $("#header_image_form, #background_image_setting").livequery(function() {
                                return $(this).fileupload({
                                    dataType: "json",
                                    dropZone: null,
                                    add: function(e) {
                                        return function(t, n) {
                                            return $.each(n.files,
                                            function(t, r) {
                                                var i;
                                                return i = GoldenData.validateFile(r, 5E6, /.*\.(jpg|jpeg|png|gif)$/gi),
                                                i.length === 0 ? n.submit() : showStaticNotification($(e).find(".upload-notice"), i.join("\x3cbr\x3e"), "error")
                                            })
                                        }
                                    } (this),
                                    start: function(e) {
                                        return function() {
                                            return $(e).find(".btn").addClass("disabled"),
                                            $(e).find(".btn span").text("\u6b63\u5728\u4e0a\u4f20..."),
                                            $("#save_theme").addClass("disabled")
                                        }
                                    } (this),
                                    always: function(e) {
                                        return function(t, n) {
                                            var r, i;
                                            return i = $(e).data("role"),
                                            n.result.errors ? (showStaticNotification($(e).find(".upload-notice"), n.result.errors.join("\x3cbr\x3e"), "error"), $(e).find(".btn").removeClass("disabled"), $(e).find(".btn span").text("\u9009\u62e9\u56fe\u7247")) : (r = {},
                                            r["temp_" + i] = n.result.image_url, r["" + i + "_attachment_id"] = n.result.attachment_id, GoldenData.theme.set(r), $(e).find(".btn").removeClass("disabled"), $(e).find(".btn span").text("\u66f4\u6362\u56fe\u7247"), $(e).find(".upload-notice").empty()),
                                            $("#save_theme").removeClass("disabled")
                                        }
                                    } (this)
                                })
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            var e, t, n, r, i, s, o;
                            return e = function() {
                                return $(".pay-area form ").find("input.voucher_code").val("")
                            },
                            n = function(e) {
                                return e.find(".month-choice label.selected input[name\x3dcalculated_price]").val()
                            },
                            s = function(e, t) {
                                return e.find(".month-choice label.selected input[name\x3dactual_price]").val(t)
                            },
                            i = function() {
                                var e;
                                return e = $(".pay-area form .month-choice label.selected").closest("form"),
                                e.find(".month-choice label").each(function() {
                                    return $(this).find("input[name\x3dactual_price]").val($(this).find("input[name\x3dcalculated_price]").val())
                                })
                            },
                            r = function() {
                                return "\x3cinput type\x3d'text' name\x3d'voucher' class\x3d'input-mini'\x3e\n\x3ca href\x3d'javascript:void(0)' id\x3d'use_voucher'\x3e\u4f7f\u7528\x3c/a\x3e"
                            },
                            t = function(e) {
                                return "\x3cp class\x3d'message'\x3e" + e.message + "\n  \x3ca href\x3d'javascript:void(0)' class\x3d'change-cancel-voucher'\x3e" + (e.status ? "\u53d6\u6d88": " \u6362\u4e00\u4e2a") + "\x3c/a\x3e\n\x3c/p\x3e"
                            },
                            o = function(e) {
                                return $(".pay-area form .voucher input.voucher_code").val(e)
                            },
                            $(document).on("click", ".upgrade-pay.pay-area form .month-choice label",
                            function() {
                                var e, i;
                                $(".pay-area form .month-choice label").removeClass("selected"),
                                $(this).addClass("selected"),
                                e = $(this).closest("form"),
                                i = e.find("input.voucher_code").val(),
                                $(".voucher .voucher-container").html(r()),
                                GoldenData.updatePaymentSubmitInfo(e);
                                if ($(".pay-area form ").find("input.voucher_code").val()) return $.get($(this).data("voucher-url"), {
                                    voucher_code: i
                                },
                                function(r) {
                                    return function(i) {
                                        return $(".voucher .message-container").html(t(i)),
                                        s(e, parseFloat(n(e)) - parseFloat(i.discount_money)),
                                        GoldenData.updatePaymentSubmitInfo($(r).closest("form")),
                                        $(r).closest("form").find("input.voucher_code").val(i.voucher_code)
                                    }
                                } (this))
                            }),
                            $(document).on("click", ".upgrade-pay.pay-area .change-cancel-voucher",
                            function() {
                                return e(),
                                $(".voucher .voucher-container").html(r()),
                                i(),
                                GoldenData.updatePaymentSubmitInfo($(this).closest("form")),
                                $(this).closest("form").find("input.voucher_code").val(""),
                                $(".voucher .voucher-container").show(),
                                $(".voucher .message-container").addClass("hide")
                            }),
                            $(document).on("click", "#use_voucher",
                            function() {
                                var e, r;
                                return e = $(".pay-area form .month-choice label.selected").data("voucher-url"),
                                r = $(this).closest(".voucher").find("input[name\x3dvoucher]").val(),
                                o(r),
                                $.get(e, {
                                    voucher_code: r
                                },
                                function(e) {
                                    return function(r) {
                                        var i;
                                        return $(".voucher .voucher-container").hide(),
                                        $(".voucher .message-container").removeClass("hide"),
                                        $(".voucher .message-container").html(t(r)),
                                        i = $(e).closest("form"),
                                        s(i, parseFloat(n(i)) - parseFloat(r.discount_money)),
                                        GoldenData.updatePaymentSubmitInfo(i)
                                    }
                                } (this))
                            }),
                            $(document).on("click", ".plan.plan-summary .selectable",
                            function(e) {
                                var t, n;
                                return n = $(e.target).closest(".version.selectable").data("plan"),
                                $.cookie("active_plan") !== n && $("#degrade_to_" + n).length > 0 ? ($("#degrade_to_" + n).modal("show"), !1) : ($(".plan.plan-summary .version").removeClass("selected"), $(this).addClass("selected"), t = $(this).data("plan"), $(".upgrade-pay.pay-area form").hide(), $(".upgrade-pay.pay-area form[data-plan\x3d" + t + "]").show(), $(".upgrade-pay.pay-area form .month-choice label").removeClass("selected"), $(".upgrade-pay.pay-area form[data-plan\x3d" + t + "] .month-choice \x3e label:first").click(), $(".upgrade-pay.pay-area form[data-plan\x3d" + t + "] .month-choice \x3e label:first input").attr("checked", !0))
                            }),
                            $(document).on("keypress", "form input[name\x3dvoucher]",
                            function(e) {
                                if (e.keyCode === 13) return e.preventDefault(),
                                $(e.target).next().click()
                            }),
                            $(document).on("click", ".convert_plan_confirm_modal .submit.confirm:not(:disabled)",
                            function() {
                                var e;
                                return e = $(this).data("target-plan"),
                                $(".convert-plan-form[data-plan\x3d" + e + "]").submit()
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return $(document).on("page:load ready",
                            function() {
                                var e;
                                e = $("#notification_setting .form-email-notifications");
                                if (e.data("need-upgrade")) return e.find("input[type\x3dcheckbox]").attr("checked", !1)
                            })
                        })
                    }.call(this),
                    function() {
                        var e, t = [].indexOf ||
                        function(e) {
                            for (var t = 0,
                            n = this.length; t < n; t++) if (t in this && this[t] === e) return t;
                            return - 1
                        };
                        e = function(e, t) {
                            return setTimeout(t, e)
                        },
                        $("i.std1-feature, i.ent1-feature, i.exp1-feature").livequery(function() {
                            return $(this).tooltip({
                                trigger: "manual",
                                animation: !1,
                                html: !0,
                                title: function() {
                                    var e, n, r, i, s, o, u, a, f, l;
                                    e = $("\x3cdiv\x3e\x3c/div\x3e"),
                                    e.append("\u9650\u4ee5\u4e0b\u7528\u6237\uff1a"),
                                    s = $(this).attr("class").split(/\s+/);
                                    for (f = 0, l = s.length; f < l; f++) r = s[f],
                                    i = function() {
                                        switch (r) {
                                        case "std1-feature":
                                            return "\u6807\u51c6\u7248";
                                        case "ent1-feature":
                                            return "\u4f01\u4e1a\u7248";
                                        case "exp1-feature":
                                            return "\u62d3\u5c55\u7248"
                                        }
                                    } (),
                                    i && e.append("\x3cdiv class\x3d'" + r + "-label'\x3e" + i + "\x3c/div\x3e");
                                    return o = $(this).data("save-form") != null,
                                    document.cookie.indexOf("auth_token") !== -1 && (u = $(this).data("upgrade-plan"), a = u ? "/upgrade?plan\x3d" + u: "/upgrade", n = $("\x3ca href\x3d'" + a + "'\x3e\u5347\u7ea7/\u7eed\u8d39\x3c/a\x3e"), n.click(function(e) {
                                        return e.stopPropagation(),
                                        e.preventDefault(),
                                        o && GoldenData.form.saveAll(!1),
                                        Turbolinks.visit(a)
                                    }), e.append(n)),
                                    $(this).data("trial") && t.call(s, "std1-feature") >= 0 && ($(this).data("verified") ? (n = $("\x3ca class\x3d'try-free-trial' href\x3d'javascript:void(0)'\x3e\u514d\u8d39\u8bd5\u7528\x3c/a\x3e"), n.click(function() {
                                        return $.post("/upgrade/trial",
                                        function() {
                                            return $("#direct_trial_modal").modal("show")
                                        })
                                    })) : n = $("\x3ca class\x3d'try-free-trial' href\x3d'#verify_trial_modal' data-toggle\x3d'modal'\x3e\u514d\u8d39\u8bd5\u7528\x3c/a\x3e"), e.append(n)),
                                    e
                                }
                            }),
                            $(this).hover(function() {
                                return $(this).tooltip("show"),
                                $(this).next(".tooltip").hover(function(e) {
                                    return function() {
                                        return $(e).data("hover", !0)
                                    }
                                } (this),
                                function(e) {
                                    return function() {
                                        return $(e).removeData("hover"),
                                        $(e).tooltip("hide")
                                    }
                                } (this)),
                                $(this).next(".tooltip").find("a").click(function(e) {
                                    return function() {
                                        return $(e).removeData("hover"),
                                        $(e).tooltip("hide")
                                    }
                                } (this))
                            },
                            function() {
                                return e(100,
                                function(e) {
                                    return function() {
                                        if (!$(e).data("hover")) return $(e).tooltip("hide")
                                    }
                                } (this))
                            })
                        })
                    }.call(this),
                    function() {
                        $(function() {
                            return $(document).on("click", "#weixin .oauth-verify:not([disabled])",
                            function() {
                                return $("#weixin_oauth_verify").modal("show")
                            }),
                            $(document).on("blur", "#weixin form.weixin-info input[type\x3dtext]",
                            function() {
                                $(this).next("span.error-message").remove();
                                if ($.trim($(this).val()) === "") return $(this).after("\x3cspan class\x3d'error-message'\x3e\u4e0d\u80fd\u4e3a\u7a7a\x3c/span\x3e")
                            }),
                            $(document).on("ajax:complete", "#weixin form.weixin-info",
                            function(e, t, n) {
                                var r, i;
                                return t.status === 200 ? ($(this).find(".verify-error").empty(), $(this).closest(".weixin-info-config").html(t.responseText), $("#weixin .oauth-info-config .oauth-verify").attr("disabled", !1)) : (r = $.parseJSON(t.responseText), i = $(this).find(".verify-error"), i.text("" + r.message + " " + r.errcode), $("#weixin .oauth-info-config .oauth-verify").attr("disabled", !0))
                            }),
                            $(document).on("keyup", ".section-weixin-custom .message",
                            function() {
                                return $(".section-weixin-custom .btn[type\x3dsubmit]").attr("disabled", $.trim($(this).val()) === "")
                            }),
                            $(document).on("ajax:complete", "#weixin .edit-weixin-info",
                            function(e, t, n) {
                                if (t.status === 200) return $(this).closest(".weixin-info-config").html(t.responseText)
                            })
                        })
                    }.call(this);
                    var colors = ["330000", "331900", "333300", "193300", "003300", "003319", "003333", "001933", "000033", "190033", "330033", "330019", "000000", "660000", "663300", "666600", "336600", "006600", "006633", "006666", "003366", "000066", "330066", "660066", "660033", "202020", "990000", "994C00", "999900", "4C9900", "009900", "00994C", "009999", "004C99", "000099", "4C0099", "990099", "99004C", "404040", "CC0000", "CC6600", "CCCC00", "66CC00", "00CC00", "00CC66", "00CCCC", "0066CC", "0000CC", "6600CC", "CC00CC", "CC0066", "606060", "FF0000", "FF8000", "FFFF00", "80FF00", "00FF00", "00FF80", "00FFFF", "0080FF", "0000FF", "7F00FF", "FF00FF", "FF007F", "808080", "FF3333", "FF9933", "FFFF33", "99FF33", "33FF33", "33FF99", "33FFFF", "3399FF", "3333FF", "9933FF", "FF33FF", "FF3399", "A0A0A0", "FF6666", "FFB266", "FFFF66", "B2FF66", "66FF66", "66FFB2", "66FFFF", "66B2FF", "6666FF", "B266FF", "FF66FF", "FF66B2", "C0C0C0", "FF9999", "FFCC99", "FFFF99", "CCFF99", "99FF99", "99FFCC", "99FFFF", "99CCFF", "9999FF", "CC99FF", "FF99FF", "FF99CC", "E0E0E0", "FFCCCC", "FFE5CC", "FFFFCC", "E5FFCC", "CCFFCC", "CCFFE5", "CCFFFF", "CCE5FF", "CCCCFF", "E5CCFF", "FFCCFF", "FFCCE5", "FFFFFF"];